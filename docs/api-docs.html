<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MVP V√≠deos T√©cnicoCursos - API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui.css" />
    <style>
      html { box-sizing: border-box; overflow: -moz-scrollbars-vertical; overflow-y: scroll; }
      *, *:before, *:after { box-sizing: inherit; }
      body { margin: 0; background: #fafafa; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
      .swagger-ui .topbar { display: none; }
      .swagger-ui .scheme-container { display: none; }
    </style>
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-standalone-preset.js"></script>
    <script>
        window.onload = function() {
          const ui = SwaggerUIBundle({
            spec: {"openapi":"3.0.3","info":{"title":"MVP V√≠deos T√©cnicoCursos API","version":"1.0.0","description":"\nSistema profissional de cria√ß√£o de v√≠deos educacionais com IA.\n\n## Funcionalidades Principais\n- üé¨ Renderiza√ß√£o de v√≠deos a partir de PPTX\n- üìä Analytics em tempo real\n- üé§ Text-to-Speech com IA\n- üìö Compliance com Normas Regulamentadoras\n- üîí Autentica√ß√£o via Supabase\n\n## Autentica√ß√£o\nUse o header `Authorization: Bearer <token>` para endpoints protegidos.\n    ","contact":{"name":"Suporte T√©cnicoCursos","email":"suporte@tecnicocursos.com"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"}},"servers":[{"url":"http://localhost:3000","description":"Ambiente de Desenvolvimento"},{"url":"https://tecnicocursos-videos.vercel.app","description":"Ambiente de Produ√ß√£o"}],"tags":[{"name":"render","description":"Renderiza√ß√£o de v√≠deos"},{"name":"projects","description":"Gerenciamento de projetos"},{"name":"analytics","description":"M√©tricas e analytics"},{"name":"auth","description":"Autentica√ß√£o"},{"name":"nr","description":"Normas Regulamentadoras"}],"paths":{"/api/render/start":{"post":{"tags":["render"],"summary":"Iniciar renderiza√ß√£o de v√≠deo","description":"Cria um novo job de renderiza√ß√£o para um projeto","security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["projectId","slides"],"properties":{"projectId":{"type":"string","format":"uuid","description":"ID √∫nico do projeto"},"slides":{"type":"array","description":"Lista de slides para renderiza√ß√£o","items":{"type":"object","required":["id","content"],"properties":{"id":{"type":"string"},"content":{"type":"string"},"audioUrl":{"type":"string","format":"uri"},"imageUrl":{"type":"string","format":"uri"}}}}}}}}},"responses":{"201":{"description":"Job de renderiza√ß√£o criado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"jobId":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["pending","queued","processing"]},"createdAt":{"type":"string","format":"date-time"}}}}}}}},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"$ref":"#/components/responses/Unauthorized"},"422":{"$ref":"#/components/responses/ValidationError"}}}},"/api/render/jobs":{"get":{"tags":["render"],"summary":"Listar jobs de renderiza√ß√£o","description":"Retorna lista paginada dos jobs do usu√°rio autenticado","security":[{"BearerAuth":[]}],"parameters":[{"name":"page","in":"query","schema":{"type":"integer","default":1},"description":"N√∫mero da p√°gina"},{"name":"limit","in":"query","schema":{"type":"integer","default":20,"maximum":100},"description":"Itens por p√°gina"},{"name":"status","in":"query","schema":{"type":"string","enum":["pending","queued","processing","completed","failed","cancelled"]},"description":"Filtrar por status"}],"responses":{"200":{"description":"Lista de jobs retornada com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"projectId":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["pending","queued","processing","completed","failed","cancelled"]},"progress":{"type":"number","minimum":0,"maximum":100},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"}}}},"/api/render/progress/{jobId}":{"get":{"tags":["render"],"summary":"Verificar progresso de renderiza√ß√£o","description":"Retorna o progresso atual de um job espec√≠fico","security":[{"BearerAuth":[]}],"parameters":[{"name":"jobId","in":"path","required":true,"schema":{"type":"string","format":"uuid"},"description":"ID √∫nico do job de renderiza√ß√£o"}],"responses":{"200":{"description":"Progresso do job","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"jobId":{"type":"string","format":"uuid"},"progress":{"type":"number","minimum":0,"maximum":100},"status":{"type":"string","enum":["pending","queued","processing","completed","failed","cancelled"]},"phase":{"type":"string","example":"processing_slides"},"estimatedTimeRemaining":{"type":"number","description":"Tempo estimado em segundos"}}}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"}}}},"/api/analytics/render-stats":{"get":{"tags":["analytics"],"summary":"Estat√≠sticas de renderiza√ß√£o","description":"Retorna m√©tricas de performance do sistema","security":[{"BearerAuth":[]}],"parameters":[{"name":"timeRange","in":"query","schema":{"type":"string","enum":["24h","7d","30d"],"default":"24h"},"description":"Per√≠odo para as estat√≠sticas"},{"name":"includeErrors","in":"query","schema":{"type":"boolean","default":false},"description":"Incluir an√°lise de erros"}],"responses":{"200":{"description":"M√©tricas de renderiza√ß√£o","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"basicStats":{"type":"object","properties":{"totalJobs":{"type":"number"},"completedJobs":{"type":"number"},"failedJobs":{"type":"number"},"averageRenderTime":{"type":"number","description":"Tempo m√©dio em segundos"}}},"performanceMetrics":{"type":"object","properties":{"p50":{"type":"number","description":"Percentil 50 do tempo de render"},"p90":{"type":"number","description":"Percentil 90 do tempo de render"},"p95":{"type":"number","description":"Percentil 95 do tempo de render"}}},"queueStats":{"type":"object","properties":{"waiting":{"type":"number"},"active":{"type":"number"},"completed":{"type":"number"},"failed":{"type":"number"}}}}}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"}}}},"/api/projects":{"post":{"tags":["projects"],"summary":"Criar novo projeto","description":"Cria um novo projeto de v√≠deo","security":[{"BearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["title"],"properties":{"title":{"type":"string","minLength":1,"maxLength":255},"description":{"type":"string","maxLength":1000}}}}}},"responses":{"201":{"description":"Projeto criado com sucesso","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"title":{"type":"string"},"description":{"type":"string"},"userId":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}}}}}}},"400":{"$ref":"#/components/responses/BadRequest"},"401":{"$ref":"#/components/responses/Unauthorized"},"422":{"$ref":"#/components/responses/ValidationError"}}},"get":{"tags":["projects"],"summary":"Listar projetos","description":"Retorna lista paginada de projetos do usu√°rio","security":[{"BearerAuth":[]}],"parameters":[{"name":"page","in":"query","schema":{"type":"integer","default":1},"description":"N√∫mero da p√°gina"},{"name":"limit","in":"query","schema":{"type":"integer","default":20,"maximum":100},"description":"Itens por p√°gina"}],"responses":{"200":{"description":"Lista de projetos","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"title":{"type":"string"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}}},"pagination":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"},"totalPages":{"type":"integer"}}}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"}}}},"/api/nr/courses":{"get":{"tags":["nr"],"summary":"Listar cursos NR","description":"Retorna lista de cursos das Normas Regulamentadoras dispon√≠veis","responses":{"200":{"description":"Lista de cursos NR","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"nr":{"type":"string","example":"NR-01"},"title":{"type":"string"},"description":{"type":"string"},"modules":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"order":{"type":"integer"}}}}}}}}}}}}}}}},"components":{"securitySchemes":{"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"Token JWT obtido atrav√©s da autentica√ß√£o Supabase"}},"responses":{"BadRequest":{"description":"Requisi√ß√£o inv√°lida","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"object","properties":{"message":{"type":"string"},"code":{"type":"string","example":"BAD_REQUEST"}}}}}}}},"Unauthorized":{"description":"N√£o autorizado - token inv√°lido ou ausente","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"object","properties":{"message":{"type":"string","example":"Authentication required"},"code":{"type":"string","example":"AUTHENTICATION_ERROR"}}}}}}}},"NotFound":{"description":"Recurso n√£o encontrado","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"object","properties":{"message":{"type":"string","example":"Resource not found"},"code":{"type":"string","example":"NOT_FOUND"}}}}}}}},"ValidationError":{"description":"Erro de valida√ß√£o nos dados enviados","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"object","properties":{"message":{"type":"string","example":"Validation failed"},"code":{"type":"string","example":"VALIDATION_ERROR"},"details":{"type":"array","items":{"type":"object","properties":{"field":{"type":"string"},"message":{"type":"string"}}}}}}}}}}}}}},
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
              SwaggerUIBundle.presets.apis,
              SwaggerUIStandalonePreset
            ],
            plugins: [
              SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            tryItOutEnabled: true,
            filter: true,
            defaultModelsExpandDepth: 0,
            defaultModelExpandDepth: 1,
            supportedSubmitMethods: ['get', 'post', 'put', 'delete', 'patch'],
            onComplete: function(swaggerApi, swaggerUi){
              console.log("‚úÖ Swagger UI Loaded Successfully");
            },
            onFailure: function(data) {
              console.error("‚ùå Unable to Load Swagger UI:", data);
            }
          });
        }
    </script>
</body>
</html>
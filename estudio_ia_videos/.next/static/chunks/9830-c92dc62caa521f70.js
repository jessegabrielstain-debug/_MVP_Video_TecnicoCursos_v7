"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9830],{41875:function(e,t,n){n.d(t,{C:function(){return i}});var a=n(57437);n(2265);var r=n(90535),o=n(22835);let s=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...r}=e;return(0,a.jsx)("div",{className:(0,o.cn)(s({variant:n}),t),...r})}},92595:function(e,t,n){n.d(t,{d:function(){return i},z:function(){return l}});var a=n(57437),r=n(2265),o=n(90535),s=n(22835);let i=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:n,variant:r,size:o,asChild:l=!1,...c}=e;return(0,a.jsx)(l?"span":"button",{className:(0,s.cn)(i({variant:r,size:o,className:n})),ref:t,...c})});l.displayName="Button"},34029:function(e,t,n){n.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return s},aY:function(){return u},eW:function(){return d},ll:function(){return l}});var a=n(57437),r=n(2265),o=n(22835);let s=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",n),...r})});s.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",n),...r})});i.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,o.cn)("font-semibold leading-none tracking-tight",n),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",n),...r})});c.displayName="CardDescription";let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",n),...r})});u.displayName="CardContent";let d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",n),...r})});d.displayName="CardFooter"},41236:function(e,t,n){n.d(t,{E:function(){return s}});var a=n(57437),r=n(2265),o=n(22835);let s=r.forwardRef((e,t)=>{let{className:n,value:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...s,children:(0,a.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});s.displayName="Progress"},51098:function(e,t,n){n.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return i},nU:function(){return u}});var a=n(57437),r=n(2265),o=n(20271),s=n(22835);let i=o.fC,l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.aV,{ref:t,className:(0,s.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...r})});l.displayName=o.aV.displayName;let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.xz,{ref:t,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...r})});c.displayName=o.xz.displayName;let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.VY,{ref:t,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...r})});u.displayName=o.VY.displayName},51516:function(e,t,n){n.d(t,{X:function(){return i}});var a=n(2265);let r=["readability","engagement","seo","accessibility","compliance"],o=e=>!!e&&"object"==typeof e&&"content"in e&&"metadata"in e&&"id"in e,s=e=>null==e?"":"string"==typeof e||Array.isArray(e)?e:o(e)?{...e,content:"string"==typeof e.content?e.content:"[binary-content]",createdAt:e.createdAt instanceof Date?e.createdAt.toISOString():e.createdAt}:JSON.parse(JSON.stringify(e)),i=()=>{let[e,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[c,u]=(0,a.useState)([]),[d,f]=(0,a.useState)([]),[m,p]=(0,a.useState)(null),[y,g]=(0,a.useState)([]),h=(0,a.useRef)(null),v=(0,a.useRef)(null),b=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/ai/models");if(!e.ok)throw Error("Failed to load AI models");let n=await e.json();t(n)}catch(e){l(e instanceof Error?e.message:"Failed to load models")}},[]),C=(0,a.useCallback)(async e=>{try{o(!0),l(null),h.current&&h.current.abort(),h.current=new AbortController;let t=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:h.current.signal});if(!t.ok)throw Error("Failed to generate content");let n=await t.json();return u(e=>[n,...e.slice(0,99)]),n}catch(e){if(e instanceof Error&&"AbortError"===e.name)return null;return l(e instanceof Error?e.message:"Failed to generate content"),null}finally{o(!1),h.current=null}},[]),w=(0,a.useCallback)(async e=>{try{o(!0),l(null);let t=await fetch("/api/ai/sentiment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!t.ok)throw Error("Failed to analyze sentiment");return await t.json()}catch(e){return l(e instanceof Error?e.message:"Failed to analyze sentiment"),null}finally{o(!1)}},[]),k=(0,a.useCallback)(async(e,t)=>{try{o(!0),l(null);let n=await fetch("/api/ai/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,...t})});if(!n.ok)throw Error("Failed to analyze content");return await n.json()}catch(e){return l(e instanceof Error?e.message:"Failed to analyze content"),{}}finally{o(!1)}},[]),S=(0,a.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{o(!0),l(null);let{optimizationType:n=[...r],...a}=t,i=s(e),c=await fetch("/api/ai/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:i,optimizationType:n,...a})});if(!c.ok)throw Error("Failed to optimize content");return await c.json()}catch(e){return l(e instanceof Error?e.message:"Failed to optimize content"),null}finally{o(!1)}},[]),x=(0,a.useCallback)(async(e,t)=>{try{let n=y.find(e=>e.userId===t);if(n){let t={...e,parameters:{...e.parameters,tone:n.preferences.tone,style:n.preferences.contentStyle,complexity:n.preferences.complexity,language:n.preferences.language},context:{...e.context,userPreferences:n.preferences,userBehavior:n.behavior,userPerformance:n.performance}};return await C(t)}return await C(e)}catch(e){return l(e instanceof Error?e.message:"Failed to generate personalized content"),null}},[C,y]),N=(0,a.useCallback)(async(e,t)=>{try{let n=await fetch("/api/ai/personalization/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw Error("Failed to update personalization profile");let a=await n.json();g(t=>t.map(t=>t.userId===e?a:t))}catch(e){l(e instanceof Error?e.message:"Failed to update personalization profile")}},[]),E=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analysisType:["content","performance","user_behavior","trends","compliance"],timeRange:"30d"})});if(!e.ok)throw Error("Failed to generate insights");let t=await e.json();f(e=>[...t,...e])}catch(e){console.error("Failed to generate insights:",e)}},[]),j=(0,a.useCallback)(()=>{v.current&&clearInterval(v.current),v.current=setInterval(()=>{E()},3e5),E()},[E]),I=(0,a.useCallback)(()=>{v.current&&(clearInterval(v.current),v.current=null)},[]),O=(0,a.useCallback)(async e=>{try{await fetch("/api/ai/insights/".concat(e,"/read"),{method:"POST"}),f(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t))}catch(e){console.error("Failed to mark insight as read:",e)}},[]),F=(0,a.useCallback)(async(e,t)=>{try{if(!(await fetch("/api/ai/insights/".concat(e,"/actions/").concat(t),{method:"POST"})).ok)throw Error("Failed to execute insight action");f(t=>t.map(t=>t.id===e?{...t,isActioned:!0}:t))}catch(e){l(e instanceof Error?e.message:"Failed to execute insight action")}},[]),T=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/ai/stats");if(!e.ok)throw Error("Failed to load usage stats");let t=await e.json();p(t)}catch(e){console.error("Failed to load usage stats:",e)}},[]),z=(0,a.useCallback)(async e=>{try{let t=await fetch("/api/ai/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to get suggestions");return await t.json()}catch(e){return console.error("Failed to get smart suggestions:",e),[]}},[]),A=(0,a.useCallback)(async(e,t)=>{try{let n=await fetch("/api/ai/autocomplete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partialContent:e,context:t})});if(!n.ok)throw Error("Failed to auto-complete content");return await n.json()}catch(e){return console.error("Failed to auto-complete content:",e),[]}},[]),R=(0,a.useCallback)(async(e,t,n)=>{try{o(!0),l(null);let a=await fetch("/api/ai/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,targetLanguage:t,sourceLanguage:n})});if(!a.ok)throw Error("Failed to translate content");return(await a.json()).translatedContent}catch(e){return l(e instanceof Error?e.message:"Failed to translate content"),null}finally{o(!1)}},[]),_=(0,a.useCallback)(async(e,t,n)=>{try{o(!0),l(null);let a=await fetch("/api/ai/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,maxLength:t,style:n})});if(!a.ok)throw Error("Failed to summarize content");return(await a.json()).summary}catch(e){return l(e instanceof Error?e.message:"Failed to summarize content"),null}finally{o(!1)}},[]),J=(0,a.useCallback)(()=>{h.current&&(h.current.abort(),h.current=null,o(!1))},[]);return(0,a.useEffect)(()=>(b(),T(),j(),()=>{I(),h.current&&h.current.abort()}),[b,T,j,I]),{models:e,isLoading:n,error:i,generationHistory:c,insights:d,usageStats:m,personalizationProfiles:y,generateContent:C,generatePersonalizedContent:x,cancelGeneration:J,analyzeSentiment:w,analyzeContent:k,optimizeContent:S,getSmartSuggestions:z,autoCompleteContent:A,translateContent:R,summarizeContent:_,updatePersonalizationProfile:N,generateInsights:E,markInsightAsRead:O,executeInsightAction:F,startInsightGeneration:j,stopInsightGeneration:I,loadModels:b,loadUsageStats:T}}},63657:function(e,t,n){n.d(t,{H:function(){return o}});var a=n(2265),r=n(58113);let o=e=>{let t=(0,r.eI)(),[n,o]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!0),[f,m]=(0,a.useState)(null),[p,y]=(0,a.useState)(null),g=(0,a.useRef)(null),h=(0,a.useCallback)(async()=>{if(!e){d(!1);return}try{d(!0),m(null),o({id:"session_".concat(e),projectId:e,users:[],comments:[],versions:[],notifications:[],currentVersion:"v1",isRecording:!1,settings:{autoSave:!0,autoSaveInterval:3e4,allowComments:!0,allowVersioning:!0,maxVersions:50,notificationSettings:{comments:!0,mentions:!0,userActivity:!0,versionChanges:!0}}});let{data:{user:r}}=await t.auth.getUser();if(r){var n,a;let e={id:r.id,name:(null===(n=r.user_metadata)||void 0===n?void 0:n.name)||r.email||"Anonymous",email:r.email||"",avatar:null===(a=r.user_metadata)||void 0===a?void 0:a.avatar_url,color:"#"+Math.floor(16777215*Math.random()).toString(16),isOnline:!0,lastSeen:new Date,role:"editor"};i(e),v(e)}}catch(e){m(e instanceof Error?e.message:"Failed to initialize collaboration")}finally{d(!1)}},[e,t]),v=(0,a.useCallback)(n=>{if(!g.current&&e)try{let a=t.channel("collaboration:".concat(e),{config:{presence:{key:n.id},broadcast:{self:!1}}});a.on("presence",{event:"sync"},()=>{let e=a.presenceState(),t=[];Object.values(e).forEach(e=>{e.forEach(e=>t.push(e))}),o(e=>e?{...e,users:t}:null)}).on("presence",{event:"join"},e=>{let{key:t,newPresences:n}=e}).on("presence",{event:"leave"},e=>{let{key:t,leftPresences:n}=e}).on("broadcast",{event:"cursor-move"},e=>{let{payload:t}=e;o(e=>e?{...e,users:e.users.map(e=>e.id===t.userId?{...e,cursor:t.cursor}:e)}:null)}).on("broadcast",{event:"comment-added"},e=>{let{payload:t}=e;o(e=>e?{...e,comments:[...e.comments,t.comment]}:null)}).on("broadcast",{event:"comment-updated"},e=>{let{payload:t}=e;o(e=>e?{...e,comments:e.comments.map(e=>e.id===t.comment.id?t.comment:e)}:null)}).on("broadcast",{event:"version-created"},e=>{let{payload:t}=e;o(e=>e?{...e,versions:[...e.versions,t.version]}:null)}).on("broadcast",{event:"element-changed"},e=>{let{payload:t}=e;t.change&&window.dispatchEvent(new CustomEvent("collaboration:element_changed",{detail:t.change}))}).subscribe(async e=>{"SUBSCRIBED"===e?(c(!0),m(null),await a.track(n)):"CHANNEL_ERROR"===e?(m("Connection error"),c(!1)):"TIMED_OUT"===e&&(m("Connection timeout"),c(!1))}),g.current=a}catch(e){m("Failed to establish Realtime connection")}},[e,t]),b=(0,a.useCallback)(async e=>{},[]),C=(0,a.useCallback)(async()=>{g.current&&(t.removeChannel(g.current),g.current=null,c(!1),o(null),i(null))},[t]),w=(0,a.useCallback)(e=>{s&&g.current&&g.current.send({type:"broadcast",event:"cursor-move",payload:{userId:s.id,cursor:e}})},[s]),k=(0,a.useCallback)(async e=>{var t;let n={...e,id:crypto.randomUUID(),timestamp:new Date,resolved:!1,replies:[]};return o(e=>e?{...e,comments:[...e.comments,n]}:null),null===(t=g.current)||void 0===t||t.send({type:"broadcast",event:"comment-added",payload:{comment:n}}),n},[]),S=(0,a.useCallback)(async(e,t)=>{var a;let r=null==n?void 0:n.comments.find(t=>t.id===e);if(!r)return null;let s={...r,...t};return o(t=>t?{...t,comments:t.comments.map(t=>t.id===e?s:t)}:null),null===(a=g.current)||void 0===a||a.send({type:"broadcast",event:"comment-updated",payload:{comment:s}}),s},[null==n?void 0:n.comments]),x=(0,a.useCallback)(async e=>S(e,{resolved:!0}),[S]),N=(0,a.useCallback)(async(e,t)=>{let a={...t,id:crypto.randomUUID(),timestamp:new Date},r=null==n?void 0:n.comments.find(t=>t.id===e);if(r){var s;let t={...r,replies:[...r.replies,a]};o(n=>n?{...n,comments:n.comments.map(n=>n.id===e?t:n)}:null),null===(s=g.current)||void 0===s||s.send({type:"broadcast",event:"comment-updated",payload:{comment:t}})}return a},[null==n?void 0:n.comments]),E=(0,a.useCallback)(async e=>{var t;let n={...e,id:crypto.randomUUID(),timestamp:new Date,isMerged:!1};return o(e=>e?{...e,versions:[...e.versions,n]}:null),null===(t=g.current)||void 0===t||t.send({type:"broadcast",event:"version-created",payload:{version:n}}),n},[]),j=(0,a.useCallback)(async(e,t)=>({success:!0}),[]),I=(0,a.useCallback)(async e=>({success:!0}),[]),O=(0,a.useCallback)(async e=>{o(t=>t?{...t,notifications:t.notifications.map(t=>t.id===e?{...t,read:!0}:t)}:null)},[]),F=(0,a.useCallback)(async()=>{o(e=>e?{...e,notifications:[]}:null)},[]),T=(0,a.useCallback)(e=>{if(s){var t;let n={...e,id:"change_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date,userId:s.id};null===(t=g.current)||void 0===t||t.send({type:"broadcast",event:"element-changed",payload:{change:n}})}},[s]),z=(0,a.useCallback)((e,t)=>{g.current&&l&&g.current.send({type:"broadcast",event:e,payload:t})},[l]),A=(0,a.useCallback)(()=>{if(!n)return{totalUsers:0,activeUsers:0,totalComments:0,unresolvedComments:0,totalVersions:0,lastActivity:new Date,collaborationScore:0};let e=n.users.filter(e=>e.isOnline).length,t=n.comments.filter(e=>!e.resolved).length,a=new Date,r=2*n.comments.length,o=3*n.versions.length;return{totalUsers:n.users.length,activeUsers:e,totalComments:n.comments.length,unresolvedComments:t,totalVersions:n.versions.length,lastActivity:a,collaborationScore:Math.min(100,r+o+5*e)}},[n]);(0,a.useEffect)(()=>{n&&y(A())},[n,A]),(0,a.useEffect)(()=>(h(),()=>{g.current&&t.removeChannel(g.current)}),[h,t]);let R=(0,a.useCallback)(async(t,n)=>"https://example.com/share/".concat(e),[e]);return{session:n,currentUser:s,isConnected:l,isLoading:u,error:f,stats:p,joinSession:b,leaveSession:C,updateCursor:w,inviteUser:(0,a.useCallback)(async(e,t)=>{console.log("Invited ".concat(e," as ").concat(t))},[]),addComment:k,updateComment:S,resolveComment:x,addCommentReply:N,createVersion:E,mergeVersion:j,revertToVersion:I,markNotificationAsRead:O,clearAllNotifications:F,trackElementChange:T,broadcastUpdate:z,shareDocument:R,initializeSession:h,connectWebSocket:()=>{}}}},27669:function(e,t,n){n.d(t,{W:function(){return s}});var a=n(17272);let r=null,o=null;function s(){if(o)return o;let{url:e,anonKey:t}=function(){if(r)return r;let e="https://ofhzrdiadxigrvmrhaiz.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maHpyZGlhZHhpZ3J2bXJoYWl6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3MTE3NjEsImV4cCI6MjA3NTI4Nzc2MX0.u-F5m9lvYc1lx9aA-MoTZqCAa83QHGVk8uTh-_KPfCQ";if(!e||!t)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables");return r={url:e,anonKey:t}}();return o=(0,a.createBrowserClient)(e,t)}},58113:function(e,t,n){n.d(t,{OQ:function(){return r},eI:function(){return o}});var a=n(27669);let r=(0,a.W)(),o=()=>(0,a.W)()},22835:function(e,t,n){n.d(t,{cn:function(){return o}});var a=n(61994),r=n(53335);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,a.W)(t))}}}]);
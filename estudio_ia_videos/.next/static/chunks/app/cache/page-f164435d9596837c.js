(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4231],{6089:function(e,s,t){Promise.resolve().then(t.bind(t,31878))},31878:function(e,s,t){"use strict";t.d(s,{default:function(){return v}});var r=t(57437),a=t(2265),n=t(34029),i=t(92595),l=t(41875),c=t(41236),d=t(51098),o=t(82431),u=t(18930),m=t(42488),x=t(50091),f=t(96137),h=t(84428),j=t(76865),p=t(14438);function v(e){let{refreshInterval:s=5e3}=e,[t,v]=(0,a.useState)(null),[y,g]=(0,a.useState)(!1),[N,b]=(0,a.useState)(null),w=async()=>{try{g(!0);let e=await fetch("/api/cache/intelligent?action=stats"),s=await e.json();s.success?(v(s.data),b(new Date)):p.Am.error("Erro ao carregar dados do cache")}catch(e){console.error("Failed to fetch cache stats:",e),p.Am.error("Falha na conex\xe3o com API de cache")}finally{g(!1)}},k=async()=>{if(confirm("Tem certeza que deseja limpar todo o cache? Isso pode afetar a performance temporariamente."))try{let e=await fetch("/api/cache/intelligent?action=clear",{method:"DELETE"});(await e.json()).success?(p.Am.success("Cache limpo com sucesso"),w()):p.Am.error("Erro ao limpar cache")}catch(e){p.Am.error("Falha ao limpar cache")}};if((0,a.useEffect)(()=>{if(w(),s>0){let e=setInterval(w,s);return()=>clearInterval(e)}},[s]),!t)return(0,r.jsx)("div",{className:"p-8 flex justify-center items-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});let Z=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["B","KB","MB","GB","TB"][s]};return(0,r.jsxs)("div",{className:"space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Cache Inteligente"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Monitoramento em tempo real do sistema de cache multi-camada"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.z,{variant:"outline",onClick:w,disabled:y,children:[(0,r.jsx)(o.Z,{className:"mr-2 h-4 w-4 ".concat(y?"animate-spin":"")}),"Atualizar"]}),(0,r.jsxs)(i.z,{variant:"destructive",onClick:k,children:[(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Limpar Cache"]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium",children:"Taxa de Acerto (Hit Rate)"}),(0,r.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[(100*t.stats.hitRate).toFixed(1),"%"]}),(0,r.jsx)(c.E,{value:100*t.stats.hitRate,className:"mt-2"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[t.stats.hits," hits / ",t.stats.misses," misses"]})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium",children:"Uso de Mem\xf3ria"}),(0,r.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:Z(t.stats.memoryUsage)}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[t.stats.totalEntries," itens em mem\xf3ria"]})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium",children:"Throughput"}),(0,r.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[t.performance.throughput," ops/s"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Tempo m\xe9dio: ",t.performance.avgResponseTime,"ms"]})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(n.ll,{className:"text-sm font-medium",children:"Status do Sistema"}),(0,r.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[(0,r.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,r.jsx)(l.C,{variant:t.layers.memory.enabled?"default":"secondary",children:"Mem\xf3ria"}),(0,r.jsx)(l.C,{variant:"connected"===t.layers.redis.status?"default":"destructive",children:"Redis"}),(0,r.jsx)(l.C,{variant:"available"===t.layers.file.status?"default":"outline",children:"Disco"})]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-3",children:["\xdaltima atualiza\xe7\xe3o: ",null==N?void 0:N.toLocaleTimeString()]})]})]})]}),(0,r.jsxs)(d.mQ,{defaultValue:"overview",className:"space-y-4",children:[(0,r.jsxs)(d.dr,{children:[(0,r.jsx)(d.SP,{value:"overview",children:"Vis\xe3o Geral"}),(0,r.jsx)(d.SP,{value:"layers",children:"Camadas"}),(0,r.jsx)(d.SP,{value:"config",children:"Configura\xe7\xe3o"})]}),(0,r.jsx)(d.nU,{value:"overview",className:"space-y-4",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsx)(n.ll,{children:"Desempenho Recente"}),(0,r.jsx)(n.SZ,{children:"M\xe9tricas de performance do sistema de cache nos \xfaltimos minutos."})]}),(0,r.jsx)(n.aY,{className:"pl-2",children:(0,r.jsx)("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"Gr\xe1fico de hits/misses em tempo real (placeholder)"})})]})}),(0,r.jsx)(d.nU,{value:"layers",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5"})," Mem\xf3ria (L1)"]})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Status:"}),(0,r.jsx)(l.C,{children:"Ativo"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Itens:"}),(0,r.jsx)("span",{children:t.layers.memory.entries})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Uso:"}),(0,r.jsx)("span",{children:Z(t.layers.memory.usage)})]})]})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(f.Z,{className:"h-5 w-5"})," Redis (L2)"]})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Status:"}),(0,r.jsx)(l.C,{variant:"connected"===t.layers.redis.status?"default":"destructive",children:t.layers.redis.status})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Lat\xeancia:"}),(0,r.jsx)("span",{children:"~5ms"})]})]})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsx)(n.Ol,{children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(h.Z,{className:"h-5 w-5"})," Disco (L3)"]})}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Status:"}),(0,r.jsx)(l.C,{variant:"outline",children:t.layers.file.status})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Caminho:"}),(0,r.jsx)("span",{className:"text-xs font-mono",children:"/tmp/cache"})]})]})})]})]})}),(0,r.jsx)(d.nU,{value:"config",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsx)(n.ll,{children:"Configura\xe7\xf5es Globais"}),(0,r.jsx)(n.SZ,{children:"Par\xe2metros atuais do sistema de cache."})]}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"TTL Padr\xe3o"}),(0,r.jsx)("div",{className:"p-2 bg-muted rounded-md",children:"3600 segundos"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Estrat\xe9gia de Evic\xe7\xe3o"}),(0,r.jsx)("div",{className:"p-2 bg-muted rounded-md",children:"LRU (Least Recently Used)"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Compress\xe3o"}),(0,r.jsx)("div",{className:"p-2 bg-muted rounded-md",children:"Ativada (Gzip)"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Prefetching"}),(0,r.jsx)("div",{className:"p-2 bg-muted rounded-md",children:"Inteligente (Baseado em acesso)"})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[(0,r.jsxs)("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4 text-yellow-500"}),"Zona de Perigo"]}),(0,r.jsx)(i.z,{variant:"outline",className:"text-destructive hover:bg-destructive/10",children:"Resetar Configura\xe7\xf5es"})]})]})})]})})]})]})}},41875:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var r=t(57437);t(2265);var a=t(90535),n=t(22835);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...a})}},92595:function(e,s,t){"use strict";t.d(s,{d:function(){return l},z:function(){return c}});var r=t(57437),a=t(2265),n=t(90535),i=t(22835);let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:c=!1,...d}=e;return(0,r.jsx)(c?"span":"button",{className:(0,i.cn)(l({variant:a,size:n,className:t})),ref:s,...d})});c.displayName="Button"},34029:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},eW:function(){return u},ll:function(){return c}});var r=t(57437),a=t(2265),n=t(22835);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},41236:function(e,s,t){"use strict";t.d(s,{E:function(){return i}});var r=t(57437),a=t(2265),n=t(22835);let i=a.forwardRef((e,s)=>{let{className:t,value:a,...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,r.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});i.displayName="Progress"},51098:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var r=t(57437),a=t(2265),n=t(20271),i=t(22835);let l=n.fC,c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.aV,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});c.displayName=n.aV.displayName;let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.xz,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});d.displayName=n.xz.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.VY,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});o.displayName=n.VY.displayName},22835:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var r=t(61994),a=t(53335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}},42488:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},50091:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},84428:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]])},82431:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},96137:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},18930:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},76865:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},function(e){e.O(0,[6137,7479,271,5644,2971,2117,1744],function(){return e(e.s=6089)}),_N_E=e.O()}]);
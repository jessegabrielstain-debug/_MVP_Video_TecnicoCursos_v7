(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[780],{36536:function(e,a,s){Promise.resolve().then(s.bind(s,11717))},11717:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return L},dynamic:function(){return P}});var t=s(57437),r=s(2265),i=s(51516),l=s(63657);let n=()=>{let[e,a]=(0,r.useState)(null),[s,t]=(0,r.useState)(!1),[n,c]=(0,r.useState)({isActive:!1,interval:3e4,lastCheck:null,autoFix:!1,notifications:!0,realTimeAnalysis:!0}),[o,d]=(0,r.useState)({reports:[],trends:{scoreHistory:[],violationTrends:{},improvementAreas:[]}}),[m,u]=(0,r.useState)([]),{generateContent:x}=(0,i.X)(),{broadcastUpdate:h}=(0,l.H)(),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{f()},[]);let f=(0,r.useCallback)(()=>{u([{id:"nr12-safety-distance",nrStandard:"NR-12",category:"Seguran\xe7a de M\xe1quinas",title:"Dist\xe2ncia de Seguran\xe7a",description:"Verificar se as dist\xe2ncias de seguran\xe7a est\xe3o adequadas",severity:"critical",autoFixable:!0,checkFunction:e=>[],suggestedFix:"Ajustar dist\xe2ncias conforme NR-12",references:["NR-12.38","NR-12.39"]},{id:"nr35-height-safety",nrStandard:"NR-35",category:"Trabalho em Altura",title:"Equipamentos de Prote\xe7\xe3o",description:"Verificar uso correto de EPIs para trabalho em altura",severity:"critical",autoFixable:!1,checkFunction:e=>[],references:["NR-35.2","NR-35.3"]},{id:"accessibility-contrast",nrStandard:"WCAG",category:"Acessibilidade",title:"Contraste de Cores",description:"Verificar contraste adequado para acessibilidade",severity:"medium",autoFixable:!0,checkFunction:e=>[],suggestedFix:"Ajustar cores para contraste m\xednimo de 4.5:1",references:["WCAG 2.1 AA"]}])},[]),v=(0,r.useCallback)(async e=>{t(!0);try{let s=[],t=[];for(let a of m)try{let r=a.checkFunction(e);r.length>0?s.push(...r):t.push(a.id)}catch(e){console.error("Erro ao executar regra ".concat(a.id,":"),e)}let r=S(s),i=A(s),l=M(s),n=await F(e),c=z(s),o={id:"report-".concat(Date.now()),projectId:e.id||"unknown",timestamp:new Date,overallScore:r,violations:E(s),passedRules:t,summary:{critical:s.filter(e=>"critical"===e.severity).length,high:s.filter(e=>"high"===e.severity).length,medium:s.filter(e=>"medium"===e.severity).length,low:s.filter(e=>"low"===e.severity).length,total:s.length},recommendations:n,nrStandardsCompliance:c,accessibilityScore:i,safetyScore:l,estimatedFixTime:R(s)};return a(o),d(e=>({...e,reports:[o,...e.reports.slice(0,49)],trends:{...e.trends,scoreHistory:[{date:new Date,score:r},...e.trends.scoreHistory.slice(0,29)]}})),h("compliance-report",o),o}finally{t(!1)}},[m,h]),y=(0,r.useCallback)(async e=>{let a=[];for(let s of m)try{let t=s.checkFunction(e);a.push(...t)}catch(e){console.error("Erro ao analisar conte\xfado com regra ".concat(s.id,":"),e)}return a},[m]),j=(0,r.useCallback)(async e=>{if(!n.realTimeAnalysis)return[];let a=m.filter(e=>"critical"===e.severity||"high"===e.severity),s=[];for(let t of a)try{let a=t.checkFunction(e);s.push(...a)}catch(e){console.error("Erro na an\xe1lise em tempo real:",e)}return s},[m,n.realTimeAnalysis]),g=(0,r.useCallback)(async e=>{try{return await new Promise(e=>setTimeout(e,1e3)),!0}catch(e){return console.error("Erro ao aplicar corre\xe7\xe3o:",e),!1}},[]),N=(0,r.useCallback)(async e=>{let a=e.filter(e=>e.autoFixable),s={};for(let e of a)try{await g(e.id)&&(s[e.id]=!0)}catch(a){console.error("Erro ao corrigir viola\xe7\xe3o ".concat(e.id,":"),a),s[e.id]=!1}return s},[g]),b=(0,r.useCallback)(async e=>{try{let a=await x({type:"text",prompt:"Gere sugest\xf5es de corre\xe7\xe3o para a viola\xe7\xe3o de compliance: ".concat(e.message),model:"gpt-4",parameters:{},context:{previousContent:JSON.stringify(e)}}),s=(null==a?void 0:a.content)&&"string"==typeof a.content?a.content:"";return[e.suggestedFix,...s.split("\n").filter(e=>e.trim())]}catch(a){return console.error("Erro ao gerar sugest\xf5es:",a),[e.suggestedFix]}},[x]),k=(0,r.useCallback)(async e=>v({id:e}),[v]),w=(0,r.useCallback)(async a=>{if(!e)throw Error("Nenhum relat\xf3rio dispon\xedvel para exporta\xe7\xe3o");switch(a){case"json":return new Blob([JSON.stringify(e,null,2)],{type:"application/json"});case"csv":return new Blob([I(e)],{type:"text/csv"});case"pdf":throw Error("Exporta\xe7\xe3o PDF n\xe3o implementada ainda");default:throw Error("Formato ".concat(a," n\xe3o suportado"))}},[e]),C=(0,r.useCallback)(e=>{c(a=>({...a,...e,isActive:!0})),p.current&&clearInterval(p.current),p.current=setInterval(async()=>{c(e=>({...e,lastCheck:new Date})),n.autoFix},e.interval||n.interval)},[n.interval,n.autoFix]),Z=(0,r.useCallback)(()=>{c(e=>({...e,isActive:!1})),p.current&&(clearInterval(p.current),p.current=null)},[]),S=(0,r.useCallback)(e=>{if(0===e.length)return 100;let a={critical:25,high:10,medium:5,low:1};return Math.max(0,100-e.reduce((e,s)=>e+a[s.severity],0))},[]),A=(0,r.useCallback)(e=>S(e.filter(e=>{var a;return(null===(a=m.find(a=>a.id===e.ruleId))||void 0===a?void 0:a.category)==="Acessibilidade"})),[m,S]),M=(0,r.useCallback)(e=>S(e.filter(e=>{let a=m.find(a=>a.id===e.ruleId);return null==a?void 0:a.nrStandard.startsWith("NR-")})),[m,S]),z=(0,r.useCallback)(e=>{let a={};return m.forEach(s=>{if(s.nrStandard.startsWith("NR-")){a[s.nrStandard]||(a[s.nrStandard]=100);let t=e.filter(e=>e.ruleId===s.id);t.length>0&&(a[s.nrStandard]-=10*t.length)}}),a},[m]),E=(0,r.useCallback)(e=>e.sort((e,a)=>{let s={critical:4,high:3,medium:2,low:1};return s[a.severity]-s[e.severity]||a.priority-e.priority}),[]),R=(0,r.useCallback)(e=>{let a={critical:120,high:60,medium:30,low:15};return e.reduce((e,s)=>{let t=a[s.severity];return e+(s.autoFixable?.2*t:t)},0)},[]),F=(0,r.useCallback)(async e=>{let a=[{id:"rec-1",type:"improvement",title:"Melhorar Contraste de Cores",description:"Aumentar o contraste para melhor acessibilidade",impact:"medium",effort:"low",category:"Acessibilidade",implementation:"Ajustar cores do tema para contraste m\xednimo 4.5:1",expectedBenefit:"Melhor experi\xeancia para usu\xe1rios com defici\xeancia visual"}];return e.summary&&a.push({id:"rec-2",type:"optimization",title:"Atualizar sum\xe1rio de seguran\xe7a",description:"Revise o sum\xe1rio para incluir refer\xeancias atualizadas das NR aplic\xe1veis.",impact:"high",effort:"medium",category:"Seguran\xe7a",implementation:"Alinhar o sum\xe1rio com as \xfaltimas revis\xf5es das normas regulat\xf3rias.",expectedBenefit:"Garante conformidade documental e reduz riscos operacionais."}),a},[]),I=(0,r.useCallback)(e=>[["ID","Severidade","Mensagem","Localiza\xe7\xe3o","Corre\xe7\xe3o Sugerida"],...e.violations.map(e=>[e.id,e.severity,e.message,JSON.stringify(e.location),e.suggestedFix])].map(e=>e.join(",")).join("\n"),[]),P=(0,r.useCallback)(async(e,a)=>{var s,t;let r=null!==(s=o.reports.find(a=>a.id===e))&&void 0!==s?s:null,i=null!==(t=o.reports.find(e=>e.id===a))&&void 0!==t?t:null,l=[];if(r&&i){let e=new Map(r.violations.map(e=>[e.id,e]));i.violations.forEach(a=>{e.has(a.id)||l.push(a)})}let n={improved:r&&i?Math.max(r.summary.total-i.summary.total,0):0,regressed:r&&i?Math.max(i.summary.total-r.summary.total,0):0,unchanged:r&&i?Math.min(r.summary.total,i.summary.total):0};return{reportA:r,reportB:i,differences:l,summary:n}},[o.reports]),L=(0,r.useCallback)(async e=>o,[o]),q=(0,r.useCallback)(async e=>{let a=new Date,s=new Date(a);s.setDate(a.getDate()-({week:7,month:30,quarter:90})[e]);let t=o.trends.scoreHistory.filter(e=>e.date>=s).map(e=>({date:new Date(e.date),score:e.score})),r={};o.reports.forEach(e=>{e.timestamp>=s&&e.violations.forEach(e=>{var a;r[e.ruleId]=(null!==(a=r[e.ruleId])&&void 0!==a?a:0)+1})});let i=Object.entries(r).sort((e,a)=>{let[,s]=e,[,t]=a;return t-s}).slice(0,5).map(e=>{let[a]=e;return a});return{timeframe:e,scoreTrend:t,violationHeatmap:r,topImprovementAreas:i}},[o]),D=(0,r.useCallback)(async e=>(console.info("Implementa\xe7\xe3o pendente para recomenda\xe7\xe3o:",e),!0),[]),O=(0,r.useCallback)(async()=>{},[]),T=(0,r.useCallback)(async a=>{if(!e)throw Error("Nenhum relat\xf3rio dispon\xedvel para valida\xe7\xe3o");let s={...e.nrStandardsCompliance};return a.forEach(e=>{e in s||(s[e]=0)}),{...e,nrStandardsCompliance:s}},[e]),V=(0,r.useCallback)(e=>{c(a=>({...a,...e}))},[]),B=(0,r.useCallback)(e=>{u(a=>[...a,{...e,id:"custom-".concat(Date.now())}])},[]),H=(0,r.useCallback)((e,a)=>{u(s=>s.map(s=>s.id===e?{...s,...a}:s))},[]),U=(0,r.useCallback)(e=>{u(a=>a.filter(a=>a.id!==e))},[]),Y=(0,r.useCallback)(e=>{},[]);return(0,r.useEffect)(()=>()=>{p.current&&clearInterval(p.current)},[]),{currentReport:e,isAnalyzing:s,monitoring:n,history:o,rules:m,analyzeProject:v,analyzeContent:y,analyzeRealTime:j,autoFixViolations:N,applyFix:g,getSuggestedFixes:b,generateReport:k,exportReport:w,compareReports:P,startMonitoring:C,stopMonitoring:Z,updateMonitoringConfig:V,addCustomRule:B,updateRule:H,disableRule:U,enableRule:Y,getComplianceHistory:L,getTrends:q,getComplianceRecommendations:F,implementRecommendation:D,syncWithNRDatabase:O,validateAgainstStandards:T,calculateComplianceScore:S,prioritizeViolations:E,estimateFixTime:R}};var c=s(92595),o=s(34029),d=s(41875),m=s(41236),u=s(51098),x=s(88906),h=s(42208),p=s(58896),f=s(96215),v=s(11239);let y=(0,s(79205).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var j=s(89227),g=s(33276),N=s(92735),b=s(82431),k=s(42488),w=s(73247),C=s(41671),Z=s(33245),S=s(25846),A=s(64972),M=s(99397),z=s(70525),E=s(14438);let R=e=>{var a;let{projectId:s="demo-project",className:i=""}=e,{currentReport:l,isAnalyzing:R,monitoring:F,history:I,rules:P,analyzeProject:L,autoFixViolations:q,startMonitoring:D,stopMonitoring:O,exportReport:T,getComplianceRecommendations:V}=n(),[B,H]=(0,r.useState)("overview"),[U,Y]=(0,r.useState)(["critical","high","medium","low"]),[G,W]=(0,r.useState)(""),[_,J]=(0,r.useState)(!1);(0,r.useEffect)(()=>{L({id:s,name:"Treinamento de Seguran\xe7a NR-12",content:{layers:[{id:"bg",type:"image",src:"workplace.jpg"},{id:"text1",type:"text",content:"Seguran\xe7a em M\xe1quinas"}],timeline:{duration:6e4},interactions:[]}})},[s,L]);let Q=(0,r.useCallback)(async()=>{if(l){J(!0);try{let e=l.violations.filter(e=>e.autoFixable),a=await q(e),t=Object.values(a).filter(Boolean).length;E.Am.success("".concat(t," viola\xe7\xf5es corrigidas automaticamente!")),setTimeout(()=>{L({id:s})},1e3)}catch(e){E.Am.error("Erro ao aplicar corre\xe7\xf5es autom\xe1ticas")}finally{J(!1)}}},[l,q,L,s]),X=(0,r.useCallback)(async e=>{try{let a=await T(e),s=URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download="compliance-report.".concat(e),t.click(),URL.revokeObjectURL(s),E.Am.success("Relat\xf3rio exportado em ".concat(e.toUpperCase(),"!"))}catch(e){E.Am.error("Erro ao exportar relat\xf3rio")}},[T]),K=(0,r.useCallback)(()=>{F.isActive?(O(),E.Am.info("Monitoramento pausado")):(D({interval:3e4,autoFix:!1,notifications:!0}),E.Am.success("Monitoramento ativado"))},[F.isActive,D,O]),$=(null==l?void 0:l.violations.filter(e=>{let a=U.includes(e.severity),s=e.message.toLowerCase().includes(G.toLowerCase())||e.suggestedFix.toLowerCase().includes(G.toLowerCase());return a&&s}))||[],ee=e=>e>=90?"text-green-600":e>=70?"text-yellow-600":"text-red-600",ea=e=>{switch(e){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}};return(0,t.jsxs)("div",{className:"space-y-6 ".concat(i),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard de Compliance"}),(0,t.jsx)("p",{className:"text-gray-600",children:"An\xe1lise autom\xe1tica de conformidade e seguran\xe7a"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(d.C,{variant:R?"default":"outline",className:"flex items-center gap-1",children:[R?(0,t.jsx)(b.Z,{className:"w-3 h-3 animate-spin"}):(0,t.jsx)(C.Z,{className:"w-3 h-3"}),R?"Analisando...":"Atualizado"]}),l&&(0,t.jsxs)(d.C,{variant:"outline",children:["\xdaltima an\xe1lise: ",l.timestamp.toLocaleTimeString()]})]})]}),(0,t.jsxs)(u.mQ,{value:B,onValueChange:H,children:[(0,t.jsxs)(u.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(u.SP,{value:"overview",children:"Vis\xe3o Geral"}),(0,t.jsx)(u.SP,{value:"violations",children:"Viola\xe7\xf5es"}),(0,t.jsx)(u.SP,{value:"recommendations",children:"Recomenda\xe7\xf5es"}),(0,t.jsx)(u.SP,{value:"history",children:"Hist\xf3rico"})]}),(0,t.jsx)(u.nU,{value:"overview",className:"mt-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"pb-2",children:(0,t.jsxs)(o.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 text-blue-500"}),"Score Geral"]})}),(0,t.jsxs)(o.aY,{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold ".concat(ee((null==l?void 0:l.overallScore)||0)),children:[(null==l?void 0:l.overallScore)||0,"/100"]}),(0,t.jsx)(m.E,{value:(null==l?void 0:l.overallScore)||0,className:"mt-2"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[(null==l?void 0:l.violations.length)||0," viola\xe7\xf5es encontradas"]})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"pb-2",children:(0,t.jsxs)(o.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"w-4 h-4 text-green-500"}),"Acessibilidade"]})}),(0,t.jsxs)(o.aY,{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold ".concat(ee((null==l?void 0:l.accessibilityScore)||0)),children:[(null==l?void 0:l.accessibilityScore)||0,"/100"]}),(0,t.jsx)(m.E,{value:(null==l?void 0:l.accessibilityScore)||0,className:"mt-2"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Conformidade WCAG 2.1"})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{className:"pb-2",children:(0,t.jsxs)(o.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 text-orange-500"}),"Seguran\xe7a NR"]})}),(0,t.jsxs)(o.aY,{children:[(0,t.jsxs)("div",{className:"text-3xl font-bold ".concat(ee((null==l?void 0:l.safetyScore)||0)),children:[(null==l?void 0:l.safetyScore)||0,"/100"]}),(0,t.jsx)(m.E,{value:(null==l?void 0:l.safetyScore)||0,className:"mt-2"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Normas Regulamentadoras"})]})]})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.Z,{className:"w-5 h-5"}),"Resumo de Viola\xe7\xf5es"]})}),(0,t.jsx)(o.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null==l?void 0:l.summary.critical)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Cr\xedticas"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null==l?void 0:l.summary.high)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Altas"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null==l?void 0:l.summary.medium)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"M\xe9dias"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==l?void 0:l.summary.low)||0}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Baixas"})]})]})})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Z,{className:"w-5 h-5"}),"A\xe7\xf5es R\xe1pidas"]})}),(0,t.jsx)(o.aY,{children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)(c.z,{onClick:Q,disabled:_||!(null==l?void 0:l.violations.some(e=>e.autoFixable)),className:"flex items-center gap-2",children:[(0,t.jsx)(y,{className:"w-4 h-4"}),_?"Corrigindo...":"Corre\xe7\xe3o Autom\xe1tica"]}),(0,t.jsxs)(c.z,{variant:"outline",onClick:K,className:"flex items-center gap-2",children:[F.isActive?(0,t.jsx)(j.Z,{className:"w-4 h-4"}):(0,t.jsx)(g.Z,{className:"w-4 h-4"}),F.isActive?"Pausar":"Iniciar"," Monitoramento"]}),(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>X("json"),className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4"}),"Exportar Relat\xf3rio"]}),(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>L({id:s}),disabled:R,className:"flex items-center gap-2",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 ".concat(R?"animate-spin":"")}),R?"Analisando...":"Re-analisar"]})]})})]}),F.isActive&&(0,t.jsx)(o.Zb,{className:"border-green-200 bg-green-50",children:(0,t.jsx)(o.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 text-green-600 animate-pulse"}),(0,t.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Monitoramento ativo"}),(0,t.jsxs)(d.C,{variant:"outline",className:"text-green-700 border-green-300",children:["\xdaltima verifica\xe7\xe3o: ",(null===(a=F.lastCheck)||void 0===a?void 0:a.toLocaleTimeString())||"Nunca"]})]})})})]})}),(0,t.jsx)(u.nU,{value:"violations",className:"mt-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(o.Zb,{children:(0,t.jsx)(o.aY,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.Z,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar viola\xe7\xf5es...",value:G,onChange:e=>W(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,t.jsx)("div",{className:"flex gap-2",children:["critical","high","medium","low"].map(e=>(0,t.jsx)(c.z,{variant:U.includes(e)?"default":"outline",size:"sm",onClick:()=>{Y(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},className:"capitalize",children:e},e))})]})})}),(0,t.jsx)("div",{className:"space-y-3",children:0===$.length?(0,t.jsx)(o.Zb,{children:(0,t.jsx)(o.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center text-gray-500",children:[(0,t.jsx)(C.Z,{className:"w-12 h-12 mx-auto mb-4 text-green-500"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma viola\xe7\xe3o encontrada!"}),(0,t.jsx)("p",{className:"text-sm",children:(null==l?void 0:l.violations.length)===0?"Parab\xe9ns! Seu projeto est\xe1 em total conformidade.":"Nenhuma viola\xe7\xe3o corresponde aos filtros selecionados."})]})})}):$.map(e=>(0,t.jsx)(o.Zb,{className:"border-l-4",style:{borderLeftColor:ea(e.severity).replace("bg-","#")},children:(0,t.jsxs)(o.aY,{className:"pt-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(d.C,{className:"".concat(ea(e.severity)," text-white"),children:e.severity.toUpperCase()}),e.autoFixable&&(0,t.jsxs)(d.C,{variant:"outline",className:"text-green-600 border-green-300",children:[(0,t.jsx)(y,{className:"w-3 h-3 mr-1"}),"Auto-corrig\xedvel"]})]}),(0,t.jsx)("h4",{className:"font-medium mb-1",children:e.message}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.impact}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.location.elementId&&(0,t.jsxs)("span",{children:["Elemento: ",e.location.elementId]}),e.location.layerId&&(0,t.jsxs)("span",{children:["Layer: ",e.location.layerId]}),e.location.timeframe&&(0,t.jsxs)("span",{children:["Tempo: ",e.location.timeframe.start,"s - ",e.location.timeframe.end,"s"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsxs)(c.z,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(Z.Z,{className:"w-3 h-3"}),"Detalhes"]}),e.autoFixable&&(0,t.jsxs)(c.z,{size:"sm",className:"flex items-center gap-1",children:[(0,t.jsx)(y,{className:"w-3 h-3"}),"Corrigir"]})]})]}),(0,t.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(S.Z,{className:"w-4 h-4 text-blue-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Corre\xe7\xe3o Sugerida:"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:e.suggestedFix})]})]})})]})},e.id))})]})}),(0,t.jsx)(u.nU,{value:"recommendations",className:"mt-6",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(A.Z,{className:"w-5 h-5"}),"Recomenda\xe7\xf5es Inteligentes"]})}),(0,t.jsx)(o.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:null==l?void 0:l.recommendations.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.C,{variant:"high"===e.impact?"default":"outline",children:["Impacto: ",e.impact]}),(0,t.jsxs)(d.C,{variant:"low"===e.effort?"default":"outline",children:["Esfor\xe7o: ",e.effort]})]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-700 mb-3",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Implementa\xe7\xe3o:"})," ",e.implementation]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Benef\xedcio esperado:"})," ",e.expectedBenefit]})]}),(0,t.jsxs)(c.z,{size:"sm",className:"flex items-center gap-1",children:[(0,t.jsx)(M.Z,{className:"w-3 h-3"}),"Implementar"]})]},e.id))})})]})})}),(0,t.jsx)(u.nU,{value:"history",className:"mt-6",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsx)(o.Ol,{children:(0,t.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(z.Z,{className:"w-5 h-5"}),"Hist\xf3rico de Compliance"]})}),(0,t.jsx)(o.aY,{children:(0,t.jsx)("div",{className:"space-y-4",children:I.reports.slice(0,10).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium",children:["Relat\xf3rio #",I.reports.length-a]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.timestamp.toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-lg font-bold ".concat(ee(e.overallScore)),children:[e.overallScore,"/100"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.violations.length," viola\xe7\xf5es"]}),(0,t.jsxs)(c.z,{size:"sm",variant:"outline",children:[(0,t.jsx)(h.Z,{className:"w-3 h-3 mr-1"}),"Ver"]})]})]},e.id))})})]})})})]})]})};var F=s(32660),I=s(99376);let P="force-dynamic";function L(){let e=(0,I.useRouter)();return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(c.z,{variant:"ghost",size:"sm",onClick:()=>e.back(),className:"flex items-center gap-2",children:[(0,t.jsx)(F.Z,{className:"w-4 h-4"}),"Voltar"]}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-lg font-semibold",children:"Sistema de Compliance"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"An\xe1lise autom\xe1tica de conformidade NR"})]})]})})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsx)(R,{projectId:"demo-safety-training",className:"w-full"})})]})}},42488:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},32660:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},64972:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]])},96215:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},41671:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},92735:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},42208:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},33245:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},25846:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},89227:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},33276:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},99397:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},82431:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},73247:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},88906:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},58896:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},70525:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},11239:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(79205).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},99376:function(e,a,s){"use strict";var t=s(35475);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[6137,7479,271,5644,4919,7272,9830,2971,2117,1744],function(){return e(e.s=36536)}),_N_E=e.O()}]);
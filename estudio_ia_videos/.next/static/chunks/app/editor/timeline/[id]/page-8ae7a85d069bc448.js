(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9438],{22620:function(e,t,r){Promise.resolve().then(r.bind(r,74508))},92595:function(e,t,r){"use strict";r.d(t,{d:function(){return l},z:function(){return o}});var a=r(57437),s=r(2265),n=r(90535),i=r(22835);let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:o=!1,...c}=e;return(0,a.jsx)(o?"span":"button",{className:(0,i.cn)(l({variant:s,size:n,className:r})),ref:t,...c})});o.displayName="Button"},34029:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return u},ll:function(){return o}});var a=r(57437),s=r(2265),n=r(22835);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});l.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},81973:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var a=r(57437),s=r(2265),n=r(22835);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},65046:function(e,t,r){"use strict";r.d(t,{i:function(){return l}});var a=r(57437),s=r(2265),n=r(38846),i=r(22835);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(n.fC,{ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",r),...s,children:[(0,a.jsx)(n.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(n.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(n.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});l.displayName=n.fC.displayName},74508:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return er}});var a=r(57437),s=r(2265),n=r(92595),i=r(81973),l=r(65046),o=r(10795),c=r(93662),d=r(59892),u=r(29374),m=r(22106),h=r(53113),p=r(75277),x=r(61094),f=r(66337),g=r(45274),b=r(89227),y=r(33276),v=r(51548),j=r(92735),w=r(98728),N=r(18930),k=r(1740),T=r(99397),S=r(88623),C=r(81706),z=r(49589),M=r(22835),P=r(82679),E=r(17462),R=r(41106),L=r(44725),F=r(85903),I=r(1057),A=r(50081);let D=[{id:"heygen_anna_news",name:"Anna (News Anchor)",type:"video",engine:"heygen",gender:"female",description:"Apresentadora profissional ideal para comunicados oficiais e treinamentos corporativos.",style:"professional",tags:["news","formal","enterprise"],previewUrl:"https://files.heygen.ai/avatar/v3/3f2583200c854a0397f129e60b811467/full/preview_target.webp",metadata:{style:"professional",quality:"high",tags:["news","formal"]},heyGenConfig:{avatarId:"Anna_public_3_20240108"}},{id:"heygen_josh_casual",name:"Josh (Casual)",type:"video",engine:"heygen",gender:"male",description:"Especialista descontra\xeddo, \xf3timo para v\xeddeos educacionais e comunicados internos.",style:"casual",tags:["explainer","friendly"],previewUrl:"https://files.heygen.ai/avatar/v3/4a90e2/full/preview_target.webp",metadata:{style:"casual",quality:"high",tags:["explainer","friendly"]},heyGenConfig:{avatarId:"Josh_public_2_20240108"}},{id:"mh_male_01",name:"Professional Male (UE5)",type:"3d",engine:"ue5",gender:"male",description:"MetaHuman masculino para renders imersivos em ambientes industriais.",style:"professional",tags:["ue5","metahuman"],metadata:{style:"professional",age_range:"30-40",clothing_options:["suit","casual"],expression_presets:["neutral","smile","speak"]}},{id:"mh_female_01",name:"Professional Female (UE5)",type:"3d",engine:"ue5",gender:"female",description:"MetaHuman feminino indicado para aulas t\xe9cnicas e conte\xfados executivos.",style:"professional",tags:["ue5","metahuman"],metadata:{style:"professional",age_range:"25-35",clothing_options:["suit","casual"],expression_presets:["neutral","smile","speak"]}},{id:"local_male_01",name:"Simple Male (2D)",type:"2d",engine:"local",gender:"male",description:"Avatar 2D leve para pr\xe9-visualiza\xe7\xf5es r\xe1pidas e anima\xe7\xf5es simples.",style:"cartoon",tags:["2d","fast-render"],metadata:{style:"cartoon",color:"#4a90e2"}},{id:"local_female_01",name:"Simple Female (2D)",type:"2d",engine:"local",gender:"female",description:"Avatar 2D feminino otimizado para storyboards e prot\xf3tipos.",style:"cartoon",tags:["2d","fast-render"],metadata:{style:"cartoon",color:"#e24a90"}}];class _{getAll(){return D}getById(e){return D.find(t=>t.id===e)}getByEngine(e){return D.filter(t=>t.engine===e)}}let Z=new _;class U{static getAvatar(e){let t=Z.getById(e);if(!t)return;let r=t.metadata;return{...t,modelUrl:r.modelUrl,lipSyncAccuracy:r.lipSyncAccuracy||95,ageRange:r.age_range}}static getLipSyncFrameAtTime(e,t){if(e&&0!==e.length)return e.reduce((e,r)=>Math.abs(r.timestampMs-t)<Math.abs(e.timestampMs-t)?r:e)}static generateFallbackFrames(e){let t=[],r=Math.floor(30*e);for(let e=0;e<r;e++)t.push({timestampMs:e/30*1e3,phoneme:"X",intensity:.5*Math.random()+.2});return t}static applyBlendShapes(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e&&e.morphTargetDictionary&&e.morphTargetInfluences&&(Object.entries({jawOpen:t.jawOpen,mouthClose:t.mouthClose,mouthFunnel:t.mouthFunnel,mouthPucker:t.mouthPucker,mouthLeft:t.mouthLeft,mouthRight:t.mouthRight,mouthRollLower:t.mouthRollLower,tongueOut:t.tongueOut,mouthSmile:t.mouthSmile,mouthShrugUpper:t.mouthShrugUpper}).forEach(t=>{let[r,a]=t;if(void 0!==a){let t=e.morphTargetDictionary[r];void 0!==t&&(e.morphTargetInfluences[t]=a)}}),r&&"neutral"!==r&&U.applyEmotion(e,r,a))}static applyEmotion(e,t,r){let a={happy:{mouthSmileLeft:.7,mouthSmileRight:.7,cheekSquintLeft:.5,cheekSquintRight:.5,eyeSquintLeft:.3,eyeSquintRight:.3},sad:{mouthFrownLeft:.7,mouthFrownRight:.7,browInnerUp:.8,eyeSquintLeft:.2,eyeSquintRight:.2},angry:{browDownLeft:.9,browDownRight:.9,mouthFrownLeft:.5,mouthFrownRight:.5,noseSneerLeft:.7,noseSneerRight:.7},surprised:{browOuterUpLeft:.8,browOuterUpRight:.8,eyeWideLeft:.6,eyeWideRight:.6,jawOpen:.2},fear:{browInnerUp:.8,browOuterUpLeft:.3,browOuterUpRight:.3,eyeWideLeft:.7,eyeWideRight:.7,mouthStretchLeft:.4,mouthStretchRight:.4}}[t];a&&Object.entries(a).forEach(t=>{let[a,s]=t,n=e.morphTargetDictionary[a];if(void 0!==n){let t=e.morphTargetInfluences[n];e.morphTargetInfluences[n]=Math.min(1,t+s*r)}})}}var B=r(69076),O=r(45802),q=r(43391),G=r(34029);function V(e){let{avatar:t,lipSyncFrame:r,isPlaying:n,emotion:i,emotionIntensity:l=1,enableGestures:o=!0}=e,c=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null),[m,h]=(0,s.useState)({breathPhase:0,blinkTimer:0}),p=t.modelUrl,x=null;try{x=(0,R.L)(p,!0).scene}catch(e){console.warn("Modelo 3D n\xe3o encontrado, usando fallback")}return((0,P.D)((e,t)=>{if(c.current){if(!n){m.breathPhase+=1.5*t;let e=.02*Math.sin(m.breathPhase);if(c.current.position.y=e,m.blinkTimer+=t,m.blinkTimer>3+2*Math.random()&&(m.blinkTimer=0,c.current.morphTargetInfluences)){var a,s;let e=null===(a=c.current.morphTargetDictionary)||void 0===a?void 0:a.eyeBlinkLeft,t=null===(s=c.current.morphTargetDictionary)||void 0===s?void 0:s.eyeBlinkRight;void 0!==e&&(c.current.morphTargetInfluences[e]=1,setTimeout(()=>{var t;(null===(t=c.current)||void 0===t?void 0:t.morphTargetInfluences)&&void 0!==e&&(c.current.morphTargetInfluences[e]=0)},150)),void 0!==t&&(c.current.morphTargetInfluences[t]=1,setTimeout(()=>{var e;(null===(e=c.current)||void 0===e?void 0:e.morphTargetInfluences)&&void 0!==t&&(c.current.morphTargetInfluences[t]=0)},150))}h({...m})}if(n&&r){if(U.applyBlendShapes(c.current,r,i,l),d.current){let t=r.intensity||0;d.current.rotation.x=.02*Math.sin(2*e.clock.elapsedTime)*t,d.current.rotation.y=.03*Math.cos(1.5*e.clock.elapsedTime)*t}if(o&&u.current&&i){let t=e.clock.elapsedTime;"happy"===i?(u.current.rotation.y=.05*Math.sin(2*t)*l,u.current.position.y=-.2+.02*Math.abs(Math.sin(4*t))*l,d.current&&(d.current.rotation.z=.05*Math.sin(1.5*t)*l)):"angry"===i?(u.current.rotation.x=.1*l,u.current.rotation.y=.02*Math.sin(8*t)*l):"sad"===i?(u.current.rotation.x=.15*l,u.current.position.y=-.22*l,d.current&&(d.current.rotation.x=.2*l)):"surprised"===i?(u.current.rotation.x=-.1*l,u.current.position.y=-.18*l):"fear"===i&&(u.current.scale.setScalar(1-.05*l),u.current.rotation.y=.03*Math.sin(15*t)*l)}}}}),x)?(0,a.jsx)("primitive",{ref:c,object:x,scale:1.5,position:[0,-1,0]}):(0,a.jsxs)("group",{ref:d,children:[(0,a.jsxs)("mesh",{ref:c,position:[0,.5,0],castShadow:!0,children:[(0,a.jsx)("sphereGeometry",{args:[.3,32,32]}),(0,a.jsx)("meshStandardMaterial",{color:"female"===t.gender?"#f4c2c2":"#d4a574",roughness:.7,metalness:.1})]}),(0,a.jsxs)("mesh",{ref:u,position:[0,-.2,0],castShadow:!0,children:[(0,a.jsx)("cylinderGeometry",{args:[.25,.3,.8,16]}),(0,a.jsx)("meshStandardMaterial",{color:"male"===t.gender?"#2563eb":"#ec4899"})]}),(0,a.jsxs)("mesh",{position:[-.4,-.1,0],rotation:[0,0,.3],castShadow:!0,children:[(0,a.jsx)("cylinderGeometry",{args:[.08,.08,.6,8]}),(0,a.jsx)("meshStandardMaterial",{color:"female"===t.gender?"#f4c2c2":"#d4a574"})]}),(0,a.jsxs)("mesh",{position:[.4,-.1,0],rotation:[0,0,-.3],castShadow:!0,children:[(0,a.jsx)("cylinderGeometry",{args:[.08,.08,.6,8]}),(0,a.jsx)("meshStandardMaterial",{color:"female"===t.gender?"#f4c2c2":"#d4a574"})]}),(0,a.jsxs)("mesh",{position:[-.1,.55,.25],children:[(0,a.jsx)("sphereGeometry",{args:[.04,16,16]}),(0,a.jsx)("meshStandardMaterial",{color:"#1a1a1a"})]}),(0,a.jsxs)("mesh",{position:[.1,.55,.25],children:[(0,a.jsx)("sphereGeometry",{args:[.04,16,16]}),(0,a.jsx)("meshStandardMaterial",{color:"#1a1a1a"})]}),(0,a.jsxs)("mesh",{position:[0,.4,.28],scale:[1,(null==r?void 0:r.intensity)||.1,1],children:[(0,a.jsx)("sphereGeometry",{args:[.06,16,8]}),(0,a.jsx)("meshStandardMaterial",{color:"#8b0000"})]})]})}function K(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("directionalLight",{position:[5,5,5],intensity:1.2,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),(0,a.jsx)("directionalLight",{position:[-3,2,-5],intensity:.5}),(0,a.jsx)("directionalLight",{position:[0,3,-5],intensity:.8}),(0,a.jsx)("ambientLight",{intensity:.4})]})}function W(e){let{avatar:t,lipSyncState:r,cameraControls:n,emotion:i,emotionIntensity:l,enableGestures:o}=e,c=(0,s.useRef)();return(0,s.useEffect)(()=>{c.current&&void 0!==n.zoom&&(c.current.object.zoom=n.zoom,c.current.object.updateProjectionMatrix())},[n]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L.c,{makeDefault:!0,position:[0,.5,3],fov:50}),(0,a.jsx)(F.z,{ref:c,enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:2,maxDistance:10,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/1.5}),(0,a.jsx)(K,{}),(0,a.jsx)(s.Suspense,{fallback:null,children:(0,a.jsx)(V,{avatar:t,lipSyncFrame:r.currentFrame,isPlaying:r.isPlaying,emotion:i,emotionIntensity:l,enableGestures:o})}),(0,a.jsx)(I.j,{position:[0,-1,0],opacity:.5,scale:10,blur:2}),(0,a.jsx)(A.qA,{preset:"city"}),(0,a.jsx)("gridHelper",{args:[10,10,"#666666","#333333"],position:[0,-1,0]})]})}function X(e){let{avatarId:t,text:r="",audioUrl:i="",autoPlay:l=!1,showControls:o=!0,onAnimationComplete:c,className:d="",externalAudio:u=null,emotion:m,emotionIntensity:h,enableGestures:p}=e,[x,f]=(0,s.useState)(null),[g,v]=(0,s.useState)({zoom:1,rotation:0}),[j,w]=(0,s.useState)(!0),{state:N,play:k,pause:T,stop:S}=function(e){let{text:t,audioUrl:r,onComplete:a,onError:n,externalAudio:i}=e,[l,o]=(0,s.useState)({isPlaying:!1,currentTime:0,duration:0,currentFrame:null,progress:0}),c=(0,s.useRef)(null),d=(0,s.useRef)([]),u=(0,s.useRef)(),m=(0,s.useRef)(0);(0,s.useEffect)(()=>{let e;if(!r||!t)return;i?(e=i).duration&&o(t=>({...t,duration:1e3*e.duration})):e=new Audio(r),c.current=e;let s=async()=>{let t=1e3*e.duration;o(e=>({...e,duration:t}));try{let t=U.generateFallbackFrames(e.duration);d.current=t}catch(e){console.error("Error generating lip sync frames:",e),null==n||n(e)}},p=()=>{o(e=>({...e,isPlaying:!1,progress:100})),u.current&&cancelAnimationFrame(u.current),null==a||a()},x=e=>{let t=Error("Erro ao carregar \xe1udio: ".concat(e.type));null==n||n(t)},f=()=>{l.isPlaying||(m.current=performance.now()-1e3*e.currentTime,o(e=>({...e,isPlaying:!0})),u.current=requestAnimationFrame(h))},g=()=>{o(e=>({...e,isPlaying:!1})),u.current&&cancelAnimationFrame(u.current)};return e.addEventListener("loadedmetadata",s),e.addEventListener("ended",p),e.addEventListener("error",x),i&&(e.addEventListener("play",f),e.addEventListener("pause",g),e.readyState>=1&&s()),()=>{e.removeEventListener("loadedmetadata",s),e.removeEventListener("ended",p),e.removeEventListener("error",x),i?(e.removeEventListener("play",f),e.removeEventListener("pause",g)):(e.pause(),e.remove()),u.current&&cancelAnimationFrame(u.current)}},[r,t,a,n,i]);let h=(0,s.useCallback)(()=>{if(!c.current||!l.isPlaying)return;performance.now(),m.current;let e=1e3*c.current.currentTime,t=U.getLipSyncFrameAtTime(d.current,e);t&&o(r=>({...r,currentTime:e,currentFrame:t,progress:e/r.duration*100})),u.current=requestAnimationFrame(h)},[l.isPlaying]),p=(0,s.useCallback)(async()=>{if(c.current)try{await c.current.play(),m.current=performance.now()-1e3*c.current.currentTime,o(e=>({...e,isPlaying:!0})),u.current=requestAnimationFrame(h)}catch(e){null==n||n(e)}},[h,n]);return{state:l,play:p,pause:(0,s.useCallback)(()=>{c.current&&(c.current.pause(),o(e=>({...e,isPlaying:!1})),u.current&&cancelAnimationFrame(u.current))},[]),stop:(0,s.useCallback)(()=>{c.current&&(c.current.pause(),c.current.currentTime=0,o(e=>({...e,isPlaying:!1,currentTime:0,currentFrame:null,progress:0})),u.current&&cancelAnimationFrame(u.current))},[]),seek:(0,s.useCallback)(e=>{c.current&&(c.current.currentTime=e/1e3,o(t=>({...t,currentTime:e})))},[]),frames:d.current}}({text:r,audioUrl:i,onComplete:c,onError:e=>console.error("Erro no lip sync:",e),externalAudio:u});return((0,s.useEffect)(()=>{let e=U.getAvatar(t);e?f(e):console.error("Avatar n\xe3o encontrado:",t),w(!1)},[t]),(0,s.useEffect)(()=>{l&&i&&!j&&!u&&k()},[l,i,j,k,u]),j)?(0,a.jsx)("div",{className:"flex items-center justify-center h-full ".concat(d),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Carregando avatar 3D..."})]})}):x?(0,a.jsxs)("div",{className:"relative w-full h-full ".concat(d),children:[(0,a.jsx)("div",{className:"w-full h-full bg-gradient-to-b from-gray-50 to-gray-100 rounded-lg overflow-hidden",children:(0,a.jsx)(E.Xz,{shadows:!0,gl:{antialias:!0,alpha:!0},dpr:[1,2],children:(0,a.jsx)(W,{avatar:x,lipSyncState:N,cameraControls:g,emotion:m,emotionIntensity:h,enableGestures:p})})}),o&&(0,a.jsx)(G.Zb,{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 p-3 bg-white/90 backdrop-blur-sm shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.z,{size:"sm",variant:N.isPlaying?"secondary":"default",onClick:N.isPlaying?T:k,disabled:!i,children:N.isPlaying?(0,a.jsx)(b.Z,{className:"w-4 h-4"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"})}),(0,a.jsx)(n.z,{size:"sm",variant:"outline",onClick:()=>{v({zoom:1,rotation:0}),S()},children:(0,a.jsx)(B.Z,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 border-l pl-3",children:[(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:()=>{v(e=>({...e,zoom:Math.max(e.zoom-.2,.5)}))},children:(0,a.jsx)(O.Z,{className:"w-4 h-4"})}),(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:()=>{v(e=>({...e,zoom:Math.min(e.zoom+.2,3)}))},children:(0,a.jsx)(q.Z,{className:"w-4 h-4"})})]}),N.duration>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 border-l pl-3 min-w-[120px]",children:[(0,a.jsx)("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-100",style:{width:"".concat(N.progress,"%")}})}),(0,a.jsxs)("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:[Math.round(N.progress),"%"]})]})]})}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:x.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["Lip Sync: ",x.lipSyncAccuracy,"% • ",x.ageRange," anos"]}),N.currentFrame&&(0,a.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["Phoneme: ",N.currentFrame.phoneme]})]}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg text-xs text-gray-600 max-w-[200px]",children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:"Controles:"}),(0,a.jsx)("p",{children:"• Bot\xe3o direito: Rotacionar"}),(0,a.jsx)("p",{children:"• Scroll: Zoom"}),(0,a.jsx)("p",{children:"• Arrastar: Mover c\xe2mera"})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full ".concat(d),children:(0,a.jsx)("div",{className:"text-center text-red-600",children:(0,a.jsx)("p",{children:"Avatar n\xe3o encontrado"})})})}function H(e){let{currentTime:t,tracks:r,isPlaying:s,className:n}=e,i=(()=>{let e=[];return r.forEach(r=>{if(!r.visible)return;let a=r.clips.find(e=>t>=e.startTime&&t<e.startTime+e.duration);a&&e.push({track:r,clip:a})}),e})();return(0,a.jsxs)("div",{className:(0,M.cn)("relative w-full h-full bg-black overflow-hidden",n),children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500 z-0",children:0===i.length&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{children:"Sem conte\xfado"})})}),i.map((e,r)=>{let{track:n,clip:i}=e,l=t-i.startTime;return(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",style:{zIndex:r+1},children:(0,a.jsx)(J,{type:n.type,content:i.content,time:l,isPlaying:s})},"".concat(n.id,"-").concat(i.id))}),(0,a.jsxs)("div",{className:"absolute bottom-4 right-4 z-50 text-white text-xs bg-black/50 px-2 py-1 rounded",children:[i.length," camadas ativas"]})]})}function J(e){let{type:t,content:r,time:n,isPlaying:i}=e,l=(0,s.useRef)(null),o=(0,s.useRef)(null),[c,d]=(0,s.useState)(null);switch((0,s.useEffect)(()=>{let e=l.current||o.current;!e||(Math.abs(e.currentTime-n)>.5&&(e.currentTime=n),i&&e.paused?e.play().catch(()=>{}):i||e.paused||e.pause())},[n,i]),t){case"video":case"avatar":let u="string"==typeof r?r:(null==r?void 0:r.url)||(null==r?void 0:r.audioUrl);if(u&&/\.(mp4|webm|mov)$/i.test(u))return(0,a.jsx)("video",{ref:l,src:u,className:"w-full h-full object-contain",playsInline:!0,muted:"avatar"!==t});if(u&&/\.(mp3|wav|ogg)$/i.test(u)&&"avatar"===t)return(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,a.jsx)("audio",{ref:e=>{o.current=e,e!==c&&d(e)},src:u}),c&&(0,a.jsx)(X,{avatarId:(null==r?void 0:r.avatarId)||"sarah_executive",text:(null==r?void 0:r.text)||"",audioUrl:u,autoPlay:!1,showControls:!1,externalAudio:c,className:"w-full h-full"}),!c&&(0,a.jsx)("div",{className:"animate-pulse flex flex-col items-center",children:(0,a.jsx)("span",{className:"text-white text-sm",children:"Carregando Avatar 3D..."})})]});if("avatar"===t)return(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[(0,a.jsx)("img",{src:(null==r?void 0:r.thumbnail)||"/avatars/avatar-placeholder.png",alt:"Avatar",className:"h-[80%] object-contain drop-shadow-xl"}),(0,a.jsxs)("div",{className:"absolute bottom-10 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:["Avatar Idle: ",n.toFixed(1),"s"]})]});return(0,a.jsx)("div",{className:"text-white bg-blue-500/50 p-4",children:"V\xeddeo sem fonte"});case"image":return(0,a.jsx)("img",{src:(null==r?void 0:r.url)||r,alt:"Clip",className:"w-full h-full object-contain"});case"text":return(0,a.jsx)("div",{className:"text-white text-4xl font-bold drop-shadow-md",style:null==r?void 0:r.style,children:(null==r?void 0:r.text)||r||"Texto"});case"shape":return(0,a.jsx)("div",{className:"bg-red-500",style:{width:"100px",height:"100px",...null==r?void 0:r.style}});default:return null}}let Y=[{id:"elem-1",type:"video",name:"Intro Video",startTime:0,duration:10,content:"intro.mp4",properties:{volume:1,opacity:1},keyframes:[],locked:!1,visible:!0},{id:"elem-2",type:"audio",name:"Background Music",startTime:0,duration:30,content:"music.mp3",properties:{volume:.3},keyframes:[],locked:!1,visible:!0},{id:"elem-3",type:"text",name:"Title Text",startTime:2,duration:5,content:"T\xedtulo do V\xeddeo",properties:{x:100,y:50,fontSize:48,color:"#ffffff",fontFamily:"Arial"},keyframes:[],locked:!1,visible:!0}],$={id:"project-1",name:"Projeto de Demonstra\xe7\xe3o",duration:60,fps:30,resolution:{width:1920,height:1080},tracks:[{id:"track-1",name:"V\xeddeo Principal",type:"video",elements:[Y[0],Y[2]],height:80,color:"#3B82F6",muted:!1,locked:!1,visible:!0,volume:1,collapsed:!1},{id:"track-2",name:"\xc1udio e M\xfasica",type:"audio",elements:[Y[1]],height:60,color:"#10B981",muted:!1,locked:!1,visible:!0,volume:1,collapsed:!1}],currentTime:0,zoom:1,isPlaying:!1,volume:1,muted:!1};function Q(e){let{element:t,track:r,pixelsPerSecond:n,onSelect:i,onEdit:l,onDelete:o,isSelected:g,onDurationChange:b}=e,[y,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),{attributes:N,listeners:k,setNodeRef:T,transform:S,transition:C}=(0,c.nB)({id:t.id,disabled:t.locked||r.locked}),z={transform:d.ux.Transform.toString(S),transition:C,left:t.startTime*n,width:Math.max(t.duration*n,40),opacity:j?.5:1},M=(e,r)=>{e.stopPropagation(),v(!0);let a=e.clientX,s=t.duration*n,i=t.startTime*n,o=e=>{let o=e.clientX-a;if("right"===r)null==b||b(t.id,Math.max(40,s+o)/n);else if("left"===r){let e=Math.max(0,i+o)/n,r=t.duration+(t.startTime-e);r>.1&&l({...t,startTime:e,duration:r})}},c=()=>{v(!1),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)};return(0,a.jsxs)("div",{ref:T,...N,...k,className:"\n        absolute top-1 h-[calc(100%-8px)] \n        rounded cursor-move select-none\n        flex items-center px-2 gap-1\n        text-xs font-medium text-white\n        border-2 transition-all\n        ".concat(g?"border-yellow-400 shadow-lg ring-2 ring-yellow-400/20":"border-transparent","\n        ").concat(t.visible?"opacity-100":"opacity-50","\n        ").concat(t.locked||r.locked?"cursor-not-allowed opacity-60":"cursor-move","\n        ").concat(y?"cursor-ew-resize":"","\n        hover:shadow-md\n        group\n      "),style:{...z,backgroundColor:r.color,backgroundImage:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.1) 50%, transparent 50%, transparent 75%, rgba(255,255,255,0.1) 75%)",backgroundSize:"8px 8px"},onClick:e=>{e.stopPropagation(),i(t.id,e.ctrlKey||e.metaKey)},onDoubleClick:e=>{e.stopPropagation(),l(t)},children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[(e=>{switch(e){case"video":return(0,a.jsx)(u.Z,{className:"w-3 h-3"});case"audio":return(0,a.jsx)(m.Z,{className:"w-3 h-3"});case"image":return(0,a.jsx)(h.Z,{className:"w-3 h-3"});case"text":return(0,a.jsx)(p.Z,{className:"w-3 h-3"});default:return(0,a.jsx)(x.Z,{className:"w-3 h-3"})}})(t.type),(0,a.jsx)("span",{className:"truncate",children:t.name}),t.locked&&(0,a.jsx)(f.Z,{className:"w-3 h-3 flex-shrink-0"})]}),(0,a.jsxs)("span",{className:"text-xs opacity-70 flex-shrink-0",children:[t.duration.toFixed(1),"s"]}),!t.locked&&!r.locked&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute left-0 top-0 w-2 h-full cursor-w-resize opacity-0 group-hover:opacity-100 bg-white/20 transition-opacity",onMouseDown:e=>M(e,"left")}),(0,a.jsx)("div",{className:"absolute right-0 top-0 w-2 h-full cursor-e-resize opacity-0 group-hover:opacity-100 bg-white/20 transition-opacity",onMouseDown:e=>M(e,"right")})]}),t.keyframes&&t.keyframes.length>0&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-yellow-400"})]})}function ee(){let[e,t]=(0,s.useState)($),[r,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),[x,M]=(0,s.useState)(!0),[P,E]=(0,s.useState)(!0),R=(0,s.useRef)(null),L=60*e.zoom,F=e.duration*L,I=x?.5:.1,A=(0,s.useCallback)(e=>x?Math.round(e/I)*I:e,[x,I]),D=(0,s.useCallback)(()=>{e.isPlaying?(h&&(clearInterval(h),p(null)),t(e=>({...e,isPlaying:!1}))):(p(setInterval(()=>{t(e=>{let t=e.currentTime+1/e.fps;return t>=e.duration?{...e,currentTime:0,isPlaying:!1}:{...e,currentTime:t}})},1e3/e.fps)),t(e=>({...e,isPlaying:!0})))},[e.isPlaying,h,e.fps]),_=(0,s.useCallback)(r=>{let a=A(Math.max(0,Math.min(r,e.duration)));t(e=>({...e,currentTime:a}))},[A,e.duration]),Z=(0,s.useCallback)(()=>{_(Math.max(0,e.currentTime-5))},[e.currentTime,_]),U=(0,s.useCallback)(()=>{_(Math.min(e.duration,e.currentTime+5))},[e.currentTime,e.duration,_]),B=(0,s.useCallback)(e=>{let r={id:"track-".concat(Date.now()),name:"Nova Track ".concat(e.charAt(0).toUpperCase()+e.slice(1)),type:e,elements:[],height:"audio"===e?60:80,color:"video"===e?"#3B82F6":"audio"===e?"#10B981":"#8B5CF6",muted:!1,locked:!1,visible:!0,volume:1,collapsed:!1};t(e=>({...e,tracks:[...e.tracks,r]}))},[]),O=(0,s.useCallback)(e=>{t(t=>({...t,tracks:t.tracks.map(t=>t.id===e.id?e:t)}))},[]);(0,s.useCallback)(e=>{t(t=>({...t,tracks:t.tracks.filter(t=>t.id!==e)}))},[]),(0,s.useCallback)((r,a)=>{let s={id:"element-".concat(Date.now()),type:a,name:"Novo ".concat(a),startTime:A(e.currentTime),duration:5,content:"text"===a?"Novo texto":null,properties:{volume:1,opacity:1,x:0,y:0,width:200,height:100,rotation:0,scale:1,color:"#ffffff",fontSize:24,fontFamily:"Arial"},keyframes:[],locked:!1,visible:!0};t(e=>({...e,tracks:e.tracks.map(e=>e.id===r?{...e,elements:[...e.elements,s]}:e)}))},[e.currentTime,A]);let q=(0,s.useCallback)(e=>{t(t=>({...t,tracks:t.tracks.map(t=>({...t,elements:t.elements.map(t=>t.id===e.id?e:t)}))}))},[]),G=(0,s.useCallback)((e,r)=>{t(t=>({...t,tracks:t.tracks.map(t=>({...t,elements:t.elements.map(t=>t.id===e?{...t,duration:Math.max(.1,r)}:t)}))}))},[]),V=(0,s.useCallback)(e=>{t(t=>({...t,tracks:t.tracks.map(t=>({...t,elements:t.elements.filter(t=>t.id!==e)}))})),d(t=>t.filter(t=>t!==e))},[]),K=(0,s.useCallback)(r=>{let a=e.tracks.flatMap(e=>e.elements).find(e=>e.id===r);if(!a)return;let s=e.tracks.find(e=>e.elements.some(e=>e.id===r));if(!s)return;let n={...a,id:"element-".concat(Date.now()),name:"".concat(a.name," (c\xf3pia)"),startTime:A(a.startTime+a.duration)};t(e=>({...e,tracks:e.tracks.map(e=>e.id===s.id?{...e,elements:[...e.elements,n]}:e)}))},[e.tracks,A]),W=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?d(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]):d([e])},[]),X=(0,s.useCallback)(()=>{d([])},[]),J=(0,s.useCallback)(t=>{let r=t.active.id;m(e.tracks.flatMap(e=>e.elements).find(e=>e.id===r)||null)},[e.tracks]),Y=(0,s.useCallback)(e=>{let{active:r,over:a}=e;if(!a||!u){m(null);return}let s=r.id,n=a.id;t(e=>{let t=e.tracks.find(e=>e.elements.some(e=>e.id===s)),r=e.tracks.find(e=>e.id===n);if(!t||!r||t.id===r.id)return e;let a=t.elements.find(e=>e.id===s);return a?{...e,tracks:e.tracks.map(e=>e.id===t.id?{...e,elements:e.elements.filter(e=>e.id!==s)}:e.id===r.id?{...e,elements:[...e.elements,a]}:e)}:e}),m(null)},[u]),ee=(0,s.useCallback)(()=>{let t=new Blob([JSON.stringify({project:e,exportedAt:new Date().toISOString(),version:"1.0"},null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="".concat(e.name.toLowerCase().replace(/\s+/g,"-"),".json"),a.click(),URL.revokeObjectURL(r)},[e]);(0,s.useEffect)(()=>{let t=t=>{var a;(null===(a=t.target)||void 0===a?void 0:a.tagName)!=="INPUT"&&("Space"===t.code?(t.preventDefault(),D()):"Delete"===t.code&&r.length>0?r.forEach(V):t.ctrlKey&&"KeyD"===t.code&&r.length>0?(t.preventDefault(),r.forEach(K)):t.ctrlKey&&"KeyA"===t.code?(t.preventDefault(),d(e.tracks.flatMap(e=>e.elements.map(e=>e.id)))):"Escape"===t.code&&X())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[D,r,V,K,e.tracks,X]);let et=(0,s.useCallback)(e=>{if(!R.current)return;let t=R.current.getBoundingClientRect();_((e.clientX-t.left)/L),e.ctrlKey||e.metaKey||X()},[L,_,X]),er=1===r.length?e.tracks.flatMap(e=>e.elements).find(e=>e.id===r[0]):null,ea=(0,s.useCallback)(()=>e.tracks.map(e=>({id:e.id,name:e.name,type:"video"===e.type?"video":"audio"===e.type?"audio":"text",color:e.color,visible:e.visible,locked:e.locked,clips:e.elements.map(e=>({id:e.id,name:e.name,startTime:e.startTime,duration:e.duration,content:e.content,effects:[]}))})),[e.tracks]);return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white overflow-hidden",children:(0,a.jsx)(o.LB,{onDragStart:J,onDragEnd:Y,children:(0,a.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,a.jsx)("div",{className:"bg-gray-900 border-b border-gray-800 p-2 shrink-0 z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"\uD83C\uDFAC Timeline Pro"})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-x-2 hidden md:block",children:[(0,a.jsxs)("span",{children:[e.resolution.width,"x",e.resolution.height]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[e.fps,"fps"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-800 rounded-md p-1 border border-gray-700",children:[(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:Z,className:"h-8 w-8 p-0",children:(0,a.jsx)(g.Z,{className:"w-4 h-4"})}),(0,a.jsx)(n.z,{size:"sm",onClick:D,className:"h-8 w-8 p-0 ".concat(e.isPlaying?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:e.isPlaying?(0,a.jsx)(b.Z,{className:"w-4 h-4"}):(0,a.jsx)(y.Z,{className:"w-4 h-4"})}),(0,a.jsx)(n.z,{size:"sm",variant:"ghost",onClick:U,className:"h-8 w-8 p-0",children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"text-sm text-blue-400 font-mono bg-black/50 px-3 py-1.5 rounded border border-gray-800 min-w-[100px] text-center",children:[Math.floor(e.currentTime/60),":",(e.currentTime%60).toFixed(1).padStart(4,"0")]}),(0,a.jsx)("div",{className:"h-6 w-px bg-gray-700 mx-2"}),(0,a.jsxs)(n.z,{size:"sm",variant:"outline",onClick:ee,className:"h-8 text-xs border-gray-700 hover:bg-gray-800",children:[(0,a.jsx)(j.Z,{className:"w-3 h-3 mr-2"}),"Exportar"]})]})]})}),(0,a.jsxs)("div",{className:"flex-1 flex min-h-0 bg-black/50",children:[(0,a.jsx)("div",{className:"flex-1 relative bg-black flex items-center justify-center p-4 border-r border-gray-800",children:(0,a.jsxs)("div",{className:"aspect-video w-full max-h-full bg-gray-900 rounded-lg overflow-hidden shadow-2xl border border-gray-800 relative",children:[(0,a.jsx)(H,{currentTime:e.currentTime,tracks:ea(),isPlaying:e.isPlaying}),(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-20 border-[40px] border-transparent",children:(0,a.jsx)("div",{className:"w-full h-full border border-white/50 border-dashed"})})]})}),P&&(0,a.jsxs)("div",{className:"w-80 bg-gray-900 border-l border-gray-800 flex flex-col overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-800",children:(0,a.jsxs)("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 text-blue-400"}),"Propriedades"]})}),er?(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Geral"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Nome"}),(0,a.jsx)(i.I,{value:er.name,onChange:e=>q({...er,name:e.target.value}),className:"h-8 bg-gray-800 border-gray-700"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"In\xedcio"}),(0,a.jsx)(i.I,{type:"number",value:er.startTime.toFixed(1),onChange:e=>q({...er,startTime:parseFloat(e.target.value)}),className:"h-8 bg-gray-800 border-gray-700",step:"0.1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Dura\xe7\xe3o"}),(0,a.jsx)(i.I,{type:"number",value:er.duration.toFixed(1),onChange:e=>q({...er,duration:parseFloat(e.target.value)}),className:"h-8 bg-gray-800 border-gray-700",step:"0.1"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Transforma\xe7\xe3o"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Posi\xe7\xe3o X"}),(0,a.jsx)(i.I,{type:"number",className:"h-8 bg-gray-800 border-gray-700",defaultValue:0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Posi\xe7\xe3o Y"}),(0,a.jsx)(i.I,{type:"number",className:"h-8 bg-gray-800 border-gray-700",defaultValue:0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Escala"}),(0,a.jsx)(i.I,{type:"number",className:"h-8 bg-gray-800 border-gray-700",defaultValue:100})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-xs text-gray-400 block mb-1",children:"Rota\xe7\xe3o"}),(0,a.jsx)(i.I,{type:"number",className:"h-8 bg-gray-800 border-gray-700",defaultValue:0})]})]})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-800",children:(0,a.jsxs)(n.z,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>r.forEach(V),children:[(0,a.jsx)(N.Z,{className:"w-3 h-3 mr-2"}),"Remover Elemento"]})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-60 text-gray-600 p-4 text-center",children:[(0,a.jsx)(k.Z,{className:"w-10 h-10 mb-3 opacity-20"}),(0,a.jsx)("p",{className:"text-sm",children:"Selecione um clipe na timeline para editar suas propriedades"})]})]})]}),(0,a.jsxs)("div",{className:"h-[40vh] flex flex-col border-t border-gray-800 bg-gray-900 shrink-0 shadow-[0_-4px_20px_rgba(0,0,0,0.5)] z-40",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-800 border-b border-gray-700 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.z,{size:"sm",variant:"ghost",onClick:()=>B("video"),className:"h-7 px-2 hover:bg-blue-900/30 hover:text-blue-400",children:[(0,a.jsx)(T.Z,{className:"w-3 h-3 mr-1"})," Track de V\xeddeo"]}),(0,a.jsxs)(n.z,{size:"sm",variant:"ghost",onClick:()=>B("audio"),className:"h-7 px-2 hover:bg-green-900/30 hover:text-green-400",children:[(0,a.jsx)(T.Z,{className:"w-3 h-3 mr-1"})," Track de \xc1udio"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Zoom"}),(0,a.jsx)(l.i,{value:[100*e.zoom],min:10,max:300,onValueChange:e=>{let[r]=e;return t(e=>({...e,zoom:r/100}))},className:"w-24"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar relative",children:(0,a.jsxs)("div",{className:"flex min-w-full min-h-full relative",children:[(0,a.jsx)("div",{className:"w-60 shrink-0 bg-gray-900 border-r border-gray-800 sticky left-0 z-20 shadow-lg",children:e.tracks.map(e=>(0,a.jsxs)("div",{style:{height:e.collapsed?40:e.height},className:"border-b border-gray-800 p-2 flex flex-col justify-center relative group",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-xs truncate text-gray-300 w-32",title:e.name,children:e.name}),(0,a.jsxs)("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(n.z,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>O({...e,muted:!e.muted}),children:e.muted?(0,a.jsx)(S.Z,{className:"w-3 h-3 text-red-400"}):(0,a.jsx)(C.Z,{className:"w-3 h-3 text-gray-400"})}),(0,a.jsx)(n.z,{variant:"ghost",size:"icon",className:"h-5 w-5",onClick:()=>O({...e,locked:!e.locked}),children:e.locked?(0,a.jsx)(f.Z,{className:"w-3 h-3 text-red-400"}):(0,a.jsx)(z.Z,{className:"w-3 h-3 text-gray-400"})})]})]}),(0,a.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1",style:{backgroundColor:e.color}})]},e.id))}),(0,a.jsx)("div",{className:"flex-1 relative bg-gray-900/50 overflow-x-auto",ref:R,onClick:et,children:(0,a.jsxs)("div",{style:{width:F,minWidth:"100%"},className:"relative h-full",children:[(0,a.jsx)("div",{className:"h-6 border-b border-gray-700 bg-gray-900 sticky top-0 z-10 flex items-end text-[10px] text-gray-500 select-none",children:Array.from({length:Math.ceil(e.duration)}).map((e,t)=>(0,a.jsx)("div",{className:"absolute bottom-0 border-l border-gray-600 pl-1",style:{left:t*L},children:t%5==0?"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0")):"|"},t))}),(0,a.jsx)("div",{className:"absolute top-0 bottom-0 w-px bg-red-500 z-30 pointer-events-none",style:{left:e.currentTime*L},children:(0,a.jsx)("div",{className:"w-3 h-3 bg-red-500 -ml-1.5 rounded-full shadow-sm"})}),e.tracks.map(e=>(0,a.jsxs)("div",{style:{height:e.collapsed?40:e.height},className:"border-b border-gray-800 relative group",children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"linear-gradient(90deg, #333 1px, transparent 1px)",backgroundSize:"".concat(L,"px 100%")}}),(0,a.jsx)(c.Fo,{items:e.elements.map(e=>e.id),strategy:c.qw,children:e.elements.map(t=>(0,a.jsx)(Q,{element:t,track:e,pixelsPerSecond:L,onSelect:W,onEdit:()=>{},onDelete:V,onDurationChange:G,isSelected:r.includes(t.id)},t.id))})]},e.id))]})})]})})]})]})})})}var et=r(99376);function er(){let e=(0,et.useParams)();return null==e||e.id,(0,a.jsx)("div",{className:"w-full h-screen overflow-hidden bg-background",children:(0,a.jsx)(ee,{})})}},22835:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(61994),s=r(53335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[6689,7074,6137,7479,8846,3471,3523,2971,2117,1744],function(){return e(e.s=22620)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{24036:function(e,s,a){Promise.resolve().then(a.bind(a,65215))},62060:function(e,s,a){"use strict";a.d(s,{Cd:function(){return d},X:function(){return o},bZ:function(){return c}});var t=a(57437),l=a(2265),i=a(90535),r=a(22835);let n=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=l.forwardRef((e,s)=>{let{className:a,variant:l,...i}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,r.cn)(n({variant:l}),a),...i})});c.displayName="Alert";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})});d.displayName="AlertTitle";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",a),...l})});o.displayName="AlertDescription"},95523:function(e,s,a){"use strict";a.d(s,{X:function(){return c}});var t=a(57437),l=a(2265),i=a(9270),r=a(30401),n=a(22835);let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.fC,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,t.jsx)(i.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})})})});c.displayName=i.fC.displayName},3805:function(e,s,a){"use strict";a.d(s,{$N:function(){return j},Be:function(){return p},Vq:function(){return c},cN:function(){return u},cZ:function(){return x},fK:function(){return h},hg:function(){return d}});var t=a(57437),l=a(2265),i=a(39537),r=a(32489),n=a(22835);let c=i.fC,d=i.xz,o=i.h_;i.x8;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.aV,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=i.aV.displayName;let x=l.forwardRef((e,s)=>{let{className:a,children:l,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(i.VY,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[l,(0,t.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=i.VY.displayName;let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};h.displayName="DialogHeader";let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};u.displayName="DialogFooter";let j=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.Dx,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});j.displayName=i.Dx.displayName;let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.dk,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})});p.displayName=i.dk.displayName},2351:function(e,s,a){"use strict";a.d(s,{$F:function(){return m},AW:function(){return x},Ju:function(){return u},VD:function(){return j},Xi:function(){return h},h_:function(){return o}});var t=a(57437),l=a(2265),i=a(70085),r=a(10407),n=a(30401),c=a(40519),d=a(22835);let o=i.fC,m=i.xz;i.ZA,i.Uv,i.Tr,i.Ee,l.forwardRef((e,s)=>{let{className:a,inset:l,children:n,...c}=e;return(0,t.jsxs)(i.fF,{ref:s,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",l&&"pl-8",a),...c,children:[n,(0,t.jsx)(r.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=i.fF.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.tu,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=i.tu.displayName;let x=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(i.Uv,{children:(0,t.jsx)(i.VY,{ref:s,sideOffset:l,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});x.displayName=i.VY.displayName;let h=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(i.ck,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...r})});h.displayName=i.ck.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,checked:r,...c}=e;return(0,t.jsxs)(i.oC,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...c,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.wU,{children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})}),l]})}).displayName=i.oC.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(i.Rk,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.wU,{children:(0,t.jsx)(c.Z,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=i.Rk.displayName;let u=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(i.__,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...r})});u.displayName=i.__.displayName;let j=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});j.displayName=i.Z0.displayName},46393:function(e,s,a){"use strict";a.d(s,{_:function(){return d}});var t=a(57437),l=a(2265),i=a(6394),r=a(90535),n=a(22835);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(i.f,{ref:s,className:(0,n.cn)(c(),a),...l})});d.displayName=i.f.displayName},41236:function(e,s,a){"use strict";a.d(s,{E:function(){return r}});var t=a(57437),l=a(2265),i=a(22835);let r=l.forwardRef((e,s)=>{let{className:a,value:l,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...r,children:(0,t.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});r.displayName="Progress"},65046:function(e,s,a){"use strict";a.d(s,{i:function(){return n}});var t=a(57437),l=a(2265),i=a(38846),r=a(22835);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(i.fC,{ref:s,className:(0,r.cn)("relative flex w-full touch-none select-none items-center",a),...l,children:[(0,t.jsx)(i.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,t.jsx)(i.e6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(i.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});n.displayName=i.fC.displayName},49665:function(e,s,a){"use strict";a.d(s,{g:function(){return r}});var t=a(57437),l=a(2265),i=a(22835);let r=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});r.displayName="Textarea"},65215:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return eu}});var t=a(57437),l=a(2265),i=a(34029),r=a(92595),n=a(81973),c=a(51098),d=a(99397),o=a(17689),m=a(73247),x=a(90740),h=a(41473),u=a(7586),j=a(88997),p=a(86595),g=a(72284),f=a(41875),v=a(42208),N=a(91723),b=a(95805),y=a(92735),w=a(67782),C=a(78867),R=a(15868),S=a(18930),Z=a(33276),k=a(2351),z=a(22835);function T(e){let{template:s,viewMode:a,onSelect:l,onPreview:n,onFavorite:c,onDuplicate:d,onEdit:o,onDelete:m,onExport:x,isFavorite:h=!1,isSelected:u=!1,showActions:g=!0}=e,T=()=>{null==l||l(s)},I=e=>{e.stopPropagation(),null==n||n(s)},A=e=>{e.stopPropagation(),null==c||c(s.id)},F=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=e=>{switch(e){case"beginner":return"B\xe1sico";case"intermediate":return"Intermedi\xe1rio";case"advanced":return"Avan\xe7ado";default:return e}};return"list"===a?(0,t.jsx)(i.Zb,{className:(0,z.cn)("cursor-pointer transition-all duration-200 hover:shadow-md",u&&"ring-2 ring-blue-500"),onClick:T,children:(0,t.jsx)(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative w-20 h-20 flex-shrink-0",children:[(0,t.jsx)("img",{src:s.thumbnail,alt:s.name,className:"w-full h-full object-cover rounded-lg",onError:e=>{e.target.src="https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=".concat(encodeURIComponent("safety training "+s.category),"&image_size=square")}}),(0,t.jsx)(r.z,{size:"sm",variant:"secondary",className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity bg-black/50 text-white border-0",onClick:I,children:(0,t.jsx)(v.Z,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg truncate",children:s.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:s.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4"}),s.metadata.estimatedDuration,"min"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4"}),s.metadata.targetAudience.length," p\xfablicos"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4"}),s.downloads]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4"}),s.rating.toFixed(1)]})]})]}),g&&(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)(r.z,{size:"sm",variant:"ghost",onClick:A,className:(0,z.cn)("p-2",h&&"text-red-500"),children:(0,t.jsx)(j.Z,{className:(0,z.cn)("h-4 w-4",h&&"fill-current")})}),(0,t.jsxs)(k.h_,{children:[(0,t.jsx)(k.$F,{asChild:!0,children:(0,t.jsx)(r.z,{size:"sm",variant:"ghost",className:"p-2",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(k.AW,{align:"end",children:[(0,t.jsxs)(k.Xi,{onClick:()=>null==n?void 0:n(s),children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,t.jsxs)(k.Xi,{onClick:()=>null==d?void 0:d(s),children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),(0,t.jsxs)(k.Xi,{onClick:()=>null==o?void 0:o(s),children:[(0,t.jsx)(R.Z,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,t.jsxs)(k.Xi,{onClick:()=>null==x?void 0:x(s),children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Exportar"]}),(0,t.jsx)(k.VD,{}),(0,t.jsxs)(k.Xi,{onClick:()=>null==m?void 0:m(s.id),className:"text-red-600",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[(0,t.jsx)(f.C,{variant:"outline",children:s.category}),(0,t.jsx)(f.C,{className:F(s.metadata.difficulty),children:P(s.metadata.difficulty)})]})]})})}):(0,t.jsxs)(i.Zb,{className:(0,z.cn)("cursor-pointer transition-all duration-200 hover:shadow-lg group",u&&"ring-2 ring-blue-500"),onClick:T,children:[(0,t.jsx)(i.Ol,{className:"p-0",children:(0,t.jsxs)("div",{className:"relative aspect-video overflow-hidden rounded-t-lg",children:[(0,t.jsx)("img",{src:s.thumbnail,alt:s.name,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",onError:e=>{e.target.src="https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=".concat(encodeURIComponent("safety training "+s.category),"&image_size=landscape_16_9")}}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,t.jsxs)(r.z,{size:"sm",variant:"secondary",onClick:I,className:"bg-white/90 text-black hover:bg-white",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mr-1"}),"Preview"]}),(0,t.jsxs)(r.z,{size:"sm",variant:"secondary",onClick:T,className:"bg-blue-600 text-white hover:bg-blue-700",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-1"}),"Usar"]})]}),g&&(0,t.jsx)(r.z,{size:"sm",variant:"ghost",onClick:A,className:(0,z.cn)("absolute top-2 right-2 p-2 bg-white/80 hover:bg-white",h&&"text-red-500"),children:(0,t.jsx)(j.Z,{className:(0,z.cn)("h-4 w-4",h&&"fill-current")})}),(0,t.jsx)(f.C,{variant:"secondary",className:"absolute top-2 left-2 bg-white/90 text-black",children:s.category})]})}),(0,t.jsx)(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ll,{className:"text-lg line-clamp-1",children:s.name}),(0,t.jsx)(i.SZ,{className:"line-clamp-2 mt-1",children:s.description})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.Z,{className:"h-4 w-4"}),s.metadata.estimatedDuration,"min"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4"}),s.rating.toFixed(1)]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(y.Z,{className:"h-4 w-4"}),s.downloads]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(f.C,{className:F(s.metadata.difficulty),children:P(s.metadata.difficulty)}),g&&(0,t.jsxs)(k.h_,{children:[(0,t.jsx)(k.$F,{asChild:!0,children:(0,t.jsx)(r.z,{size:"sm",variant:"ghost",className:"p-2",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(k.AW,{align:"end",children:[(0,t.jsxs)(k.Xi,{onClick:()=>null==n?void 0:n(s),children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,t.jsxs)(k.Xi,{onClick:()=>null==d?void 0:d(s),children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),(0,t.jsxs)(k.Xi,{onClick:()=>null==o?void 0:o(s),children:[(0,t.jsx)(R.Z,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,t.jsxs)(k.Xi,{onClick:()=>null==x?void 0:x(s),children:[(0,t.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Exportar"]}),(0,t.jsx)(k.VD,{}),(0,t.jsxs)(k.Xi,{onClick:()=>null==m?void 0:m(s.id),className:"text-red-600",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]}),s.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map(e=>(0,t.jsx)(f.C,{variant:"outline",className:"text-xs",children:e},e)),s.tags.length>3&&(0,t.jsxs)(f.C,{variant:"outline",className:"text-xs",children:["+",s.tags.length-3]})]})]})})]})}var I=a(3805),A=a(41671),F=a(76865),P=a(99388),E=a(33245),_=a(89227),O=a(45274),D=a(51548),U=a(88623),V=a(81706),M=a(45884),X=a(92369),Y=a(31047),Q=a(65046);let q=e=>{let{template:s,onClose:a,onEdit:n,onUse:d}=e,[o,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(0),[u,g]=(0,l.useState)(50),[v,b]=(0,l.useState)(!1),[w,C]=(0,l.useState)(0),S=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)),k=e=>"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0")),z=e=>({"NR-12":"bg-red-100 text-red-800","NR-33":"bg-blue-100 text-blue-800","NR-35":"bg-green-100 text-green-800","NR-10":"bg-yellow-100 text-yellow-800","NR-06":"bg-purple-100 text-purple-800",CUSTOM:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",T=()=>{m(!o)};return(0,t.jsx)(I.Vq,{open:!0,onOpenChange:a,children:(0,t.jsxs)(I.cZ,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(I.fK,{children:(0,t.jsxs)(I.$N,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{children:s.name}),(0,t.jsx)(f.C,{className:z(s.category),children:s.category}),s.isCustom&&(0,t.jsx)(f.C,{variant:"outline",children:"Personalizado"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(r.z,{variant:"outline",onClick:n,children:[(0,t.jsx)(R.Z,{className:"w-4 h-4 mr-2"}),"Editar"]}),(0,t.jsxs)(r.z,{onClick:d,className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(Z.Z,{className:"w-4 h-4 mr-2"}),"Usar Template"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsx)(i.Zb,{children:(0,t.jsx)(i.aY,{className:"p-0",children:(0,t.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:[(0,t.jsx)("img",{src:s.preview||s.thumbnail||"/api/placeholder/800/450",alt:s.name,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:(0,t.jsx)(r.z,{size:"lg",onClick:T,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white border-white",children:o?(0,t.jsx)(_.Z,{className:"w-8 h-8"}):(0,t.jsx)(Z.Z,{className:"w-8 h-8"})})})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(Q.i,{value:[x],onValueChange:e=>{h(e[0])},max:s.content.settings.duration,step:1,className:"w-full"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(r.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:(0,t.jsx)(O.Z,{className:"w-4 h-4"})}),(0,t.jsx)(r.z,{size:"sm",variant:"ghost",onClick:T,className:"text-white hover:bg-white hover:bg-opacity-20",children:o?(0,t.jsx)(_.Z,{className:"w-4 h-4"}):(0,t.jsx)(Z.Z,{className:"w-4 h-4"})}),(0,t.jsx)(r.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:(0,t.jsx)(D.Z,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,t.jsx)(r.z,{size:"sm",variant:"ghost",onClick:()=>{b(!v)},className:"text-white hover:bg-white hover:bg-opacity-20",children:v?(0,t.jsx)(U.Z,{className:"w-4 h-4"}):(0,t.jsx)(V.Z,{className:"w-4 h-4"})}),(0,t.jsx)(Q.i,{value:[v?0:u],onValueChange:e=>{g(e[0]),b(0===e[0])},max:100,step:1,className:"w-20"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-white text-sm",children:[(0,t.jsxs)("span",{children:[k(x)," / ",k(s.content.settings.duration)]}),(0,t.jsx)(r.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:(0,t.jsx)(M.Z,{className:"w-4 h-4"})})]})]})]})})]})})}),(0,t.jsx)(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-3",children:["Slides (",s.content.slides.length,")"]}),(0,t.jsx)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:s.content.slides.map((e,s)=>(0,t.jsx)("div",{className:"flex-shrink-0 w-32 h-20 rounded-lg border-2 cursor-pointer transition-all ".concat(w===s?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>C(s),children:(0,t.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Slide ",s+1]})})},e.id))})]})})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(c.mQ,{defaultValue:"info",className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(c.SP,{value:"info",children:"Info"}),(0,t.jsx)(c.SP,{value:"compliance",children:"Compliance"}),(0,t.jsx)(c.SP,{value:"settings",children:"Config"})]}),(0,t.jsx)(c.nU,{value:"info",className:"space-y-4",children:(0,t.jsx)(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:s.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(X.Z,{className:"w-4 h-4 mr-2"}),s.author]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(Y.Z,{className:"w-4 h-4 mr-2"}),S(s.updatedAt)]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),k(s.content.settings.duration)]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),s.downloads]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-1 fill-current text-yellow-400"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:s.rating.toFixed(1)})]}),(0,t.jsxs)(r.z,{variant:"ghost",size:"sm",className:"text-red-600",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-1"}),"Favoritar"]})]}),s.tags.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:s.tags.map((e,s)=>(0,t.jsx)(f.C,{variant:"outline",className:"text-xs",children:e},s))})]})]})})}),(0,t.jsx)(c.nU,{value:"compliance",className:"space-y-4",children:(0,t.jsx)(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"compliant":return(0,t.jsx)(A.Z,{className:"w-5 h-5 text-green-600"});case"warning":return(0,t.jsx)(F.Z,{className:"w-5 h-5 text-yellow-600"});case"non-compliant":return(0,t.jsx)(P.Z,{className:"w-5 h-5 text-red-600"});default:return(0,t.jsx)(E.Z,{className:"w-5 h-5 text-gray-600"})}})(s.metadata.compliance.status),(0,t.jsx)("span",{className:"font-medium",children:"compliant"===s.metadata.compliance.status?"Conforme":"warning"===s.metadata.compliance.status?"Aten\xe7\xe3o":"N\xe3o Conforme"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Categorias NR"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:s.metadata.compliance.nrCategories.map((e,s)=>(0,t.jsx)(f.C,{className:z(e),children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requisitos"}),(0,t.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:s.metadata.compliance.requirements.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)(A.Z,{className:"w-3 h-3 mr-2 mt-0.5 text-green-600 flex-shrink-0"}),e]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"\xdaltima Auditoria"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:S(s.metadata.compliance.lastAudit)})]})]})})}),(0,t.jsx)(c.nU,{value:"settings",className:"space-y-4",children:(0,t.jsx)(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resolu\xe7\xe3o"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[s.content.settings.resolution.width," x ",s.content.settings.resolution.height]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Taxa de Quadros"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[s.content.settings.frameRate," fps"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Qualidade de Renderiza\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:s.content.settings.renderSettings.quality})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Formato"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 uppercase",children:s.content.settings.renderSettings.format})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Performance"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Tempo de Renderiza\xe7\xe3o:"}),(0,t.jsxs)("span",{children:[s.metadata.performance.renderTime,"s"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Tamanho do Arquivo:"}),(0,t.jsxs)("span",{children:[(s.metadata.performance.fileSize/1024/1024).toFixed(1)," MB"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Complexidade:"}),(0,t.jsx)("span",{className:"capitalize",children:s.metadata.performance.complexity})]})]})]})]})})})]})})]})]})})};var B=a(49665),L=a(60967),J=a(46393),W=a(32489),$=a(61094),K=a(83229);let G=e=>{let{template:s,onClose:a,onSave:o}=e,[m,x]=(0,l.useState)({name:(null==s?void 0:s.name)||"",description:(null==s?void 0:s.description)||"",category:(null==s?void 0:s.category)||"CUSTOM",tags:(null==s?void 0:s.tags)||[],thumbnail:(null==s?void 0:s.thumbnail)||"",preview:(null==s?void 0:s.preview)||"",content:(null==s?void 0:s.content)||{slides:[],animations:[],assets:[],interactions:[],compliance:{nrCategory:"NR-01",requirements:[],checkpoints:[],certifications:[]},settings:{resolution:{width:1920,height:1080},frameRate:30,duration:60,audioSettings:{enabled:!0,volume:100,fadeIn:0,fadeOut:0},renderSettings:{quality:"high",format:"mp4",codec:"h264",bitrate:5e3}}}}),[h,u]=(0,l.useState)(""),[j,p]=(0,l.useState)("basic"),g=(e,s)=>{x(a=>({...a,[e]:s}))},v=(e,s)=>{x(a=>({...a,content:{...a.content,[e]:s}}))},N=(e,s)=>{x(a=>({...a,content:{...a.content,settings:{...a.content.settings,[e]:s}}}))},b=()=>{h.trim()&&!m.tags.includes(h.trim())&&(g("tags",[...m.tags,h.trim()]),u(""))},y=e=>{g("tags",m.tags.filter(s=>s!==e))},w=e=>{v("slides",m.content.slides.filter(s=>s.id!==e))},C=(e,s,a)=>{v("slides",m.content.slides.map(t=>t.id===e?{...t,[s]:a}:t))};return(0,t.jsx)(I.Vq,{open:!0,onOpenChange:a,children:(0,t.jsxs)(I.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(I.fK,{children:(0,t.jsx)(I.$N,{children:s?"Editar Template":"Criar Novo Template"})}),(0,t.jsxs)(c.mQ,{value:j,onValueChange:p,className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(c.SP,{value:"basic",children:"B\xe1sico"}),(0,t.jsx)(c.SP,{value:"slides",children:"Slides"}),(0,t.jsx)(c.SP,{value:"settings",children:"Configura\xe7\xf5es"}),(0,t.jsx)(c.SP,{value:"preview",children:"Preview"})]}),(0,t.jsx)(c.nU,{value:"basic",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{htmlFor:"name",children:"Nome do Template"}),(0,t.jsx)(n.I,{id:"name",value:m.name,onChange:e=>g("name",e.target.value),placeholder:"Digite o nome do template..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{htmlFor:"description",children:"Descri\xe7\xe3o"}),(0,t.jsx)(B.g,{id:"description",value:m.description,onChange:e=>g("description",e.target.value),placeholder:"Descreva o template...",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{htmlFor:"category",children:"Categoria NR"}),(0,t.jsxs)(L.Ph,{value:m.category,onValueChange:e=>g("category",e),children:[(0,t.jsx)(L.i4,{children:(0,t.jsx)(L.ki,{placeholder:"Selecione uma categoria..."})}),(0,t.jsx)(L.Bw,{children:["NR-01","NR-02","NR-03","NR-04","NR-05","NR-06","NR-07","NR-08","NR-09","NR-10","NR-11","NR-12","NR-13","NR-14","NR-15","NR-16","NR-17","NR-18","NR-19","NR-20","NR-21","NR-22","NR-23","NR-24","NR-25","NR-26","NR-27","NR-28","NR-29","NR-30","NR-31","NR-32","NR-33","NR-34","NR-35","NR-36","NR-37","CUSTOM"].map(e=>(0,t.jsx)(L.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Tags"}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,t.jsx)(n.I,{value:h,onChange:e=>u(e.target.value),placeholder:"Adicionar tag...",onKeyPress:e=>"Enter"===e.key&&b()}),(0,t.jsx)(r.z,{onClick:b,size:"sm",children:(0,t.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:m.tags.map((e,s)=>(0,t.jsxs)(f.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,t.jsx)(W.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>y(e)})]},s))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{htmlFor:"thumbnail",children:"URL da Thumbnail"}),(0,t.jsx)(n.I,{id:"thumbnail",value:m.thumbnail,onChange:e=>g("thumbnail",e.target.value),placeholder:"https://..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{htmlFor:"preview",children:"URL do Preview"}),(0,t.jsx)(n.I,{id:"preview",value:m.preview,onChange:e=>g("preview",e.target.value),placeholder:"https://..."})]}),m.thumbnail&&(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Preview da Thumbnail"}),(0,t.jsx)("div",{className:"mt-2 border rounded-lg overflow-hidden",children:(0,t.jsx)("img",{src:m.thumbnail,alt:"Thumbnail preview",className:"w-full h-32 object-cover"})})]})]})]})}),(0,t.jsxs)(c.nU,{value:"slides",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Slides (",m.content.slides.length,")"]}),(0,t.jsxs)(r.z,{onClick:()=>{let e={id:"slide-".concat(Date.now()),type:"content",layout:"default",title:"Slide ".concat(m.content.slides.length+1),content:"",duration:5,background:"#ffffff",elements:[],transitions:[]};v("slides",[...m.content.slides,e])},children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Adicionar Slide"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[m.content.slides.map((e,s)=>(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.ll,{className:"text-base",children:["Slide ",s+1]}),(0,t.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>w(e.id),className:"text-red-600",children:(0,t.jsx)(S.Z,{className:"w-4 h-4"})})]})}),(0,t.jsxs)(i.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"T\xedtulo"}),(0,t.jsx)(n.I,{value:e.title,onChange:s=>C(e.id,"title",s.target.value),placeholder:"T\xedtulo do slide..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Dura\xe7\xe3o (segundos)"}),(0,t.jsx)(n.I,{type:"number",value:e.duration,onChange:s=>C(e.id,"duration",parseInt(s.target.value)||5),min:"1",max:"60"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Conte\xfado"}),(0,t.jsx)(B.g,{value:e.content,onChange:s=>C(e.id,"content",s.target.value),placeholder:"Conte\xfado do slide...",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Cor de Fundo"}),(0,t.jsx)(n.I,{type:"color",value:e.background,onChange:s=>C(e.id,"background",s.target.value),className:"w-20 h-10"})]})]})]},e.id)),0===m.content.slides.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)($.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,t.jsx)("p",{children:"Nenhum slide adicionado ainda."}),(0,t.jsx)("p",{className:"text-sm",children:'Clique em "Adicionar Slide" para come\xe7ar.'})]})]})]}),(0,t.jsx)(c.nU,{value:"settings",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Configura\xe7\xf5es de V\xeddeo"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Largura"}),(0,t.jsx)(n.I,{type:"number",value:m.content.settings.resolution.width,onChange:e=>N("resolution",{...m.content.settings.resolution,width:parseInt(e.target.value)||1920})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Altura"}),(0,t.jsx)(n.I,{type:"number",value:m.content.settings.resolution.height,onChange:e=>N("resolution",{...m.content.settings.resolution,height:parseInt(e.target.value)||1080})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Taxa de Quadros (FPS)"}),(0,t.jsxs)(L.Ph,{value:m.content.settings.frameRate.toString(),onValueChange:e=>N("frameRate",parseInt(e)),children:[(0,t.jsx)(L.i4,{children:(0,t.jsx)(L.ki,{})}),(0,t.jsxs)(L.Bw,{children:[(0,t.jsx)(L.Ql,{value:"24",children:"24 FPS"}),(0,t.jsx)(L.Ql,{value:"30",children:"30 FPS"}),(0,t.jsx)(L.Ql,{value:"60",children:"60 FPS"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Dura\xe7\xe3o Total (segundos)"}),(0,t.jsx)(n.I,{type:"number",value:m.content.settings.duration,onChange:e=>N("duration",parseInt(e.target.value)||60),min:"1"})]})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Configura\xe7\xf5es de Renderiza\xe7\xe3o"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Qualidade"}),(0,t.jsxs)(L.Ph,{value:m.content.settings.renderSettings.quality,onValueChange:e=>N("renderSettings",{...m.content.settings.renderSettings,quality:e}),children:[(0,t.jsx)(L.i4,{children:(0,t.jsx)(L.ki,{})}),(0,t.jsxs)(L.Bw,{children:[(0,t.jsx)(L.Ql,{value:"low",children:"Baixa"}),(0,t.jsx)(L.Ql,{value:"medium",children:"M\xe9dia"}),(0,t.jsx)(L.Ql,{value:"high",children:"Alta"}),(0,t.jsx)(L.Ql,{value:"ultra",children:"Ultra"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Formato"}),(0,t.jsxs)(L.Ph,{value:m.content.settings.renderSettings.format,onValueChange:e=>N("renderSettings",{...m.content.settings.renderSettings,format:e}),children:[(0,t.jsx)(L.i4,{children:(0,t.jsx)(L.ki,{})}),(0,t.jsxs)(L.Bw,{children:[(0,t.jsx)(L.Ql,{value:"mp4",children:"MP4"}),(0,t.jsx)(L.Ql,{value:"webm",children:"WebM"}),(0,t.jsx)(L.Ql,{value:"avi",children:"AVI"}),(0,t.jsx)(L.Ql,{value:"mov",children:"MOV"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{children:"Bitrate (kbps)"}),(0,t.jsx)(n.I,{type:"number",value:m.content.settings.renderSettings.bitrate,onChange:e=>N("renderSettings",{...m.content.settings.renderSettings,bitrate:parseInt(e.target.value)||5e3}),min:"1000",max:"50000"})]})]})]})]})}),(0,t.jsxs)(c.nU,{value:"preview",className:"space-y-4",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Preview do Template"})}),(0,t.jsx)(i.aY,{children:(0,t.jsx)("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(Z.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Preview ser\xe1 gerado ap\xf3s salvar"})]})})})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Resumo do Template"})}),(0,t.jsxs)(i.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Nome:"})," ",m.name||"Sem nome"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Categoria:"})," ",m.category]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Slides:"})," ",m.content.slides.length]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Dura\xe7\xe3o:"})," ",m.content.settings.duration,"s"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Resolu\xe7\xe3o:"})," ",m.content.settings.resolution.width,"x",m.content.settings.resolution.height]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"FPS:"})," ",m.content.settings.frameRate]})]}),m.tags.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:"Tags:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:m.tags.map((e,s)=>(0,t.jsx)(f.C,{variant:"outline",className:"text-xs",children:e},s))})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[(0,t.jsx)(r.z,{variant:"outline",onClick:a,children:"Cancelar"}),(0,t.jsxs)(r.z,{onClick:()=>{o({...m,isCustom:!0,updatedAt:new Date,...s?{}:{id:"template-".concat(Date.now()),createdAt:new Date,author:"Usu\xe1rio Atual",version:"1.0.0",downloads:0,rating:0,isFavorite:!1,metadata:{difficulty:"beginner",estimatedDuration:60,targetAudience:["General"],learningObjectives:[],prerequisites:[],language:"pt-BR",accessibility:{screenReader:!0,highContrast:!1,keyboardNavigation:!0,closedCaptions:!1,audioDescription:!1,signLanguage:!1},compliance:{nrCategories:[m.category],requirements:[],certifications:[],lastAudit:new Date,status:"compliant",auditScore:100},performance:{renderTime:0,fileSize:0,complexity:"medium",optimization:85},compatibility:{browsers:["Chrome","Firefox","Safari","Edge"],devices:["Desktop","Mobile","Tablet"],resolutions:["1920x1080","1280x720","3840x2160"],formats:["mp4","webm"]},usage:{views:0,downloads:0,likes:0,shares:0,lastUsed:new Date}}}})},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(K.Z,{className:"w-4 h-4 mr-2"}),s?"Salvar Altera\xe7\xf5es":"Criar Template"]})]})]})})};var H=a(95523);let ee=e=>{var s,a;let{filter:l,onFilterChange:n,onClearFilters:c,categoryStats:d,sort:o,onSortChange:m}=e,h=[{value:"name",label:"Nome"},{value:"createdAt",label:"Data de Cria\xe7\xe3o"},{value:"updatedAt",label:"\xdaltima Atualiza\xe7\xe3o"},{value:"rating",label:"Avalia\xe7\xe3o"},{value:"downloads",label:"Downloads"},{value:"usage",label:"Uso"}],u=h.map(e=>e.value),j=["asc","desc"],p=e=>u.includes(e),g=e=>j.includes(e),v=(e,s)=>{let a=l.category||[];n({category:s?[...a,e]:a.filter(s=>s!==e)})},N=(e,s)=>{let a=l.tags||[];n({tags:s?[...a,e]:a.filter(s=>s!==e)})};return(0,t.jsxs)(i.Zb,{className:"mb-6",children:[(0,t.jsx)(i.Ol,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.ll,{className:"text-lg flex items-center",children:[(0,t.jsx)(x.Z,{className:"w-5 h-5 mr-2"}),"Filtros"]}),(l.category&&l.category.length>0||l.tags&&l.tags.length>0||l.author||l.rating||void 0!==l.isFavorite||void 0!==l.isCustom)&&(0,t.jsxs)(r.z,{variant:"outline",size:"sm",onClick:c,children:[(0,t.jsx)(W.Z,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]})]})}),(0,t.jsxs)(i.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Categorias NR"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:["NR-01","NR-02","NR-03","NR-04","NR-05","NR-06","NR-07","NR-08","NR-09","NR-10","NR-11","NR-12","NR-13","NR-14","NR-15","NR-16","NR-17","NR-18","NR-19","NR-20","NR-21","NR-22","NR-23","NR-24","NR-25","NR-26","NR-27","NR-28","NR-29","NR-30","NR-31","NR-32","NR-33","NR-34","NR-35","NR-36","NR-37","CUSTOM"].map(e=>{var s;let a=d[e]||0;return 0===a?null:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(H.X,{id:"category-".concat(e),checked:(null===(s=l.category)||void 0===s?void 0:s.includes(e))||!1,onCheckedChange:s=>v(e,!0===s)}),(0,t.jsxs)("label",{htmlFor:"category-".concat(e),className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[e," (",a,")"]})]},e)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Tags Populares"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["Seguran\xe7a","Treinamento","EPI","Procedimento","Emerg\xeancia","Preven\xe7\xe3o","Inspe\xe7\xe3o","Manuten\xe7\xe3o","Opera\xe7\xe3o","Compliance","Auditoria","Certifica\xe7\xe3o"].map(e=>{var s;return(0,t.jsx)(f.C,{variant:(null===(s=l.tags)||void 0===s?void 0:s.includes(e))?"default":"outline",className:"cursor-pointer hover:bg-blue-100",onClick:()=>{var s;return N(e,!(null===(s=l.tags)||void 0===s?void 0:s.includes(e)))},children:e},e)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Avalia\xe7\xe3o M\xednima: ",l.rating||0," estrelas"]}),(0,t.jsx)(Q.i,{value:[l.rating||0],onValueChange:e=>{n({rating:e[0]})},max:5,min:0,step:.5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Tipo"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(H.X,{id:"favorites",checked:!0===l.isFavorite,onCheckedChange:e=>n({isFavorite:!0===e||void 0})}),(0,t.jsx)("label",{htmlFor:"favorites",className:"text-sm cursor-pointer",children:"Apenas Favoritos"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(H.X,{id:"custom",checked:!0===l.isCustom,onCheckedChange:e=>n({isCustom:!0===e||void 0})}),(0,t.jsx)("label",{htmlFor:"custom",className:"text-sm cursor-pointer",children:"Apenas Personalizados"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Ordenar Por"}),(0,t.jsxs)(L.Ph,{value:o.field,onValueChange:e=>{p(e)&&m({field:e,direction:o.direction})},children:[(0,t.jsx)(L.i4,{children:(0,t.jsx)(L.ki,{placeholder:"Selecione..."})}),(0,t.jsx)(L.Bw,{children:h.map(e=>(0,t.jsx)(L.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Ordem"}),(0,t.jsxs)(L.Ph,{value:o.direction,onValueChange:e=>{g(e)&&m({field:o.field,direction:e})},children:[(0,t.jsx)(L.i4,{children:(0,t.jsx)(L.ki,{placeholder:"Selecione..."})}),(0,t.jsxs)(L.Bw,{children:[(0,t.jsx)(L.Ql,{value:"asc",children:"Crescente"}),(0,t.jsx)(L.Ql,{value:"desc",children:"Decrescente"})]})]})]})]}),(l.category&&l.category.length>0||l.tags&&l.tags.length>0||l.author||l.rating||void 0!==l.isFavorite||void 0!==l.isCustom)&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Filtros Ativos"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(s=l.category)||void 0===s?void 0:s.map(e=>(0,t.jsxs)(f.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,t.jsx)(W.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>v(e,!1)})]},e)),null===(a=l.tags)||void 0===a?void 0:a.map(e=>(0,t.jsxs)(f.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,t.jsx)(W.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>N(e,!1)})]},e)),l.rating&&(0,t.jsxs)(f.C,{variant:"secondary",className:"flex items-center gap-1",children:["â‰¥ ",l.rating," estrelas",(0,t.jsx)(W.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>n({rating:void 0})})]}),l.isFavorite&&(0,t.jsxs)(f.C,{variant:"secondary",className:"flex items-center gap-1",children:["Favoritos",(0,t.jsx)(W.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>n({isFavorite:void 0})})]}),l.isCustom&&(0,t.jsxs)(f.C,{variant:"secondary",className:"flex items-center gap-1",children:["Personalizados",(0,t.jsx)(W.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>n({isCustom:void 0})})]})]})]})]})]})};var es=a(41236),ea=a(62060),et=a(17342),el=a(71947),ei=a(9334),er=a(29202),en=a(49322);let ec=e=>{let{mode:s,template:a,onClose:n,onImport:d,onExport:m}=e,[x,h]=(0,l.useState)("import"===s?"file":"json"),[u,j]=(0,l.useState)(""),[p,g]=(0,l.useState)("json"),[v,N]=(0,l.useState)(0),[b,w]=(0,l.useState)("idle"),[C,R]=(0,l.useState)(""),[S,Z]=(0,l.useState)([]),k=(0,l.useRef)(null),z=[{id:"json",name:"JSON",description:"Formato padr\xe3o do sistema",icon:et.Z},{id:"xml",name:"XML",description:"Formato XML estruturado",icon:el.Z},{id:"zip",name:"ZIP Package",description:"Pacote completo com assets",icon:ei.Z},{id:"url",name:"Share URL",description:"Link para compartilhamento",icon:er.Z}],T=e=>{try{let s=JSON.parse(e),a=Array.isArray(s)?s:[s],t=0,l=setInterval(()=>{t+=20,N(t),t>=100&&(clearInterval(l),E(a))},200)}catch(e){w("error"),R("JSON inv\xe1lido")}},F=e=>{w("error"),R("Importa\xe7\xe3o XML ainda n\xe3o implementada")},P=e=>{w("error"),R("Importa\xe7\xe3o ZIP ainda n\xe3o implementada")},E=e=>{let s=e.map((e,s)=>{let a=[],t=[];return e.name||a.push("Nome \xe9 obrigat\xf3rio"),e.category||a.push("Categoria \xe9 obrigat\xf3ria"),e.content||a.push("Conte\xfado \xe9 obrigat\xf3rio"),e.content&&!e.content.slides&&t.push("Nenhum slide encontrado"),{index:s,template:e,valid:0===a.length,errors:a,warnings:t}});Z(s);let a=s.filter(e=>e.valid).map(e=>e.template);a.length>0?(w("success"),R("".concat(a.length," template(s) importado(s) com sucesso")),null==d||d(a)):(w("error"),R("Nenhum template v\xe1lido encontrado"))},_=()=>{if(!a&&"url"!==p){w("error"),R("Nenhum template selecionado");return}w("processing"),N(0);let e=setInterval(()=>{N(s=>{let a=s+25;return a>=100&&(clearInterval(e),O()),a})},300)},O=()=>{let e;let s="";switch(p){case"json":e=JSON.stringify(a,null,2),s="".concat((null==a?void 0:a.name)||"template",".json");break;case"xml":e=D(a),s="".concat((null==a?void 0:a.name)||"template",".xml");break;case"zip":e=U(a),s="".concat((null==a?void 0:a.name)||"template",".zip");break;case"url":e=V(a),s="share-url.txt"}"url"===p?(navigator.clipboard.writeText(e),w("success"),R("URL copiada para a \xe1rea de transfer\xeancia")):(M(e,s),w("success"),R("Template exportado com sucesso")),null==m||m(p,e)},D=e=>'<?xml version="1.0" encoding="UTF-8"?>\n<template>\n  <name>'.concat((null==e?void 0:e.name)||"","</name>\n  <description>").concat((null==e?void 0:e.description)||"","</description>\n  <category>").concat((null==e?void 0:e.category)||"","</category>\n</template>"),U=e=>JSON.stringify({template:e,assets:[],metadata:{exportedAt:new Date().toISOString(),version:"1.0.0"}},null,2),V=e=>{let s=btoa(JSON.stringify(e));return"".concat(window.location.origin,"/templates/shared?data=").concat(s)},M=(e,s)=>{let a=new Blob([e],{type:"application/octet-stream"}),t=URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)};return(0,t.jsx)(I.Vq,{open:!0,onOpenChange:n,children:(0,t.jsxs)(I.cZ,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(I.fK,{children:(0,t.jsx)(I.$N,{className:"flex items-center gap-2",children:"import"===s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{className:"w-5 h-5"}),"Importar Templates"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{className:"w-5 h-5"}),"Exportar Template"]})})}),"import"===s?(0,t.jsxs)(c.mQ,{value:x,onValueChange:h,className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(c.SP,{value:"file",children:"Arquivo"}),(0,t.jsx)(c.SP,{value:"text",children:"Texto"})]}),(0,t.jsx)(c.nU,{value:"file",className:"space-y-4",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Upload de Arquivo"})}),(0,t.jsx)(i.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,t.jsx)(o.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("p",{className:"text-lg font-medium mb-2",children:"Arraste um arquivo ou clique para selecionar"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Formatos suportados: JSON, XML, ZIP"}),(0,t.jsx)(r.z,{onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},children:"Selecionar Arquivo"}),(0,t.jsx)("input",{ref:k,type:"file",accept:".json,.xml,.zip",onChange:e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!a)return;w("processing"),N(0);let t=new FileReader;t.onload=e=>{try{var s;let t=null===(s=e.target)||void 0===s?void 0:s.result;if("application/json"===a.type||a.name.endsWith(".json"))T(t);else if(a.name.endsWith(".xml"))F(t);else if(a.name.endsWith(".zip"))P(a);else throw Error("Formato de arquivo n\xe3o suportado")}catch(e){w("error"),R("Erro ao processar arquivo: ".concat(e instanceof Error?e.message:"Erro desconhecido"))}},t.onerror=()=>{w("error"),R("Erro ao ler o arquivo")},a.name.endsWith(".zip")?t.readAsArrayBuffer(a):t.readAsText(a)},className:"hidden"})]})})]})}),(0,t.jsx)(c.nU,{value:"text",className:"space-y-4",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Importar via Texto"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(J._,{htmlFor:"import-data",children:"Cole o JSON do template:"}),(0,t.jsx)(B.g,{id:"import-data",value:u,onChange:e=>j(e.target.value),placeholder:"Cole aqui o conte\xfado JSON do template...",rows:10,className:"font-mono text-sm"})]}),(0,t.jsxs)(r.z,{onClick:()=>{if(!u.trim()){w("error"),R("Cole o conte\xfado do template");return}T(u)},className:"w-full",children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Importar Template"]})]})]})})]}):(0,t.jsxs)(c.mQ,{value:x,onValueChange:h,className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(c.SP,{value:"json",children:"JSON"}),(0,t.jsx)(c.SP,{value:"xml",children:"XML"}),(0,t.jsx)(c.SP,{value:"zip",children:"ZIP"}),(0,t.jsx)(c.SP,{value:"share",children:"Compartilhar"})]}),z.map(e=>(0,t.jsx)(c.nU,{value:e.id,className:"space-y-4",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(e.icon,{className:"w-5 h-5"}),"Exportar como ",e.name]})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),a&&(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Template Selecionado:"}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Nome:"})," ",a.name]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Categoria:"})," ",a.category]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Slides:"})," ",a.content.slides.length]})]})]}),(0,t.jsxs)(r.z,{onClick:()=>{g(e.id),_()},className:"w-full",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Exportar ",e.name]})]})]})},e.id))]}),"processing"===b&&(0,t.jsx)(i.Zb,{children:(0,t.jsx)(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Processando..."}),(0,t.jsxs)("span",{children:[v,"%"]})]}),(0,t.jsx)(es.E,{value:v,className:"w-full"})]})})}),C&&(0,t.jsxs)(ea.bZ,{className:"error"===b?"border-red-200 bg-red-50":"success"===b?"border-green-200 bg-green-50":"",children:["error"===b?(0,t.jsx)(en.Z,{className:"h-4 w-4 text-red-600"}):"success"===b?(0,t.jsx)(A.Z,{className:"h-4 w-4 text-green-600"}):null,(0,t.jsx)(ea.X,{className:"error"===b?"text-red-800":"success"===b?"text-green-800":"",children:C})]}),S.length>0&&(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-base",children:"Resultados da Valida\xe7\xe3o"})}),(0,t.jsx)(i.aY,{children:(0,t.jsx)("div",{className:"space-y-3",children:S.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Template ",s+1,": ",e.template.name||"Sem nome"]}),(0,t.jsx)(f.C,{variant:e.valid?"default":"destructive",children:e.valid?"V\xe1lido":"Inv\xe1lido"})]}),e.errors.length>0&&(0,t.jsxs)("div",{className:"text-sm text-red-600 space-y-1",children:[(0,t.jsx)("div",{className:"font-medium",children:"Erros:"}),e.errors.map((e,s)=>(0,t.jsxs)("div",{className:"ml-2",children:["â€¢ ",e]},s))]}),e.warnings.length>0&&(0,t.jsxs)("div",{className:"text-sm text-yellow-600 space-y-1 mt-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Avisos:"}),e.warnings.map((e,s)=>(0,t.jsxs)("div",{className:"ml-2",children:["â€¢ ",e]},s))]})]},s))})})]}),(0,t.jsx)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:(0,t.jsx)(r.z,{variant:"outline",onClick:n,children:"Fechar"})})]})})};var ed=a(99376),eo=a(58113),em=a(18420);let ex=e=>{let{className:s}=e,{templates:a,filteredTemplates:f,favorites:v,isLoading:N,error:b,filter:y,sort:w,setFilter:C,setSort:R,clearFilters:S,searchTemplates:Z,toggleFavorite:k,createTemplate:z,updateTemplate:T,deleteTemplate:I,duplicateTemplate:A,exportTemplate:F,importTemplate:P,getTemplateStats:E}=(0,g.z)(),[_,O]=(0,l.useState)("grid"),[D,U]=(0,l.useState)(!1),[V,M]=(0,l.useState)(!1),[X,Y]=(0,l.useState)(!1),[Q,B]=(0,l.useState)(null),[L,J]=(0,l.useState)(""),[W,$]=(0,l.useState)(null),[K,H]=(0,l.useState)(!1),es=(0,ed.useRouter)(),ea=(0,eo.eI)(),{toast:et}=(0,em.pm)(),el=a.filter(e=>e.isCustom),ei=E(),er=async e=>{try{H(!0);let{data:{user:s}}=await ea.auth.getUser();if(!s){et({title:"Authentication required",description:"Please login to create a project",variant:"destructive"});return}let{data:a,error:t}=await ea.from("projects").insert({name:"".concat(e.name),type:"template-nr",user_id:s.id,status:"draft",thumbnail_url:e.thumbnail,render_settings:{template_id:e.id,template_data:e}}).select().single();if(t)throw t;et({title:"Project created",description:"Redirecting to editor..."}),es.push("/editor/timeline/".concat(a.id))}catch(e){console.error("Failed to create project:",e),et({title:"Error",description:"Failed to create project from template",variant:"destructive"})}finally{H(!1)}},en=e=>{J(e),Z(e)},ex=e=>{$(e),U(!0)},eu=e=>{$(e),M(!0)},ej=async e=>{try{await A(e.id)}catch(e){console.error("Failed to duplicate template:",e)}},ep=async e=>{if(window.confirm('Tem certeza que deseja excluir o template "'.concat(e.name,'"?')))try{await I(e.id)}catch(e){console.error("Failed to delete template:",e)}},eg=e=>{$(e),B("export")};return N?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):b?(0,t.jsxs)("div",{className:"text-center text-red-600 p-4",children:[(0,t.jsxs)("p",{children:["Erro ao carregar templates: ",b]}),(0,t.jsx)(r.z,{onClick:()=>window.location.reload(),className:"mt-2",children:"Tentar Novamente"})]}):(0,t.jsxs)("div",{className:"space-y-6 ".concat(s),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Templates"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Gerencie e organize seus templates de v\xeddeo"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(r.z,{onClick:()=>{$(null),M(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Novo Template"]}),(0,t.jsxs)(r.z,{variant:"outline",onClick:()=>B("import"),children:[(0,t.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Importar/Exportar"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)(n.I,{placeholder:"Buscar templates...",value:L,onChange:e=>en(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(r.z,{variant:"outline",onClick:()=>Y(!X),className:X?"bg-blue-50 border-blue-200":"",children:[(0,t.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Filtros"]}),(0,t.jsxs)("div",{className:"flex items-center border rounded-lg",children:[(0,t.jsx)(r.z,{variant:"grid"===_?"default":"ghost",size:"sm",onClick:()=>O("grid"),className:"rounded-r-none",children:(0,t.jsx)(h.Z,{className:"w-4 h-4"})}),(0,t.jsx)(r.z,{variant:"list"===_?"default":"ghost",size:"sm",onClick:()=>O("list"),className:"rounded-l-none",children:(0,t.jsx)(u.Z,{className:"w-4 h-4"})})]})]}),X&&(0,t.jsx)(ee,{filter:y,onFilterChange:C,onClearFilters:S,categoryStats:ei.byCategory,sort:w,onSortChange:R}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(i.Zb,{children:(0,t.jsx)(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total de Templates"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(h.Z,{className:"w-6 h-6 text-blue-600"})})]})})}),(0,t.jsx)(i.Zb,{children:(0,t.jsx)(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Favoritos"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]}),(0,t.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,t.jsx)(j.Z,{className:"w-6 h-6 text-red-600"})})]})})}),(0,t.jsx)(i.Zb,{children:(0,t.jsx)(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Personalizados"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:el.length})]}),(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)(p.Z,{className:"w-6 h-6 text-green-600"})})]})})}),(0,t.jsx)(i.Zb,{children:(0,t.jsx)(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Filtrados"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)(x.Z,{className:"w-6 h-6 text-purple-600"})})]})})})]}),(0,t.jsxs)(c.mQ,{defaultValue:"all",className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(c.SP,{value:"all",children:["Todos (",a.length,")"]}),(0,t.jsxs)(c.SP,{value:"favorites",children:["Favoritos (",v.length,")"]}),(0,t.jsxs)(c.SP,{value:"custom",children:["Personalizados (",el.length,")"]}),(0,t.jsx)(c.SP,{value:"recent",children:"Recentes"})]}),(0,t.jsx)(c.nU,{value:"all",className:"mt-6",children:(0,t.jsx)(eh,{templates:f,viewMode:_,onSelect:ex,onEdit:eu,onDuplicate:ej,onDelete:ep,onExport:eg,onToggleFavorite:k})}),(0,t.jsx)(c.nU,{value:"favorites",className:"mt-6",children:(0,t.jsx)(eh,{templates:v,viewMode:_,onSelect:ex,onEdit:eu,onDuplicate:ej,onDelete:ep,onExport:eg,onToggleFavorite:k})}),(0,t.jsx)(c.nU,{value:"custom",className:"mt-6",children:(0,t.jsx)(eh,{templates:el,viewMode:_,onSelect:ex,onEdit:eu,onDuplicate:ej,onDelete:ep,onExport:eg,onToggleFavorite:k})}),(0,t.jsx)(c.nU,{value:"recent",className:"mt-6",children:(0,t.jsx)(eh,{templates:a.slice().sort((e,s)=>new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime()).slice(0,20),viewMode:_,onSelect:ex,onEdit:eu,onDuplicate:ej,onDelete:ep,onExport:eg,onToggleFavorite:k})})]}),D&&W&&(0,t.jsx)(q,{template:W,onClose:()=>U(!1),onEdit:()=>{U(!1),M(!0)},onUse:()=>er(W)}),V&&(0,t.jsx)(G,{template:W,onClose:()=>M(!1),onSave:async e=>{try{W?await T(W.id,e):await z(e),M(!1)}catch(e){console.error("Failed to save template:",e)}}}),Q&&(0,t.jsx)(ec,{mode:Q,template:"export"===Q&&W||void 0,onClose:()=>B(null),onImport:async e=>{for(let s of e)await z(s);B(null)},onExport:(e,s)=>{console.log("Exporting",e,s)}})]})},eh=e=>{let{templates:s,viewMode:a,onSelect:l,onEdit:i,onDuplicate:r,onDelete:n,onExport:c,onToggleFavorite:d}=e;return 0===s.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(h.Z,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum template encontrado"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Tente ajustar os filtros ou criar um novo template."})]}):(0,t.jsx)("div",{className:"grid"===a?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:s.map(e=>(0,t.jsx)(T,{template:e,viewMode:a,onSelect:()=>l(e),onEdit:()=>i(e),onDuplicate:()=>r(e),onDelete:()=>n(e),onExport:()=>c(e),onFavorite:()=>d(e.id)},e.id))})};function eu(){return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(ex,{})})}},18420:function(e,s,a){"use strict";a.d(s,{pm:function(){return x}});var t=a(2265);let l=0,i=new Map,r=e=>{if(i.has(e))return;let s=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,s)},n=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],d={toasts:[]};function o(e){d=n(d,e),c.forEach(e=>{e(d)})}function m(e){let{...s}=e,a=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>o({type:"DISMISS_TOAST",toastId:a});return o({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function x(){let[e,s]=t.useState(d);return t.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},27669:function(e,s,a){"use strict";a.d(s,{W:function(){return r}});var t=a(17272);let l=null,i=null;function r(){if(i)return i;let{url:e,anonKey:s}=function(){if(l)return l;let e="https://ofhzrdiadxigrvmrhaiz.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maHpyZGlhZHhpZ3J2bXJoYWl6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3MTE3NjEsImV4cCI6MjA3NTI4Nzc2MX0.u-F5m9lvYc1lx9aA-MoTZqCAa83QHGVk8uTh-_KPfCQ";if(!e||!s)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables");return l={url:e,anonKey:s}}();return i=(0,t.createBrowserClient)(e,s)}},58113:function(e,s,a){"use strict";a.d(s,{OQ:function(){return l},eI:function(){return i}});var t=a(27669);let l=(0,t.W)(),i=()=>(0,t.W)()}},function(e){e.O(0,[6137,7479,271,3347,6241,51,8846,4919,7272,5184,4019,5724,2971,2117,1744],function(){return e(e.s=24036)}),_N_E=e.O()}]);
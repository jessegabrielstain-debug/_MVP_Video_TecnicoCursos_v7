(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7770],{42792:function(e,s,t){Promise.resolve().then(t.bind(t,28118))},81973:function(e,s,t){"use strict";t.d(s,{I:function(){return r}});var a=t(57437),l=t(2265),i=t(22835);let r=l.forwardRef((e,s)=>{let{className:t,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});r.displayName="Input"},46393:function(e,s,t){"use strict";t.d(s,{_:function(){return o}});var a=t(57437),l=t(2265),i=t(6394),r=t(90535),n=t(22835);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.f,{ref:s,className:(0,n.cn)(c(),t),...l})});o.displayName=i.f.displayName},51098:function(e,s,t){"use strict";t.d(s,{SP:function(){return o},dr:function(){return c},mQ:function(){return n},nU:function(){return d}});var a=t(57437),l=t(2265),i=t(20271),r=t(22835);let n=i.fC,c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.aV,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});c.displayName=i.aV.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.xz,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});o.displayName=i.xz.displayName;let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.VY,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});d.displayName=i.VY.displayName},28118:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return V}});var a=t(57437),l=t(2265),i=t(51244),r=t(34029),n=t(92595),c=t(41875),o=t(41236),d=t(51098),u=t(81973),m=t(46393),x=t(48736),h=t(92934),j=t(42488),p=t(42208),f=t(92735),g=t(99897),v=t(11239),N=t(28124),y=t(91723),b=t(29374),w=t(17689),Z=t(64372),k=t(96215),P=t(99397),S=t(14438),C=t(27648);function V(){let[e,s]=(0,l.useState)([]),[t,V]=(0,l.useState)("upload"),[z,M]=(0,l.useState)({totalProjects:0,totalSlides:0,totalDuration:0,completedVideos:0,processingVideos:0}),[A,D]=(0,l.useState)(""),[O,T]=(0,l.useState)(null),[_,E]=(0,l.useState)(!1);(0,l.useEffect)(()=>{R()},[]);let R=async()=>{try{let e=await fetch("/api/timeline/projects");if(e.ok){let t=await e.json();if(t.success&&t.data){let e=t.data.map(e=>{var s,t,a,l,i,r,n;return{id:e.id,name:e.name,slideCount:(null===(i=e.metadata)||void 0===i?void 0:null===(l=i.timeline)||void 0===l?void 0:null===(a=l.tracks)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:null===(s=t.elements)||void 0===s?void 0:s.length)||0,duration:(null===(r=e.render_settings)||void 0===r?void 0:r.duration)||0,status:"completed"===e.status?"completed":"uploaded",createdAt:new Date(e.created_at),timelineData:null===(n=e.metadata)||void 0===n?void 0:n.timeline}});s(e),U(e)}}}catch(e){console.error("Error fetching projects",e)}},U=e=>{M({totalProjects:e.length,totalSlides:e.reduce((e,s)=>e+s.slideCount,0),totalDuration:e.reduce((e,s)=>e+s.duration,0),completedVideos:e.filter(e=>"completed"===e.status).length,processingVideos:e.filter(e=>"processing"===e.status).length})},Y=async()=>{if(!A.trim()){S.Am.error("Nome do projeto \xe9 obrigat\xf3rio");return}E(!0);try{let e=await fetch("/api/timeline/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:A,duration:60,fps:30,width:1920,height:1080,tracks:[]})});if(e.ok){let s=await e.json();s.success&&(T(s.data.id),S.Am.success("Projeto criado! Agora fa\xe7a o upload do PPTX."))}else S.Am.error("Erro ao criar projeto")}catch(e){S.Am.error("Erro ao criar projeto")}finally{E(!1)}},L=e=>{let{title:s,value:t,icon:l,color:i,subtitle:n}=e;return(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium text-gray-600",children:s}),(0,a.jsx)("div",{className:"p-2 rounded-md ".concat(i),children:l})]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t}),n&&(0,a.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:n})]})]})},I=e=>{let{project:s}=e;return(0,a.jsxs)(r.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(r.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(x.Z,{className:"w-8 h-8 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ll,{className:"text-sm",children:s.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[s.slideCount," slides • ",Math.floor(s.duration/60),":",(s.duration%60).toString().padStart(2,"0")]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["completed"===s.status&&(0,a.jsxs)(c.C,{className:"bg-green-100 text-green-800",children:[(0,a.jsx)(h.Z,{className:"w-3 h-3 mr-1"}),"Pronto"]}),"processing"===s.status&&(0,a.jsxs)(c.C,{className:"bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(j.Z,{className:"w-3 h-3 mr-1 animate-spin"}),"Processando"]})]})]})}),(0,a.jsx)(r.aY,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C.default,{href:"/editor-simple?project=".concat(s.id),passHref:!0,children:(0,a.jsxs)(n.z,{size:"sm",variant:"outline",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Editar / Preview"]})}),s.videoUrl&&(0,a.jsxs)(n.z,{size:"sm",variant:"outline",onClick:()=>window.open(s.videoUrl,"_blank"),children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Download"]})]})})]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"border-b bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(g.Z,{className:"w-7 h-7 text-blue-600"}),"Studio IA V\xeddeos (Real)"]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Sistema completo PPTX → Timeline → V\xeddeo"})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(c.C,{className:"bg-green-100 text-green-800",children:[(0,a.jsx)(v.Z,{className:"w-3 h-3 mr-1"}),"Sistema Operacional"]})})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(L,{title:"Total de Projetos",value:z.totalProjects,icon:(0,a.jsx)(x.Z,{className:"w-4 h-4"}),color:"bg-blue-100 text-blue-600",subtitle:"Apresenta\xe7\xf5es processadas"}),(0,a.jsx)(L,{title:"Total de Slides",value:z.totalSlides,icon:(0,a.jsx)(N.Z,{className:"w-4 h-4"}),color:"bg-green-100 text-green-600",subtitle:"Slides convertidos"}),(0,a.jsx)(L,{title:"Dura\xe7\xe3o Total",value:"".concat(Math.floor(z.totalDuration/60),":").concat((z.totalDuration%60).toString().padStart(2,"0")),icon:(0,a.jsx)(y.Z,{className:"w-4 h-4"}),color:"bg-purple-100 text-purple-600",subtitle:"Tempo de conte\xfado"}),(0,a.jsx)(L,{title:"V\xeddeos Gerados",value:z.completedVideos,icon:(0,a.jsx)(b.Z,{className:"w-4 h-4"}),color:"bg-orange-100 text-orange-600",subtitle:"Renderiza\xe7\xf5es conclu\xeddas"})]}),(0,a.jsxs)(d.mQ,{value:t,onValueChange:V,children:[(0,a.jsxs)(d.dr,{className:"grid w-full grid-cols-4",children:[(0,a.jsxs)(d.SP,{value:"upload",className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4"}),"Novo Projeto"]}),(0,a.jsxs)(d.SP,{value:"timeline",className:"flex items-center gap-2",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),"Meus Projetos"]}),(0,a.jsxs)(d.SP,{value:"videos",className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),"Galeria"]}),(0,a.jsxs)(d.SP,{value:"analytics",className:"flex items-center gap-2",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4"}),"Analytics"]})]}),(0,a.jsx)(d.nU,{value:"upload",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Criar Novo Projeto"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Comece criando um projeto e enviando sua apresenta\xe7\xe3o"})]}),(0,a.jsx)(r.aY,{children:O?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-4 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium text-blue-900",children:["Projeto: ",A]}),(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:["ID: ",O]})]}),(0,a.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>T(null),children:"Cancelar"})]}),(0,a.jsx)(i.M,{projectId:O,onUploadComplete:e=>{S.Am.success("Upload conclu\xeddo: ".concat(e.name))},onProcessingComplete:e=>{var s;S.Am.success("Projeto processado: ".concat(null===(s=e.processedData)||void 0===s?void 0:s.slideCount," slides encontrados")),R(),V("timeline"),T(null),D("")},allowMultiple:!1,maxFileSize:50})]}):(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-4 py-8",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m._,{htmlFor:"projectName",children:"Nome do Projeto"}),(0,a.jsx)(u.I,{id:"projectName",placeholder:"Ex: Treinamento NR-12",value:A,onChange:e=>D(e.target.value)})]}),(0,a.jsxs)(n.z,{className:"w-full",onClick:Y,disabled:_||!A.trim(),children:[_?(0,a.jsx)(j.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(P.Z,{className:"mr-2 h-4 w-4"}),"Criar Projeto"]})]})})]})}),(0,a.jsx)(d.nU,{value:"timeline",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Projetos Recentes"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Gerencie seus projetos e crie v\xeddeos"})]}),(0,a.jsx)(r.aY,{children:0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(Z.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum projeto ainda"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Crie um novo projeto para come\xe7ar"}),(0,a.jsxs)(n.z,{onClick:()=>V("upload"),children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 mr-2"}),"Novo Projeto"]})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,a.jsx)(I,{project:e},e.id))})})]})}),(0,a.jsx)(d.nU,{value:"videos",className:"space-y-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[(0,a.jsx)(r.ll,{children:"Galeria de V\xeddeos"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Seus v\xeddeos renderizados est\xe3o aqui"})]}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:["Funcionalidade de galeria em desenvolvimento.",(0,a.jsx)("br",{}),'Acesse os v\xeddeos atrav\xe9s da aba "Meus Projetos".']})})]})}),(0,a.jsx)(d.nU,{value:"analytics",className:"space-y-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{children:"Performance do Sistema"})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm",children:"Taxa de Sucesso"}),(0,a.jsx)("span",{className:"font-medium",children:"100%"})]}),(0,a.jsx)(o.E,{value:100,className:"h-2"})]})]})})})]})]})]})}},42488:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},96215:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},91723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},28124:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},99897:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},99397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},29374:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},11239:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},27648:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(72972),l=t.n(a)},6394:function(e,s,t){"use strict";t.d(s,{f:function(){return n}});var a=t(2265),l=t(66840),i=t(57437),r=a.forwardRef((e,s)=>(0,i.jsx)(l.WV.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));r.displayName="Label";var n=r}},function(e){e.O(0,[6137,7479,271,5644,2972,1244,2971,2117,1744],function(){return e(e.s=42792)}),_N_E=e.O()}]);
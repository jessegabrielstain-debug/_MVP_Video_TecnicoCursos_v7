exports.id=244,exports.ids=[244],exports.modules={399173:(e,t,a)=>{Promise.resolve().then(a.bind(a,551771)),Promise.resolve().then(a.bind(a,697754)),Promise.resolve().then(a.bind(a,581966)),Promise.resolve().then(a.bind(a,825146)),Promise.resolve().then(a.bind(a,108563)),Promise.resolve().then(a.bind(a,735265)),Promise.resolve().then(a.bind(a,243796)),Promise.resolve().then(a.bind(a,474008)),Promise.resolve().then(a.bind(a,754055))},962329:(e,t,a)=>{"use strict";a.d(t,{C:()=>i});var r=a(210326);a(517577);var n=a(630542),o=a(747405);let s=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,...a}){return r.jsx("div",{className:(0,o.cn)(s({variant:t}),e),...a})}},830370:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});var r=a(210326),n=a(517577),o=a(747405);let s=n.forwardRef(({className:e,value:t,...a},n)=>r.jsx("div",{ref:n,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:r.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));s.displayName="Progress"},55009:(e,t,a)=>{"use strict";a.d(t,{SP:()=>c,dr:()=>l,mQ:()=>i,nU:()=>u});var r=a(210326),n=a(517577),o=a(839648),s=a(747405);let i=o.fC,l=n.forwardRef(({className:e,...t},a)=>r.jsx(o.aV,{ref:a,className:(0,s.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));l.displayName=o.aV.displayName;let c=n.forwardRef(({className:e,...t},a)=>r.jsx(o.xz,{ref:a,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=o.xz.displayName;let u=n.forwardRef(({className:e,...t},a)=>r.jsx(o.VY,{ref:a,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));u.displayName=o.VY.displayName},858441:(e,t,a)=>{"use strict";a.d(t,{X:()=>i});var r=a(517577);let n=["readability","engagement","seo","accessibility","compliance"],o=e=>!!e&&"object"==typeof e&&"content"in e&&"metadata"in e&&"id"in e,s=e=>null==e?"":"string"==typeof e||Array.isArray(e)?e:o(e)?{...e,content:"string"==typeof e.content?e.content:"[binary-content]",createdAt:e.createdAt instanceof Date?e.createdAt.toISOString():e.createdAt}:JSON.parse(JSON.stringify(e)),i=()=>{let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[i,l]=(0,r.useState)(null),[c,u]=(0,r.useState)([]),[d,m]=(0,r.useState)([]),[f,p]=(0,r.useState)(null),[y,h]=(0,r.useState)([]),g=(0,r.useRef)(null),b=(0,r.useRef)(null),w=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/ai/models");if(!e.ok)throw Error("Failed to load AI models");let a=await e.json();t(a)}catch(e){l(e instanceof Error?e.message:"Failed to load models")}},[]),v=(0,r.useCallback)(async e=>{try{o(!0),l(null),g.current&&g.current.abort(),g.current=new AbortController;let t=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:g.current.signal});if(!t.ok)throw Error("Failed to generate content");let a=await t.json();return u(e=>[a,...e.slice(0,99)]),a}catch(e){if(e instanceof Error&&"AbortError"===e.name)return null;return l(e instanceof Error?e.message:"Failed to generate content"),null}finally{o(!1),g.current=null}},[]),k=(0,r.useCallback)(async e=>{try{o(!0),l(null);let t=await fetch("/api/ai/sentiment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!t.ok)throw Error("Failed to analyze sentiment");return await t.json()}catch(e){return l(e instanceof Error?e.message:"Failed to analyze sentiment"),null}finally{o(!1)}},[]),S=(0,r.useCallback)(async(e,t={})=>{try{o(!0),l(null);let{optimizationType:a=[...n],...r}=t,i=s(e),c=await fetch("/api/ai/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:i,optimizationType:a,...r})});if(!c.ok)throw Error("Failed to optimize content");return await c.json()}catch(e){return l(e instanceof Error?e.message:"Failed to optimize content"),null}finally{o(!1)}},[]),C=(0,r.useCallback)(async(e,t)=>{try{let a=y.find(e=>e.userId===t);if(a){let t={...e,parameters:{...e.parameters,tone:a.preferences.tone,style:a.preferences.contentStyle,complexity:a.preferences.complexity,language:a.preferences.language},context:{...e.context,userPreferences:a.preferences,userBehavior:a.behavior,userPerformance:a.performance}};return await v(t)}return await v(e)}catch(e){return l(e instanceof Error?e.message:"Failed to generate personalized content"),null}},[v,y]),j=(0,r.useCallback)(async(e,t)=>{try{let a=await fetch(`/api/ai/personalization/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update personalization profile");let r=await a.json();h(t=>t.map(t=>t.userId===e?r:t))}catch(e){l(e instanceof Error?e.message:"Failed to update personalization profile")}},[]),E=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analysisType:["content","performance","user_behavior","trends","compliance"],timeRange:"30d"})});if(!e.ok)throw Error("Failed to generate insights");let t=await e.json();m(e=>[...t,...e])}catch(e){console.error("Failed to generate insights:",e)}},[]),F=(0,r.useCallback)(()=>{b.current&&clearInterval(b.current),b.current=setInterval(()=>{E()},3e5),E()},[E]),O=(0,r.useCallback)(()=>{b.current&&(clearInterval(b.current),b.current=null)},[]),T=(0,r.useCallback)(async e=>{try{await fetch(`/api/ai/insights/${e}/read`,{method:"POST"}),m(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t))}catch(e){console.error("Failed to mark insight as read:",e)}},[]),x=(0,r.useCallback)(async(e,t)=>{try{if(!(await fetch(`/api/ai/insights/${e}/actions/${t}`,{method:"POST"})).ok)throw Error("Failed to execute insight action");m(t=>t.map(t=>t.id===e?{...t,isActioned:!0}:t))}catch(e){l(e instanceof Error?e.message:"Failed to execute insight action")}},[]),P=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/ai/stats");if(!e.ok)throw Error("Failed to load usage stats");let t=await e.json();p(t)}catch(e){console.error("Failed to load usage stats:",e)}},[]),N=(0,r.useCallback)(async e=>{try{let t=await fetch("/api/ai/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to get suggestions");return await t.json()}catch(e){return console.error("Failed to get smart suggestions:",e),[]}},[]),$=(0,r.useCallback)(async(e,t)=>{try{let a=await fetch("/api/ai/autocomplete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partialContent:e,context:t})});if(!a.ok)throw Error("Failed to auto-complete content");return await a.json()}catch(e){return console.error("Failed to auto-complete content:",e),[]}},[]),_=(0,r.useCallback)(async(e,t,a)=>{try{o(!0),l(null);let r=await fetch("/api/ai/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,targetLanguage:t,sourceLanguage:a})});if(!r.ok)throw Error("Failed to translate content");return(await r.json()).translatedContent}catch(e){return l(e instanceof Error?e.message:"Failed to translate content"),null}finally{o(!1)}},[]),J=(0,r.useCallback)(async(e,t,a)=>{try{o(!0),l(null);let r=await fetch("/api/ai/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,maxLength:t,style:a})});if(!r.ok)throw Error("Failed to summarize content");return(await r.json()).summary}catch(e){return l(e instanceof Error?e.message:"Failed to summarize content"),null}finally{o(!1)}},[]),I=(0,r.useCallback)(()=>{g.current&&(g.current.abort(),g.current=null,o(!1))},[]);return(0,r.useEffect)(()=>(w(),P(),F(),()=>{O(),g.current&&g.current.abort()}),[w,P,F,O]),{models:e,isLoading:a,error:i,generationHistory:c,insights:d,usageStats:f,personalizationProfiles:y,generateContent:v,generatePersonalizedContent:C,cancelGeneration:I,analyzeSentiment:k,optimizeContent:S,getSmartSuggestions:N,autoCompleteContent:$,translateContent:_,summarizeContent:J,updatePersonalizationProfile:j,generateInsights:E,markInsightAsRead:T,executeInsightAction:x,startInsightGeneration:F,stopInsightGeneration:O,loadModels:w,loadUsageStats:P}}},120485:(e,t,a)=>{"use strict";a.d(t,{H:()=>o});var r=a(517577);let n=e=>!!e&&"object"==typeof e&&"type"in e&&"string"==typeof e.type,o=e=>{let[t,a]=(0,r.useState)(null),[o,s]=(0,r.useState)(null),[i,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!0),[d,m]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),y=(0,r.useRef)(null),h=(0,r.useRef)(null),g=(0,r.useRef)(null),b=(0,r.useCallback)(async()=>{try{u(!0),m(null);let t=await fetch(`/api/collaboration/sessions/${e}`);if(!t.ok)throw Error("Failed to load collaboration session");let r=await t.json();a(r),w()}catch(e){m(e instanceof Error?e.message:"Failed to initialize collaboration")}finally{u(!1)}},[e]),w=(0,r.useCallback)(()=>{try{let t=`${process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:3001"}/collaboration/${e}`;y.current=new WebSocket(t),y.current.onopen=()=>{l(!0),m(null),g.current=setInterval(()=>{y.current?.readyState===WebSocket.OPEN&&y.current.send(JSON.stringify({type:"ping"}))},3e4)},y.current.onmessage=e=>{try{let t=JSON.parse(e.data);n(t)?v(t):console.warn("Ignoring malformed collaboration message",t)}catch(e){console.error("Failed to parse WebSocket message:",e)}},y.current.onclose=()=>{l(!1),g.current&&(clearInterval(g.current),g.current=null),h.current=setTimeout(()=>{w()},5e3)},y.current.onerror=e=>{console.error("WebSocket error:",e),m("Connection error occurred")}}catch(e){m("Failed to establish WebSocket connection")}},[e]),v=(0,r.useCallback)(e=>{switch(e.type){case"user_joined":a(t=>t?{...t,users:[...t.users.filter(t=>t.id!==e.user.id),e.user]}:null);break;case"user_left":a(t=>t?{...t,users:t.users.filter(t=>t.id!==e.userId)}:null);break;case"cursor_update":a(t=>t?{...t,users:t.users.map(t=>t.id===e.userId?{...t,cursor:e.cursor}:t)}:null);break;case"comment_added":a(t=>t?{...t,comments:[...t.comments,e.comment]}:null);break;case"comment_updated":a(t=>t?{...t,comments:t.comments.map(t=>t.id===e.comment.id?e.comment:t)}:null);break;case"version_created":a(t=>t?{...t,versions:[...t.versions,e.version]}:null);break;case"notification":a(t=>t?{...t,notifications:[...t.notifications,e.notification]}:null);break;case"element_changed":e.change&&window.dispatchEvent(new CustomEvent("collaboration:element_changed",{detail:e.change}));break;case"pong":break;default:console.warn("Unknown WebSocket message type:",e.type)}},[]),k=(0,r.useCallback)(e=>{y.current?.readyState===WebSocket.OPEN&&y.current.send(JSON.stringify(e))},[]),S=(0,r.useCallback)(async t=>{try{let a=await fetch(`/api/collaboration/sessions/${e}/join`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to join session");let r=await a.json();s(r),k({type:"join_session",user:r})}catch(e){m(e instanceof Error?e.message:"Failed to join session")}},[e,k]),C=(0,r.useCallback)(async()=>{try{o&&(await fetch(`/api/collaboration/sessions/${e}/leave`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o.id})}),k({type:"leave_session",userId:o.id})),y.current&&y.current.close(),s(null),a(null),l(!1)}catch(e){console.error("Failed to leave session:",e)}},[o,e,k]),j=(0,r.useCallback)(e=>{o&&k({type:"cursor_update",userId:o.id,cursor:e})},[o,k]),E=(0,r.useCallback)(async t=>{try{let a=await fetch(`/api/collaboration/sessions/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to add comment");let r=await a.json();return k({type:"comment_added",comment:r}),r}catch(e){return m(e instanceof Error?e.message:"Failed to add comment"),null}},[e,k]),F=(0,r.useCallback)(async(t,a)=>{try{let r=await fetch(`/api/collaboration/sessions/${e}/comments/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok)throw Error("Failed to update comment");let n=await r.json();return k({type:"comment_updated",comment:n}),n}catch(e){return m(e instanceof Error?e.message:"Failed to update comment"),null}},[e,k]),O=(0,r.useCallback)(async e=>F(e,{resolved:!0}),[F]),T=(0,r.useCallback)(async(a,r)=>{try{let n=await fetch(`/api/collaboration/sessions/${e}/comments/${a}/replies`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw Error("Failed to add reply");let o=await n.json(),s=t?.comments.find(e=>e.id===a);if(s){let e={...s,replies:[...s.replies,o]};k({type:"comment_updated",comment:e})}return o}catch(e){return m(e instanceof Error?e.message:"Failed to add reply"),null}},[e,t?.comments,k]),x=(0,r.useCallback)(async t=>{try{let a=await fetch(`/api/collaboration/sessions/${e}/versions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to create version");let r=await a.json();return k({type:"version_created",version:r}),r}catch(e){return m(e instanceof Error?e.message:"Failed to create version"),null}},[e,k]),P=(0,r.useCallback)(async(t,a)=>{try{let r=await fetch(`/api/collaboration/sessions/${e}/versions/${t}/merge`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetVersionId:a})});if(!r.ok)throw Error("Failed to merge version");return await r.json()}catch(e){return m(e instanceof Error?e.message:"Failed to merge version"),null}},[e]),N=(0,r.useCallback)(async t=>{try{let a=await fetch(`/api/collaboration/sessions/${e}/versions/${t}/revert`,{method:"POST"});if(!a.ok)throw Error("Failed to revert to version");return await a.json()}catch(e){return m(e instanceof Error?e.message:"Failed to revert to version"),null}},[e]),$=(0,r.useCallback)(async t=>{try{await fetch(`/api/collaboration/sessions/${e}/notifications/${t}/read`,{method:"POST"}),a(e=>e?{...e,notifications:e.notifications.map(e=>e.id===t?{...e,read:!0}:e)}:null)}catch(e){console.error("Failed to mark notification as read:",e)}},[e]),_=(0,r.useCallback)(async()=>{try{await fetch(`/api/collaboration/sessions/${e}/notifications/clear`,{method:"POST"}),a(e=>e?{...e,notifications:[]}:null)}catch(e){console.error("Failed to clear notifications:",e)}},[e]),J=(0,r.useCallback)(e=>{o&&k({type:"element_changed",change:{...e,id:`change_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,userId:o.id}})},[o,k]),I=(0,r.useCallback)(()=>{if(!t)return{totalUsers:0,activeUsers:0,totalComments:0,unresolvedComments:0,totalVersions:0,lastActivity:new Date,collaborationScore:0};let e=t.users.filter(e=>e.isOnline).length,a=t.comments.filter(e=>!e.resolved).length,r=Math.max(...t.comments.map(e=>e.timestamp.getTime()),...t.versions.map(e=>e.timestamp.getTime()),...t.notifications.map(e=>e.timestamp.getTime())),n=2*t.comments.length,o=3*t.versions.length;return{totalUsers:t.users.length,activeUsers:e,totalComments:t.comments.length,unresolvedComments:a,totalVersions:t.versions.length,lastActivity:new Date(r),collaborationScore:Math.min(100,n+o+5*e)}},[t]);return(0,r.useEffect)(()=>{t&&p(I())},[t,I]),(0,r.useEffect)(()=>(b(),()=>{y.current&&y.current.close(),h.current&&clearTimeout(h.current),g.current&&clearInterval(g.current)}),[b]),{session:t,currentUser:o,isConnected:i,isLoading:c,error:d,stats:f,joinSession:S,leaveSession:C,updateCursor:j,addComment:E,updateComment:F,resolveComment:O,addCommentReply:T,createVersion:x,mergeVersion:P,revertToVersion:N,markNotificationAsRead:$,clearAllNotifications:_,trackElementChange:J,initializeSession:b,connectWebSocket:w}}},871059:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(862881).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])}};
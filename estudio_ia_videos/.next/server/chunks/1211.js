"use strict";exports.id=1211,exports.ids=[1211],exports.modules={62329:(e,t,a)=>{a.d(t,{C:()=>l});var n=a(10326);a(17577);var r=a(79360),o=a(47405);let s=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return n.jsx("div",{className:(0,o.cn)(s({variant:t}),e),...a})}},30370:(e,t,a)=>{a.d(t,{E:()=>s});var n=a(10326),r=a(17577),o=a(47405);let s=r.forwardRef(({className:e,value:t,...a},r)=>n.jsx("div",{ref:r,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:n.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));s.displayName="Progress"},58441:(e,t,a)=>{a.d(t,{X:()=>l});var n=a(17577);let r=["readability","engagement","seo","accessibility","compliance"],o=e=>!!e&&"object"==typeof e&&"content"in e&&"metadata"in e&&"id"in e,s=e=>null==e?"":"string"==typeof e||Array.isArray(e)?e:o(e)?{...e,content:"string"==typeof e.content?e.content:"[binary-content]",createdAt:e.createdAt instanceof Date?e.createdAt.toISOString():e.createdAt}:JSON.parse(JSON.stringify(e)),l=()=>{let[e,t]=(0,n.useState)([]),[a,o]=(0,n.useState)(!1),[l,i]=(0,n.useState)(null),[c,u]=(0,n.useState)([]),[d,m]=(0,n.useState)([]),[y,f]=(0,n.useState)(null),[p,h]=(0,n.useState)([]),g=(0,n.useRef)(null),b=(0,n.useRef)(null),v=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/ai/models");if(!e.ok)throw Error("Failed to load AI models");let a=await e.json();t(a)}catch(e){i(e instanceof Error?e.message:"Failed to load models")}},[]),C=(0,n.useCallback)(async e=>{try{o(!0),i(null),g.current&&g.current.abort(),g.current=new AbortController;let t=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:g.current.signal});if(!t.ok)throw Error("Failed to generate content");let a=await t.json();return u(e=>[a,...e.slice(0,99)]),a}catch(e){if(e instanceof Error&&"AbortError"===e.name)return null;return i(e instanceof Error?e.message:"Failed to generate content"),null}finally{o(!1),g.current=null}},[]),w=(0,n.useCallback)(async e=>{try{o(!0),i(null);let t=await fetch("/api/ai/sentiment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!t.ok)throw Error("Failed to analyze sentiment");return await t.json()}catch(e){return i(e instanceof Error?e.message:"Failed to analyze sentiment"),null}finally{o(!1)}},[]),k=(0,n.useCallback)(async(e,t)=>{try{o(!0),i(null);let a=await fetch("/api/ai/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,...t})});if(!a.ok)throw Error("Failed to analyze content");return await a.json()}catch(e){return i(e instanceof Error?e.message:"Failed to analyze content"),{}}finally{o(!1)}},[]),S=(0,n.useCallback)(async(e,t={})=>{try{o(!0),i(null);let{optimizationType:a=[...r],...n}=t,l=s(e),c=await fetch("/api/ai/optimize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:l,optimizationType:a,...n})});if(!c.ok)throw Error("Failed to optimize content");return await c.json()}catch(e){return i(e instanceof Error?e.message:"Failed to optimize content"),null}finally{o(!1)}},[]),E=(0,n.useCallback)(async(e,t)=>{try{let a=p.find(e=>e.userId===t);if(a){let t={...e,parameters:{...e.parameters,tone:a.preferences.tone,style:a.preferences.contentStyle,complexity:a.preferences.complexity,language:a.preferences.language},context:{...e.context,userPreferences:a.preferences,userBehavior:a.behavior,userPerformance:a.performance}};return await C(t)}return await C(e)}catch(e){return i(e instanceof Error?e.message:"Failed to generate personalized content"),null}},[C,p]),F=(0,n.useCallback)(async(e,t)=>{try{let a=await fetch(`/api/ai/personalization/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update personalization profile");let n=await a.json();h(t=>t.map(t=>t.userId===e?n:t))}catch(e){i(e instanceof Error?e.message:"Failed to update personalization profile")}},[]),j=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/ai/insights",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analysisType:["content","performance","user_behavior","trends","compliance"],timeRange:"30d"})});if(!e.ok)throw Error("Failed to generate insights");let t=await e.json();m(e=>[...t,...e])}catch(e){console.error("Failed to generate insights:",e)}},[]),O=(0,n.useCallback)(()=>{b.current&&clearInterval(b.current),b.current=setInterval(()=>{j()},3e5),j()},[j]),T=(0,n.useCallback)(()=>{b.current&&(clearInterval(b.current),b.current=null)},[]),x=(0,n.useCallback)(async e=>{try{await fetch(`/api/ai/insights/${e}/read`,{method:"POST"}),m(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t))}catch(e){console.error("Failed to mark insight as read:",e)}},[]),I=(0,n.useCallback)(async(e,t)=>{try{if(!(await fetch(`/api/ai/insights/${e}/actions/${t}`,{method:"POST"})).ok)throw Error("Failed to execute insight action");m(t=>t.map(t=>t.id===e?{...t,isActioned:!0}:t))}catch(e){i(e instanceof Error?e.message:"Failed to execute insight action")}},[]),N=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/ai/stats");if(!e.ok)throw Error("Failed to load usage stats");let t=await e.json();f(t)}catch(e){console.error("Failed to load usage stats:",e)}},[]),z=(0,n.useCallback)(async e=>{try{let t=await fetch("/api/ai/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to get suggestions");return await t.json()}catch(e){return console.error("Failed to get smart suggestions:",e),[]}},[]),A=(0,n.useCallback)(async(e,t)=>{try{let a=await fetch("/api/ai/autocomplete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partialContent:e,context:t})});if(!a.ok)throw Error("Failed to auto-complete content");return await a.json()}catch(e){return console.error("Failed to auto-complete content:",e),[]}},[]),P=(0,n.useCallback)(async(e,t,a)=>{try{o(!0),i(null);let n=await fetch("/api/ai/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,targetLanguage:t,sourceLanguage:a})});if(!n.ok)throw Error("Failed to translate content");return(await n.json()).translatedContent}catch(e){return i(e instanceof Error?e.message:"Failed to translate content"),null}finally{o(!1)}},[]),D=(0,n.useCallback)(async(e,t,a)=>{try{o(!0),i(null);let n=await fetch("/api/ai/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,maxLength:t,style:a})});if(!n.ok)throw Error("Failed to summarize content");return(await n.json()).summary}catch(e){return i(e instanceof Error?e.message:"Failed to summarize content"),null}finally{o(!1)}},[]),U=(0,n.useCallback)(()=>{g.current&&(g.current.abort(),g.current=null,o(!1))},[]);return(0,n.useEffect)(()=>(v(),N(),O(),()=>{T(),g.current&&g.current.abort()}),[v,N,O,T]),{models:e,isLoading:a,error:l,generationHistory:c,insights:d,usageStats:y,personalizationProfiles:p,generateContent:C,generatePersonalizedContent:E,cancelGeneration:U,analyzeSentiment:w,analyzeContent:k,optimizeContent:S,getSmartSuggestions:z,autoCompleteContent:A,translateContent:P,summarizeContent:D,updatePersonalizationProfile:F,generateInsights:j,markInsightAsRead:x,executeInsightAction:I,startInsightGeneration:O,stopInsightGeneration:T,loadModels:v,loadUsageStats:N}}},20485:(e,t,a)=>{a.d(t,{H:()=>o});var n=a(17577),r=a(87007);let o=e=>{let t=(0,r.eI)(),[a,o]=(0,n.useState)(null),[s,l]=(0,n.useState)(null),[i,c]=(0,n.useState)(!1),[u,d]=(0,n.useState)(!0),[m,y]=(0,n.useState)(null),[f,p]=(0,n.useState)(null),h=(0,n.useRef)(null),g=(0,n.useCallback)(async()=>{if(!e){d(!1);return}try{d(!0),y(null);let a={id:`session_${e}`,projectId:e,users:[],comments:[],versions:[],notifications:[],currentVersion:"v1",isRecording:!1,settings:{autoSave:!0,autoSaveInterval:3e4,allowComments:!0,allowVersioning:!0,maxVersions:50,notificationSettings:{comments:!0,mentions:!0,userActivity:!0,versionChanges:!0}}};o(a);let{data:{user:n}}=await t.auth.getUser();if(n){let e={id:n.id,name:n.user_metadata?.name||n.email||"Anonymous",email:n.email||"",avatar:n.user_metadata?.avatar_url,color:"#"+Math.floor(16777215*Math.random()).toString(16),isOnline:!0,lastSeen:new Date,role:"editor"};l(e),b(e)}}catch(e){y(e instanceof Error?e.message:"Failed to initialize collaboration")}finally{d(!1)}},[e,t]),b=(0,n.useCallback)(a=>{if(!h.current&&e)try{let n=t.channel(`collaboration:${e}`,{config:{presence:{key:a.id},broadcast:{self:!1}}});n.on("presence",{event:"sync"},()=>{let e=n.presenceState(),t=[];Object.values(e).forEach(e=>{e.forEach(e=>t.push(e))}),o(e=>e?{...e,users:t}:null)}).on("presence",{event:"join"},({key:e,newPresences:t})=>{}).on("presence",{event:"leave"},({key:e,leftPresences:t})=>{}).on("broadcast",{event:"cursor-move"},({payload:e})=>{o(t=>t?{...t,users:t.users.map(t=>t.id===e.userId?{...t,cursor:e.cursor}:t)}:null)}).on("broadcast",{event:"comment-added"},({payload:e})=>{o(t=>t?{...t,comments:[...t.comments,e.comment]}:null)}).on("broadcast",{event:"comment-updated"},({payload:e})=>{o(t=>t?{...t,comments:t.comments.map(t=>t.id===e.comment.id?e.comment:t)}:null)}).on("broadcast",{event:"version-created"},({payload:e})=>{o(t=>t?{...t,versions:[...t.versions,e.version]}:null)}).on("broadcast",{event:"element-changed"},({payload:e})=>{e.change&&window.dispatchEvent(new CustomEvent("collaboration:element_changed",{detail:e.change}))}).subscribe(async e=>{"SUBSCRIBED"===e?(c(!0),y(null),await n.track(a)):"CHANNEL_ERROR"===e?(y("Connection error"),c(!1)):"TIMED_OUT"===e&&(y("Connection timeout"),c(!1))}),h.current=n}catch(e){y("Failed to establish Realtime connection")}},[e,t]),v=(0,n.useCallback)(async e=>{},[]),C=(0,n.useCallback)(async()=>{h.current&&(t.removeChannel(h.current),h.current=null,c(!1),o(null),l(null))},[t]),w=(0,n.useCallback)(e=>{s&&h.current&&h.current.send({type:"broadcast",event:"cursor-move",payload:{userId:s.id,cursor:e}})},[s]),k=(0,n.useCallback)(async e=>{let t={...e,id:crypto.randomUUID(),timestamp:new Date,resolved:!1,replies:[]};return o(e=>e?{...e,comments:[...e.comments,t]}:null),h.current?.send({type:"broadcast",event:"comment-added",payload:{comment:t}}),t},[]),S=(0,n.useCallback)(async(e,t)=>{let n=a?.comments.find(t=>t.id===e);if(!n)return null;let r={...n,...t};return o(t=>t?{...t,comments:t.comments.map(t=>t.id===e?r:t)}:null),h.current?.send({type:"broadcast",event:"comment-updated",payload:{comment:r}}),r},[a?.comments]),E=(0,n.useCallback)(async e=>S(e,{resolved:!0}),[S]),F=(0,n.useCallback)(async(e,t)=>{let n={...t,id:crypto.randomUUID(),timestamp:new Date},r=a?.comments.find(t=>t.id===e);if(r){let t={...r,replies:[...r.replies,n]};o(a=>a?{...a,comments:a.comments.map(a=>a.id===e?t:a)}:null),h.current?.send({type:"broadcast",event:"comment-updated",payload:{comment:t}})}return n},[a?.comments]),j=(0,n.useCallback)(async e=>{let t={...e,id:crypto.randomUUID(),timestamp:new Date,isMerged:!1};return o(e=>e?{...e,versions:[...e.versions,t]}:null),h.current?.send({type:"broadcast",event:"version-created",payload:{version:t}}),t},[]),O=(0,n.useCallback)(async(e,t)=>({success:!0}),[]),T=(0,n.useCallback)(async e=>({success:!0}),[]),x=(0,n.useCallback)(async e=>{o(t=>t?{...t,notifications:t.notifications.map(t=>t.id===e?{...t,read:!0}:t)}:null)},[]),I=(0,n.useCallback)(async()=>{o(e=>e?{...e,notifications:[]}:null)},[]),N=(0,n.useCallback)(e=>{if(s){let t={...e,id:`change_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,userId:s.id};h.current?.send({type:"broadcast",event:"element-changed",payload:{change:t}})}},[s]),z=(0,n.useCallback)((e,t)=>{h.current&&i&&h.current.send({type:"broadcast",event:e,payload:t})},[i]),A=(0,n.useCallback)(()=>{if(!a)return{totalUsers:0,activeUsers:0,totalComments:0,unresolvedComments:0,totalVersions:0,lastActivity:new Date,collaborationScore:0};let e=a.users.filter(e=>e.isOnline).length,t=a.comments.filter(e=>!e.resolved).length,n=new Date,r=2*a.comments.length,o=3*a.versions.length;return{totalUsers:a.users.length,activeUsers:e,totalComments:a.comments.length,unresolvedComments:t,totalVersions:a.versions.length,lastActivity:n,collaborationScore:Math.min(100,r+o+5*e)}},[a]);(0,n.useEffect)(()=>{a&&p(A())},[a,A]),(0,n.useEffect)(()=>(g(),()=>{h.current&&t.removeChannel(h.current)}),[g,t]);let P=(0,n.useCallback)(async(t,a)=>`https://example.com/share/${e}`,[e]);return{session:a,currentUser:s,isConnected:i,isLoading:u,error:m,stats:f,joinSession:v,leaveSession:C,updateCursor:w,inviteUser:(0,n.useCallback)(async(e,t)=>{console.log(`Invited ${e} as ${t}`)},[]),addComment:k,updateComment:S,resolveComment:E,addCommentReply:F,createVersion:j,mergeVersion:O,revertToVersion:T,markNotificationAsRead:x,clearAllNotifications:I,trackElementChange:N,broadcastUpdate:z,shareDocument:P,initializeSession:g,connectWebSocket:()=>{}}}}};
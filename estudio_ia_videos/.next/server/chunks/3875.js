exports.id=3875,exports.ids=[3875],exports.modules={422133:()=>{},327918:()=>{},247026:(e,t)=>{class i{constructor(){this._array=[],this._set=new Map}static fromArray(e,t){let n=new i;for(let i=0,a=e.length;i<a;i++)n.add(e[i],t);return n}size(){return this._set.size}add(e,t){let i=this.has(e),n=this._array.length;(!i||t)&&this._array.push(e),i||this._set.set(e,n)}has(e){return this._set.has(e)}indexOf(e){let t=this._set.get(e);if(t>=0)return t;throw Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw Error("No element indexed by "+e)}toArray(){return this._array.slice()}}t.I=i},64703:(e,t,i)=>{let n=i(102327);t.encode=function(e){let t,i="",a=e<0?(-e<<1)+1:(e<<1)+0;do t=31&a,(a>>>=5)>0&&(t|=32),i+=n.encode(t);while(a>0);return i}},102327:(e,t)=>{let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<i.length)return i[e];throw TypeError("Must be between 0 and 63: "+e)}},560784:(e,t)=>{t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,i,n,a){if(0===i.length)return -1;let o=function e(i,n,a,o,s,r){let c=Math.floor((n-i)/2)+i,l=s(a,o[c],!0);return 0===l?c:l>0?n-c>1?e(c,n,a,o,s,r):r==t.LEAST_UPPER_BOUND?n<o.length?n:-1:c:c-i>1?e(i,c,a,o,s,r):r==t.LEAST_UPPER_BOUND?c:i<0?-1:i}(-1,i.length,e,i,n,a||t.GREATEST_LOWER_BOUND);if(o<0)return -1;for(;o-1>=0&&0===n(i[o],i[o-1],!0);)--o;return o}},977330:(e,t,i)=>{let n=i(355259);class a{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,t){this._array.forEach(e,t)}add(e){(function(e,t){let i=e.generatedLine,a=t.generatedLine,o=e.generatedColumn,s=t.generatedColumn;return a>i||a==i&&s>=o||0>=n.compareByGeneratedPositionsInflated(e,t)})(this._last,e)?this._last=e:this._sorted=!1,this._array.push(e)}toArray(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}t.H=a},837159:(e,t,i)=>{"use strict";let n=i(592048),a=i(555315);e.exports=function(){return new Promise((e,t)=>{let i=a.join(__dirname,"mappings.wasm");n.readFile(i,null,(i,n)=>{if(i){t(i);return}e(n.buffer)})})},e.exports.initialize=e=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}},169498:(e,t,i)=>{let n=i(355259),a=i(560784),o=i(247026).I;i(64703);let s=i(837159),r=i(568803),c=Symbol("smcInternal");class l{constructor(e,t){if(e==c)return Promise.resolve(this);return function(e,t){let i=e;return"string"==typeof e&&(i=n.parseSourceMapInput(e)),Promise.resolve(null!=i.sections?new u(i,t):new p(i,t))}(e,t)}static initialize(e){s.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,t){return p.fromSourceMap(e,t)}static async with(e,t,i){let n=await new l(e,t);try{return await i(n)}finally{n.destroy()}}eachMapping(e,t,i){throw Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw Error("Subclasses must implement destroy")}}l.prototype._version=3,l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,t.SourceMapConsumer=l;class p extends l{constructor(e,t){return super(c).then(i=>{let a=e;"string"==typeof e&&(a=n.parseSourceMapInput(e));let s=n.getArg(a,"version"),c=n.getArg(a,"sources").map(String),l=n.getArg(a,"names",[]),p=n.getArg(a,"sourceRoot",null),u=n.getArg(a,"sourcesContent",null),d=n.getArg(a,"mappings"),m=n.getArg(a,"file",null);if(s!=i._version)throw Error("Unsupported version: "+s);return i._sourceLookupCache=new Map,i._names=o.fromArray(l.map(String),!0),i._sources=o.fromArray(c,!0),i._absoluteSources=o.fromArray(i._sources.toArray().map(function(e){return n.computeSourceURL(p,e,t)}),!0),i.sourceRoot=p,i.sourcesContent=u,i._mappings=d,i._sourceMapURL=t,i.file=m,i._computedColumnSpans=!1,i._mappingsPtr=0,i._wasm=null,r().then(e=>(i._wasm=e,i))})}_findSourceIndex(e){let t=this._sourceLookupCache.get(e);if("number"==typeof t)return t;let i=n.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let t=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,t),t}let a=n.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(a)){let t=this._absoluteSources.indexOf(a);return this._sourceLookupCache.set(e,t),t}return -1}static fromSourceMap(e,t){return new p(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return 0===this._mappingsPtr&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,t=e.length,i=this._wasm.exports.allocate_mappings(t),n=new Uint8Array(this._wasm.exports.memory.buffer,i,t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);let a=this._wasm.exports.parse_mappings(i);if(!a){let e=this._wasm.exports.get_last_error(),t=`Error parsing mappings (code ${e}): `;switch(e){case 1:t+="the mappings contained a negative line, column, source index, or name index";break;case 2:t+="the mappings contained a number larger than 2**32";break;case 3:t+="reached EOF while in the middle of parsing a VLQ";break;case 4:t+="invalid base 64 character while parsing a VLQ";break;default:t+="unknown error code"}throw Error(t)}this._mappingsPtr=a}eachMapping(e,t,i){let n=t||null,a=i||l.GENERATED_ORDER;this._wasm.withMappingCallback(t=>{null!==t.source&&(t.source=this._absoluteSources.at(t.source),null!==t.name&&(t.name=this._names.at(t.name))),this._computedColumnSpans&&null===t.lastGeneratedColumn&&(t.lastGeneratedColumn=1/0),e.call(n,t)},()=>{switch(a){case l.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case l.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let t=n.getArg(e,"source"),i=n.getArg(e,"line"),a=e.column||0;if((t=this._findSourceIndex(t))<0)return[];if(i<1)throw Error("Line numbers must be >= 1");if(a<0)throw Error("Column numbers must be >= 0");let o=[];return this._wasm.withMappingCallback(e=>{let t=e.lastGeneratedColumn;this._computedColumnSpans&&null===t&&(t=1/0),o.push({line:e.generatedLine,column:e.generatedColumn,lastColumn:t})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),t,i-1,"column"in e,a)}),o}destroy(){0!==this._mappingsPtr&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let t;let i={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")};if(i.generatedLine<1)throw Error("Line numbers must be >= 1");if(i.generatedColumn<0)throw Error("Column numbers must be >= 0");let a=n.getArg(e,"bias",l.GREATEST_LOWER_BOUND);if(null==a&&(a=l.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>t=e,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),i.generatedLine-1,i.generatedColumn,a)}),t&&t.generatedLine===i.generatedLine){let e=n.getArg(t,"source",null);null!==e&&(e=this._absoluteSources.at(e));let i=n.getArg(t,"name",null);return null!==i&&(i=this._names.at(i)),{source:e,line:n.getArg(t,"originalLine",null),column:n.getArg(t,"originalColumn",null),name:i}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})}sourceContentFor(e,t){if(!this.sourcesContent)return null;let i=this._findSourceIndex(e);if(i>=0)return this.sourcesContent[i];if(t)return null;throw Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let t,i=n.getArg(e,"source");if((i=this._findSourceIndex(i))<0)return{line:null,column:null,lastColumn:null};let a={source:i,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")};if(a.originalLine<1)throw Error("Line numbers must be >= 1");if(a.originalColumn<0)throw Error("Column numbers must be >= 0");let o=n.getArg(e,"bias",l.GREATEST_LOWER_BOUND);if(null==o&&(o=l.GREATEST_LOWER_BOUND),this._wasm.withMappingCallback(e=>t=e,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),a.source,a.originalLine-1,a.originalColumn,o)}),t&&t.source===a.source){let e=t.lastGeneratedColumn;return this._computedColumnSpans&&null===e&&(e=1/0),{line:n.getArg(t,"generatedLine",null),column:n.getArg(t,"generatedColumn",null),lastColumn:e}}return{line:null,column:null,lastColumn:null}}}p.prototype.consumer=l;class u extends l{constructor(e,t){return super(c).then(i=>{let a=e;"string"==typeof e&&(a=n.parseSourceMapInput(e));let o=n.getArg(a,"version"),s=n.getArg(a,"sections");if(o!=i._version)throw Error("Unsupported version: "+o);let r={line:-1,column:0};return Promise.all(s.map(e=>{if(e.url)throw Error("Support for url field in sections not implemented.");let i=n.getArg(e,"offset"),a=n.getArg(i,"line"),o=n.getArg(i,"column");if(a<r.line||a===r.line&&o<r.column)throw Error("Section offsets must be ordered and non-overlapping.");return r=i,new l(n.getArg(e,"map"),t).then(e=>({generatedOffset:{generatedLine:a+1,generatedColumn:o+1},consumer:e}))})).then(e=>(i._sections=e,i))})}get sources(){let e=[];for(let t=0;t<this._sections.length;t++)for(let i=0;i<this._sections[t].consumer.sources.length;i++)e.push(this._sections[t].consumer.sources[i]);return e}originalPositionFor(e){let t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},i=a.search(t,this._sections,function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn}),o=this._sections[i];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,t){for(let t=0;t<this._sections.length;t++){let i=this._sections[t].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let t=0;t<this._sections.length;t++){let{consumer:i}=this._sections[t];if(-1!==i._findSourceIndex(e))return t}return -1}generatedPositionFor(e){let t=this._findSectionIndex(n.getArg(e,"source")),i=t>=0?this._sections[t]:null,a=t>=0&&t+1<this._sections.length?this._sections[t+1]:null,o=i&&i.consumer.generatedPositionFor(e);if(o&&null!==o.line){let e=i.generatedOffset.generatedLine-1,t=i.generatedOffset.generatedColumn-1;return 1===o.line&&(o.column+=t,"number"==typeof o.lastColumn&&(o.lastColumn+=t)),o.lastColumn===1/0&&a&&o.line===a.generatedOffset.generatedLine&&(o.lastColumn=a.generatedOffset.generatedColumn-2),o.line+=e,o}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let t=this._findSectionIndex(n.getArg(e,"source")),i=t>=0?this._sections[t]:null,a=t>=0&&t+1<this._sections.length?this._sections[t+1]:null;return i?i.consumer.allGeneratedPositionsFor(e).map(e=>{let t=i.generatedOffset.generatedLine-1,n=i.generatedOffset.generatedColumn-1;return 1===e.line&&(e.column+=n,"number"==typeof e.lastColumn&&(e.lastColumn+=n)),e.lastColumn===1/0&&a&&e.line===a.generatedOffset.generatedLine&&(e.lastColumn=a.generatedOffset.generatedColumn-2),e.line+=t,e}):[]}eachMapping(e,t,i){this._sections.forEach((n,a)=>{let o=a+1<this._sections.length?this._sections[a+1]:null,{generatedOffset:s}=n,r=s.generatedLine-1,c=s.generatedColumn-1;n.consumer.eachMapping(function(t){1===t.generatedLine&&(t.generatedColumn+=c,"number"==typeof t.lastGeneratedColumn&&(t.lastGeneratedColumn+=c)),t.lastGeneratedColumn===1/0&&o&&t.generatedLine===o.generatedOffset.generatedLine&&(t.lastGeneratedColumn=o.generatedOffset.generatedColumn-2),t.generatedLine+=r,e.call(this,t)},t,i)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}}},542506:(e,t,i)=>{let n=i(64703),a=i(355259),o=i(247026).I,s=i(977330).H;class r{constructor(e){e||(e={}),this._file=a.getArg(e,"file",null),this._sourceRoot=a.getArg(e,"sourceRoot",null),this._skipValidation=a.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}static fromSourceMap(e){let t=e.sourceRoot,i=new r({file:e.file,sourceRoot:t});return e.eachMapping(function(e){let n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=a.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),i.addMapping(n)}),e.sources.forEach(function(n){let o=n;null!==t&&(o=a.relative(t,n)),i._sources.has(o)||i._sources.add(o);let s=e.sourceContentFor(n);null!=s&&i.setSourceContent(n,s)}),i}addMapping(e){let t=a.getArg(e,"generated"),i=a.getArg(e,"original",null),n=a.getArg(e,"source",null),o=a.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,i,n,o),null==n||(n=String(n),this._sources.has(n)||this._sources.add(n)),null==o||(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=i&&i.line,originalColumn:null!=i&&i.column,source:n,name:o})}setSourceContent(e,t){let i=e;null!=this._sourceRoot&&(i=a.relative(this._sourceRoot,i)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(i)]=t):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(i)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))}applySourceMap(e,t,i){let n=t;if(null==t){if(null==e.file)throw Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}let s=this._sourceRoot;null!=s&&(n=a.relative(s,n));let r=this._mappings.toArray().length>0?new o:this._sources,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===n&&null!=t.originalLine){let n=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=n.source&&(t.source=n.source,null!=i&&(t.source=a.join(i,t.source)),null!=s&&(t.source=a.relative(s,t.source)),t.originalLine=n.line,t.originalColumn=n.column,null!=n.name&&(t.name=n.name))}let o=t.source;null==o||r.has(o)||r.add(o);let l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=r,this._names=c,e.sources.forEach(function(t){let n=e.sourceContentFor(t);null!=n&&(null!=i&&(t=a.join(i,t)),null!=s&&(t=a.relative(s,t)),this.setSourceContent(t,n))},this)}_validateMapping(e,t,i,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!i&&!n);else if(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&i);else throw Error("Invalid mapping: "+JSON.stringify({generated:e,source:i,original:t,name:n}))}_serializeMappings(){let e,t,i,o,s=0,r=1,c=0,l=0,p=0,u=0,d="",m=this._mappings.toArray();for(let h=0,f=m.length;h<f;h++){if(t=m[h],e="",t.generatedLine!==r)for(s=0;t.generatedLine!==r;)e+=";",r++;else if(h>0){if(!a.compareByGeneratedPositionsInflated(t,m[h-1]))continue;e+=","}e+=n.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=n.encode(o-u),u=o,e+=n.encode(t.originalLine-1-l),l=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(i=this._names.indexOf(t.name),e+=n.encode(i-p),p=i)),d+=e}return d}_generateSourcesContent(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=a.relative(t,e));let i=a.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}}r.prototype._version=3,t.h=r},778152:(e,t,i)=>{let n=i(542506).h,a=i(355259),o=/(\r?\n)/,s="$$$isSourceNode$$$";class r{constructor(e,t,i,n,a){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==i?null:i,this.name=null==a?null:a,this[s]=!0,null!=n&&this.add(n)}static fromStringWithSourceMap(e,t,i){let n;let s=new r,c=e.split(o),l=0,p=function(){return e()+(e()||"");function e(){return l<c.length?c[l++]:void 0}},u=1,d=0,m=null;return t.eachMapping(function(e){if(null!==m){if(u<e.generatedLine)h(m,p()),u++,d=0;else{let t=(n=c[l]||"").substr(0,e.generatedColumn-d);c[l]=n.substr(e.generatedColumn-d),d=e.generatedColumn,h(m,t),m=e;return}}for(;u<e.generatedLine;)s.add(p()),u++;d<e.generatedColumn&&(n=c[l]||"",s.add(n.substr(0,e.generatedColumn)),c[l]=n.substr(e.generatedColumn),d=e.generatedColumn),m=e},this),l<c.length&&(m&&h(m,p()),s.add(c.splice(l).join(""))),t.sources.forEach(function(e){let n=t.sourceContentFor(e);null!=n&&(null!=i&&(e=a.join(i,e)),s.setSourceContent(e,n))}),s;function h(e,t){if(null===e||void 0===e.source)s.add(t);else{let n=i?a.join(i,e.source):e.source;s.add(new r(e.originalLine,e.originalColumn,n,t,e.name))}}}add(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else if(e[s]||"string"==typeof e)e&&this.children.push(e);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let t=e.length-1;t>=0;t--)this.prepend(e[t]);else if(e[s]||"string"==typeof e)this.children.unshift(e);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let t;for(let i=0,n=this.children.length;i<n;i++)(t=this.children[i])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let t,i;let n=this.children.length;if(n>0){for(i=0,t=[];i<n-1;i++)t.push(this.children[i]),t.push(e);t.push(this.children[i]),this.children=t}return this}replaceRight(e,t){let i=this.children[this.children.length-1];return i[s]?i.replaceRight(e,t):"string"==typeof i?this.children[this.children.length-1]=i.replace(e,t):this.children.push("".replace(e,t)),this}setSourceContent(e,t){this.sourceContents[a.toSetString(e)]=t}walkSourceContents(e){for(let t=0,i=this.children.length;t<i;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);let t=Object.keys(this.sourceContents);for(let i=0,n=t.length;i<n;i++)e(a.fromSetString(t[i]),this.sourceContents[t[i]])}toString(){let e="";return this.walk(function(t){e+=t}),e}toStringWithSourceMap(e){let t={code:"",line:1,column:0},i=new n(e),a=!1,o=null,s=null,r=null,c=null;return this.walk(function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?((o!==n.source||s!==n.line||r!==n.column||c!==n.name)&&i.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),o=n.source,s=n.line,r=n.column,c=n.name,a=!0):a&&(i.addMapping({generated:{line:t.line,column:t.column}}),o=null,a=!1);for(let s=0,r=e.length;s<r;s++)10===e.charCodeAt(s)?(t.line++,t.column=0,s+1===r?(o=null,a=!1):a&&i.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++}),this.walkSourceContents(function(e,t){i.setSourceContent(e,t)}),{code:t.code,map:i}}}},350964:(e,t,i)=>{"use strict";e.exports="function"==typeof URL?URL:i(917360).URL},355259:(e,t,i)=>{let n=i(350964);t.getArg=function(e,t,i){if(t in e)return e[t];if(3==arguments.length)return i;throw Error('"'+t+'" is a required argument.')};let a=!("__proto__"in Object.create(null));function o(e){return e}function s(e){if(!e)return!1;let t=e.length;if(t<9||95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(let i=t-10;i>=0;i--)if(36!==e.charCodeAt(i))return!1;return!0}function r(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=a?o:function(e){return s(e)?"$"+e:e},t.fromSetString=a?o:function(e){return s(e)?e.slice(1):e},t.compareByGeneratedPositionsInflated=function(e,t){let i=e.generatedLine-t.generatedLine;return 0!==i||0!=(i=e.generatedColumn-t.generatedColumn)||0!==(i=r(e.source,t.source))||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)?i:r(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))};let c="http:",l=`${c}//host`;function p(e){return t=>{let i=h(t),a=d(t),o=new n(t,a);e(o);let s=o.toString();return"absolute"===i?s:"scheme-relative"===i?s.slice(c.length):"path-absolute"===i?s.slice(l.length):f(a,s)}}function u(e,t){return new n(e,t).toString()}function d(e){let t=e.split("..").length-1,i=function(e,t){let i=0;for(;;){let e="p"+i++;if(-1===t.indexOf(e))return e}}(0,e),n=`${l}/`;for(let e=0;e<t;e++)n+=`${i}/`;return n}let m=/^[A-Za-z0-9\+\-\.]+:/;function h(e){return"/"===e[0]?"/"===e[1]?"scheme-relative":"path-absolute":m.test(e)?"absolute":"path-relative"}function f(e,t){"string"==typeof e&&(e=new n(e)),"string"==typeof t&&(t=new n(t));let i=t.pathname.split("/"),a=e.pathname.split("/");for(a.length>0&&!a[a.length-1]&&a.pop();i.length>0&&a.length>0&&i[0]===a[0];)i.shift(),a.shift();return a.map(()=>"..").concat(i).join("/")+t.search+t.hash}let g=p(e=>{e.pathname=e.pathname.replace(/\/?$/,"/")}),v=p(e=>{e.href=new n(".",e.toString()).toString()}),x=p(e=>{});function b(e,t){let i=h(t),n=h(e);if(e=g(e),"absolute"===i)return u(t,void 0);if("absolute"===n)return u(t,e);if("scheme-relative"===i)return x(t);if("scheme-relative"===n)return u(t,u(e,l)).slice(c.length);if("path-absolute"===i)return x(t);if("path-absolute"===n)return u(t,u(e,l)).slice(l.length);let a=d(t+e),o=u(t,u(e,a));return f(a,o)}t.normalize=x,t.join=b,t.relative=function(e,t){let i=function(e,t){if(h(e)!==h(t))return null;let i=d(e+t),a=new n(e,i),o=new n(t,i);try{new n("",o.toString())}catch(e){return null}return o.protocol!==a.protocol||o.user!==a.user||o.password!==a.password||o.hostname!==a.hostname||o.port!==a.port?null:f(a,o)}(e,t);return"string"==typeof i?i:x(t)},t.computeSourceURL=function(e,t,i){e&&"path-absolute"===h(t)&&(t=t.replace(/^\//,""));let n=x(t||"");return e&&(n=b(e,n)),i&&(n=b(v(i),n)),n}},568803:(e,t,i)=>{let n=i(837159);function a(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let o=null;e.exports=function(){if(o)return o;let e=[];return o=n().then(t=>WebAssembly.instantiate(t,{env:{mapping_callback(t,i,n,o,s,r,c,l,p,u){let d=new a;d.generatedLine=t+1,d.generatedColumn=i,n&&(d.lastGeneratedColumn=o-1),s&&(d.source=r,d.originalLine=c+1,d.originalColumn=l,p&&(d.name=u)),e[e.length-1](d)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(t=>({exports:t.instance.exports,withMappingCallback:(t,i)=>{e.push(t);try{i()}finally{e.pop()}}})).then(null,e=>{throw o=null,e})}},263757:(e,t,i)=>{i(542506).h,t.SourceMapConsumer=i(169498).SourceMapConsumer,i(778152)},905999:(e,t,i)=>{"use strict";let{EMPTY_BUFFER:n}=i(203049),a=Buffer[Symbol.species];function o(e,t,i,n,a){for(let o=0;o<a;o++)i[n+o]=e[o]^t[3&o]}function s(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];let i=Buffer.allocUnsafe(t),o=0;for(let t=0;t<e.length;t++){let n=e[t];i.set(n,o),o+=n.length}return o<t?new a(i.buffer,i.byteOffset,o):i},mask:o,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){let i;return(e.readOnly=!0,Buffer.isBuffer(t))?t:(t instanceof ArrayBuffer?i=new a(t):ArrayBuffer.isView(t)?i=new a(t.buffer,t.byteOffset,t.byteLength):(i=Buffer.from(t),e.readOnly=!1),i)},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{let t=i(422133);e.exports.mask=function(e,i,n,a,s){s<48?o(e,i,n,a,s):t.mask(e,i,n,a,s)},e.exports.unmask=function(e,i){e.length<32?s(e,i):t.unmask(e,i)}}catch(e){}},203049:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},140806:(e,t,i)=>{"use strict";let{kForOnEventAttribute:n,kListener:a}=i(203049),o=Symbol("kCode"),s=Symbol("kData"),r=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),p=Symbol("kTarget"),u=Symbol("kType"),d=Symbol("kWasClean");class m{constructor(e){this[p]=null,this[u]=e}get target(){return this[p]}get type(){return this[u]}}Object.defineProperty(m.prototype,"target",{enumerable:!0}),Object.defineProperty(m.prototype,"type",{enumerable:!0});class h extends m{constructor(e,t={}){super(e),this[o]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[o]}get reason(){return this[l]}get wasClean(){return this[d]}}Object.defineProperty(h.prototype,"code",{enumerable:!0}),Object.defineProperty(h.prototype,"reason",{enumerable:!0}),Object.defineProperty(h.prototype,"wasClean",{enumerable:!0});class f extends m{constructor(e,t={}){super(e),this[r]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[r]}get message(){return this[c]}}Object.defineProperty(f.prototype,"error",{enumerable:!0}),Object.defineProperty(f.prototype,"message",{enumerable:!0});class g extends m{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}function v(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}Object.defineProperty(g.prototype,"data",{enumerable:!0}),e.exports={CloseEvent:h,ErrorEvent:f,Event:m,EventTarget:{addEventListener(e,t,i={}){let o;for(let o of this.listeners(e))if(!i[n]&&o[a]===t&&!o[n])return;if("message"===e)o=function(e,i){let n=new g("message",{data:i?e:e.toString()});n[p]=this,v(t,this,n)};else if("close"===e)o=function(e,i){let n=new h("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[p]=this,v(t,this,n)};else if("error"===e)o=function(e){let i=new f("error",{error:e,message:e.message});i[p]=this,v(t,this,i)};else{if("open"!==e)return;o=function(){let e=new m("open");e[p]=this,v(t,this,e)}}o[n]=!!i[n],o[a]=t,i.once?this.once(e,o):this.on(e,o)},removeEventListener(e,t){for(let i of this.listeners(e))if(i[a]===t&&!i[n]){this.removeListener(e,i);break}}},MessageEvent:g}},735530:(e,t,i)=>{"use strict";let{tokenChars:n}=i(685981);function a(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}e.exports={format:function(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let t,i;let o=Object.create(null),s=Object.create(null),r=!1,c=!1,l=!1,p=-1,u=-1,d=-1,m=0;for(;m<e.length;m++)if(u=e.charCodeAt(m),void 0===t){if(-1===d&&1===n[u])-1===p&&(p=m);else if(0!==m&&(32===u||9===u))-1===d&&-1!==p&&(d=m);else if(59===u||44===u){if(-1===p)throw SyntaxError(`Unexpected character at index ${m}`);-1===d&&(d=m);let i=e.slice(p,d);44===u?(a(o,i,s),s=Object.create(null)):t=i,p=d=-1}else throw SyntaxError(`Unexpected character at index ${m}`)}else if(void 0===i){if(-1===d&&1===n[u])-1===p&&(p=m);else if(32===u||9===u)-1===d&&-1!==p&&(d=m);else if(59===u||44===u){if(-1===p)throw SyntaxError(`Unexpected character at index ${m}`);-1===d&&(d=m),a(s,e.slice(p,d),!0),44===u&&(a(o,t,s),s=Object.create(null),t=void 0),p=d=-1}else if(61===u&&-1!==p&&-1===d)i=e.slice(p,m),p=d=-1;else throw SyntaxError(`Unexpected character at index ${m}`)}else if(c){if(1!==n[u])throw SyntaxError(`Unexpected character at index ${m}`);-1===p?p=m:r||(r=!0),c=!1}else if(l){if(1===n[u])-1===p&&(p=m);else if(34===u&&-1!==p)l=!1,d=m;else if(92===u)c=!0;else throw SyntaxError(`Unexpected character at index ${m}`)}else if(34===u&&61===e.charCodeAt(m-1))l=!0;else if(-1===d&&1===n[u])-1===p&&(p=m);else if(-1!==p&&(32===u||9===u))-1===d&&(d=m);else if(59===u||44===u){if(-1===p)throw SyntaxError(`Unexpected character at index ${m}`);-1===d&&(d=m);let n=e.slice(p,d);r&&(n=n.replace(/\\/g,""),r=!1),a(s,i,n),44===u&&(a(o,t,s),s=Object.create(null),t=void 0),i=void 0,p=d=-1}else throw SyntaxError(`Unexpected character at index ${m}`);if(-1===p||l||32===u||9===u)throw SyntaxError("Unexpected end of input");-1===d&&(d=m);let h=e.slice(p,d);return void 0===t?a(o,h,s):(void 0===i?a(s,h,!0):r?a(s,i,h.replace(/\\/g,"")):a(s,i,h),a(o,t,s)),o}}},318768:e=>{"use strict";let t=Symbol("kDone"),i=Symbol("kRun");class n{constructor(e){this[t]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=n},724242:(e,t,i)=>{"use strict";let n;let a=i(671568),o=i(905999),s=i(318768),{kStatusCode:r}=i(203049),c=Buffer[Symbol.species],l=Buffer.from([0,0,255,255]),p=Symbol("permessage-deflate"),u=Symbol("total-length"),d=Symbol("callback"),m=Symbol("buffers"),h=Symbol("error");class f{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,n||(n=new s(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!i)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:(!0===i.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==i)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=i})}),e}decompress(e,t,i){n.add(n=>{this._decompress(e,t,(e,t)=>{n(),i(e,t)})})}compress(e,t,i){n.add(n=>{this._compress(e,t,(e,t)=>{n(),i(e,t)})})}_decompress(e,t,i){let n=this._isServer?"client":"server";if(!this._inflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=a.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[p]=this,this._inflate[u]=0,this._inflate[m]=[],this._inflate.on("error",x),this._inflate.on("data",v)}this._inflate[d]=i,this._inflate.write(e),t&&this._inflate.write(l),this._inflate.flush(()=>{let e=this._inflate[h];if(e){this._inflate.close(),this._inflate=null,i(e);return}let a=o.concat(this._inflate[m],this._inflate[u]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[u]=0,this._inflate[m]=[],t&&this.params[`${n}_no_context_takeover`]&&this._inflate.reset()),i(null,a)})}_compress(e,t,i){let n=this._isServer?"server":"client";if(!this._deflate){let e=`${n}_max_window_bits`,t="number"!=typeof this.params[e]?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=a.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[u]=0,this._deflate[m]=[],this._deflate.on("data",g)}this._deflate[d]=i,this._deflate.write(e),this._deflate.flush(a.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=o.concat(this._deflate[m],this._deflate[u]);t&&(e=new c(e.buffer,e.byteOffset,e.length-4)),this._deflate[d]=null,this._deflate[u]=0,this._deflate[m]=[],t&&this.params[`${n}_no_context_takeover`]&&this._deflate.reset(),i(null,e)})}}function g(e){this[m].push(e),this[u]+=e.length}function v(e){if(this[u]+=e.length,this[p]._maxPayload<1||this[u]<=this[p]._maxPayload){this[m].push(e);return}this[h]=RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][r]=1009,this.removeListener("data",v),this.reset()}function x(e){this[p]._inflate=null,e[r]=1007,this[d](e)}e.exports=f},929842:(e,t,i)=>{"use strict";let{Writable:n}=i(276162),a=i(724242),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:r,kWebSocket:c}=i(203049),{concat:l,toArrayBuffer:p,unmask:u}=i(905999),{isValidStatusCode:d,isValidUTF8:m}=i(685981),h=Buffer[Symbol.species];class f extends n{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||o[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,i){if(8===this._opcode&&0==this._state)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new h(t.buffer,t.byteOffset+e,t.length-e),new h(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],n=t.length-e;e>=i.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),n),this._buffers[0]=new h(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let i=(64&t[0])==64;if(i&&!this._extensions[a.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),i=t.readUInt32BE(0);if(i>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*i+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&u(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=5,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[a.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(i)}this.dataMessage(t),0===this._state&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=0;return}let t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?l(i,t):"arraybuffer"===this._binaryType?p(l(i,t)):i,this._allowSynchronousEvents?(this.emit("message",n,!0),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!0),this._state=0,this.startLoop(e)}))}else{let n=l(i,t);if(!this._skipUTF8Validation&&!m(n)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}5===this._state||this._allowSynchronousEvents?(this.emit("message",n,!1),this._state=0):(this._state=6,setImmediate(()=>{this.emit("message",n,!1),this._state=0,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,s),this.end();else{let i=e.readUInt16BE(0);if(!d(i)){t(this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let n=new h(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!m(n)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",i,n),this.end()}this._state=0;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)}))}createError(e,t,i,n,a){this._loop=!1,this._errored=!0;let o=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,this.createError),o.code=a,o[r]=n,o}}e.exports=f},314750:(e,t,i)=>{"use strict";let n;let{Duplex:a}=i(276162),{randomFillSync:o}=i(84770),s=i(724242),{EMPTY_BUFFER:r}=i(203049),{isValidStatusCode:c}=i(685981),{mask:l,toBuffer:p}=i(905999),u=Symbol("kByteLength"),d=Buffer.alloc(4),m=8192;class h{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let i,a;let s=!1,r=2,c=!1;t.mask&&(i=t.maskBuffer||d,t.generateMask?t.generateMask(i):(8192===m&&(void 0===n&&(n=Buffer.alloc(8192)),o(n,0,8192),m=0),i[0]=n[m++],i[1]=n[m++],i[2]=n[m++],i[3]=n[m++]),c=(i[0]|i[1]|i[2]|i[3])==0,r=6),"string"==typeof e?a=(!t.mask||c)&&void 0!==t[u]?t[u]:(e=Buffer.from(e)).length:(a=e.length,s=t.mask&&t.readOnly&&!c);let p=a;a>=65536?(r+=8,p=127):a>125&&(r+=2,p=126);let h=Buffer.allocUnsafe(s?a+r:r);return(h[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(h[0]|=64),h[1]=p,126===p?h.writeUInt16BE(a,2):127===p&&(h[2]=h[3]=0,h.writeUIntBE(a,4,6)),t.mask)?(h[1]|=128,h[r-4]=i[0],h[r-3]=i[1],h[r-2]=i[2],h[r-1]=i[3],c)?[h,e]:s?(l(e,i,h,r,a),[h]):(l(e,i,e,0,a),[h,e]):[h,e]}close(e,t,i,n){let a;if(void 0===e)a=r;else if("number"==typeof e&&c(e)){if(void 0!==t&&t.length){let i=Buffer.byteLength(t);if(i>123)throw RangeError("The message must not be greater than 123 bytes");(a=Buffer.allocUnsafe(2+i)).writeUInt16BE(e,0),"string"==typeof t?a.write(t,2):a.set(t,2)}else(a=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let o={[u]:a.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,a,!1,o,n]):this.sendFrame(h.frame(a,o),n)}ping(e,t,i){let n,a;if("string"==typeof e?(n=Buffer.byteLength(e),a=!1):(n=(e=p(e)).length,a=p.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let o={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(h.frame(e,o),i)}pong(e,t,i){let n,a;if("string"==typeof e?(n=Buffer.byteLength(e),a=!1):(n=(e=p(e)).length,a=p.readOnly),n>125)throw RangeError("The data size must not be greater than 125 bytes");let o={[u]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(h.frame(e,o),i)}send(e,t,i){let n,a;let o=this._extensions[s.extensionName],r=t.binary?2:1,c=t.compress;if("string"==typeof e?(n=Buffer.byteLength(e),a=!1):(n=(e=p(e)).length,a=p.readOnly),this._firstFragment?(this._firstFragment=!1,c&&o&&o.params[o._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=n>=o._threshold),this._compress=c):(c=!1,r=0),t.fin&&(this._firstFragment=!0),o){let o={[u]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:r,readOnly:a,rsv1:c};this._deflating?this.enqueue([this.dispatch,e,this._compress,o,i]):this.dispatch(e,this._compress,o,i)}else this.sendFrame(h.frame(e,{[u]:n,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:r,readOnly:a,rsv1:!1}),i)}dispatch(e,t,i,n){if(!t){this.sendFrame(h.frame(e,i),n);return}let a=this._extensions[s.extensionName];this._bufferedBytes+=i[u],this._deflating=!0,a.compress(e,i.fin,(e,t)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){let i=this._queue[t],n=i[i.length-1];"function"==typeof n&&n(e)}return}this._bufferedBytes-=i[u],this._deflating=!1,i.readOnly=!1,this.sendFrame(h.frame(t,i),n),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][u],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][u],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=h},910663:(e,t,i)=>{"use strict";let{Duplex:n}=i(276162);function a(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let i=!0,r=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,i){let n=!i&&r._readableState.objectMode?t.toString():t;r.push(n)||e.pause()}),e.once("error",function(e){r.destroyed||(i=!1,r.destroy(e))}),e.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(t,n){if(e.readyState===e.CLOSED){n(t),process.nextTick(a,r);return}let o=!1;e.once("error",function(e){o=!0,n(e)}),e.once("close",function(){o||n(t),process.nextTick(a,r)}),i&&e.terminate()},r._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){r._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),r._readableState.endEmitted&&r.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},r._read=function(){e.isPaused&&e.resume()},r._write=function(t,i,n){if(e.readyState===e.CONNECTING){e.once("open",function(){r._write(t,i,n)});return}e.send(t,n)},r.on("end",o),r.on("error",s),r}},594169:(e,t,i)=>{"use strict";let{tokenChars:n}=i(685981);e.exports={parse:function(e){let t=new Set,i=-1,a=-1,o=0;for(;o<e.length;o++){let s=e.charCodeAt(o);if(-1===a&&1===n[s])-1===i&&(i=o);else if(0!==o&&(32===s||9===s))-1===a&&-1!==i&&(a=o);else if(44===s){if(-1===i)throw SyntaxError(`Unexpected character at index ${o}`);-1===a&&(a=o);let n=e.slice(i,a);if(t.has(n))throw SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),i=a=-1}else throw SyntaxError(`Unexpected character at index ${o}`)}if(-1===i||-1!==a)throw SyntaxError("Unexpected end of input");let s=e.slice(i,o);if(t.has(s))throw SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},685981:(e,t,i)=>{"use strict";let{isUtf8:n}=i(978893);function a(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:a,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?a(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=i(327918);e.exports.isValidUTF8=function(e){return e.length<32?a(e):t(e)}}catch(e){}},765615:(e,t,i)=>{"use strict";let n=i(17702),a=i(532615),{Duplex:o}=i(276162),{createHash:s}=i(84770),r=i(735530),c=i(724242),l=i(594169),p=i(11318),{GUID:u,kWebSocket:d}=i(203049),m=/^[+/0-9A-Za-z]{22}==$/;class h extends n{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:p,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=a.createServer((e,t)=>{let i=a.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let i of Object.keys(t))e.on(i,t[i]);return function(){for(let i of Object.keys(t))e.removeListener(i,t[i])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,n)=>{this.handleUpgrade(t,i,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(f,this);return}if(e&&this.once("close",e),1!==this._state){if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{f(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,n){t.on("error",g);let a=e.headers["sec-websocket-key"],o=e.headers.upgrade,s=+e.headers["sec-websocket-version"];if("GET"!==e.method){x(this,e,t,405,"Invalid HTTP method");return}if(void 0===o||"websocket"!==o.toLowerCase()){x(this,e,t,400,"Invalid Upgrade header");return}if(void 0===a||!m.test(a)){x(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==s&&13!==s){x(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){v(t,400);return}let p=e.headers["sec-websocket-protocol"],u=new Set;if(void 0!==p)try{u=l.parse(p)}catch(i){x(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let d=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&void 0!==d){let i=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=r.parse(d);e[c.extensionName]&&(i.accept(e[c.extensionName]),h[c.extensionName]=i)}catch(i){x(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let o={origin:e.headers[`${8===s?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(o,(o,s,r,c)=>{if(!o)return v(t,s||401,r,c);this.completeUpgrade(h,a,u,e,t,i,n)});return}if(!this.options.verifyClient(o))return v(t,401)}this.completeUpgrade(h,a,u,e,t,i,n)}completeUpgrade(e,t,i,n,a,o,l){if(!a.readable||!a.writable)return a.destroy();if(a[d])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return v(a,503);let p=s("sha1").update(t+u).digest("base64"),m=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${p}`],h=new this.options.WebSocket(null,void 0,this.options);if(i.size){let e=this.options.handleProtocols?this.options.handleProtocols(i,n):i.values().next().value;e&&(m.push(`Sec-WebSocket-Protocol: ${e}`),h._protocol=e)}if(e[c.extensionName]){let t=e[c.extensionName].params,i=r.format({[c.extensionName]:[t]});m.push(`Sec-WebSocket-Extensions: ${i}`),h._extensions=e}this.emit("headers",m,n),a.write(m.concat("\r\n").join("\r\n")),a.removeListener("error",g),h.setSocket(a,o,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(h),h.on("close",()=>{this.clients.delete(h),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)})),l(h,n)}}function f(e){e._state=2,e.emit("close")}function g(){this.destroy()}function v(e,t,i,n){i=i||a.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${a.STATUS_CODES[t]}\r
`+Object.keys(n).map(e=>`${e}: ${n[e]}`).join("\r\n")+"\r\n\r\n"+i)}function x(e,t,i,n,a){if(e.listenerCount("wsClientError")){let n=Error(a);Error.captureStackTrace(n,x),e.emit("wsClientError",n,i,t)}else v(i,n,a)}e.exports=h},11318:(e,t,i)=>{"use strict";let n=i(17702),a=i(735240),o=i(532615),s=i(698216),r=i(682452),{randomBytes:c,createHash:l}=i(84770),{Duplex:p,Readable:u}=i(276162),{URL:d}=i(917360),m=i(724242),h=i(929842),f=i(314750),{BINARY_TYPES:g,EMPTY_BUFFER:v,GUID:x,kForOnEventAttribute:b,kListener:w,kStatusCode:y,kWebSocket:_,NOOP:E}=i(203049),{EventTarget:{addEventListener:S,removeEventListener:k}}=i(140806),{format:C,parse:T}=i(735530),{toBuffer:I}=i(905999),N=Symbol("kAborted"),j=[8,13],R=["CONNECTING","OPEN","CLOSING","CLOSED"],L=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class F extends n{constructor(e,t,i){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=v,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=F.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),function e(t,i,n,s){let r,p,u,h;let f={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:j[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=f.autoPong,!j.includes(f.protocolVersion))throw RangeError(`Unsupported protocol version: ${f.protocolVersion} (supported versions: ${j.join(", ")})`);if(i instanceof d)r=i;else try{r=new d(i)}catch(e){throw SyntaxError(`Invalid URL: ${i}`)}"http:"===r.protocol?r.protocol="ws:":"https:"===r.protocol&&(r.protocol="wss:"),t._url=r.href;let g="wss:"===r.protocol,v="ws+unix:"===r.protocol;if("ws:"===r.protocol||g||v?v&&!r.pathname?p="The URL's pathname is empty":r.hash&&(p="The URL contains a fragment identifier"):p='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',p){let e=SyntaxError(p);if(0===t._redirects)throw e;P(t,e);return}let b=g?443:80,w=c(16).toString("base64"),y=g?a.request:o.request,_=new Set;if(f.createConnection=f.createConnection||(g?$:O),f.defaultPort=f.defaultPort||b,f.port=r.port||b,f.host=r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,f.headers={...f.headers,"Sec-WebSocket-Version":f.protocolVersion,"Sec-WebSocket-Key":w,Connection:"Upgrade",Upgrade:"websocket"},f.path=r.pathname+r.search,f.timeout=f.handshakeTimeout,f.perMessageDeflate&&(u=new m(!0!==f.perMessageDeflate?f.perMessageDeflate:{},!1,f.maxPayload),f.headers["Sec-WebSocket-Extensions"]=C({[m.extensionName]:u.offer()})),n.length){for(let e of n){if("string"!=typeof e||!L.test(e)||_.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");_.add(e)}f.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(f.origin&&(f.protocolVersion<13?f.headers["Sec-WebSocket-Origin"]=f.origin:f.headers.Origin=f.origin),(r.username||r.password)&&(f.auth=`${r.username}:${r.password}`),v){let e=f.path.split(":");f.socketPath=e[0],f.path=e[1]}if(f.followRedirects){if(0===t._redirects){t._originalIpc=v,t._originalSecure=g,t._originalHostOrSocketPath=v?f.socketPath:r.host;let e=s&&s.headers;if(s={...s,headers:{}},e)for(let[t,i]of Object.entries(e))s.headers[t.toLowerCase()]=i}else if(0===t.listenerCount("redirect")){let e=v?!!t._originalIpc&&f.socketPath===t._originalHostOrSocketPath:!t._originalIpc&&r.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||g)||(delete f.headers.authorization,delete f.headers.cookie,e||delete f.headers.host,f.auth=void 0)}f.auth&&!s.headers.authorization&&(s.headers.authorization="Basic "+Buffer.from(f.auth).toString("base64")),h=t._req=y(f),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=y(f);f.timeout&&h.on("timeout",()=>{M(t,h,"Opening handshake has timed out")}),h.on("error",e=>{null===h||h[N]||(h=t._req=null,P(t,e))}),h.on("response",a=>{let o=a.headers.location,r=a.statusCode;if(o&&f.followRedirects&&r>=300&&r<400){let a;if(++t._redirects>f.maxRedirects){M(t,h,"Maximum redirects exceeded");return}h.abort();try{a=new d(o,i)}catch(e){P(t,SyntaxError(`Invalid URL: ${o}`));return}e(t,a,n,s)}else t.emit("unexpected-response",h,a)||M(t,h,`Unexpected server response: ${a.statusCode}`)}),h.on("upgrade",(e,i,n)=>{let a;if(t.emit("upgrade",e),t.readyState!==F.CONNECTING)return;h=t._req=null;let o=e.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase()){M(t,i,"Invalid Upgrade header");return}let s=l("sha1").update(w+x).digest("base64");if(e.headers["sec-websocket-accept"]!==s){M(t,i,"Invalid Sec-WebSocket-Accept header");return}let r=e.headers["sec-websocket-protocol"];if(void 0!==r?_.size?_.has(r)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":_.size&&(a="Server sent no subprotocol"),a){M(t,i,a);return}r&&(t._protocol=r);let c=e.headers["sec-websocket-extensions"];if(void 0!==c){let e;if(!u){M(t,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=T(c)}catch(e){M(t,i,"Invalid Sec-WebSocket-Extensions header");return}let n=Object.keys(e);if(1!==n.length||n[0]!==m.extensionName){M(t,i,"Server indicated an extension that was not requested");return}try{u.accept(e[m.extensionName])}catch(e){M(t,i,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[m.extensionName]=u}t.setSocket(i,n,{allowSynchronousEvents:f.allowSynchronousEvents,generateMask:f.generateMask,maxPayload:f.maxPayload,skipUTF8Validation:f.skipUTF8Validation})}),f.finishRequest?f.finishRequest(h,t):h.end()}(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let n=new h({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new f(e,this._extensions,i.generateMask),this._receiver=n,this._socket=e,n[_]=this,e[_]=this,n.on("conclude",D),n.on("drain",z),n.on("error",B),n.on("message",q),n.on("ping",G),n.on("pong",W),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",H),e.on("data",J),e.on("end",Y),e.on("error",K),this._readyState=F.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=F.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[m.extensionName]&&this._extensions[m.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=F.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==F.CLOSED){if(this.readyState===F.CONNECTING){M(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===F.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=F.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}pause(){this.readyState!==F.CONNECTING&&this.readyState!==F.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===F.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==F.OPEN){A(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||v,t,i)}pong(e,t,i){if(this.readyState===F.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==F.OPEN){A(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||v,t,i)}resume(){this.readyState!==F.CONNECTING&&this.readyState!==F.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===F.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==F.OPEN){A(this,e,i);return}let n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[m.extensionName]||(n.compress=!1),this._sender.send(e||v,n,i)}terminate(){if(this.readyState!==F.CLOSED){if(this.readyState===F.CONNECTING){M(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=F.CLOSING,this._socket.destroy())}}}function P(e,t){e._readyState=F.CLOSING,e.emit("error",t),e.emitClose()}function O(e){return e.path=e.socketPath,s.connect(e)}function $(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),r.connect(e)}function M(e,t,i){e._readyState=F.CLOSING;let n=Error(i);Error.captureStackTrace(n,M),t.setHeader?(t[N]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(P,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function A(e,t,i){if(t){let i=I(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${R[e.readyState]})`);process.nextTick(i,t)}}function D(e,t){let i=this[_];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[_]&&(i._socket.removeListener("data",J),process.nextTick(V,i._socket),1005===e?i.close():i.close(e,t))}function z(){let e=this[_];e.isPaused||e._socket.resume()}function B(e){let t=this[_];void 0!==t._socket[_]&&(t._socket.removeListener("data",J),process.nextTick(V,t._socket),t.close(e[y])),t.emit("error",e)}function U(){this[_].emitClose()}function q(e,t){this[_].emit("message",e,t)}function G(e){let t=this[_];t._autoPong&&t.pong(e,!this._isServer,E),t.emit("ping",e)}function W(e){this[_].emit("pong",e)}function V(e){e.resume()}function H(){let e;let t=this[_];this.removeListener("close",H),this.removeListener("data",J),this.removeListener("end",Y),t._readyState=F.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[_]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",U),t._receiver.on("finish",U))}function J(e){this[_]._receiver.write(e)||this.pause()}function Y(){let e=this[_];e._readyState=F.CLOSING,e._receiver.end(),this.end()}function K(){let e=this[_];this.removeListener("error",K),this.on("error",E),e&&(e._readyState=F.CLOSING,this.destroy())}Object.defineProperty(F,"CONNECTING",{enumerable:!0,value:R.indexOf("CONNECTING")}),Object.defineProperty(F.prototype,"CONNECTING",{enumerable:!0,value:R.indexOf("CONNECTING")}),Object.defineProperty(F,"OPEN",{enumerable:!0,value:R.indexOf("OPEN")}),Object.defineProperty(F.prototype,"OPEN",{enumerable:!0,value:R.indexOf("OPEN")}),Object.defineProperty(F,"CLOSING",{enumerable:!0,value:R.indexOf("CLOSING")}),Object.defineProperty(F.prototype,"CLOSING",{enumerable:!0,value:R.indexOf("CLOSING")}),Object.defineProperty(F,"CLOSED",{enumerable:!0,value:R.indexOf("CLOSED")}),Object.defineProperty(F.prototype,"CLOSED",{enumerable:!0,value:R.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(F.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(F.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[b])return t[w];return null},set(t){for(let t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})}),F.prototype.addEventListener=S,F.prototype.removeEventListener=k,e.exports=F},604494:(e,t,i)=>{var n=i(978893).Buffer,a=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(n.isBuffer(e))return e;var t="function"==typeof n.alloc&&"function"==typeof n.from;if("number"==typeof e)return t?n.alloc(e):new n(e);if("string"==typeof e)return t?n.from(e):new n(e);throw Error("input must be buffer, number, or string, received "+typeof e)}function s(e,t){e=o(e),n.isBuffer(t)&&(t=t.readUInt32BE(0));for(var i=-1^~~t,s=0;s<e.length;s++)i=a[(i^e[s])&255]^i>>>8;return -1^i}function r(){var e,t;return e=s.apply(null,arguments),(t=o(4)).writeInt32BE(e,0),t}"undefined"!=typeof Int32Array&&(a=new Int32Array(a)),r.signed=function(){return s.apply(null,arguments)},r.unsigned=function(){return s.apply(null,arguments)>>>0},e.exports=r},156916:(e,t,i)=>{"use strict";let n=i(761282),a=i(366806),o=i(786213);function s(e,t,i){let s=a(e,t,i),r=n.spawn(s.command,s.args,s.options);return o.hookChildProcess(r,s),r}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,i){let s=a(e,t,i),r=n.spawnSync(s.command,s.args,s.options);return r.error=r.error||o.verifyENOENTSync(r.status,s),r},e.exports._parse=a,e.exports._enoent=o},786213:e=>{"use strict";let t="win32"===process.platform;function i(e,t){return Object.assign(Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function n(e,n){return t&&1===e&&!n.file?i(n.original,"spawn"):null}e.exports={hookChildProcess:function(e,i){if(!t)return;let a=e.emit;e.emit=function(t,o){if("exit"===t){let t=n(o,i);if(t)return a.call(e,"error",t)}return a.apply(e,arguments)}},verifyENOENT:n,verifyENOENTSync:function(e,n){return t&&1===e&&!n.file?i(n.original,"spawnSync"):null},notFoundError:i}},366806:(e,t,i)=>{"use strict";let n=i(555315),a=i(707677),o=i(54917),s=i(928426),r="win32"===process.platform,c=/\.(?:com|exe)$/i,l=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;e.exports=function(e,t,i){t&&!Array.isArray(t)&&(i=t,t=null);let p={command:e,args:t=t?t.slice(0):[],options:i=Object.assign({},i),file:void 0,original:{command:e,args:t}};return i.shell?p:function(e){if(!r)return e;let t=function(e){e.file=a(e);let t=e.file&&s(e.file);return t?(e.args.unshift(e.file),e.command=t,a(e)):e.file}(e),i=!c.test(t);if(e.options.forceShell||i){let i=l.test(t);e.command=n.normalize(e.command),e.command=o.command(e.command),e.args=e.args.map(e=>o.argument(e,i));let a=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${a}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(p)}},54917:e=>{"use strict";let t=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e=e.replace(t,"^$1")},e.exports.argument=function(e,i){return e=(e=(e=`${e}`).replace(/(?=(\\+?)?)\1"/g,'$1$1\\"')).replace(/(?=(\\+?)?)\1$/,"$1$1"),e=(e=`"${e}"`).replace(t,"^$1"),i&&(e=e.replace(t,"^$1")),e}},928426:(e,t,i)=>{"use strict";let n=i(592048),a=i(366173);e.exports=function(e){let t;let i=Buffer.alloc(150);try{t=n.openSync(e,"r"),n.readSync(t,i,0,150,0),n.closeSync(t)}catch(e){}return a(i.toString())}},707677:(e,t,i)=>{"use strict";let n=i(555315),a=i(660224),o=i(174387);function s(e,t){let i;let s=e.options.env||process.env,r=process.cwd(),c=null!=e.options.cwd,l=c&&void 0!==process.chdir&&!process.chdir.disabled;if(l)try{process.chdir(e.options.cwd)}catch(e){}try{i=a.sync(e.command,{path:s[o({env:s})],pathExt:t?n.delimiter:void 0})}catch(e){}finally{l&&process.chdir(r)}return i&&(i=n.resolve(c?e.options.cwd:"",i)),i}e.exports=function(e){return s(e)||s(e,!0)}},514949:(e,t,i)=>{var n=i(917337),a=function(){},o=global.Bare?queueMicrotask:process.nextTick.bind(process),s=function(e,t,i){if("function"==typeof t)return s(e,null,t);t||(t={}),i=n(i||a);var r=e._writableState,c=e._readableState,l=t.readable||!1!==t.readable&&e.readable,p=t.writable||!1!==t.writable&&e.writable,u=!1,d=function(){e.writable||m()},m=function(){p=!1,l||i.call(e)},h=function(){l=!1,p||i.call(e)},f=function(t){i.call(e,t?Error("exited with error code: "+t):null)},g=function(t){i.call(e,t)},v=function(){o(x)},x=function(){if(!u&&(l&&!(c&&c.ended&&!c.destroyed)||p&&!(r&&r.ended&&!r.destroyed)))return i.call(e,Error("premature close"))},b=function(){e.req.on("finish",m)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",m),e.on("abort",v),e.req?b():e.on("request",b)):p&&!r&&(e.on("end",d),e.on("close",d)),e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length&&e.on("exit",f),e.on("end",h),e.on("finish",m),!1!==t.error&&e.on("error",g),e.on("close",v),function(){u=!0,e.removeListener("complete",m),e.removeListener("abort",v),e.removeListener("request",b),e.req&&e.req.removeListener("finish",m),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",m),e.removeListener("exit",f),e.removeListener("end",h),e.removeListener("error",g),e.removeListener("close",v)}};e.exports=s},943503:(e,t,i)=>{"use strict";let n=i(555315),a=i(761282),o=i(156916),s=i(124439),r=i(265978),c=i(284428),l=i(272090),p=i(900950),{spawnedKill:u,spawnedCancel:d,setupTimeout:m,validateTimeout:h,setExitHandler:f}=i(343229),{handleInput:g,getSpawnedResult:v,makeAllStream:x,validateInputSync:b}=i(992512),{mergePromise:w,getSpawnedPromise:y}=i(105743),{joinCommand:_,parseCommand:E,getEscapedCommand:S}=i(379476),k=({env:e,extendEnv:t,preferLocal:i,localDir:n,execPath:a})=>{let o=t?{...process.env,...e}:e;return i?r.env({env:o,cwd:n,execPath:a}):o},C=(e,t,i={})=>{let a=o._parse(e,t,i);return e=a.command,t=a.args,(i={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(i=a.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...i}).env=k(i),i.stdio=p(i),"win32"===process.platform&&"cmd"===n.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:i,parsed:a}},T=(e,t,i)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?s(t):t:void 0===i?void 0:"",I=(e,t,i)=>{let n;let o=C(e,t,i),s=_(e,t),r=S(e,t);h(o.options);try{n=a.spawn(o.file,o.args,o.options)}catch(e){return w(new a.ChildProcess,Promise.reject(l({error:e,stdout:"",stderr:"",all:"",command:s,escapedCommand:r,parsed:o,timedOut:!1,isCanceled:!1,killed:!1})))}let p=y(n),b=m(n,o.options,p),E=f(n,o.options,b),k={isCanceled:!1};n.kill=u.bind(null,n.kill.bind(n)),n.cancel=d.bind(null,n,k);let I=c(async()=>{let[{error:e,exitCode:t,signal:i,timedOut:a},c,p,u]=await v(n,o.options,E),d=T(o.options,c),m=T(o.options,p),h=T(o.options,u);if(e||0!==t||null!==i){let c=l({error:e,exitCode:t,signal:i,stdout:d,stderr:m,all:h,command:s,escapedCommand:r,parsed:o,timedOut:a,isCanceled:k.isCanceled,killed:n.killed});if(!o.options.reject)return c;throw c}return{command:s,escapedCommand:r,exitCode:0,stdout:d,stderr:m,all:h,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return g(n,o.options.input),n.all=x(n,o.options),w(n,I)};e.exports=I,e.exports.sync=(e,t,i)=>{let n;let o=C(e,t,i),s=_(e,t),r=S(e,t);b(o.options);try{n=a.spawnSync(o.file,o.args,o.options)}catch(e){throw l({error:e,stdout:"",stderr:"",all:"",command:s,escapedCommand:r,parsed:o,timedOut:!1,isCanceled:!1,killed:!1})}let c=T(o.options,n.stdout,n.error),p=T(o.options,n.stderr,n.error);if(n.error||0!==n.status||null!==n.signal){let e=l({stdout:c,stderr:p,error:n.error,signal:n.signal,exitCode:n.status,command:s,escapedCommand:r,parsed:o,timedOut:n.error&&"ETIMEDOUT"===n.error.code,isCanceled:!1,killed:null!==n.signal});if(!o.options.reject)return e;throw e}return{command:s,escapedCommand:r,exitCode:0,stdout:c,stderr:p,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},e.exports.command=(e,t)=>{let[i,...n]=E(e);return I(i,n,t)},e.exports.commandSync=(e,t)=>{let[i,...n]=E(e);return I.sync(i,n,t)},e.exports.node=(e,t,i={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(i=t,t=[]);let n=p.node(i),a=process.execArgv.filter(e=>!e.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=a}=i;return I(o,[...s,e,...Array.isArray(t)?t:[]],{...i,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}},379476:e=>{"use strict";let t=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],i=/^[\w.-]+$/,n=/"/g,a=e=>"string"!=typeof e||i.test(e)?e:`"${e.replace(n,'\\"')}"`,o=/ +/g;e.exports={joinCommand:(e,i)=>t(e,i).join(" "),getEscapedCommand:(e,i)=>t(e,i).map(e=>a(e)).join(" "),parseCommand:e=>{let t=[];for(let i of e.trim().split(o)){let e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${i}`:t.push(i)}return t}}},272090:(e,t,i)=>{"use strict";let{signalsByName:n}=i(238917),a=({timedOut:e,timeout:t,errorCode:i,signal:n,signalDescription:a,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":void 0!==i?`failed with ${i}`:void 0!==n?`was killed with ${n} (${a})`:void 0!==o?`failed with exit code ${o}`:"failed";e.exports=({stdout:e,stderr:t,all:i,error:o,signal:s,exitCode:r,command:c,escapedCommand:l,timedOut:p,isCanceled:u,killed:d,parsed:{options:{timeout:m}}})=>{r=null===r?void 0:r;let h=void 0===(s=null===s?void 0:s)?void 0:n[s].description,f=a({timedOut:p,timeout:m,errorCode:o&&o.code,signal:s,signalDescription:h,exitCode:r,isCanceled:u}),g=`Command ${f}: ${c}`,v="[object Error]"===Object.prototype.toString.call(o),x=v?`${g}
${o.message}`:g,b=[x,t,e].filter(Boolean).join("\n");return v?(o.originalMessage=o.message,o.message=b):o=Error(b),o.shortMessage=x,o.command=c,o.escapedCommand=l,o.exitCode=r,o.signal=s,o.signalDescription=h,o.stdout=e,o.stderr=t,void 0!==i&&(o.all=i),"bufferedData"in o&&delete o.bufferedData,o.failed=!0,o.timedOut=!!p,o.isCanceled=u,o.killed=d&&!p,o}},343229:(e,t,i)=>{"use strict";let n=i(19801),a=i(263180),o=(e,t,i,n)=>{if(!s(t,i,n))return;let a=setTimeout(()=>{e("SIGKILL")},c(i));a.unref&&a.unref()},s=(e,{forceKillAfterTimeout:t},i)=>r(e)&&!1!==t&&i,r=e=>e===n.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),c=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},l=(e,t,i)=>{e.kill(t),i(Object.assign(Error("Timed out"),{timedOut:!0,signal:t}))},p=async(e,{cleanup:t,detached:i},n)=>{if(!t||i)return n;let o=a(()=>{e.kill()});return n.finally(()=>{o()})};e.exports={spawnedKill:(e,t="SIGTERM",i={})=>{let n=e(t);return o(e,t,i,n),n},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:i="SIGTERM"},n)=>{let a;return 0===t||void 0===t?n:Promise.race([new Promise((n,o)=>{a=setTimeout(()=>{l(e,i,o)},t)}),n.finally(()=>{clearTimeout(a)})])},validateTimeout:({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},setExitHandler:p}},105743:e=>{"use strict";let t=(async()=>{})().constructor.prototype,i=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(t,e)]);e.exports={mergePromise:(e,t)=>{for(let[n,a]of i){let i="function"==typeof t?(...e)=>Reflect.apply(a.value,t(),e):a.value.bind(t);Reflect.defineProperty(e,n,{...a,value:i})}return e},getSpawnedPromise:e=>new Promise((t,i)=>{e.on("exit",(e,i)=>{t({exitCode:e,signal:i})}),e.on("error",e=>{i(e)}),e.stdin&&e.stdin.on("error",e=>{i(e)})})}},900950:e=>{"use strict";let t=["stdin","stdout","stderr"],i=e=>t.some(t=>void 0!==e[t]),n=e=>{if(!e)return;let{stdio:n}=e;if(void 0===n)return t.map(t=>e[t]);if(i(e))throw Error(`It's not possible to provide \`stdio\` in combination with one of ${t.map(e=>`\`${e}\``).join(", ")}`);if("string"==typeof n)return n;if(!Array.isArray(n))throw TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof n}\``);return Array.from({length:Math.max(n.length,t.length)},(e,t)=>n[t])};e.exports=n,e.exports.node=e=>{let t=n(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}},992512:(e,t,i)=>{"use strict";let n=i(844983),a=i(138621),o=i(975054),s=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},r=(e,{encoding:t,buffer:i,maxBuffer:n})=>e&&i?t?a(e,{encoding:t,maxBuffer:n}):a.buffer(e,{maxBuffer:n}):void 0,c=async({stdout:e,stderr:t,all:i},{encoding:n,buffer:a,maxBuffer:o},c)=>{let l=r(e,{encoding:n,buffer:a,maxBuffer:o}),p=r(t,{encoding:n,buffer:a,maxBuffer:o}),u=r(i,{encoding:n,buffer:a,maxBuffer:2*o});try{return await Promise.all([c,l,p,u])}catch(n){return Promise.all([{error:n,signal:n.signal,timedOut:n.timedOut},s(e,l),s(t,p),s(i,u)])}};e.exports={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(n(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let i=o();return e.stdout&&i.add(e.stdout),e.stderr&&i.add(e.stderr),i},getSpawnedResult:c,validateInputSync:({input:e})=>{if(n(e))throw TypeError("The `input` option cannot be a stream in sync mode")}}},322294:(e,t,i)=>{let n=i(719092)("extract-zip"),{createWriteStream:a,promises:o}=i(592048),s=i(379591),r=i(555315),{promisify:c}=i(521764),l=i(276162),p=c(i(996501).open),u=c(l.pipeline);class d{constructor(e,t){this.zipPath=e,this.opts=t}async extract(){return n("opening",this.zipPath,"with opts",this.opts),this.zipfile=await p(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,t)=>{this.zipfile.on("error",e=>{this.canceled=!0,t(e)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(n("zip extraction complete"),e())}),this.zipfile.on("entry",async e=>{if(this.canceled){n("skipping entry",e.fileName,{cancelled:this.canceled});return}if(n("zipfile entry",e.fileName),e.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let i=r.dirname(r.join(this.opts.dir,e.fileName));try{await o.mkdir(i,{recursive:!0});let t=await o.realpath(i);if(r.relative(this.opts.dir,t).split(r.sep).includes(".."))throw Error(`Out of bound path "${t}" found while processing file ${e.fileName}`);await this.extractEntry(e),n("finished processing",e.fileName),this.zipfile.readEntry()}catch(e){this.canceled=!0,this.zipfile.close(),t(e)}})})}async extractEntry(e){if(this.canceled){n("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);let t=r.join(this.opts.dir,e.fileName),i=e.externalFileAttributes>>16&65535,l=(61440&i)==40960,p=(61440&i)==16384;!p&&e.fileName.endsWith("/")&&(p=!0);let d=e.versionMadeBy>>8;p||(p=0===d&&16===e.externalFileAttributes),n("extracting entry",{filename:e.fileName,isDir:p,isSymlink:l});let m=511&this.getExtractedMode(i,p),h=p?t:r.dirname(t),f={recursive:!0};if(p&&(f.mode=m),n("mkdir",{dir:h,...f}),await o.mkdir(h,f),p)return;n("opening read stream",t);let g=await c(this.zipfile.openReadStream.bind(this.zipfile))(e);if(l){let e=await s(g);n("creating symlink",e,t),await o.symlink(e,t)}else await u(g,a(t,{mode:m}))}getExtractedMode(e,t){let i=e;return 0!==i||(t?(this.opts.defaultDirMode&&(i=parseInt(this.opts.defaultDirMode,10)),i||(i=493)):(this.opts.defaultFileMode&&(i=parseInt(this.opts.defaultFileMode,10)),i||(i=420))),i}}e.exports=async function(e,t){if(n("creating target directory",t.dir),!r.isAbsolute(t.dir))throw Error("Target directory is expected to be absolute");return await o.mkdir(t.dir,{recursive:!0}),t.dir=await o.realpath(t.dir),new d(e,t).extract()}},292049:(e,t,i)=>{"use strict";let{PassThrough:n}=i(276162);e.exports=e=>{let{array:t}=e={...e},{encoding:i}=e,a="buffer"===i,o=!1;t?o=!(i||a):i=i||"utf8",a&&(i=null);let s=new n({objectMode:o});i&&s.setEncoding(i);let r=0,c=[];return s.on("data",e=>{c.push(e),o?r=c.length:r+=e.length}),s.getBufferedValue=()=>t?c:a?Buffer.concat(c,r):c.join(""),s.getBufferedLength=()=>r,s}},379591:(e,t,i)=>{"use strict";let{constants:n}=i(978893),a=i(398597),o=i(292049);class s extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function r(e,t){let i;if(!e)return Promise.reject(Error("Expected a stream"));let{maxBuffer:r}=t={maxBuffer:1/0,...t};return await new Promise((c,l)=>{let p=e=>{e&&i.getBufferedLength()<=n.MAX_LENGTH&&(e.bufferedData=i.getBufferedValue()),l(e)};(i=a(e,o(t),e=>{if(e){p(e);return}c()})).on("data",()=>{i.getBufferedLength()>r&&p(new s)})}),i.getBufferedValue()}e.exports=r,e.exports.default=r,e.exports.buffer=(e,t)=>r(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>r(e,{...t,array:!0}),e.exports.MaxBufferError=s},678626:(e,t,i)=>{var n=i(592048),a=i(521764),o=i(276162),s=o.Readable,r=o.Writable,c=o.PassThrough,l=i(99196),p=i(17702).EventEmitter;function u(e,t){t=t||{},p.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function d(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function m(e,t){t=t||{},r.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function h(e,t){p.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new h(e,t)},t.createFromFd=function(e,t){return new u(e,t)},t.BufferSlicer=h,t.FdSlicer=u,a.inherits(u,p),u.prototype.read=function(e,t,i,a,o){var s=this;s.pend.go(function(r){n.read(s.fd,e,t,i,a,function(e,t,i){r(),o(e,t,i)})})},u.prototype.write=function(e,t,i,a,o){var s=this;s.pend.go(function(r){n.write(s.fd,e,t,i,a,function(e,t,i){r(),o(e,t,i)})})},u.prototype.createReadStream=function(e){return new d(this,e)},u.prototype.createWriteStream=function(e){return new m(this,e)},u.prototype.ref=function(){this.refCount+=1},u.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw Error("invalid unref");e.autoClose&&n.close(e.fd,function(t){t?e.emit("error",t):e.emit("close")})}},a.inherits(d,s),d.prototype._read=function(e){var t=this;if(!t.destroyed){var i=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(i=Math.min(i,t.endOffset-t.pos)),i<=0){t.destroyed=!0,t.push(null),t.context.unref();return}t.context.pend.go(function(e){if(t.destroyed)return e();var a=new Buffer(i);n.read(t.context.fd,a,0,i,t.pos,function(i,n){i?t.destroy(i):0===n?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=n,t.push(a.slice(0,n))),e()})})}},d.prototype.destroy=function(e){this.destroyed||(e=e||Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},a.inherits(m,r),m.prototype._write=function(e,t,i){var a=this;if(!a.destroyed){if(a.pos+e.length>a.endOffset){var o=Error("maximum file length exceeded");o.code="ETOOBIG",a.destroy(),i(o);return}a.context.pend.go(function(t){if(a.destroyed)return t();n.write(a.context.fd,e,0,e.length,a.pos,function(e,n){e?(a.destroy(),t(),i(e)):(a.bytesWritten+=n,a.pos+=n,a.emit("progress"),t(),i())})})}},m.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},a.inherits(h,p),h.prototype.read=function(e,t,i,n,a){var o=n+i,s=o-this.buffer.length,r=s>0?s:i;this.buffer.copy(e,t,n,o),setImmediate(function(){a(null,r)})},h.prototype.write=function(e,t,i,n,a){e.copy(this.buffer,n,t,t+i),setImmediate(function(){a(null,i,e)})},h.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var i=this.buffer.slice(t.start,t.pos),n=0;;){var a=n+this.maxChunkSize;if(a>=i.length){n<i.length&&t.write(i.slice(n,i.length));break}t.write(i.slice(n,a)),n=a}return t.end(),t.destroy=function(){t.destroyed=!0},t},h.prototype.createWriteStream=function(e){var t=this,i=new r(e=e||{});return i.start=e.start||0,i.endOffset=null==e.end?this.buffer.length:+e.end,i.bytesWritten=0,i.pos=i.start,i.destroyed=!1,i._write=function(e,n,a){if(!i.destroyed){var o=i.pos+e.length;if(o>i.endOffset){var s=Error("maximum file length exceeded");s.code="ETOOBIG",i.destroyed=!0,a(s);return}e.copy(t.buffer,i.pos,0,e.length),i.bytesWritten+=e.length,i.pos=o,i.emit("progress"),a()}},i.destroy=function(){i.destroyed=!0},i},h.prototype.ref=function(){this.refCount+=1},h.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw Error("invalid unref")}},752737:(e,t,i)=>{"use strict";let{PassThrough:n}=i(276162);e.exports=e=>{let{array:t}=e={...e},{encoding:i}=e,a="buffer"===i,o=!1;t?o=!(i||a):i=i||"utf8",a&&(i=null);let s=new n({objectMode:o});i&&s.setEncoding(i);let r=0,c=[];return s.on("data",e=>{c.push(e),o?r=c.length:r+=e.length}),s.getBufferedValue=()=>t?c:a?Buffer.concat(c,r):c.join(""),s.getBufferedLength=()=>r,s}},138621:(e,t,i)=>{"use strict";let{constants:n}=i(978893),a=i(276162),{promisify:o}=i(521764),s=i(752737),r=o(a.pipeline);class c extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function l(e,t){if(!e)throw Error("Expected a stream");let{maxBuffer:i}=t={maxBuffer:1/0,...t},a=s(t);return await new Promise((t,o)=>{let s=e=>{e&&a.getBufferedLength()<=n.MAX_LENGTH&&(e.bufferedData=a.getBufferedValue()),o(e)};(async()=>{try{await r(e,a),t()}catch(e){s(e)}})(),a.on("data",()=>{a.getBufferedLength()>i&&s(new c)})}),a.getBufferedValue()}e.exports=l,e.exports.buffer=(e,t)=>l(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>l(e,{...t,array:!0}),e.exports.MaxBufferError=c},978202:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNALS=void 0,t.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}]},238917:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signalsByNumber=t.signalsByName=void 0;var n=i(19801),a=i(736039),o=i(940084);let s=(0,a.getSignals)().reduce(function(e,{name:t,number:i,description:n,supported:a,action:o,forced:s,standard:r}){return{...e,[t]:{name:t,number:i,description:n,supported:a,action:o,forced:s,standard:r}}},{});t.signalsByName=s;let r=function(e,t){let i=c(e,t);if(void 0===i)return{};let{name:n,description:a,supported:o,action:s,forced:r,standard:l}=i;return{[e]:{name:n,number:e,description:a,supported:o,action:s,forced:r,standard:l}}},c=function(e,t){let i=t.find(({name:t})=>n.constants.signals[t]===e);return void 0!==i?i:t.find(t=>t.number===e)},l=function(){let e=(0,a.getSignals)();return Object.assign({},...Array.from({length:o.SIGRTMAX+1},(t,i)=>r(i,e)))}();t.signalsByNumber=l},940084:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGRTMAX=t.getRealtimeSignals=void 0,t.getRealtimeSignals=function(){return Array.from({length:a-n+1},i)};let i=function(e,t){return{name:`SIGRT${t+1}`,number:n+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},n=34,a=64;t.SIGRTMAX=a},736039:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSignals=void 0;var n=i(19801),a=i(978202),o=i(940084);t.getSignals=function(){let e=(0,o.getRealtimeSignals)();return[...a.SIGNALS,...e].map(s)};let s=function({name:e,number:t,description:i,action:a,forced:o=!1,standard:s}){let{signals:{[e]:r}}=n.constants,c=void 0!==r;return{name:e,number:c?r:t,description:i,supported:c,action:a,forced:o,standard:s}}},844983:e=>{"use strict";let t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform,e.exports=t},497493:(e,t,i)=>{var n;function a(e,t,i){if("function"==typeof t&&(i=t,t={}),!i){if("function"!=typeof Promise)throw TypeError("callback not provided");return new Promise(function(i,n){a(e,t||{},function(e,t){e?n(e):i(t)})})}n(e,t||{},function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),i(e,n)})}i(592048),"win32"===process.platform||global.TESTING_WINDOWS?n=i(980492):n=i(834135),e.exports=a,a.sync=function(e,t){try{return n.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},834135:(e,t,i)=>{e.exports=a,a.sync=function(e,t){return o(n.statSync(e),t)};var n=i(592048);function a(e,t,i){n.stat(e,function(e,n){i(e,!e&&o(n,t))})}function o(e,t){var i,n,a,o,s,r,c;return e.isFile()&&(i=e.mode,n=e.uid,a=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),r=parseInt("100",8),c=parseInt("010",8),i&parseInt("001",8)||i&c&&a===s||i&r&&n===o||i&(r|c)&&0===o)}},980492:(e,t,i)=>{e.exports=o,o.sync=function(e,t){return a(n.statSync(e),e,t)};var n=i(592048);function a(e,t,i){return!!(e.isSymbolicLink()||e.isFile())&&function(e,t){var i=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!i||-1!==(i=i.split(";")).indexOf(""))return!0;for(var n=0;n<i.length;n++){var a=i[n].toLowerCase();if(a&&e.substr(-a.length).toLowerCase()===a)return!0}return!1}(t,i)}function o(e,t,i){n.stat(e,function(n,o){i(n,!n&&a(o,e,t))})}},279433:e=>{"use strict";let t=(e,t)=>{for(let i of Reflect.ownKeys(t))Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i));return e};e.exports=t,e.exports.default=t},265978:(e,t,i)=>{"use strict";let n=i(555315),a=i(174387),o=e=>{let t;e={cwd:process.cwd(),path:process.env[a()],execPath:process.execPath,...e};let i=n.resolve(e.cwd),o=[];for(;t!==i;)o.push(n.join(i,"node_modules/.bin")),t=i,i=n.resolve(i,"..");return o.push(n.resolve(e.cwd,e.execPath,"..")),o.concat(e.path).join(n.delimiter)};e.exports=o,e.exports.default=o,e.exports.env=t=>{let i={...(t={env:process.env,...t}).env},n=a({env:i});return t.path=i[n],i[n]=e.exports(t),i}},917337:(e,t,i)=>{var n=i(794643);function a(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},i=e.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}e.exports=n(a),e.exports.strict=n(o),a.proto=a(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return a(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},284428:(e,t,i)=>{"use strict";let n=i(279433),a=new WeakMap,o=(e,t={})=>{let i;if("function"!=typeof e)throw TypeError("Expected a function");let o=0,s=e.displayName||e.name||"<anonymous>",r=function(...n){if(a.set(r,++o),1===o)i=e.apply(this,n),e=null;else if(!0===t.throw)throw Error(`Function \`${s}\` can only be called once`);return i};return n(r,e),a.set(r,o),r};e.exports=o,e.exports.default=o,e.exports.callCount=e=>{if(!a.has(e))throw Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return a.get(e)}},174387:e=>{"use strict";let t=(e={})=>{let t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};e.exports=t,e.exports.default=t},99196:e=>{function t(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function i(e){e.pending+=1;var t=!1;return function(a){if(t)throw Error("callback called twice");if(t=!0,e.error=e.error||a,e.pending-=1,e.waiting.length>0&&e.pending<e.max)e.waiting.shift()(i(e));else if(0===e.pending){var o=e.listeners;e.listeners=[],o.forEach(n)}};function n(t){t(e.error)}}e.exports=t,t.prototype.go=function(e){this.pending<this.max?e(i(this)):this.waiting.push(e)},t.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},t.prototype.hold=function(){return i(this)}},398597:(e,t,i)=>{var n,a=i(917337),o=i(514949);try{n=i(592048)}catch(e){}var s=function(){},r="undefined"!=typeof process&&/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e,t,i,l){l=a(l);var p=!1;e.on("close",function(){p=!0}),o(e,{readable:t,writable:i},function(e){if(e)return l(e);p=!0,l()});var u=!1;return function(t){if(!p&&!u){if(u=!0,r&&n&&(e instanceof(n.ReadStream||s)||e instanceof(n.WriteStream||s))&&c(e.close))return e.close(s);if(e.setHeader&&c(e.abort))return e.abort();if(c(e.destroy))return e.destroy();l(t||Error("stream was destroyed"))}}},p=function(e){e()},u=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),i=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw Error("pump requires two streams per minimum");var n=t.map(function(a,o){var s=o<t.length-1;return l(a,s,o>0,function(t){e||(e=t),t&&n.forEach(p),s||(n.forEach(p),i(e))})});return t.reduce(u)}},366173:(e,t,i)=>{"use strict";let n=i(869877);e.exports=(e="")=>{let t=e.match(n);if(!t)return null;let[i,a]=t[0].replace(/#! ?/,"").split(" "),o=i.split("/").pop();return"env"===o?a:a?`${o} ${a}`:o}},869877:e=>{"use strict";e.exports=/^#!(.*)/},263180:(e,t,i)=>{var n=global.process;let a=function(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on};if(a(n)){var o,s=i(627790),r=i(272354),c=/^win/i.test(n.platform),l=i(17702);"function"!=typeof l&&(l=l.EventEmitter),n.__signal_exit_emitter__?o=n.__signal_exit_emitter__:((o=n.__signal_exit_emitter__=new l).count=0,o.emitted={}),o.infinite||(o.setMaxListeners(1/0),o.infinite=!0),e.exports=function(e,t){if(!a(global.process))return function(){};s.equal(typeof e,"function","a callback must be provided for exit handler"),!1===m&&h();var i="exit";return t&&t.alwaysLast&&(i="afterexit"),o.on(i,e),function(){o.removeListener(i,e),0===o.listeners("exit").length&&0===o.listeners("afterexit").length&&p()}};var p=function(){m&&a(global.process)&&(m=!1,r.forEach(function(e){try{n.removeListener(e,d[e])}catch(e){}}),n.emit=v,n.reallyExit=f,o.count-=1)};e.exports.unload=p;var u=function(e,t,i){o.emitted[e]||(o.emitted[e]=!0,o.emit(e,t,i))},d={};r.forEach(function(e){d[e]=function(){a(global.process)&&n.listeners(e).length===o.count&&(p(),u("exit",null,e),u("afterexit",null,e),c&&"SIGHUP"===e&&(e="SIGINT"),n.kill(n.pid,e))}}),e.exports.signals=function(){return r};var m=!1,h=function(){!m&&a(global.process)&&(m=!0,o.count+=1,r=r.filter(function(e){try{return n.on(e,d[e]),!0}catch(e){return!1}}),n.emit=x,n.reallyExit=g)};e.exports.load=h;var f=n.reallyExit,g=function(e){a(global.process)&&(n.exitCode=e||0,u("exit",n.exitCode,null),u("afterexit",n.exitCode,null),f.call(n,n.exitCode))},v=n.emit,x=function(e,t){if(!("exit"===e&&a(global.process)))return v.apply(this,arguments);void 0!==t&&(n.exitCode=t);var i=v.apply(this,arguments);return u("exit",n.exitCode,null),u("afterexit",n.exitCode,null),i}}else e.exports=function(){return function(){}}},272354:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},124439:e=>{"use strict";e.exports=e=>{let t="string"==typeof e?"\n":"\n".charCodeAt(),i="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===i&&(e=e.slice(0,e.length-1)),e}},660224:(e,t,i)=>{let n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,a=i(555315),o=n?";":":",s=i(497493),r=e=>Object.assign(Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{let i=t.colon||o,a=e.match(/\//)||n&&e.match(/\\/)?[""]:[...n?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(i)],s=n?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",r=n?s.split(i):[""];return n&&-1!==e.indexOf(".")&&""!==r[0]&&r.unshift(""),{pathEnv:a,pathExt:r,pathExtExe:s}},l=(e,t,i)=>{"function"==typeof t&&(i=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:l}=c(e,t),p=[],u=i=>new Promise((o,s)=>{if(i===n.length)return t.all&&p.length?o(p):s(r(e));let c=n[i],l=/^".*"$/.test(c)?c.slice(1,-1):c,u=a.join(l,e);o(d(!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u,i,0))}),d=(e,i,n)=>new Promise((a,r)=>{if(n===o.length)return a(u(i+1));let c=o[n];s(e+c,{pathExt:l},(o,s)=>{if(!o&&s){if(!t.all)return a(e+c);p.push(e+c)}return a(d(e,i,n+1))})});return i?u(0).then(e=>i(null,e),i):u(0)};e.exports=l,l.sync=(e,t)=>{let{pathEnv:i,pathExt:n,pathExtExe:o}=c(e,t=t||{}),l=[];for(let r=0;r<i.length;r++){let c=i[r],p=/^".*"$/.test(c)?c.slice(1,-1):c,u=a.join(p,e),d=!p&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let e=0;e<n.length;e++){let i=d+n[e];try{if(s.sync(i,{pathExt:o})){if(!t.all)return i;l.push(i)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw r(e)}},794643:e=>{e.exports=function e(t,i){if(t&&i)return e(t)(i);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){n[e]=t[e]}),n;function n(){for(var e=Array(arguments.length),i=0;i<e.length;i++)e[i]=arguments[i];var n=t.apply(this,e),a=e[e.length-1];return"function"==typeof n&&n!==a&&Object.keys(a).forEach(function(e){n[e]=a[e]}),n}}},996501:(e,t,i)=>{var n,a=i(592048),o=i(671568),s=i(678626),r=i(604494),c=i(521764),l=i(17702).EventEmitter,p=i(276162).Transform,u=i(276162).PassThrough,d=i(276162).Writable;function m(e,t,i){"function"==typeof t&&(i=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==i&&(i=T),a.fstat(e,function(n,a){if(n)return i(n);h(s.createFromFd(e,{autoClose:!0}),a.size,t,i)})}function h(e,t,i,a){"function"==typeof i&&(a=i,i=null),null==i&&(i={}),null==i.autoClose&&(i.autoClose=!0),null==i.lazyEntries&&(i.lazyEntries=!1),null==i.decodeStrings&&(i.decodeStrings=!0);var o=!!i.decodeStrings;if(null==i.validateEntrySizes&&(i.validateEntrySizes=!0),null==i.strictFileNames&&(i.strictFileNames=!1),null==a&&(a=T),"number"!=typeof t)throw Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var s=Math.min(65557,t),r=n(s),c=t-r.length;y(e,r,0,s,c,function(l){if(l)return a(l);for(var p=s-22;p>=0;p-=1)if(101010256===r.readUInt32LE(p)){var u=r.slice(p),d=u.readUInt16LE(4);if(0!==d)return a(Error("multi-disk zip files are not supported: found disk number: "+d));var m=u.readUInt16LE(10),h=u.readUInt32LE(16),g=u.readUInt16LE(20),v=u.length-22;if(g!==v)return a(Error("invalid comment length. expected: "+v+". found: "+g));var x=o?k(u,22,u.length,!1):u.slice(22);if(!(65535===m||4294967295===h))return a(null,new f(e,h,t,m,x,i.autoClose,i.lazyEntries,o,i.validateEntrySizes,i.strictFileNames));var b=n(20),w=c+p-b.length;y(e,b,0,b.length,w,function(s){if(s)return a(s);if(117853008!==b.readUInt32LE(0))return a(Error("invalid zip64 end of central directory locator signature"));var r=C(b,8),c=n(56);y(e,c,0,c.length,r,function(n){return n?a(n):101075792!==c.readUInt32LE(0)?a(Error("invalid zip64 end of central directory record signature")):(m=C(c,32),h=C(c,48),a(null,new f(e,h,t,m,x,i.autoClose,i.lazyEntries,o,i.validateEntrySizes,i.strictFileNames)))})});return}a(Error("end of central directory record signature not found"))})}function f(e,t,i,n,a,o,s,r,c,p){var u=this;l.call(u),u.reader=e,u.reader.on("error",function(e){v(u,e)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=t,u.fileSize=i,u.entryCount=n,u.comment=a,u.entriesRead=0,u.autoClose=!!o,u.lazyEntries=!!s,u.decodeStrings=!!r,u.validateEntrySizes=!!c,u.strictFileNames=!!p,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}function g(e,t){e.autoClose&&e.close(),v(e,t)}function v(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function x(){}function b(e,t){return new Date((e>>9&127)+1980,(e>>5&15)-1,31&e,t>>11&31,t>>5&63,(31&t)*2,0)}function w(e){return -1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function y(e,t,i,a,o,s){if(0===a)return setImmediate(function(){s(null,n(0))});e.read(t,i,a,o,function(e,t){return e?s(e):t<a?s(Error("unexpected EOF")):void s()})}function _(e){p.call(this),this.actualByteCount=0,this.expectedByteCount=e}function E(){l.call(this),this.refCount=0}function S(e){u.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}function k(e,t,i,n){if(n)return e.toString("utf8",t,i);for(var a="",o=t;o<i;o++)a+="\0\xb6\xa7 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"[e[o]];return a}function C(e,t){var i=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+i}function T(e){if(e)throw e}t.open=function(e,t,i){"function"==typeof t&&(i=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!0),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==i&&(i=T),a.open(e,"r",function(e,n){if(e)return i(e);m(n,t,function(e,t){e&&a.close(n,T),i(e,t)})})},t.fromFd=m,t.fromBuffer=function(e,t,i){"function"==typeof t&&(i=t,t=null),null==t&&(t={}),t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),h(s.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,i)},t.fromRandomAccessReader=h,t.dosDateTimeToDate=b,t.validateFileName=w,t.ZipFile=f,t.Entry=x,t.RandomAccessReader=E,c.inherits(f,l),f.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},f.prototype.readEntry=function(){if(!this.lazyEntries)throw Error("readEntry() called without lazyEntries:true");this._readEntry()},f.prototype._readEntry=function(){var e=this;if(e.entryCount===e.entriesRead){setImmediate(function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")});return}if(!e.emittedError){var t=n(46);y(e.reader,t,0,t.length,e.readEntryCursor,function(i){if(i)return g(e,i);if(!e.emittedError){var a=new x,o=t.readUInt32LE(0);if(33639248!==o)return g(e,Error("invalid central directory file header signature: 0x"+o.toString(16)));if(a.versionMadeBy=t.readUInt16LE(4),a.versionNeededToExtract=t.readUInt16LE(6),a.generalPurposeBitFlag=t.readUInt16LE(8),a.compressionMethod=t.readUInt16LE(10),a.lastModFileTime=t.readUInt16LE(12),a.lastModFileDate=t.readUInt16LE(14),a.crc32=t.readUInt32LE(16),a.compressedSize=t.readUInt32LE(20),a.uncompressedSize=t.readUInt32LE(24),a.fileNameLength=t.readUInt16LE(28),a.extraFieldLength=t.readUInt16LE(30),a.fileCommentLength=t.readUInt16LE(32),a.internalFileAttributes=t.readUInt16LE(36),a.externalFileAttributes=t.readUInt32LE(38),a.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&a.generalPurposeBitFlag)return g(e,Error("strong encryption is not supported"));e.readEntryCursor+=46,t=n(a.fileNameLength+a.extraFieldLength+a.fileCommentLength),y(e.reader,t,0,t.length,e.readEntryCursor,function(i){if(i)return g(e,i);if(!e.emittedError){var o=(2048&a.generalPurposeBitFlag)!=0;a.fileName=e.decodeStrings?k(t,0,a.fileNameLength,o):t.slice(0,a.fileNameLength);var s=a.fileNameLength+a.extraFieldLength,c=t.slice(a.fileNameLength,s);a.extraFields=[];for(var l=0;l<c.length-3;){var p=c.readUInt16LE(l+0),u=c.readUInt16LE(l+2),d=l+4,m=d+u;if(m>c.length)return g(e,Error("extra field length exceeds extra field buffer size"));var h=n(u);c.copy(h,0,d,m),a.extraFields.push({id:p,data:h}),l=m}if(a.fileComment=e.decodeStrings?k(t,s,s+a.fileCommentLength,o):t.slice(s,s+a.fileCommentLength),a.comment=a.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===a.uncompressedSize||4294967295===a.compressedSize||4294967295===a.relativeOffsetOfLocalHeader){for(var f=null,l=0;l<a.extraFields.length;l++){var v=a.extraFields[l];if(1===v.id){f=v.data;break}}if(null==f)return g(e,Error("expected zip64 extended information extra field"));var x=0;if(4294967295===a.uncompressedSize){if(x+8>f.length)return g(e,Error("zip64 extended information extra field does not include uncompressed size"));a.uncompressedSize=C(f,x),x+=8}if(4294967295===a.compressedSize){if(x+8>f.length)return g(e,Error("zip64 extended information extra field does not include compressed size"));a.compressedSize=C(f,x),x+=8}if(4294967295===a.relativeOffsetOfLocalHeader){if(x+8>f.length)return g(e,Error("zip64 extended information extra field does not include relative header offset"));a.relativeOffsetOfLocalHeader=C(f,x),x+=8}}if(e.decodeStrings)for(var l=0;l<a.extraFields.length;l++){var v=a.extraFields[l];if(28789===v.id){if(v.data.length<6||1!==v.data.readUInt8(0))continue;var b=v.data.readUInt32LE(1);if(r.unsigned(t.slice(0,a.fileNameLength))!==b)continue;a.fileName=k(v.data,5,v.data.length,!0);break}}if(e.validateEntrySizes&&0===a.compressionMethod){var y=a.uncompressedSize;if(a.isEncrypted()&&(y+=12),a.compressedSize!==y)return g(e,Error("compressed/uncompressed size mismatch for stored file: "+a.compressedSize+" != "+a.uncompressedSize))}if(e.decodeStrings){e.strictFileNames||(a.fileName=a.fileName.replace(/\\/g,"/"));var _=w(a.fileName,e.validateFileNameOptions);if(null!=_)return g(e,Error(_))}e.emit("entry",a),e.lazyEntries||e._readEntry()}})}})}},f.prototype.openReadStream=function(e,t,i){var a=this,s=0,r=e.compressedSize;if(null==i)i=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw Error("options.decompress can only be specified for compressed entries");if(!(!1===t.decompress||!0===t.decompress))throw Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((s=t.start)<0)throw Error("options.start < 0");if(s>e.compressedSize)throw Error("options.start > entry.compressedSize")}if(null!=t.end){if((r=t.end)<0)throw Error("options.end < 0");if(r>e.compressedSize)throw Error("options.end > entry.compressedSize");if(r<s)throw Error("options.end < options.start")}}if(!a.isOpen)return i(Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return i(Error("entry is encrypted, and options.decrypt !== false"));a.reader.ref();var c=n(30);y(a.reader,c,0,c.length,e.relativeOffsetOfLocalHeader,function(n){try{if(n)return i(n);var l,p=c.readUInt32LE(0);if(67324752!==p)return i(Error("invalid local file header signature: 0x"+p.toString(16)));var u=c.readUInt16LE(26),d=c.readUInt16LE(28),m=e.relativeOffsetOfLocalHeader+c.length+u+d;if(0===e.compressionMethod)l=!1;else{if(8!==e.compressionMethod)return i(Error("unsupported compression method: "+e.compressionMethod));l=null==t.decompress||t.decompress}var h=m+e.compressedSize;if(0!==e.compressedSize&&h>a.fileSize)return i(Error("file data overflows file bounds: "+m+" + "+e.compressedSize+" > "+a.fileSize));var f=a.reader.createReadStream({start:m+s,end:m+r}),g=f;if(l){var v=!1,x=o.createInflateRaw();f.on("error",function(e){setImmediate(function(){v||x.emit("error",e)})}),f.pipe(x),a.validateEntrySizes?(g=new _(e.uncompressedSize),x.on("error",function(e){setImmediate(function(){v||g.emit("error",e)})}),x.pipe(g)):g=x,g.destroy=function(){v=!0,x!==g&&x.unpipe(g),f.unpipe(x),f.destroy()}}i(null,g)}finally{a.reader.unref()}})},x.prototype.getLastModDate=function(){return b(this.lastModFileDate,this.lastModFileTime)},x.prototype.isEncrypted=function(){return(1&this.generalPurposeBitFlag)!=0},x.prototype.isCompressed=function(){return 8===this.compressionMethod},c.inherits(_,p),_.prototype._transform=function(e,t,i){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount)return i(Error("too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount));i(null,e)},_.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount)return e(Error("not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount));e()},c.inherits(E,l),E.prototype.ref=function(){this.refCount+=1},E.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw Error("invalid unref");e.close(function(t){if(t)return e.emit("error",t);e.emit("close")})}},E.prototype.createReadStream=function(e){var t=e.start,i=e.end;if(t===i){var n=new u;return setImmediate(function(){n.end()}),n}var a=this._readStreamForRange(t,i),o=!1,s=new S(this);a.on("error",function(e){setImmediate(function(){o||s.emit("error",e)})}),s.destroy=function(){a.unpipe(s),s.unref(),a.destroy()};var r=new _(i-t);return s.on("error",function(e){setImmediate(function(){o||r.emit("error",e)})}),r.destroy=function(){o=!0,s.unpipe(r),s.destroy()},a.pipe(s).pipe(r)},E.prototype._readStreamForRange=function(e,t){throw Error("not implemented")},E.prototype.read=function(e,t,i,n,a){var o=this.createReadStream({start:n,end:n+i}),s=new d,r=0;s._write=function(i,n,a){i.copy(e,t+r,0,i.length),r+=i.length,a()},s.on("finish",a),o.on("error",function(e){a(e)}),o.pipe(s)},E.prototype.close=function(e){setImmediate(e)},c.inherits(S,u),S.prototype._flush=function(e){this.unref(),e()},S.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())},"function"==typeof Buffer.allocUnsafe?n=function(e){return Buffer.allocUnsafe(e)}:n=function(e){return new Buffer(e)}},33875:(e,t,i)=>{"use strict";i.d(t,{renderMedia:()=>so,selectComposition:()=>sl});var n,a,o=i(382033),s=i(943503),r=i(487561),c=i.t(r,2),l=i(149411),p=i(774175),u=i.t(p,2),d=i(317718),m=i(970612),h=i(217655),f=i(735240),g=i(788849),v=i(325154),x=i(630604),b=i(941041);i(910663),i(929842),i(314750);var w=i(11318);i(765615);var y=i(555315),_=i(592048),E=i(263757),S=i(322294),k=i(447261);i(919510);var C="remotion_buffer:",T=e=>{let t=new Uint8Array(C.length);for(let e=0;e<C.length;e++)t[e]=C.charCodeAt(e);let i=[],n=new Uint8Array(0),a=null,o=()=>{let e=0;for(;;){let i=n.indexOf(t[0],e);if(-1===i)return -1;if(n.subarray(i,i+t.length).toString()!==t.toString()){e=i+1;continue}return i}},s=()=>{let i=o();if(-1===i)return;i+=t.length;let r="",c="",l="";for(;;){if(i>n.length-1)return;let e=n[i];if(i++,58===e)break;r+=String.fromCharCode(e)}for(;;){if(i>n.length-1)return;let e=n[i];if(i++,58===e)break;c+=String.fromCharCode(e)}for(;;){if(i>n.length-1)return;let e=n[i];if(58===e)break;i++,l+=String.fromCharCode(e)}let p=Number(c),u=Number(l),d=n.length-i-1;if(d<p){a={dataMissing:p-d};return}e(1===u?"error":"success",r,n.subarray(i+1,i+1+Number(c))),a=null,n=n.subarray(i+Number(c)+1),s()};return{onData:e=>{if(i.push(e),a&&(a.dataMissing-=e.length),a&&a.dataMissing>0)return;let t=new Uint8Array(n.length+i.reduce((e,t)=>e+t.length,0));t.set(n,0);let o=n.length;for(let e of i)t.set(e,o),o+=e.length;n=t,i=[],s()},getOutputBuffer:()=>n,clear:()=>{i=[],n=new Uint8Array(0)}}},I=i(698216),N=i(19801),j=i(398061),R=Object.defineProperty,L=(0,o.createRequire)("file:///C:/xampp/htdocs/_MVP_Video_TecnicoCursos_v7/estudio_ia_videos/node_modules/@remotion/renderer/dist/esm/index.mjs"),F=e=>{let t=l.dirname(e);r.existsSync(t)||r.mkdirSync(t,{recursive:!0})},P=()=>{let e=process.env||{};if("NO_COLOR"in e)return!1;if("FORCE_COLOR"in e)return!0;let t="win32"===process.platform,i=u?.isatty?.(1)&&e.TERM&&"dumb"!==e.TERM;return t||i||"CI"in e&&("GITHUB_ACTIONS"in e||"GITLAB_CI"in e||"CIRCLECI"in e)},O=(()=>{let e={enabled:()=>P(),visible:!0,styles:{},keys:{}},t=e=>{let t=`\x1b[${e.codes[0]}m`,i=`\x1b[${e.codes[1]}m`,n=RegExp(`\\u001b\\[${e.codes[1]}m`,"g");return e.wrap=(e,a)=>{e.includes(i)&&(e=e.replace(n,i+t));let o=t+e+i;return a?o.replace(/\r*\n/g,`${i}$&${t}`):o},e},i=(e,t,i)=>e.wrap?.(t,i),n=(t,n)=>{if(""===t||null==t)return"";if(!1===e.enabled())return t;if(!1===e.visible)return"";let a=String(t),o=a.includes(`
`),s=n.length;for(;s-- >0;)a=i(e.styles[n[s]],a,o);return a},a=(i,a,o)=>{e.styles[i]=t({name:i,codes:a}),(e.keys[o]||(e.keys[o]=[])).push(i),Reflect.defineProperty(e,i,{configurable:!0,enumerable:!0,set(t){e.alias?.(i,t)},get(){let t=e=>n(e,t.stack);return Reflect.setPrototypeOf(t,e),t.stack=this.stack?this.stack.concat(i):[i],t}})};return a("reset",[0,0],"modifier"),a("bold",[1,22],"modifier"),a("dim",[2,22],"modifier"),a("italic",[3,23],"modifier"),a("underline",[4,24],"modifier"),a("inverse",[7,27],"modifier"),a("hidden",[8,28],"modifier"),a("strikethrough",[9,29],"modifier"),a("black",[30,39],"color"),a("red",[31,39],"color"),a("green",[32,39],"color"),a("yellow",[33,39],"color"),a("blue",[34,39],"color"),a("magenta",[35,39],"color"),a("cyan",[36,39],"color"),a("white",[37,39],"color"),a("gray",[90,39],"color"),a("grey",[90,39],"color"),a("bgBlack",[40,49],"bg"),a("bgRed",[41,49],"bg"),a("bgGreen",[42,49],"bg"),a("bgYellow",[43,49],"bg"),a("bgBlue",[44,49],"bg"),a("bgMagenta",[45,49],"bg"),a("bgWhite",[47,49],"bg"),a("blackBright",[90,39],"bright"),a("redBright",[91,39],"bright"),a("greenBright",[92,39],"bright"),a("yellowBright",[93,39],"bright"),a("blueBright",[94,39],"bright"),a("magentaBright",[95,39],"bright"),a("whiteBright",[97,39],"bright"),a("bgBlackBright",[100,49],"bgBright"),a("bgRedBright",[101,49],"bgBright"),a("bgGreenBright",[102,49],"bgBright"),a("bgYellowBright",[103,49],"bgBright"),a("bgBlueBright",[104,49],"bgBright"),a("bgMagentaBright",[105,49],"bgBright"),a("bgWhiteBright",[107,49],"bgBright"),e.alias=(t,i)=>{let a=e[i];if("function"!=typeof a)throw TypeError("Expected alias to be the name of an existing color (string) or a function");a.stack||(Reflect.defineProperty(a,"name",{value:t}),e.styles[t]=a,a.stack=[t]),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(i){e.alias?.(t,i)},get(){let t=e=>n(e,t.stack);return Reflect.setPrototypeOf(t,e),t.stack=this.stack?this.stack.concat(a.stack):a.stack,t}})},e})(),$=["trace","verbose","info","warn","error"],M=e=>$.indexOf(e),A=(e,t)=>M(e)<=M(t),D=()=>{let e=process.cwd(),t="";for(let i=0;i<5;i++){if(t=l.join(e,"package.json"),r.existsSync(t))return t;e=l.dirname(e)}return null},z=()=>{let e=D();return null===e?process.cwd():l.dirname(e)},B=e=>{if(void 0===e)throw Error("serveUrl is undefined");return!!(e.startsWith("www.")||e.includes("amazonaws.com"))||e.startsWith("https://")||e.startsWith("http://")},U=`
`,q=e=>`remotion-repro-${e}-${Date.now()}.zip`,G=e=>{let t;try{t=r.readdirSync(e)}catch{return r.mkdirSync(e,{recursive:!0})}t.forEach(t=>{t=l.join(e,t),r.rmSync(t,{recursive:!0,force:!0})})},W=({sourceFolder:e,targetZip:t,indent:i,logLevel:n})=>{let a=m.platform();try{en.info({indent:i,logLevel:n},"+ Creating reproduction ZIP"),"win32"===a?(0,d.execSync)(`powershell.exe Compress-Archive -Path "${e}" -DestinationPath "${t}"`):(0,d.execSync)(`zip -r "${t}" "${e}"`),(0,r.rmSync)(e,{recursive:!0}),en.info({indent:i,logLevel:n},`${O.blue(`+ Repro: ${t}`)}`)}catch(t){en.error({indent:i,logLevel:n},`Failed to zip repro folder, The repro folder is ${e}. You can try manually zip it.`),en.error({indent:i,logLevel:n},t)}},V=e=>{let t=z(),i=l.join(t,".remotionrepro"),n=l.join(i,"logs.txt"),a=l.join(t,q(e));G(i);let o=r.createWriteStream(n,{flags:"a"}),s=e=>JSON.stringify(e),c=(e,...t)=>{if(!t.length)return;let i=new Date().toISOString(),n=`[${i}] ${e} ${s(t)}`;o.write(n+U)};return{start:({serveUrl:e,serializedInputPropsWithCustomSchema:t,serializedResolvedPropsWithCustomSchema:n})=>{if(!B(e)){let t=l.resolve(i,"bundle");G(t),r.cpSync(e,t,{recursive:!0})}let a=l.resolve(i,"input-props.json");r.writeFileSync(a,t);let o=l.resolve(i,"resolved-props.json");r.writeFileSync(o,n),c("info",[`Args: ${JSON.stringify(process.argv)}`]),c("info",[`Node/Bun version: ${process.version}`]),c("info",[`OS: ${process.platform}-${process.arch}`]),c("info",[`Serve URL: ${e}`]),c("info",[`Remotion version: ${h.VERSION}`])},writeLine:c,onRenderSucceed:({indent:e,logLevel:t,output:n})=>new Promise((s,c)=>{try{if(n){let e=l.resolve(i,"output");G(e);let t=l.basename(n),a=l.join(e,t);r.copyFileSync(n,a)}X(),o.end(()=>{o.close(()=>{W({sourceFolder:i,targetZip:a,indent:e,logLevel:t}),s()})})}catch(e){en.error({indent:!1,logLevel:t},"repro render success error:"),en.error({indent:!1,logLevel:t},e),c(e)}})}},H=null,J=()=>{if(!H)throw Error("reproWriteInstance is not initialized");return H},Y=(e,...t)=>{Z()&&J().writeLine(e,...t)},K=!1,Q=({serveUrl:e,compositionName:t,serializedInputPropsWithCustomSchema:i,serializedResolvedPropsWithCustomSchema:n})=>{K=!0,H=V(t),J().start({serveUrl:e,serializedInputPropsWithCustomSchema:i,serializedResolvedPropsWithCustomSchema:n})},X=()=>{K=!1},Z=()=>K;function ee(e){return!!e}var et=O.gray(""),ei=e=>P()?O.bgBlack(` ${e} `):`[${e}]`,en={formatLogs:(e,t,i)=>[t.indent?et:null,t.tag?ei(t.tag):null].filter(ee).concat(i.map(t=>"warn"===e?O.yellow(t):"error"===e?O.red(t):"verbose"===e||"trace"===e?O.gray(t):t)),trace:(e,...t)=>{if(Y("trace",...t),A(e.logLevel,"trace"))return 0===t.length?process.stdout.write(`
`):console.log(...en.formatLogs("trace",e,t))},verbose:(e,...t)=>{if(Y("verbose",...t),A(e.logLevel,"verbose"))return 0===t.length?process.stdout.write(`
`):console.log(...en.formatLogs("verbose",e,t))},info:(e,...t)=>{if(Y("info",...t),A(e.logLevel,"info"))return 0===t.length?process.stdout.write(`
`):console.log(...en.formatLogs("info",e,t))},warn:(e,...t)=>{if(Y("warn",...t),A(e.logLevel,"warn"))return 0===t.length?process.stdout.write(`
`):console.warn(...en.formatLogs("warn",e,t))},error:(e,...t)=>{if(Y("error",...t),A(e.logLevel,"error"))return 0===t.length?process.stdout.write(`
`):console.error(...en.formatLogs("error",e,t))}},ea=[301,302,303,307,308],eo=e=>{if(e.startsWith("https://"))return f.get;if(e.startsWith("http://"))return g.get;throw Error(`Can only download URLs starting with http:// or https://, got "${e}"`)},es=e=>new Promise((t,i)=>{let n=eo(e)(e,"undefined"==typeof Bun?{headers:{"user-agent":"Mozilla/5.0 (@remotion/renderer - https://remotion.dev)"}}:{},e=>{t({request:n,response:e})});n.on("error",e=>(n.destroy(),i(e)))}),er=async(e,t=0)=>{if(t>10)throw Error(`Too many redirects while downloading ${e}`);let{request:i,response:n}=await es(e);if(ea.includes(n.statusCode)){if(!n.headers.location)throw Error(`Received a status code ${n.statusCode} but no "Location" header while calling ${n.headers.location}`);let{origin:a}=new URL(e),o=new URL(n.headers.location,a).toString();return i.destroy(),n.destroy(),er(o,t+1)}if(n.statusCode>=400){let t=await ec(n);throw i.destroy(),n.destroy(),Error([`Received a status code of ${n.statusCode} while downloading file ${e}.`,t?"The response body was:":null,t?"---":null,t||null,t?"---":null].filter(ee).join(`
`))}return{request:i,response:n}},ec=async e=>{let t=new Promise(t=>{let i="";e.on("data",e=>{i+=e}),e.on("end",()=>{t(i)}),e.on("error",()=>t(i))}),i=null,n=await Promise.race([t,new Promise(e=>{i=setTimeout(()=>{e(null)},5e3)})]);return i&&clearTimeout(i),n},el="Download finished with",ep=({onProgress:e,url:t,to:i})=>new Promise((n,a)=>{let o,s=!1,c=!1,l=e=>{c=!0,n(e),o&&clearTimeout(o)},p=e=>{o&&clearTimeout(o),a(e),s=!0},u=()=>{o&&clearTimeout(o),o=setTimeout(()=>{c||p(Error(`Tried to download file ${t}, but the server sent no data for 20 seconds`))},2e4)};u();let d=!1,m=()=>{};er(t).then(({response:t,request:n})=>{m=()=>{n.destroy(),t.destroy()};let a=i(t.headers["content-disposition"]??null,t.headers["content-type"]??null);F(a);let o=t.headers["content-length"],c=void 0===o?null:Number(o),h=(0,r.createWriteStream)(a),f=0;h.on("close",()=>{if(!s)return d||e?.({downloaded:f,percent:1,totalSize:f}),u(),l({sizeInBytes:f,to:a})}),h.on("error",e=>p(e)),t.on("error",e=>{m(),p(e)}),t.pipe(h).on("error",e=>p(e)),t.on("data",t=>{u(),f+=t.length,u();let i=null===c?null:f/c;e?.({downloaded:f,percent:i,totalSize:c}),1===i&&(d=!0)}),t.on("close",()=>{null!==c&&f!==c&&p(Error(`${el} ${f} bytes, but expected ${c} bytes from 'Content-Length'.`)),h.close(),m()})}).catch(e=>{p(e)})}),eu=async(e,t=2,i=1)=>{try{return await ep(e)}catch(a){let{message:n}=a;if("aborted"===n||n.includes("ECONNRESET")||n.includes(el)||n.includes("503")||n.includes("502")||n.includes("504")||n.includes("500")){if(0===t)throw a;en.warn({indent:e.indent,logLevel:e.logLevel},`Downloading ${e.url} failed (will retry): ${n}`);let o=(i+1)**2;return await new Promise(e=>{setTimeout(()=>e(),1e3*o)}),eu(e,t-1,i+1)}throw a}},ed="chrome",em=(e,t)=>{if(!e)throw Error(t)},eh=e=>{if(e.preview)return ef(e.preview);if("string"===e.type)return e.value.includes(v.NoReactInternals.DELAY_RENDER_CLEAR_TOKEN)?O.gray(`${e.value}`):`${e.value}`;if("number"===e.type)return O.yellow(`${e.value}`);if("bigint"===e.type)return O.yellow(`${e.description}`);if("boolean"===e.type)return O.yellow(`${e.value}`);if("function"===e.type)return O.cyan(String(e.description));if("object"===e.type)return"null"===e.subtype?"null":O.reset("Object");if("symbol"===e.type)return O.green(`${e.description}`);if("undefined"===e.type)return O.gray("undefined");throw Error("unhandled remote object")},ef=e=>{if(void 0===e)return"";if("object"===e.type){if("date"===e.subtype)return O.reset(`Date { ${O.magenta(String(e.description))} }`);let t=e.properties.map(e=>O.reset(`${e.name}: ${eg(e)}`));return"array"===e.subtype?e.overflow?O.reset(`[ ${e.properties.map(e=>eg(e)).join(", ")}, ]`):O.reset(`[ ${e.properties.map(e=>eg(e)).join(", ")} ]`):"arraybuffer"===e.subtype||"dataview"===e.subtype||"generator"===e.subtype||"iterator"===e.subtype||"map"===e.subtype?O.reset(String(e.description)):"node"===e.subtype?O.magenta(`<${e.description}>`):"null"===e.subtype?O.white(String(e.description)):"promise"===e.subtype||"proxy"===e.subtype?O.reset(String(e.description)):"regexp"===e.subtype?O.red(String(e.description)):"set"===e.subtype||"typedarray"===e.subtype||"error"===e.subtype||"wasmvalue"===e.subtype||"weakmap"===e.subtype||"weakset"===e.subtype||"webassemblymemory"===e.subtype?O.reset(String(e.description)):0===t.length?O.reset("{}"):e.overflow?O.reset(`{ ${t.join(", ")}, }`):O.reset(`{ ${t.join(", ")} }`)}return""},eg=e=>{if("string"===e.type)return O.green(`"${e.value}"`);if("object"===e.type)return e.subtype||"Object"!==e.value?"date"===e.subtype?O.reset(`Date { ${O.magenta(String(e.value))} }`):"arraybuffer"===e.subtype||"array"===e.subtype||"dataview"===e.subtype||"error"===e.subtype?O.reset(`${e.value}`):"generator"===e.subtype?O.reset(`[generator ${e.value}]`):"iterator"===e.subtype||"map"===e.subtype||"node"===e.subtype?O.reset(`${e.value}`):"null"===e.subtype?O.white(`${e.value}`):("promise"===e.subtype||"proxy"===e.subtype||"regexp"===e.subtype||"set"===e.subtype||"typedarray"===e.subtype||"wasmvalue"===e.subtype||"webassemblymemory"===e.subtype||"weakmap"===e.subtype||e.subtype,O.reset(`${e.value}`)):O.reset(`{}`);if("accessor"===e.type)return O.gray("get()");if("bigint"===e.type||"boolean"===e.type)return O.yellow(`${e.value}`);if("function"===e.type)return O.cyan("Function");if("number"===e.type)return O.yellow(`${e.value}`);if("symbol"===e.type)return O.green(`${e.value}`);if("undefined"===e.type)return O.gray("undefined");throw Error("unexpected property type "+JSON.stringify(e))};class ev{type;text;args;previewString;#e;logLevel;tag;constructor({type:e,text:t,args:i,stackTraceLocations:n,previewString:a,logLevel:o,tag:s}){this.type=e,this.text=t,this.args=i,this.previewString=a,this.#e=n,this.logLevel=o,this.tag=s}stackTrace(){return this.#e}}class ex{emitter;eventsMap=new Map;constructor(){this.emitter=function(e){return{all:e=e||new Map,on:(t,i)=>{let n=e?.get(t);n?.push(i)||e?.set(t,[i])},off:(t,i)=>{let n=e?.get(t);n&&n.splice(n.indexOf(i)>>>0,1)},emit:(t,i)=>{(e?.get(t)||[]).slice().forEach(e=>{e(i)}),(e?.get("*")||[]).slice().forEach(e=>{e(t,i)})}}}(this.eventsMap)}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}addListener(e,t){return this.on(e,t),this}emit(e,t){return this.emitter.emit(e,t),this.eventListenersCount(e)>0}once(e,t){let i=n=>{t(n),this.off(e,i)};return this.on(e,i)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){return e?this.eventsMap.delete(e):this.eventsMap.clear(),this}eventListenersCount(e){return this.eventsMap.get(e)?.length||0}}class eb extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class ew extends eb{}class ey extends eb{code;originalMessage=""}var e_={Disconnected:Symbol("Connection.Disconnected")};class eE extends ex{transport;#t=0;#i=new Map;#n=!1;#a=new Map;constructor(e){super(),this.transport=e,this.transport.onmessage=this.#o.bind(this),this.transport.onclose=this.#s.bind(this)}static fromSession(e){return e.connection()}session(e){return this.#i.get(e)||null}send(e,...t){let i=t.length?t[0]:void 0,n=this._rawSend({method:e,params:i});return new Promise((t,a)=>{this.#a.set(n,{resolve:t,reject:a,method:e,returnSize:!0,stack:Error().stack??"",fn:e+JSON.stringify(i)})})}_rawSend(e){let t=++this.#t,i=JSON.stringify({...e,id:t});return this.transport.send(i),t}#o(e){let t=JSON.parse(e);if("Target.attachedToTarget"===t.method){let{sessionId:e}=t.params,i=new ek(this,t.params.targetInfo.type,e);this.#i.set(e,i),this.emit("sessionattached",i);let n=this.#i.get(t.sessionId);n&&n.emit("sessionattached",i)}else if("Target.detachedFromTarget"===t.method){let e=this.#i.get(t.params.sessionId);if(e){e._onClosed(),this.#i.delete(t.params.sessionId),this.emit("sessiondetached",e);let i=this.#i.get(t.sessionId);i&&i.emit("sessiondetached",e)}}if(t.sessionId){let i=this.#i.get(t.sessionId);i&&i._onMessage(t,e.length)}else if(t.id){let i=this.#a.get(t.id);i&&(this.#a.delete(t.id),t.error?i.reject(eC(i.method,t)):i.returnSize?i.resolve({value:t.result,size:e.length}):i.resolve(t.result))}else this.emit(t.method,t.params)}#s(){if(!this.#n){for(let e of(this.transport.onmessage=void 0,this.transport.onclose=void 0,this.#a.values()))e.reject(eT(new ey,`Protocol error (${e.method}): Target closed. https://www.remotion.dev/docs/target-closed`));for(let e of(this.#a.clear(),this.#i.values()))e._onClosed();this.#i.clear(),this.emit(e_.Disconnected)}}dispose(){this.#s(),this.transport.close()}async createSession(e){let{value:{sessionId:t}}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0}),i=this.#i.get(t);if(!i)throw Error("CDPSession creation failed.");return i}}var eS={Disconnected:Symbol("CDPSession.Disconnected")};class ek extends ex{#r;#c;#a=new Map;#l;constructor(e,t,i){super(),this.#l=e,this.#c=t,this.#r=i}connection(){return this.#l}send(e,...t){if(!this.#l)return Promise.reject(Error(`Protocol error (${e}): Session closed. Most likely the ${this.#c} has been closed.`));let i=t.length?t[0]:void 0,n=this.#l._rawSend({sessionId:this.#r,method:e,params:i});return new Promise((t,a)=>{if(this.#a.size>100){for(let e of this.#a.values())en.info({indent:!1,logLevel:"info"},e.fn);throw Error("Leak detected: Too many callbacks")}this.#a.set(n,{resolve:t,reject:a,method:e,returnSize:!0,stack:Error().stack??"",fn:e+JSON.stringify(i)})})}_onMessage(e,t){let i=e.id?this.#a.get(e.id):void 0;e.id&&i?(this.#a.delete(e.id),e.error?i.reject(eC(i.method,e)):i.returnSize?i.resolve({value:e.result,size:t}):i.resolve(e.result)):this.emit(e.method,e.params)}_onClosed(){for(let e of(this.#l=void 0,this.#a.values()))e.reject(eT(new ey,`Protocol error (${e.method}): Target closed. https://www.remotion.dev/docs/target-closed`));this.#a.clear(),this.emit(eS.Disconnected)}id(){return this.#r}}function eC(e,t){let i=`Protocol error (${e}): ${t.error.message}`;return"data"in t.error&&(i+=` ${t.error.data}`),eT(new ey,i,t.error.message)}function eT(e,t,i){return e.message=t,e.originalMessage=i??e.originalMessage,e}function eI(e){if(e.exception)return e.exception.description||e.exception.value;let t=e.text;if(e.stackTrace)for(let i of e.stackTrace.callFrames){let e=i.url+":"+i.lineNumber+":"+i.columnNumber,n=i.functionName||"<anonymous>";t+=`
    at ${n} (${e})`}return t}function eN(e){if(em(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue){if("bigint"===e.type&&"undefined"!=typeof BigInt)return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return -0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value}async function ej(e,t){t.objectId&&await e.send("Runtime.releaseObject",{objectId:t.objectId}).catch(()=>{})}function eR(e,t,i){return e.on(t,i),()=>e.off(t,i)}function eL(e){for(let t of e)t();e.length=0}var eF=e=>"string"==typeof e||e instanceof String;function eP(e,...t){return eF(e)?(em(0===t.length,"Cannot evaluate a string with arguments"),e):`(${e})(${t.map(function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)}).join(",")})`}async function eO(e,t,i,n){let a;let o=new ew(`waiting for ${t} failed: timeout ${i}ms exceeded`),s=new Promise((e,t)=>{a=t}),r=null;i&&(r=setTimeout(()=>a(o),i));try{return await Promise.race([new Promise((e,t)=>{n.once("closed",()=>t())}),e,s])}finally{r&&clearTimeout(r)}}function e$(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}class eM{#p;#u=null;#d=null;#m=!1;#h=new Set;get _waitTasks(){return this.#h}constructor(e){this.#p=e,this._setContext(null)}frame(){return this.#p}_setContext(e){if(e)for(let t of(em(this.#d,"Execution Context has already been set."),this.#d?.call(null,e),this.#d=null,this._waitTasks))t.rerun();else this.#u=new Promise(e=>{this.#d=e})}_hasContext(){return!this.#d}_detach(){for(let e of(this.#m=!0,this._waitTasks))e.terminate(Error("waitForFunction failed: frame got detached."))}executionContext(){if(this.#m)throw Error(`Execution context is not available in detached frame "${this.#p.url()}" (are you trying to evaluate?)`);if(null===this.#u)throw Error("Execution content promise is missing");return this.#u}async evaluateHandle(e,...t){return(await this.executionContext()).evaluateHandle(e,...t)}async evaluate(e,...t){return(await this.executionContext()).evaluate(e,...t)}waitForFunction({browser:e,timeout:t,pageFunction:i,title:n}){return new eD({domWorld:this,predicateBody:i,title:n,timeout:t,args:[],browser:e})}}var eA=()=>{};class eD{#f;#g;#v;#x;#b=0;#w=eA;#y=eA;#_;#E=!1;#S;promise;constructor(e){if(this.#f=e.domWorld,this.#g=e.timeout,this.#v=function(e){return eF(e)?`return (${e});`:`return (${e})(...args);`}(e.predicateBody),this.#x=e.args,this.#b=0,this.#f._waitTasks.add(this),this.promise=new Promise((e,t)=>{this.#w=e,this.#y=t}),e.timeout){let t=new ew(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this.#_=setTimeout(()=>this.#y(t),e.timeout)}this.#S=e.browser,this.#S.on("closed",this.onBrowserClose),this.#S.on("closed-silent",this.onBrowserCloseSilent),this.rerun()}onBrowserClose=()=>this.terminate(Error("Browser was closed"));onBrowserCloseSilent=()=>this.terminate(null);terminate(e){this.#E=!0,e&&this.#y(e),this.#k()}async rerun(){let e=++this.#b,t=null,i=null,n=await this.#f.executionContext();if(!this.#E&&e===this.#b&&!this.#E&&e===this.#b){try{t=await n.evaluateHandle(ez,this.#v,this.#g,...this.#x)}catch(e){i=e}if(this.#E||e!==this.#b){t&&await t.dispose();return}if(!i&&await this.#f.evaluate(e=>!e,t).catch(()=>!0)){if(!t)throw Error("Assertion: result handle is not available");await t.dispose();return}if(i){if(i.message.includes("TypeError: binding is not a function"))return this.rerun();if(i.message.includes("Execution context is not available in detached frame")){this.terminate(Error("waitForFunction failed: frame got detached."));return}if(i.message.includes("Execution context was destroyed")||i.message.includes("Cannot find context with specified id"))return;this.#y(i)}else{if(!t)throw Error("Assertion: result handle is not available");this.#w(t)}this.#k()}}#k(){if(void 0!==this.#_&&clearTimeout(this.#_),this.#S.off("closed",this.onBrowserClose),this.#S.off("closed-silent",this.onBrowserCloseSilent),this.#f._waitTasks.size>100)throw Error("Leak detected: Too many WaitTasks");this.#f._waitTasks.delete(this)}}function ez(e,t,...i){let n=Function("...args",e),a=!1;return t&&setTimeout(()=>{a=!0},t),new Promise(e=>{async function t(){if(a){e(void 0);return}let o=await n(...i);o?e(o):requestAnimationFrame(t)}t()})}function eB(e,t){let i=e.frame();return"node"===t.subtype&&i?new eq(e,e._client,t):new eU(e,e._client,t)}class eU{#C;#T=!1;#I;#N;get _disposed(){return this.#T}get _remoteObject(){return this.#N}get _context(){return this.#I}constructor(e,t,i){this.#I=e,this.#C=t,this.#N=i}executionContext(){return this.#I}evaluateHandle(e,...t){return this.executionContext().evaluateHandle(e,this,...t)}asElement(){return null}async dispose(){this.#T||(this.#T=!0,await ej(this.#C,this.#N))}toString(){return this.#N.objectId?"JSHandle@"+(this.#N.subtype||this.#N.type):eN(this.#N)}}class eq extends eU{asElement(){return this}}var eG="pptr://__puppeteer_evaluation_script__",eW=/^[\x20\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;class eV{_client;_world;_contextId;_contextName;constructor(e,t,i){this._client=e,this._world=i,this._contextId=t.id,this._contextName=t.name}frame(){return this._world?this._world.frame():null}evaluate(e,...t){return this.#j(!0,e,...t)}evaluateHandle(e,...t){return this.#j(!1,e,...t)}async #j(e,t,...i){let n;let a=`//# sourceURL=${eG}`;if(eF(t)){let i=this._contextId,n=eW.test(t)?t:t+`
`+a,{value:{exceptionDetails:o,result:s}}=await this._client.send("Runtime.evaluate",{expression:n,contextId:i,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(c);if(o)throw Error("Evaluation failed: "+eI(o));return e?eN(s):eB(this,s)}if("function"!=typeof t)throw Error(`Expected to get |string| or |function| as the first argument, but got "${t}" instead.`);let o=t.toString();try{Function("("+o+")")}catch(e){o=o.startsWith("async ")?"async function "+o.substring(6):"function "+o;try{Function("("+o+")")}catch(e){throw Error("Passed function is not well-serializable!")}}try{n=this._client.send("Runtime.callFunctionOn",{functionDeclaration:o+`
`+a+`
`,executionContextId:this._contextId,arguments:i.map((function(e){if("bigint"==typeof e)return{unserializableValue:`${e.toString()}n`};if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,1/0))return{unserializableValue:"Infinity"};if(Object.is(e,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};let t=e&&e instanceof eU?e:null;if(t){if(t._context!==this)throw Error("JSHandles can be evaluated only in the context they were created!");if(t._disposed)throw Error("JSHandle is disposed!");return t._remoteObject.unserializableValue?{unserializableValue:t._remoteObject.unserializableValue}:t._remoteObject.objectId?{objectId:t._remoteObject.objectId}:{value:t._remoteObject.value}}return{value:e}}).bind(this)),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(e.message+=" Recursive objects are not allowed."),e}let{value:{exceptionDetails:s,result:r}}=await n.catch(c);if(s)throw Error("Evaluation failed: "+eI(s));return e?eN(r):eB(this,r);function c(e){if(e.message.includes("Object reference chain is too long")||e.message.includes("Object couldn't be returned by value"))return{value:{result:{type:"undefined"}},size:1};if(e.message.endsWith("Cannot find context with specified id")||e.message.endsWith("Inspected target navigated or closed"))throw Error("Execution context was destroyed, most likely because of a navigation.");throw e}}}var eH=({extraInfo:e,logLevel:t,indent:i,request:n,event:a})=>{let o=e[0]??null;en.warn({indent:i,logLevel:t},`Browser failed to load ${n._url} (${a.type}): ${a.errorText}`),o&&(en.warn({indent:i,logLevel:t},`HTTP status code: ${o.statusCode}, headers:`),en.warn({indent:i,logLevel:t},JSON.stringify(o.headers,null,2))),"net::ERR_FAILED"===a.errorText&&"Fetch"===a.type&&n._url?.includes("/proxy")&&(en.warn({indent:i,logLevel:t},"This could be caused by Chrome rejecting the request because the disk space is low."),en.warn({indent:i,logLevel:t},"This could be caused by Chrome rejecting the request because the disk space is low."),en.warn({indent:i,logLevel:t},"Consider increasing the disk size of your Lambda function."))};class eJ{_requestId;_response=null;_url=null;_fromMemoryCache=!1;#R;#p;constructor(e,t){this._requestId=t.requestId,this.#R=t.requestId===t.loaderId&&"Document"===t.type,this.#p=e,this._url=t.request.url}response(){return this._response}frame(){return this.#p}isNavigationRequest(){return this.#R}}class eY{#L;constructor(e,t){this.#L=t?t.statusCode:e.status}status(){return this.#L}}class eK{#F=new Map;#P=new Map;#O=new Map;#$=new Map;#M=new Map;#A=new Map;#D=new Map;forget(e){this.#F.delete(e),this.#P.delete(e),this.#A.delete(e),this.#M.delete(e),this.#$.delete(e),this.#D.delete(e)}queueFailedLoadInfo(e,t){this.#D.set(e,{event:t})}getFailedLoadInfo(e){return this.#D.get(e)?.event}getResponseExtraInfo(e){return this.#$.has(e)||this.#$.set(e,[]),this.#$.get(e)}queuedRedirectInfo(e){return this.#M.has(e)||this.#M.set(e,[]),this.#M.get(e)}queueRedirectInfo(e,t){this.queuedRedirectInfo(e).push(t)}takeQueuedRedirectInfo(e){return this.queuedRedirectInfo(e).shift()}storeRequestWillBeSent(e,t){this.#F.set(e,t)}getRequestWillBeSent(e){return this.#F.get(e)}forgetRequestWillBeSent(e){this.#F.delete(e)}storeRequestPaused(e,t){this.#P.set(e,t)}getRequest(e){return this.#O.get(e)}storeRequest(e,t){this.#O.set(e,t)}forgetRequest(e){this.#O.delete(e)}getQueuedEventGroup(e){return this.#A.get(e)}queueEventGroup(e,t){this.#A.set(e,t)}forgetQueuedEventGroup(e){this.#A.delete(e)}}var eQ={Request:Symbol("NetworkManager.Request")};class eX extends ex{#C;#z;#B=new eK;#U;#q;constructor(e,t,i,n){super(),this.#C=e,this.#z=t,this.#U=i,this.#q=n,this.#C.on("Fetch.requestPaused",this.#G.bind(this)),this.#C.on("Network.requestWillBeSent",this.#W.bind(this)),this.#C.on("Network.requestServedFromCache",this.#V.bind(this)),this.#C.on("Network.responseReceived",this.#H.bind(this)),this.#C.on("Network.loadingFinished",this.#J.bind(this)),this.#C.on("Network.loadingFailed",this.#Y.bind(this)),this.#C.on("Network.responseReceivedExtraInfo",this.#K.bind(this))}async initialize(){await this.#C.send("Network.enable")}#W(e){this.#Q(e,void 0)}#G(e){let{networkId:t,requestId:i}=e;if(!t)return;let n=(()=>{let i=this.#B.getRequestWillBeSent(t);if(i&&(i.request.url!==e.request.url||i.request.method!==e.request.method)){this.#B.forgetRequestWillBeSent(t);return}return i})();n?(this.#X(n,e),this.#Q(n,i)):this.#B.storeRequestPaused(t,e)}#X(e,t){e.request.headers={...e.request.headers,...t.request.headers}}#Q(e,t){if(e.redirectResponse){let i=null;if(e.redirectHasExtraInfo&&!(i=this.#B.getResponseExtraInfo(e.requestId).shift())){this.#B.queueRedirectInfo(e.requestId,{event:e,fetchRequestId:t});return}let n=this.#B.getRequest(e.requestId);n&&this.#Z(n,e.redirectResponse,i)}let i=new eJ(e.frameId?this.#z.frame(e.frameId):null,e);this.#B.storeRequest(e.requestId,i),this.emit(eQ.Request,i)}#V(e){let t=this.#B.getRequest(e.requestId);t&&(t._fromMemoryCache=!0)}#Z(e,t,i){let n=new eY(t,i);e._response=n,this.#ee(e,!1)}#et(e,t){let i=this.#B.getRequest(e.requestId);if(!i)return;let n=new eY(e.response,t);i._response=n}#H(e){let t=this.#B.getRequest(e.requestId),i=null;if(t&&!t._fromMemoryCache&&e.hasExtraInfo&&!(i=this.#B.getResponseExtraInfo(e.requestId).shift())){this.#B.queueEventGroup(e.requestId,{responseReceivedEvent:e});return}this.#et(e,i)}#K(e){let t=this.#B.takeQueuedRedirectInfo(e.requestId);if(t){this.#B.getResponseExtraInfo(e.requestId).push(e),this.#Q(t.event,t.fetchRequestId);return}let i=this.#B.getQueuedEventGroup(e.requestId);if(i){this.#B.forgetQueuedEventGroup(e.requestId),this.#et(i.responseReceivedEvent,e),i.loadingFinishedEvent&&this.#ei(i.loadingFinishedEvent),i.loadingFailedEvent&&this.#en(i.loadingFailedEvent);return}this.#B.getResponseExtraInfo(e.requestId).push(e)}#ee(e,t){let i=e._requestId;this.#B.forgetRequest(i),t&&this.#B.forget(i)}#J(e){let t=this.#B.getQueuedEventGroup(e.requestId);t?t.loadingFinishedEvent=e:this.#ei(e)}#ei(e){let t=this.#B.getRequest(e.requestId);t&&this.#ee(t,!0)}#Y(e){let t=this.#B.getQueuedEventGroup(e.requestId);t?t.loadingFailedEvent=e:this.#en(e)}#en(e){let t=this.#B.getRequest(e.requestId);if(t){if(e.canceled){this.#ee(t,!0);return}eH({extraInfo:this.#B.getResponseExtraInfo(e.requestId),event:e,indent:this.#U,logLevel:this.#q,request:t}),this.#ee(t,!0)}}}var eZ=new Map([["load","load"]]),e0=()=>{};class e1{#ea;#z;#p;#g;#eo=null;#es;#er=e0;#ec=new Promise(e=>{this.#er=e});#el=e0;#ep=new Promise(e=>{this.#el=e});#eu=e0;#ed=new Promise(e=>{this.#eu=e});#em=e0;#eh=new Promise(e=>{this.#em=e});#ef;#eg;#ev;#ex;#eb;constructor(e,t,i,n){em(eZ.get(i),"Unknown value for options.waitUntil: "+i),this.#ea=[i],this.#z=e,this.#p=t,this.#g=n,this.#es=[eR(e._client,eS.Disconnected,this.#ew.bind(this,Error("Navigation failed because browser has disconnected!"))),eR(this.#z,e6.LifecycleEvent,this.#ey.bind(this)),eR(this.#z,e6.FrameNavigatedWithinDocument,this.#e_.bind(this)),eR(this.#z,e6.FrameNavigated,this.#eE.bind(this)),eR(this.#z,e6.FrameSwapped,this.#eS.bind(this)),eR(this.#z,e6.FrameDetached,this.#ek.bind(this)),eR(this.#z.networkManager(),eQ.Request,this.#Q.bind(this))],this.#ef=this.#eC(),this.#ey()}#Q(e){e.frame()===this.#p&&e.isNavigationRequest()&&(this.#eo=e)}#ek(e){if(this.#p===e){this.#em.call(null,Error("Navigating frame was detached"));return}this.#ey()}navigationResponse(){return this.#eo?this.#eo.response():null}#ew(e){this.#em.call(null,e)}sameDocumentNavigationPromise(){return this.#ec}newDocumentNavigationPromise(){return this.#ed}lifecyclePromise(){return this.#ep}timeoutOrTerminationPromise(){return Promise.race([this.#ef,this.#eh])}async #eC(){if(!this.#g)return new Promise(e0);let e="Navigation timeout of "+this.#g+" ms exceeded";return await new Promise(e=>{this.#eg=setTimeout(e,this.#g)}),new ew(e)}#e_(e){e===this.#p&&(this.#ev=!0,this.#ey())}#eE(e){e===this.#p&&(this.#ex=!0,this.#ey())}#eS(e){e===this.#p&&(this.#eb=!0,this.#ey())}#ey(){(function e(t,i){for(let e of i)if(!t._lifecycleEvents.has(e))return!1;for(let n of t.childFrames())if(n._hasStartedLoading&&!e(n,i))return!1;return!0})(this.#p,this.#ea)&&(this.#el(),this.#ev&&this.#er(),(this.#eb||this.#ex)&&this.#eu())}dispose(){eL(this.#es),void 0!==this.#eg&&clearTimeout(this.#eg)}}var e2=e=>e?.message?.includes("Target closed")||e?.message?.includes("Session closed"),e3=e=>e?.message?.includes("ERR_CONNECTION_REFUSED")||e?.message?.includes("ERR_CONNECTION_RESET")||e?.message?.includes("ERR_CONNECTION_TIMED_OUT")||e?.message?.includes("ERR_INTERNET_DISCONNECTED")||e?.message?.includes("ERR_NAME_RESOLUTION_FAILED")||e?.message?.includes("ERR_ADDRESS_UNREACHABLE")||e?.message?.includes("ERR_NETWORK_CHANGED"),e4="__puppeteer_utility_world__",e6={FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),FrameSwapped:Symbol("FrameManager.FrameSwapped"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};class e8 extends ex{#eT;#eI;#eN=new Map;#ej=new Map;#eR=new Set;#eL;#C;get _client(){return this.#C}constructor(e,t,i,n){super(),this.#C=e,this.#eT=t,this.#eI=new eX(e,this,i,n),this.setupEventListeners(this.#C)}setupEventListeners(e){e.on("Page.frameAttached",t=>{this.#eF(e,t.frameId,t.parentFrameId)}),e.on("Page.frameNavigated",e=>{this.#eP(e.frame)}),e.on("Page.navigatedWithinDocument",e=>{this.#eO(e.frameId,e.url)}),e.on("Page.frameDetached",e=>{this.#ek(e.frameId,e.reason)}),e.on("Page.frameStartedLoading",e=>{this.#e$(e.frameId)}),e.on("Page.frameStoppedLoading",e=>{this.#eM(e.frameId)}),e.on("Runtime.executionContextCreated",t=>{this.#eA(t.context,e)}),e.on("Runtime.executionContextDestroyed",t=>{this.#eD(t.executionContextId,e)}),e.on("Runtime.executionContextsCleared",()=>{this.#ez(e)}),e.on("Page.lifecycleEvent",e=>{this.#eB(e)}),e.on("Target.attachedToTarget",e=>{this.#eU(e)}),e.on("Target.detachedFromTarget",e=>{this.#eq(e)})}async initialize(e=this.#C){try{let{value:{frameTree:t}}=(await Promise.all([e.send("Page.enable"),e.send("Page.getFrameTree"),e===this.#C?Promise.resolve():e.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0})]))[1];this.#eG(e,t),await Promise.all([e.send("Page.setLifecycleEventsEnabled",{enabled:!0}),e.send("Runtime.enable").then(()=>this._ensureIsolatedWorld(e,e4)),e===this.#C?this.#eI.initialize():Promise.resolve()])}catch(e){if(e$(e)&&e2(e))return;throw e}}networkManager(){return this.#eI}async navigateFrame(e,t,i,n={}){let{referer:a,waitUntil:o="load"}=n,s=new e1(this,e,o,i),r=await Promise.race([c(this.#C,t,a,e._id),s.timeoutOrTerminationPromise()]);if(r||(r=await Promise.race([s.timeoutOrTerminationPromise(),s.newDocumentNavigationPromise(),s.sameDocumentNavigationPromise()])),s.dispose(),r)throw r;return s.navigationResponse();async function c(e,t,i,n){try{let{value:a}=await e.send("Page.navigate",{url:t,referrer:i,frameId:n});return a.errorText?Error(`${a.errorText} at ${t}`):null}catch(e){if(e$(e))return e;throw e}}}async #eU(e){if("iframe"!==e.targetInfo.type)return;let t=this.#eN.get(e.targetInfo.targetId),i=eE.fromSession(this.#C);em(i);let n=i.session(e.sessionId);em(n),t&&t._updateClient(n),this.setupEventListeners(n),await this.initialize(n)}#eq(e){if(!e.targetId)return;let t=this.#eN.get(e.targetId);t?.isOOPFrame()&&this.#eW(t)}#eB(e){let t=this.#eN.get(e.frameId);t&&(t._onLifecycleEvent(e.loaderId,e.name),this.emit(e6.LifecycleEvent,t))}#e$(e){let t=this.#eN.get(e);t&&t._onLoadingStarted()}#eM(e){let t=this.#eN.get(e);t&&(t._onLoadingStopped(),this.emit(e6.LifecycleEvent,t))}#eG(e,t){if(t.frame.parentId&&this.#eF(e,t.frame.id,t.frame.parentId),this.#eP(t.frame),t.childFrames)for(let i of t.childFrames)this.#eG(e,i)}page(){return this.#eT}mainFrame(){return em(this.#eL,"Requesting main frame too early!"),this.#eL}frames(){return Array.from(this.#eN.values())}frame(e){return this.#eN.get(e)||null}#eF(e,t,i){if(this.#eN.has(t)){let i=this.#eN.get(t);e&&i.isOOPFrame()&&i._updateClient(e);return}em(i);let n=this.#eN.get(i);em(n);let a=new e5(this,n,t,e);this.#eN.set(a._id,a)}#eP(e){let t=!e.parentId,i=t?this.#eL:this.#eN.get(e.id);if(em(t||i,"We either navigate top level or have old version of the navigated frame"),i)for(let e of i.childFrames())this.#eW(e);t&&(i?(this.#eN.delete(i._id),i._id=e.id):i=new e5(this,null,e.id,this.#C),this.#eN.set(e.id,i),this.#eL=i),em(i),i._navigated(e),this.emit(e6.FrameNavigated,i)}async _ensureIsolatedWorld(e,t){let i=`${e.id()}:${t}`;this.#eR.has(i)||(this.#eR.add(i),await e.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${eG}`,worldName:t}),await Promise.all(this.frames().filter(t=>t._client()===e).map(i=>e.send("Page.createIsolatedWorld",{frameId:i._id,worldName:t,grantUniveralAccess:!0}).catch(()=>{}))))}#eO(e,t){let i=this.#eN.get(e);i&&(i._navigatedWithinDocument(t),this.emit(e6.FrameNavigatedWithinDocument,i),this.emit(e6.FrameNavigated,i))}#ek(e,t){let i=this.#eN.get(e);"remove"===t?i&&this.#eW(i):"swap"===t&&this.emit(e6.FrameSwapped,i)}#eA(e,t){let i;let n=e.auxData,a=n?.frameId,o="string"==typeof a?this.#eN.get(a):void 0;if(o){if(o._client()!==t)return;e.auxData&&e.auxData.isDefault?i=o._mainWorld:e.name!==e4||o._secondaryWorld._hasContext()||(i=o._secondaryWorld)}let s=new eV(o?._client()||this.#C,e,i);i&&i._setContext(s);let r=`${t.id()}:${e.id}`;this.#ej.set(r,s)}#eD(e,t){let i=`${t.id()}:${e}`,n=this.#ej.get(i);n&&(this.#ej.delete(i),n._world&&n._world._setContext(null))}#ez(e){for(let[t,i]of this.#ej.entries())i._client===e&&(i._world&&i._world._setContext(null),this.#ej.delete(t))}executionContextById(e,t=this.#C){let i=`${t.id()}:${e}`,n=this.#ej.get(i);return em(n,"INTERNAL ERROR: missing context with id = "+e),n}#eW(e){for(let t of e.childFrames())this.#eW(t);e._detach(),this.#eN.delete(e._id),this.emit(e6.FrameDetached,e)}}class e5{#eV;#eH="";#C;_frameManager;_id;_loaderId="";_name;_hasStartedLoading=!1;_lifecycleEvents=new Set;_mainWorld;_secondaryWorld;_childFrames;constructor(e,t,i,n){this._frameManager=e,this.#eV=t??null,this.#eH="",this._id=i,this._loaderId="",this._childFrames=new Set,this.#eV&&this.#eV._childFrames.add(this),this._updateClient(n)}_updateClient(e){this.#C=e,this._mainWorld=new eM(this),this._secondaryWorld=new eM(this)}isOOPFrame(){return this.#C!==this._frameManager._client}goto(e,t,i={}){return this._frameManager.navigateFrame(this,e,t,i)}_client(){return this.#C}executionContext(){return this._mainWorld.executionContext()}evaluateHandle(e,...t){return this._mainWorld.evaluateHandle(e,...t)}evaluate(e,...t){return this._mainWorld.evaluate(e,...t)}url(){return this.#eH}childFrames(){return Array.from(this._childFrames)}_navigated(e){this._name=e.name,this.#eH=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this.#eH=e}_onLifecycleEvent(e,t){"init"===t&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("load")}_onLoadingStarted(){this._hasStartedLoading=!0}_detach(){this._mainWorld._detach(),this._secondaryWorld._detach(),this.#eV&&this.#eV._childFrames.delete(this),this.#eV=null}}class e9{#eJ;constructor(){this.#eJ=Promise.resolve()}postTask(e){let t=this.#eJ.then(e);return this.#eJ=t.then(()=>{},()=>{}),t}}class e7{#eY;#eK;constructor(){this.#eY=null,this.#eK=null}setDefaultTimeout(e){this.#eY=e}setDefaultNavigationTimeout(e){this.#eK=e}navigationTimeout(){return null!==this.#eK?this.#eK:null!==this.#eY?this.#eY:3e4}timeout(){return null!==this.#eY?this.#eY:3e4}}var te=e=>!!(e.text.includes("Mixed Content:")&&e.text.includes("http://localhost:")),tt=(e,t)=>{let i=t.filter(e=>!("symbol"===e.type&&e.description?.includes("__remotion_"))).map(e=>eh(e)).filter(Boolean).join(" "),n=null,a=null;for(let e of t)"symbol"===e.type&&e.description?.includes("__remotion_level_")&&(n=e.description?.split("__remotion_level_")?.[1]?.replace(")","")),"symbol"===e.type&&e.description?.includes("__remotion_tag_")&&(a=e.description?.split("__remotion_tag_")?.[1]?.replace(")",""));return{previewString:i,logLevelFromRemotionLog:n,logLevelFromEvent:"debug"===e?"verbose":"error"===e?"error":"warning"===e?"warn":"verbose",tag:a}};class ti extends ex{id;static async _create({client:e,target:t,defaultViewport:i,browser:n,sourceMapGetter:a,logLevel:o,indent:s,pageIndex:r,onBrowserLog:c,onLog:l}){let p=new ti({client:e,target:t,browser:n,sourceMapGetter:a,logLevel:o,indent:s,pageIndex:r,onBrowserLog:c,onLog:l});return await p.#eQ(),await p.setViewport(i),p}closed=!1;#C;#eX;#eZ=new e7;#z;#e0=new Map;browser;screenshotTaskQueue;sourceMapGetter;logLevel;indent;pageIndex;onBrowserLog;onLog;constructor({client:e,target:t,browser:i,sourceMapGetter:n,logLevel:a,indent:o,pageIndex:s,onBrowserLog:r,onLog:c}){super(),this.#C=e,this.#eX=t,this.#z=new e8(e,this,o,a),this.screenshotTaskQueue=new e9,this.browser=i,this.id=String(Math.random()),this.sourceMapGetter=n,this.logLevel=a,this.indent=o,this.pageIndex=s,this.onBrowserLog=r,this.onLog=c,e.on("Target.attachedToTarget",t=>{switch(t.targetInfo.type){case"iframe":case"worker":break;default:e.send("Target.detachFromTarget",{sessionId:t.sessionId}).catch(e=>en.error({indent:o,logLevel:a},e))}}),e.on("Runtime.consoleAPICalled",e=>this.#e1(e)),e.on("Runtime.bindingCalled",e=>this.#e2(e)),e.on("Inspector.targetCrashed",()=>this.#e3()),e.on("Log.entryAdded",e=>this.#e4(e))}#e6=e=>{let t=e.stackTrace(),{url:i,columnNumber:n,lineNumber:a}=t[0]??{},o=this.logLevel,s=this.indent;if(!te(e)){if(this.onBrowserLog?.({stackTrace:t,text:e.text,type:e.type}),i?.endsWith(v.NoReactInternals.bundleName)&&a&&this.sourceMapGetter()){let t=this.sourceMapGetter()?.originalPositionFor({column:n??0,line:a}),i=[t?.source,t?.line,t?.column].filter(ee).join(":"),o=e.previewString.includes(v.NoReactInternals.DELAY_RENDER_CLEAR_TOKEN),s=`Tab ${this.pageIndex}`,r=[t?.name,o?null:i].filter(ee).join("@"),c=[s,e.tag,e.tag?null:r].filter(ee).join(", ");this.onLog({logLevel:e.logLevel,tag:c,previewString:e.previewString})}else"error"===e.type?e.text.includes("Failed to load resource:")?en.error({logLevel:o,tag:i,indent:s},e.text.replace(/\(\)$/,"")):en.error({logLevel:o,tag:`console.${e.type}`,indent:s},e.text):en.verbose({logLevel:o,tag:`console.${e.type}`,indent:s},e.text)}};async #eQ(){await Promise.all([this.#z.initialize(),this.#C.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this.#C.send("Performance.enable"),this.#C.send("Log.enable")])}on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}off(e,t){return super.off(e,t)}target(){return this.#eX}_client(){return this.#C}#e3(){this.emit("error",Error("Page crashed!"))}#e4(e){let{level:t,text:i,args:n,source:a,url:o,lineNumber:s}=e.entry;n&&n.map(e=>ej(this.#C,e));let{previewString:r,logLevelFromRemotionLog:c,logLevelFromEvent:l,tag:p}=tt(t,n??[]);if("worker"!==a){let e=new ev({type:t,text:i,args:[],stackTraceLocations:[{url:o,lineNumber:s}],previewString:r,logLevel:c??l,tag:p});this.onBrowserLog?.({stackTrace:e.stackTrace(),text:e.text,type:e.type}),this.#e6(e)}}mainFrame(){return this.#z.mainFrame()}async setViewport(e){let t=process.env.DISABLE_FROM_SURFACE?{mobile:!1,width:e.width,height:e.height,deviceScaleFactor:1,screenHeight:e.height,screenWidth:e.width,scale:e.deviceScaleFactor,viewport:{height:e.height*e.deviceScaleFactor,width:e.width*e.deviceScaleFactor,scale:1,x:0,y:0}}:{mobile:!1,width:e.width,height:e.height,deviceScaleFactor:e.deviceScaleFactor,screenOrientation:{angle:0,type:"portraitPrimary"}},{value:i}=await this.#C.send("Emulation.setDeviceMetricsOverride",t);return i}setDefaultNavigationTimeout(e){this.#eZ.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this.#eZ.setDefaultTimeout(e)}async evaluateHandle(e,...t){return(await this.mainFrame().executionContext()).evaluateHandle(e,...t)}#e1(e){if(0===e.executionContextId)return;let t=this.#z.executionContextById(e.executionContextId,this.#C),i=e.args.map(e=>eB(t,e));this.#e8(e.type,i,e.stackTrace)}async #e2(e){let t;try{t=JSON.parse(e.payload)}catch{return}let{type:i,name:n,seq:a,args:o}=t;if("exposedFun"!==i||!this.#e0.has(n))return;let s=null;try{let e=this.#e0.get(n);em(e);let t=await e(...o);s=eP(function(e,t,i){window[e].callbacks.get(t).resolve(i),window[e].callbacks.delete(t)},n,a,t)}catch(e){s=e$(e)?eP(function(e,t,i,n){let a=Error(i);a.stack=n,window[e].callbacks.get(t).reject(a),window[e].callbacks.delete(t)},n,a,e.message,e.stack):eP(function(e,t,i){window[e].callbacks.get(t).reject(i),window[e].callbacks.delete(t)},n,a,e)}await this.#C.send("Runtime.evaluate",{expression:s,contextId:e.executionContextId})}#e8(e,t,i){let n=[];for(let e of t){let t=e._remoteObject;t.objectId?n.push(e.toString()):n.push(eN(t))}let a=[];if(i)for(let e of i.callFrames)a.push({url:e.url,lineNumber:e.lineNumber,columnNumber:e.columnNumber});let{previewString:o,logLevelFromRemotionLog:s,logLevelFromEvent:r,tag:c}=tt(e,t.map(e=>e._remoteObject)??[]),l=new ev({type:e,text:n.join(" "),args:t,stackTraceLocations:a,previewString:o,logLevel:s??r,tag:c});this.#e6(l)}url(){return this.mainFrame().url()}goto({url:e,timeout:t,options:i={}}){return this.#z.mainFrame().goto(e,t,i)}async bringToFront(){await this.#C.send("Page.bringToFront")}evaluate(e,...t){return this.#z.mainFrame().evaluate(e,...t)}async evaluateOnNewDocument(e,...t){let i=eP(e,...t);await this.#C.send("Page.addScriptToEvaluateOnNewDocument",{source:i})}async close(e={runBeforeUnload:void 0}){let t=this.#C.connection();t&&(e.runBeforeUnload?await this.#C.send("Page.close"):(await t.send("Target.closeTarget",{targetId:this.#eX._targetId}),await this.#eX._isClosedPromise))}setBrowserSourceMapGetter(e){this.sourceMapGetter=e}}var tn=e=>{if(B(e)||!(0,r.existsSync)(e))return;let t=2;for(;t>=0;){try{r.rmSync(e,{maxRetries:2,recursive:!0,force:!0,retryDelay:100})}catch{t--;continue}break}};class ta{static async create(e){let t=new b.URL(e);if("localhost"===t.hostname){let{address:e}=await x.promises.lookup(t.hostname,{verbatim:!1});t.hostname=e}return new Promise((e,i)=>{let n=new w(t,[],{followRedirects:!0,perMessageDeflate:!1,maxPayload:1073741824,headers:{"User-Agent":"Remotion CLI"}});n.addEventListener("open",()=>e(new ta(n))),n.addEventListener("error",i)})}websocket;onmessage;onclose;constructor(e){this.websocket=e,this.websocket.addEventListener("message",e=>{this.onmessage&&this.onmessage.call(null,e.data)}),this.websocket.addEventListener("close",()=>{this.onclose&&this.onclose.call(null)}),this.websocket.addEventListener("error",()=>{})}send(e){this.websocket.send(e)}close(){this.websocket.close()}forgetEventLoop(){this.websocket._socket.unref()}rememberEventLoop(){this.websocket._socket.ref()}}var to=e=>!(e.startsWith("DevTools listening on")||e.includes("Falling back to ALSA for audio output")||e.includes("Floss manager not present, cannot set Floss enable/disable")||e.includes("Failed to send GpuControl.CreateCommandBuffer")||e.includes("CreatePlatformSocket() failed: Address family not supported by protocol")||e.includes("Fontconfig error: No writable cache directories")||e.includes("AttributionReportingCrossAppWeb cannot be enabled in this configuration")||e.includes("Trying to Produce a Memory representation from a non-existent mailbox.")||e.includes("Received HEADERS for invalid stream")||e.includes("CVDisplayLinkCreateWithCGDisplay failed")||e.includes("Falling back to ALSA for audio output")||e.includes("VizNullHypothesis is disabled")),ts=e=>{let t=e.match(/^\[([0-9]{4})\/([0-9]{6})\.([0-9]{6}):([A-Z]+):(.*)\(([0-9]+)\)\](.*)/);if(!t)return null;let i=t[1],n=parseInt(i.slice(0,2),10),a=parseInt(i.slice(2,4),10),o=t[2],s=parseInt(o.slice(0,2),10),r=parseInt(o.slice(2,4),10),c=parseInt(o.slice(4,6),10),l=parseInt(t[3],10),p=t[4];return{day:n,month:a,hour:s,minute:r,seconds:c,microseconds:l,level:p,location:t[5],lineNumber:parseInt(t[6],10),message:t[7].trim()}},tr=e=>{let t=ts(e);if(!t)return{output:e,tag:"chrome"};let{location:i,lineNumber:n,message:a}=t;return"CONSOLE"===i?null:{output:`${i}:${n}: ${a}`,tag:"chrome"}},tc=`Puppeteer was unable to kill the process which ran the browser binary.
 This means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.
 Please check your open processes and ensure that the browser processes that Puppeteer launched have been killed.
 If you think this is a bug, please report it on the Puppeteer issue tracker.`,tl=async({executablePath:e,processArguments:t,userDataDir:i,logLevel:n,indent:a,timeout:o})=>{let s=A(n,"verbose"),r=d.spawn(e,t,{detached:"win32"!==process.platform,env:process.env,stdio:s?["ignore","pipe","pipe"]:["pipe","pipe","pipe"]}),c=await function({browserProcess:e,timeout:t,logLevel:i,indent:n}){let a=e.stderr,o=e.stdout;em(a,"`browserProcess` does not have stderr."),em(o,"`browserProcess` does not have stdout.");let s="";return new Promise((r,c)=>{a.addListener("data",d),o.addListener("data",d),a.addListener("close",u);let l=[()=>a.removeListener("data",d),()=>o.removeListener("data",d),()=>a.removeListener("close",u),eR(e,"exit",(e,t)=>(en.verbose({indent:n,logLevel:i},"Browser process exited with code",e,"signal",t),u(Error(`Closed with ${e} signal: ${t}`)))),eR(e,"error",e=>u(e))],p=t?setTimeout(function(){m(),c(new ew(`Timed out after ${t} ms while trying to connect to the browser! Chrome logged the following: ${s}`))},t):0;function u(e){m(),c(Error(["Failed to launch the browser process!",e?e.stack:null,s,"Troubleshooting: https://remotion.dev/docs/troubleshooting/browser-launch"].filter(ee).join(`
`)))}function d(e){let t=(s+=e.toString("utf8")).match(/DevTools listening on (ws:\/\/.*)/);t&&(m(),r(t[1]))}function m(){p&&clearTimeout(p),eL(l)}})}({browserProcess:r,timeout:o,indent:a,logLevel:n}),p=new eE(await ta.create(c)),u=()=>{if(r.pid&&function(e){try{return process.kill(e,0)}catch(e){if(e$(e)&&("errno"in e||"code"in e||"path"in e||"syscall"in e)&&e.code&&"ESRCH"===e.code)return!1;throw e}}(r.pid))try{if("win32"===process.platform)d.exec(`taskkill /pid ${r.pid} /T /F`,e=>{e&&r.kill()});else{let e=-r.pid;en.verbose({indent:a,logLevel:n},`Trying to kill browser process group ${e}`);try{process.kill(e,"SIGKILL")}catch(t){en.verbose({indent:a,logLevel:n},`Could not kill browser process group ${e}. Killing process via Node.js API`),r.kill("SIGKILL")}}}catch(e){throw Error(`${tc}
Error cause: ${e$(e)?e.stack:e}`)}tn(i),eL(g)},m=()=>h?Promise.resolve():(en.verbose({indent:a,logLevel:n},"Received SIGTERM signal. Killing browser process"),u(),tn(i),eL(g),f);s&&(r.stdout?.on("data",e=>{let t=e.toString("utf8").trim();if(to(t)){let e=tr(t);if(!e)return;let{output:i,tag:o}=e;en.verbose({indent:a,logLevel:n,tag:o},i)}}),r.stderr?.on("data",e=>{let t=e.toString("utf8").trim();if(to(t)){let e=tr(t);if(!e)return;let{output:i,tag:o}=e;en.error({indent:a,logLevel:n,tag:o},i)}}));let h=!1,f=new Promise((e,t)=>{r.once("exit",()=>{h=!0;try{e()}catch(e){t(e)}})}),g=[eR(process,"exit",u)];return g.push(eR(process,"SIGINT",()=>{u(),process.exit(130)})),g.push(eR(process,"SIGTERM",m)),g.push(eR(process,"SIGHUP",m)),{listeners:g,deleteBrowserCaches:()=>{for(let e of[(0,l.join)(i,"Default","Cache","Cache_Data"),(0,l.join)(i,"Default","Code Cache"),(0,l.join)(i,"Default","DawnCache"),(0,l.join)(i,"Default","GPUCache")])tn(e)},forgetEventLoop:()=>{r.unref(),r.stdout?.unref(),r.stderr?.unref(),em(p,"BrowserRunner not connected."),p.transport.forgetEventLoop()},rememberEventLoop:()=>{r.ref(),r.stdout?.ref(),r.stderr?.ref(),em(p,"BrowserRunner not connected."),p.transport.rememberEventLoop()},connection:p,closeProcess:m}},tp=e=>"page"===e.type||"background_page"===e.type||"webview"===e.type;class tu{#e5;#e9;#e7;#te;#tt;_initializedPromise;_initializedCallback;_isClosedPromise;_closedCallback;_isInitialized;_targetId;constructor(e,t,i,n){this.#e9=e,this.#e5=t,this._targetId=e.targetId,this.#e7=i,this.#te=n,this._initializedPromise=new Promise(e=>{this._initializedCallback=e}).then(e=>{if(!e)return!1;let t=this.opener();return t&&t.#tt&&this.type(),!0}),this._isClosedPromise=new Promise(e=>{this._closedCallback=e}),this._isInitialized=!tp(this.#e9)||""!==this.#e9.url,this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this.#e7()}_getTargetInfo(){return this.#e9}async page({sourceMapGetter:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o}){return tp(this.#e9)&&!this.#tt&&(this.#tt=this.#e7().then(s=>ti._create({client:s,target:this,defaultViewport:this.#te??null,browser:this.browser(),sourceMapGetter:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o}))),await this.#tt??null}async expectPage(){return await this.#tt??null}url(){return this.#e9.url}type(){let{type:e}=this.#e9;return"page"===e||"background_page"===e||"service_worker"===e||"shared_worker"===e||"browser"===e||"webview"===e?e:"other"}browser(){return this.#e5.browser()}browserContext(){return this.#e5}opener(){let{openerId:e}=this.#e9;if(e)return this.browser()._targets.get(e)}_targetInfoChanged(e){this.#e9=e,this._isInitialized||tp(this.#e9)&&""===this.#e9.url||(this._isInitialized=!0,this._initializedCallback(!0))}}class td extends ex{static async create({defaultViewport:e,timeout:t,userDataDir:i,args:n,executablePath:a,logLevel:o,indent:s}){let r=await tl({executablePath:a,processArguments:n,userDataDir:i,indent:s,logLevel:o,timeout:t}),c=new td({connection:r.connection,defaultViewport:e,runner:r});return await r.connection.send("Target.setDiscoverTargets",{discover:!0}),c}#te;connection;#ti;#tn;#ta;id;runner;get _targets(){return this.#ta}constructor({connection:e,defaultViewport:t,runner:i}){super(),this.#te=t,this.connection=e,this.id=Math.random().toString(36).substring(2,15),this.#ti=new tm(this),this.#tn=new Map,this.#ta=new Map,this.connection.on("Target.targetCreated",this.#to.bind(this)),this.connection.on("Target.targetDestroyed",this.#ts.bind(this)),this.connection.on("Target.targetInfoChanged",this.#tr.bind(this)),this.runner=i}browserContexts(){return[this.#ti,...Array.from(this.#tn.values())]}async #to(e){let{targetInfo:t}=e,{browserContextId:i}=t,n=i&&this.#tn.has(i)?this.#tn.get(i):this.#ti;if(!n)throw Error("Missing browser context");let a=new tu(t,n,()=>this.connection.createSession(t),this.#te??null);em(!this.#ta.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this.#ta.set(e.targetInfo.targetId,a),await a._initializedPromise&&this.emit("targetcreated",a)}#ts(e){let t=this.#ta.get(e.targetId);if(!t)throw Error(`Missing target in _targetDestroyed (id = ${e.targetId})`);t._initializedCallback(!1),this.#ta.delete(e.targetId),t._closedCallback()}#tr(e){let t=this.#ta.get(e.targetInfo.targetId);if(!t)throw Error(`Missing target in targetInfoChanged (id = ${e.targetInfo.targetId})`);let i=t.url(),n=t._isInitialized;t._targetInfoChanged(e.targetInfo),n&&i!==t.url()&&this.emit("targetchanged",t)}newPage({context:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o}){return this.#ti.newPage({context:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o})}async _createPageInContext({context:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o}){let{value:{targetId:s}}=await this.connection.send("Target.createTarget",{url:"about:blank",browserContextId:void 0}),r=this.#ta.get(s);if(!r)throw Error(`Missing target for page (id = ${s})`);if(!await r._initializedPromise)throw Error(`Failed to create target for page (id = ${s})`);let c=await r.page({sourceMapGetter:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o});if(!c)throw Error("Failed to create a page for context");return c}targets(){return Array.from(this.#ta.values()).filter(e=>e._isInitialized)}async waitForTarget(e,t={}){let i;let{timeout:n=3e4}=t,a=!1,o=new Promise(e=>{i=e});this.on("targetcreated",s),this.on("targetchanged",s);try{if(!n)return await o;return this.targets().forEach(s),await eO(o,"target",n,this)}finally{this.off("targetcreated",s),this.off("targetchanged",s)}async function s(t){await e(t)&&!a&&(a=!0,i(t))}}async pages(){return(await Promise.all(this.browserContexts().map(e=>e.pages()))).reduce((e,t)=>e.concat(t),[])}async close({silent:e}){await this.runner.closeProcess(),(await this.pages()).forEach(e=>{e.emit("disposed"),e.closed=!0}),this.disconnect(),this.emit(e?"closed-silent":"closed")}disconnect(){this.connection.dispose()}}class tm extends ex{#S;constructor(e){super(),this.#S=e}targets(){return this.#S.targets().filter(e=>e.browserContext()===this)}waitForTarget(e,t={}){return this.#S.waitForTarget(t=>t.browserContext()===this&&e(t),t)}async pages(){return(await Promise.all(this.targets().filter(e=>"page"===e.type()).map(e=>e.expectPage()))).filter(e=>!!e)}newPage({context:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o}){return this.#S._createPageInContext({context:e,logLevel:t,indent:i,pageIndex:n,onBrowserLog:a,onLog:o})}browser(){return this.#S}}var th=!1;function tf({indent:e,logLevel:t}){if(!process.report&&"undefined"!=typeof Bun)return th||en.warn({indent:e,logLevel:t},"Bun limitation: Could not determine if your Linux is using musl or glibc. Assuming glibc."),th=!0,!1;let i=process.report?.getReport();if(i&&"string"==typeof i)return th||en.warn({indent:e,logLevel:t},"Bun limitation: Could not determine if your Windows is using musl or glibc. Assuming glibc."),th=!0,!1;let{glibcVersionRuntime:n}=i.header;return!n}var tg=({indent:e,logLevel:t,type:i,binariesDirectory:n})=>{let a=n??tv(e,t);switch(i){case"compositor":if("win32"===process.platform)return y.resolve(a,"remotion.exe");return y.resolve(a,"remotion");case"ffmpeg":if("win32"===process.platform)return y.join(a,"ffmpeg.exe");return y.join(a,"ffmpeg");case"ffprobe":if("win32"===process.platform)return y.join(a,"ffprobe.exe");return y.join(a,"ffprobe");default:throw Error(`Unknown executable type: ${i}`)}},tv=(e,t)=>{switch(process.platform){case"win32":if("x64"===process.arch)return L("@remotion/compositor-win32-x64-msvc").dir;throw Error(`Unsupported architecture on Windows: ${process.arch}`);case"darwin":switch(process.arch){case"x64":return L("@remotion/compositor-darwin-x64").dir;case"arm64":return L("@remotion/compositor-darwin-arm64").dir;default:throw Error(`Unsupported architecture on macOS: ${process.arch}`)}case"linux":{let i=tf({indent:e,logLevel:t});switch(process.arch){case"x64":if(i)return L("@remotion/compositor-linux-x64-musl").dir;return L("@remotion/compositor-linux-x64-gnu").dir;case"arm64":if(i)return L("@remotion/compositor-linux-arm64-musl").dir;return L("@remotion/compositor-linux-arm64-gnu").dir;default:throw Error(`Unsupported architecture on Linux: ${process.arch}`)}}default:throw Error(`Unsupported OS: ${process.platform}, architecture: ${process.arch}`)}},tx=e=>"darwin"===process.platform?{DYLD_LIBRARY_PATH:e}:void 0,tb=e=>{if("linux"!==process.platform&&"darwin"!==process.platform)try{return(0,r.accessSync)(e,r.constants.X_OK),!0}catch{return!1}let t=(0,r.statSync)(e),{mode:i}=t;if(1&i)return!0;if(!process.getuid||!process.getgid)throw Error("Cannot check permissions on Linux without process.getuid and process.getgid");let n=process.getuid(),a=process.getgid(),o=n===t.uid,s=a===t.gid;return o&&!!(64&i)||s&&!!(8&i)},tw=e=>{tb(e)||(0,r.chmodSync)(e,493)},ty=({args:e,bin:t,indent:i,logLevel:n,options:a,binariesDirectory:o,cancelSignal:r})=>{let c=tg({type:t,indent:i,logLevel:n,binariesDirectory:o});tw(c);let l=y.dirname(c),p=s(c,e.filter(ee),{cwd:l,env:tx(l),...a});return r?.(()=>{p.kill()}),p},t_=({args:e,bin:t,indent:i,logLevel:n,options:a,binariesDirectory:o,cancelSignal:s})=>{let r=tg({type:t,indent:i,logLevel:n,binariesDirectory:o});tw(r);let c=y.dirname(r),l=(0,d.spawn)(r,e.filter(ee),{cwd:c,env:tx(c),...a});return s?.(()=>{l.kill()}),l},tE=e=>"mp3"===e||"aac"===e||"wav"===e,tS=e=>!(tk()||tE(e))&&("h264"===e||"h264-mkv"===e||"h265"===e),tk=()=>"true"===process.env.REMOTION_PARTITIONED_RENDERING,tC="linux"!==process.platform||tf({indent:!1,logLevel:"warn"})?null:"arm64"===process.arch?[2,26]:[2,31],tT=e=>{if(null===tC)return null;let t=e.split(".");return 2!==t.length||t[0]===String(tC[0])&&Number(t[1])>=tC[1]||Number(t[0])>tC[0]?null:`Rendering videos requires glibc ${tC.join(".")} on your or higher on your OS. Your system has glibc ${e}.`},tI=["h264","h265","vp8","vp9","mp3","aac","wav","prores","h264-mkv","h264-ts","gif"],tN=({frame:e,durationInFrames:t})=>e<0?t+e:e,tj=async e=>{if(!e.endsWith(".js.map"))return Promise.reject(Error(`The URL ${e} does not seem to be a valid source map URL.`));let t=await tL(e);return new E.SourceMapConsumer(t)},tR=(e,t,i)=>{let n=function(e){let t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm,i=null;for(;;){let n=t.exec(e);if(null==n)break;i=n}return i?.[1]?i[1].toString():null}(t);if(null===n)return Promise.resolve(null);if(0===n.indexOf("data:")){let e=n.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(!e)throw Error("Sorry, non-base64 inline source-map encoding is not supported.");let t=window.atob(n.substring(e[0].length));try{let e=new E.SourceMapConsumer(JSON.parse(t));return Promise.resolve(e)}catch{return Promise.resolve(null)}}if("local"===i){let t=y.join(y.dirname(e),n);return Promise.resolve(new E.SourceMapConsumer((0,_.readFileSync)(t,"utf8")))}let a=e.lastIndexOf("/");return tj(e.substring(0,a+1)+n)},tL=async e=>{let{request:t,response:i}=await er(e);return new Promise((e,n)=>{let a="";i.on("data",e=>{a+=e}),i.on("end",()=>{t.destroy(),i.destroy(),e(a)}),i.on("error",e=>(t.destroy(),i.destroy(),n(e)))})},tF=(e,t,i)=>{let n=e.originalPositionFor({line:t,column:i});return{line:n.line,column:n.column,source:n.source}},tP=(e,t)=>e.map(e=>{let i=t[e.fileName];return i?tO(e,i):null}).filter(ee).filter(e=>null!==e.originalScriptCode),tO=(e,t)=>{let i=tF(t,e.lineNumber,e.columnNumber),n=i.source?t.sourceContentFor(i.source,!1):null,a=n&&i.line?function(e,t,i){let n=[];for(let t=Math.max(0,e-1-3)+1;t<=Math.min(i.length-1,e-1+3);++t)n.push({lineNumber:t+1,content:i[t],highlight:t+1===e});return n}(i.line,0,n.split(`
`)):null;return{originalColumnNumber:i.column,originalFileName:i.source,originalFunctionName:e.functionName,originalLineNumber:i.line,originalScriptCode:a}},t$=async e=>{let t=await tL(e);return tR(e,t,"remote")},tM=e=>{let t=(0,_.readFileSync)(e,"utf8");return tR(e,t,"local")},tA=/^\s*(at|in)\s.+(:\d+)/,tD=/(^|@)\S+:\d+|.+line\s+\d+\s+>\s+(eval|Function).+/,tz=/\(?(.+?)(?::(\d+))?(?::(\d+))?\)?$/;function tB(e){let t=tz.exec(e);if(!t)throw Error("Could not match in extractLocation");return t.slice(1).map(e=>{let t=Number(e);return isNaN(t)?e:t})}var tU=({functionName:e,fileName:t,lineNumber:i,columnNumber:n})=>(e&&0===e.indexOf("Object.")&&(e=e.slice(7)),"friendlySyntaxErrorLabel"!==e&&"exports.__esModule"!==e&&"<anonymous>"!==e&&e||(e=null),{columnNumber:n,fileName:t,functionName:e,lineNumber:i}),tq=e=>e.filter(e=>tA.test(e)||tD.test(e)).map(e=>{if(tD.test(e)){let t=!1;/ > (eval|Function)/.test(e)&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > (eval|Function):\d+:\d+/g,":$1"),t=!0);let i=e.split(/[@]/g),n=i.pop();if(!n)throw Error("could not get last");let[a,o,s]=tB(n);return tU({functionName:i.join("@")||(t?"eval":null),fileName:a,lineNumber:o,columnNumber:s})}-1!==e.indexOf("(eval ")&&(e=e.replace(/(\(eval at [^()]*)|(\),.*$)/g,"")),-1!==e.indexOf("(at ")&&(e=e.replace(/\(at /,"("));let t=e.trim().split(/\s+/g).slice(1),i=t.pop();if(!i)throw Error("could not get last");let[n,a,o]=tB(i);return tU({functionName:t.join(" ")||null,fileName:n,lineNumber:a,columnNumber:o})}),tG=e=>{let t=e.indexOf(v.NoReactInternals.DELAY_RENDER_CALLSTACK_TOKEN);return -1===t?null:tq(e.substring(t+v.NoReactInternals.DELAY_RENDER_CALLSTACK_TOKEN.length).trim().split(`
`))};class tW extends Error{stackFrame;delayRenderCall;frame;chunk;constructor({message:e,stack:t,stackFrame:i,frame:n,name:a,chunk:o}){super(e),this.stack=t,this.stackFrame=i,this.frame=n,this.chunk=o,this.name=a,this.delayRenderCall=t?tG(t):null}}var tV=e=>{let t=e.exceptionDetails.exception?.description;if(!t)return null;let i=e.exceptionDetails.exception?.className,n=`${i}: `;t.startsWith(n)&&(t=t.substring(n.length));let a=e.exceptionDetails.stackTrace?.callFrames.length??0,o=t.split(`
`);return o.slice(0,Math.max(1,o.length-a)).join(`
`)},tH=e=>{let t=e.indexOf(v.NoReactInternals.DELAY_RENDER_CALLSTACK_TOKEN);return -1===t?e:e.substring(0,t)},tJ=e=>({columnNumber:e.columnNumber,fileName:e.url,functionName:e.functionName,lineNumber:e.lineNumber}),tY=({page:e,onError:t,frame:i})=>{let n=e._client(),a=e=>{let n=e.exceptionDetails.exception?.description,a=tV(e);if(!a){console.error(e);let i=Error(n);i.stack=n,t(i);return}if(!e.exceptionDetails.stackTrace){let e=Error(tH(a));e.stack=n,t(e);return}let o=e.exceptionDetails.exception?.className;t(new tW({message:tH(a),stackFrame:e.exceptionDetails.stackTrace.callFrames.map(e=>tJ(e)),frame:i,name:o,stack:e.exceptionDetails.exception?.description,chunk:null}))};return n.on("Runtime.exceptionThrown",a),()=>(n.off("Runtime.exceptionThrown",a),Promise.resolve())},tK={"h264-mkv":{default:"mkv",forAudioCodec:{"pcm-16":{possible:["mkv"],default:"mkv"},mp3:{possible:["mkv"],default:"mkv"}}},"h264-ts":{default:"ts",forAudioCodec:{"pcm-16":{possible:["ts"],default:"ts"},aac:{possible:["ts"],default:"ts"}}},aac:{default:"aac",forAudioCodec:{aac:{possible:["aac","3gp","m4a","m4b","mpg","mpeg"],default:"aac"},"pcm-16":{possible:["wav"],default:"wav"}}},gif:{default:"gif",forAudioCodec:{}},h264:{default:"mp4",forAudioCodec:{"pcm-16":{possible:["mkv","mov"],default:"mkv"},aac:{possible:["mp4","mkv","mov"],default:"mp4"},mp3:{possible:["mp4","mkv","mov"],default:"mp4"}}},h265:{default:"mp4",forAudioCodec:{aac:{possible:["mp4","mkv","hevc"],default:"mp4"},"pcm-16":{possible:["mkv"],default:"mkv"}}},mp3:{default:"mp3",forAudioCodec:{mp3:{possible:["mp3"],default:"mp3"},"pcm-16":{possible:["wav"],default:"wav"}}},prores:{default:"mov",forAudioCodec:{aac:{possible:["mov","mkv","mxf"],default:"mov"},"pcm-16":{possible:["mov","mkv","mxf"],default:"mov"}}},vp8:{default:"webm",forAudioCodec:{"pcm-16":{possible:["mkv"],default:"mkv"},opus:{possible:["webm"],default:"webm"}}},vp9:{default:"webm",forAudioCodec:{"pcm-16":{possible:["mkv"],default:"mkv"},opus:{possible:["webm"],default:"webm"}}},wav:{default:"wav",forAudioCodec:{"pcm-16":{possible:["wav"],default:"wav"}}}};function tQ(e){return`${Math.round(e/1024/1024*10)/10} Mb`}var tX=({indent:e,logLevel:t,api:i})=>({chromeMode:n})=>{"chrome-for-testing"===n?en.info({indent:e,logLevel:t},"Downloading Chrome for Testing https://www.remotion.dev/chrome-for-testing"):en.info({indent:e,logLevel:t},"Downloading Chrome Headless Shell https://www.remotion.dev/chrome-headless-shell"),en.info({indent:e,logLevel:t},`Customize this behavior by adding a onBrowserDownload function to ${i}.`);let a=0;return{onProgress:i=>{(i.downloadedBytes>a+1e7||1===i.percent)&&(a=i.downloadedBytes,"chrome-for-testing"===n?en.info({indent:e,logLevel:t},`Downloading Chrome for Testing - ${tQ(i.downloadedBytes)}/${tQ(i.totalSizeInBytes)}`):en.info({indent:e,logLevel:t},`Downloading Chrome Headless Shell - ${tQ(i.downloadedBytes)}/${tQ(i.totalSizeInBytes)}`))},version:null}},tZ=({logLevel:e,tag:t,previewString:i})=>{en[e]({logLevel:e,tag:t,indent:!1},i)},t0=async({args:e,executablePath:t,defaultViewport:i,indent:n,logLevel:a,userDataDir:o,timeout:s})=>{let r=await td.create({defaultViewport:i,args:e,executablePath:t,timeout:s,userDataDir:o,logLevel:a,indent:n});try{await r.waitForTarget(e=>"page"===e.type(),{timeout:s})}catch(e){throw await r.close({silent:!1}),e}return r},t1=()=>{let e=process.cwd(),t=e;for(;;){try{if(r.statSync(l.join(t,"package.json")).isFile())break}catch(e){}let e=l.dirname(t);if(t===e){t=void 0;break}t=e}return t?"1"===process.versions.pnp?l.resolve(t,".pnp/.remotion"):"3"===process.versions.pnp?l.resolve(t,".yarn/.remotion"):l.resolve(t,"node_modules/.remotion"):l.resolve(e,".remotion")},t2="134.0.6998.35",t3="1161";function t4({platform:e,version:t,chromeMode:i}){return"linux-arm64"===e?"chrome-for-testing"===i?`https://playwright.azureedge.net/builds/chromium/${t??t3}/chromium-linux-arm64.zip`:`https://playwright.azureedge.net/builds/chromium/${t??t3}/chromium-headless-shell-linux-arm64.zip`:"headless-shell"===i?`https://storage.googleapis.com/chrome-for-testing-public/${t??t2}/${e}/chrome-headless-shell-${e}.zip`:`https://storage.googleapis.com/chrome-for-testing-public/${t??t2}/${e}/chrome-${e}.zip`}var t6=r.promises.mkdir,t8=(0,k.promisify)(r.unlink.bind(c));function t5(e){return new Promise(t=>{r.access(e,e=>t(!e))})}var t9=()=>{let e=m.platform();switch(e){case"darwin":return"arm64"===m.arch()?"mac-arm64":"mac-x64";case"linux":return"arm64"===m.arch()?"linux-arm64":"linux64";case"win32":return"win64";default:throw Error("Unsupported platform: "+e)}},t7=e=>l.join(t1(),"headless-shell"===e?"chrome-headless-shell":"chrome-for-testing"),ie=async({logLevel:e,indent:t,onProgress:i,version:n,chromeMode:a})=>{let o=t9(),s=t4({platform:o,version:n,chromeMode:a}),c=s.split("/").pop();if(!c)throw Error(`A malformed download URL was found: ${s}.`);let p=t7(a),u=l.join(p,c),d=it(p,o);if(await t5(d))return ia(a);if(await t5(p)||await t6(p,{recursive:!0}),"darwin"!==m.platform()&&"linux"!==m.platform()&&"arm64"===m.arch())throw Error(["Chrome Headless Shell is not available for Windows for arm64 architecture."].join(`
`));try{await eu({url:s,to:()=>u,onProgress:e=>{if(null===e.totalSize||null===e.percent)throw Error("Expected totalSize and percent to be defined");i({downloadedBytes:e.downloaded,totalSizeInBytes:e.totalSize,percent:e.percent})},indent:t,logLevel:e}),await S(u,{dir:d});let n=l.join(d,"chrome-linux","chrome"),a=l.join(d,"chrome-linux","chrome-headless-shell");r.existsSync(n)&&r.renameSync(n,a);let o=l.join(d,"chrome-linux");r.existsSync(o)&&r.renameSync(o,l.join(d,"chrome-headless-shell-linux-arm64"))}catch(e){return Promise.reject(e)}finally{await t5(u)&&await t8(u)}let h=ia(a);return tw(h.executablePath),h},it=(e,t)=>l.resolve(e,t),ii=e=>{let t=t7(e),i=t9(),n=it(t,i);if("chrome-for-testing"===e){if("mac-arm64"===i||"mac-x64"===i)return l.join(n,`chrome-${i}`,"Google Chrome for Testing.app/Contents/MacOS/Google Chrome for Testing");if("win64"===i)return l.join(n,"chrome-win64","chrome.exe");if("linux64"===i||"linux-arm64"===i)return l.join(n,"chrome-linux64","chrome");throw Error("unsupported platform"+i)}if("headless-shell"===e)return l.join(n,`chrome-headless-shell-${i}`,"win64"===i?"chrome-headless-shell.exe":"linux-arm64"===i?"headless_shell":"chrome-headless-shell");throw Error("unsupported chrome mode"+e)},ia=e=>{let t=ii(e),i=t7(e),n=t9(),a=it(i,n),o=t4({platform:n,version:null,chromeMode:e}),s=r.existsSync(a);return{executablePath:t,folderPath:a,local:s,url:o}},io=Promise.resolve(),is=async({indent:e,logLevel:t,browserExecutable:i,onBrowserDownload:n,chromeMode:a})=>{if("no-browser"===ic({browserExecutable:i,chromeMode:a}).type){let{onProgress:i,version:o}=n({chromeMode:a});await ie({indent:e,logLevel:t,onProgress:i,version:o,chromeMode:a})}return ic({browserExecutable:i,chromeMode:a})},ir=e=>io=io.then(()=>is(e)),ic=({browserExecutable:e,chromeMode:t})=>{if(e){if(!_.existsSync(e))throw Error(`"browserExecutable" was specified as '${e}' but the path doesn't exist. Pass "null" for "browserExecutable" to download a browser automatically.`);return{path:e,type:"user-defined-path"}}let i=ia(t);return i.local&&_.existsSync(i.executablePath)?{path:i.executablePath,type:"local-puppeteer-browser"}:{type:"no-browser"}},il=({browserExecutablePath:e,indent:t,logLevel:i,chromeMode:n})=>{if(e)return r.existsSync(e)||en.warn({indent:t,logLevel:i},`Browser executable was specified as '${e}' but the path doesn't exist.`),{path:e,type:"user-defined-path"};let a=ia(n);return a.local&&r.existsSync(a.executablePath)?{path:a.executablePath,type:"local-puppeteer-browser"}:{type:"no-browser"}},ip=({preferredBrowserExecutable:e,logLevel:t,indent:i,chromeMode:n})=>{let a=il({browserExecutablePath:e,indent:i,logLevel:t,chromeMode:n});if("no-browser"===a.type)throw TypeError("No browser found for rendering frames! Please open a GitHub issue and describe how you reached this error: https://remotion.dev/issue");return a.path},iu=()=>{if(void 0!==a)return a;try{let e=parseInt((0,d.execSync)("nproc",{stdio:"pipe"}).toString().trim(),10);return a=e,e}catch{return null}},id=()=>{let e=(0,m.cpus)().length,t=iu();return null===t?e:Math.min(t,e)},im=()=>{try{let e=(0,r.readFileSync)("/sys/fs/cgroup/memory.max","utf-8");if("max"===e.trim())return 1/0;return parseInt(e,10)}catch{return null}},ih=()=>{try{let e=(0,r.readFileSync)("/sys/fs/cgroup/memory.current","utf-8");return parseInt(e,10)}catch{return null}},ig=()=>{try{let e=(0,r.readFileSync)("/sys/fs/cgroup/memory/memory.limit_in_bytes","utf-8");if("max"===e.trim())return 1/0;return parseInt(e,10)}catch{return null}},iv=()=>{try{let e=(0,r.readFileSync)("/sys/fs/cgroup/memory/memory.usage_in_bytes","utf-8");return parseInt(e,10)}catch{return null}},ix=()=>{let e=im();if(null!==e){let t=ih();if(null!==t)return e-t}let t=ig();if(null!==t){let e=iv();if(null!==e)return t-e}return null},ib=()=>process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE?1048576*parseInt(process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE,10):null,iw=e=>{if(!(0,r.existsSync)("/proc/meminfo"))return null;try{let e=(0,r.readFileSync)("/proc/meminfo","utf-8").split(`
`).find(e=>e.startsWith("MemAvailable"));if(!e)throw Error("MemAvailable not found in /proc/meminfo");let t=e.match(/(\d+)\s+(\w+)/);if(!t||3!==t.length)throw Error("Failed to parse MemAvailable value");let i=parseInt(t[1],10),n=t[2].toLowerCase();switch(n){case"kb":return 1024*i;case"mb":return 1048576*i;case"gb":return 1073741824*i;default:throw Error(`Unknown unit: ${n}`)}}catch(t){return en.warn({indent:!1,logLevel:e},"/proc/meminfo exists but failed to get memory info. Error:"),en.warn({indent:!1,logLevel:e},t),null}},iy=e=>{let t=ib();if(null!==t)return Math.min((0,m.freemem)(),t);let i=ix();if(null!==i){let t=(0,m.freemem)(),n=iw(e);return i>1.25*t&&Number.isFinite(i)&&(en.warn({indent:!1,logLevel:e},"Detected differing memory amounts:"),en.warn({indent:!1,logLevel:e},`Memory reported by CGroup: ${(i/1024/1024).toFixed(2)} MB`),null!==n&&en.warn({indent:!1,logLevel:e},`Memory reported by /proc/meminfo: ${(n/1024/1024).toFixed(2)} MB`),en.warn({indent:!1,logLevel:e},`Memory reported by Node: ${(t/1024/1024).toFixed(2)} MB`),en.warn({indent:!1,logLevel:e},"You might have inadvertenly set the --memory flag of `docker run` to a value that is higher than the global Docker memory limit."),en.warn({indent:!1,logLevel:e},"Using the lower amount of memory for calculation.")),Math.min(t,i)}let n=iw(e);return null!==n?Math.min((0,m.freemem)(),n):(0,m.freemem)()},i_=e=>{let t=iy(e);return Math.max(1,Math.round(Math.min(2*id()/3,(t-2e9)/4e8)))},iE=["swangle","angle","egl","swiftshader","vulkan","angle-egl"],iS=e=>{if(null===e)return null;if(!iE.includes(e))throw TypeError(`${e} is not a valid GL backend. Accepted values: ${iE.join(", ")}`);return e},ik=e=>{let t=e??null,i=["NetworkService","NetworkServiceInProcess"];return"vulkan"===t?[...i,"Vulkan","UseSkiaRenderer"]:"angle-egl"===t?[...i,"VaapiVideoDecoder"]:i},iC=e=>{let t=e??null;return(iS(t),"swangle"===t)?["--use-gl=angle","--use-angle=swiftshader"]:"angle-egl"===t?["--use-gl=angle","--use-angle=gl-egl"]:"vulkan"===t?["--use-angle=vulkan","--use-vulkan=native","--disable-vulkan-fallback-to-gl-for-testing","--disable-vulkan-surface","--ignore-gpu-blocklist","--enable-gpu"]:null===t?[]:[`--use-gl=${t}`]},iT=async({browser:e,browserExecutable:t,chromiumOptions:i,forceDeviceScaleFactor:n,indent:a,viewport:o,logLevel:s,onBrowserDownload:c,chromeMode:p})=>{if("firefox"===e)throw TypeError("Firefox supported is not yet turned on. Stay tuned for the future.");en.verbose({indent:a,logLevel:s},"Ensuring browser executable"),await ir({browserExecutable:t,logLevel:s,indent:a,onBrowserDownload:c,chromeMode:p}),en.verbose({indent:a,logLevel:s},"Ensured browser is available.");let u=ip({preferredBrowserExecutable:t,logLevel:s,indent:a,chromeMode:p}),d=iC(i.gl??null),h=i.enableMultiProcessOnLinux??!0;en.verbose({indent:a,logLevel:s,tag:"openBrowser()"},`Opening browser: gl = ${i.gl}, executable = ${u}, enableMultiProcessOnLinux = ${h}`),i.userAgent&&en.verbose({indent:a,logLevel:s,tag:"openBrowser()"},`Using custom user agent: ${i.userAgent}`);let f=await r.promises.mkdtemp(l.join(m.tmpdir(),"puppeteer_dev_chrome_profile-")),g=await t0({executablePath:u,logLevel:s,indent:a,userDataDir:f,timeout:25e3,args:["about:blank","--allow-pre-commit-input","--disable-background-networking",`--enable-features=${ik(i.gl).join(",")}`,"--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--no-proxy-server","--proxy-server='direct://'","--proxy-bypass-list=*","--force-gpu-mem-available-mb=4096","--disable-hang-monitor","--disable-extensions","--allow-chrome-scheme-url","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--mute-audio","--no-first-run",`--video-threads=${i_(s)}`,"--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection","--export-tagged-pdf","--intensive-wake-up-throttling-policy=0",i.headless??!0?"chrome-for-testing"===p?"--headless=new":"--headless=old":null,"--no-sandbox","--disable-setuid-sandbox",...d,"--disable-background-media-suspend","linux"!==process.platform||"vulkan"===i.gl||h?null:"--single-process","--allow-running-insecure-content","--disable-component-update","--disable-domain-reliability","--disable-features=AudioServiceOutOfProcess,IsolateOrigins,site-per-process,Translate,BackForwardCache,AvoidUnnecessaryBeforeUnloadCheckSync,IntensiveWakeUpThrottling","--disable-print-preview","--disable-site-isolation-trials","--disk-cache-size=268435456","--hide-scrollbars","--no-default-browser-check","--no-pings","--font-render-hinting=none","--no-zygote","--ignore-gpu-blocklist","--enable-unsafe-webgpu",void 0===n?null:`--force-device-scale-factor=${n}`,i.ignoreCertificateErrors?"--ignore-certificate-errors":null,...i?.disableWebSecurity?["--disable-web-security"]:[],i?.userAgent?`--user-agent="${i.userAgent}"`:null,"--remote-debugging-port=0",`--user-data-dir=${f}`].filter(Boolean),defaultViewport:o??{height:720,width:1280,deviceScaleFactor:1}}),v=await g.pages();return await v[0]?.close(),g},iI=async({passedInInstance:e,browserExecutable:t,chromiumOptions:i,forceDeviceScaleFactor:n,indent:a,logLevel:o,onBrowserDownload:s,chromeMode:r,pageIndex:c,onBrowserLog:l,onLog:p})=>{if(e){let t=await e.newPage({context:()=>null,logLevel:o,indent:a,pageIndex:c,onBrowserLog:l,onLog:p});return{page:t,cleanupPage:()=>(t.close().catch(e=>{e.message.includes("Target closed")||en.error({indent:a,logLevel:o},"Was not able to close puppeteer page",e)}),Promise.resolve())}}let u=await iT({browser:ed,browserExecutable:t,chromiumOptions:i,forceDeviceScaleFactor:n,indent:a,viewport:null,logLevel:o,onBrowserDownload:s,chromeMode:r});return{page:await u.newPage({context:()=>null,logLevel:o,indent:a,pageIndex:c,onBrowserLog:l,onLog:p}),cleanupPage:()=>(u.close({silent:!0}).catch(e=>{e.message.includes("Target closed")||en.error({indent:a,logLevel:o},"Was not able to close puppeteer page",e)}),Promise.resolve())}},iN=(e,t)=>{if(t.src.length<400)return t;let i=e.find(e=>e.src===t.src);return i?{...t,src:`same-as-${i.id}-${i.frame}`}:t},ij=e=>e.startsWith("same-as"),iR={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/ace+json":{source:"iana",compressible:!0},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/aif+cbor":{source:"iana"},"application/aif+json":{source:"iana",compressible:!0},"application/alto-cdni+json":{source:"iana",compressible:!0},"application/alto-cdnifilter+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-propmap+json":{source:"iana",compressible:!0},"application/alto-propmapparams+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwl":{source:"iana",extensions:["cwl"]},"application/cwl+json":{source:"iana",compressible:!0},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"apache",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdf":{source:"iana",extensions:["fdf"]},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"apache",charset:"UTF-8",compressible:!0,extensions:["js"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/linkset":{source:"iana"},"application/linkset+json":{source:"iana",compressible:!0},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["sig","asc"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0,extensions:["xsf"]},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"apache"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-msgstore-ctrl-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-regroup+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"apache",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"apache"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"apache"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.belightsoft.lhzd+zip":{source:"iana",compressible:!1},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"apache",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"apache",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"apache",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.genozip":{source:"iana"},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"apache",compressible:!0},"application/vnd.geocube+xml":{source:"apache",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.gnu.taler.exchange+json":{source:"iana",compressible:!0},"application/vnd.gnu.taler.merchant+json":{source:"iana",compressible:!0},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"apache"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"apache",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"apache"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.ipld.car":{source:"iana"},"application/vnd.ipld.raw":{source:"iana"},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"apache",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"apache",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"apache",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.onvif.metadata":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0,extensions:["xhtm"]},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml","uo"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xfdf":{source:"iana",extensions:["xfdf"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+cbor":{source:"iana"},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana",extensions:["adts","aac"]},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"apache"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp","dib"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif","btf"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana",extensions:["apng"]},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"apache"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"apache"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"apache"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/prc":{source:"iana",extensions:["prc"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/u3d":{source:"iana",extensions:["u3d"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana",extensions:["pyo","pyox"]},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"apache"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["md","markdown"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"apache"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"apache"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}},iL={};(function(e,t){let i=["nginx","apache",void 0,"iana"];Object.keys(iR).forEach(n=>{let a=iR[n],o=a.extensions;if(o?.length){e[n]=o;for(let e=0;e<o.length;e++){let s=o[e];if(t[s]){let e=i.indexOf(iR[t[s]].source),n=i.indexOf(a.source);if("application/octet-stream"!==t[s]&&(e>n||e===n&&"application/"===t[s].substr(0,12)))continue}iL[s]=n}}})})({},{});var iF=e=>iR[e.toLowerCase()]?.extensions?.[0]??null,iP=/^\s*([^;\s]*)(?:;|\s|$)/,iO=/^text\//i,i$=e=>{let t=[],i=0,n=()=>{i--,t.length>0&&t.shift()?.()},a=async(e,t,...a)=>{i++;let o=(async()=>e(...a))();t(o);try{await o}catch{}n()},o=(n,o,...s)=>{t.push(()=>a(n,o,...s)),(async()=>{await Promise.resolve(),i<e&&t.length>0&&t.shift()?.()})()},s=(e,...t)=>new Promise(i=>{o(e,i,...t)});return Object.defineProperties(s,{activeCount:{get:()=>i},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s},iM=i$(1),iA=async({src:e,indent:t,logLevel:i,binariesDirectory:n,cancelSignal:a,audioStreamIndex:o})=>{let s=[["-v","error"],["-select_streams",o?`a:${o}`:"a:0"],["-show_entries","stream=channels:stream=start_time:format=duration:format=format_name"],["-of","default=nw=1"],[e]].reduce((e,t)=>e.concat(t),[]).filter(Boolean);try{let e=await ty({bin:"ffprobe",args:s,indent:t,logLevel:i,binariesDirectory:n,cancelSignal:a}),o=e.stdout.match(/channels=([0-9]+)/),r=e.stdout.match(/duration=([0-9.]+)/),c=e.stdout.match(/start_time=([0-9.]+)/),l=e.stdout.match(/format_name=([a-zA-Z0-9.]+)/),p=!!l&&"mp3"===l[1];return{channels:o?parseInt(o[1],10):0,duration:r?parseFloat(r[1]):null,startTime:c?p?0:parseFloat(c[1]):null}}catch(e){if(e.message.includes("This file cannot be read by `ffprobe`. Is it a valid multimedia file?"))throw Error("This file cannot be read by `ffprobe`. Is it a valid multimedia file?");throw e}};async function iD({downloadMap:e,src:t,indent:i,logLevel:n,binariesDirectory:a,cancelSignal:o,audioStreamIndex:s}){let r=s?`${t}-${s}`:t;if(e.durationOfAssetCache[r])return e.durationOfAssetCache[r];let c=await iA({src:t,indent:i,logLevel:n,binariesDirectory:a,cancelSignal:o,audioStreamIndex:s});return e.durationOfAssetCache[r]=c,c}var iz=({downloadMap:e,src:t,indent:i,logLevel:n,binariesDirectory:a,cancelSignal:o,audioStreamIndex:s})=>iM(()=>iD({downloadMap:e,src:t,indent:i,logLevel:n,binariesDirectory:a,cancelSignal:o,audioStreamIndex:s})),iB=Buffer.byteLength.bind(Buffer),iU=/[/?<>\\:*|"]/g,iq=/[\x00-\x1f\x80-\x9f]/g,iG=/^\.+$/,iW=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,iV=/[. ]+$/,iH=e=>(function(e,t){if("string"!=typeof e)throw Error("Input must be string");return function(e,t){let i,n;if("string"!=typeof e)throw Error("Input must be string");let a=e.length,o=0;for(let t=0;t<a;t+=1){var s;if(i=e.charCodeAt(t),n=e[t],i>=55296&&i<=56319&&(s=e.charCodeAt(t+1))>=56320&&s<=57343&&(t+=1,n+=e[t]),255===(o+=iB(n)))return e.slice(0,t+1);if(o>255)return e.slice(0,t-n.length+1)}return e}(e.replace(iU,"").replace(iq,"").replace(iG,t).replace(iW,t).replace(iV,t),0)})(e,""),iJ=/[/\\]/,iY=e=>e.split(iJ).map(e=>iH(e)).join(l.sep),iK=({src:e,downloadDir:t,downloadMap:i})=>i.hasBeenDownloadedMap[e]?.[t]?Promise.resolve(i.hasBeenDownloadedMap[e]?.[t]):(i.listeners[e]||(i.listeners[e]={}),i.listeners[e][t]||(i.listeners[e][t]=[]),new Promise(n=>{i.listeners[e][t].push(()=>{let a=i.hasBeenDownloadedMap[e];if(!a?.[t])throw Error("Expected file for "+e+"to be available in "+t);n(a[t])})})),iQ=({src:e,downloadDir:t,to:i,downloadMap:n})=>{n.listeners[e]||(n.listeners[e]={}),n.listeners[e][t]||(n.listeners[e][t]=[]),n.isDownloadingMap[e]||(n.isDownloadingMap[e]={}),n.isDownloadingMap[e][t]=!1,n.hasBeenDownloadedMap[e]||(n.hasBeenDownloadedMap[e]={}),n.hasBeenDownloadedMap[e][t]=i,n.listeners[e][t].forEach(e=>e())},iX=(e,t)=>{if(!e.includes("/"))throw TypeError(["A data URL was passed but did not have the correct format so that Remotion could convert it for the video to be rendered.","The format of the data URL must be `data:[mime-type];[encoding],[data]`.","The `mime-type` parameter must be a valid mime type.","The data that was received is (truncated to 100 characters):",t.substr(0,100)].join(" "))},iZ=async({src:e,downloadMap:t,indent:i,logLevel:n,shouldAnalyzeAudioImmediately:a,binariesDirectory:o,cancelSignalForAudioAnalysis:s,audioStreamIndex:c})=>{if(ij(e))return e;let{downloadDir:l}=t;if(t.hasBeenDownloadedMap[e]?.[l]){let i=t.hasBeenDownloadedMap[e]?.[l];if(r.existsSync(i))return i;t.hasBeenDownloadedMap[e][l]=null,t.isDownloadingMap[e]||(t.isDownloadingMap[e]={}),t.isDownloadingMap[e][l]=!1}if(t.isDownloadingMap[e]?.[l])return iK({downloadMap:t,src:e,downloadDir:l});if(t.isDownloadingMap[e]||(t.isDownloadingMap[e]={}),t.isDownloadingMap[e][l]=!0,t.emitter.dispatchDownload(e),e.startsWith("data:")){let[i,n]=e.substring(5).split(",");if(!i.includes(";"))throw TypeError(["A data URL was passed but did not have the correct format so that Remotion could convert it for the video to be rendered.","The format of the data URL must be `data:[mime-type];[encoding],[data]`.","The data that was received is (truncated to 100 characters):",e.substring(0,100)].join(" "));let[a,o]=i.split(";");iX(a,e),function(e,t){let i=["ascii","base64","base64url","binary","hex","latin1","ucs-2","ucs2","utf-8","utf16le","utf8"];if(!i.find(t=>e===t))throw TypeError(["A data URL was passed but did not have the correct format so that Remotion could convert it for the video to be rendered.","The format of the data URL must be `data:[mime-type];[encoding],[data]`.","The `encoding` parameter must be one of the following:",`${i.join(" ")}.`,"The data that was received is (truncated to 100 characters):",t.substr(0,100)].join(" "))}(o,e);let s=i2({contentDisposition:null,downloadDir:l,src:e,contentType:a});F(s);let c=Buffer.from(n,o);return await r.promises.writeFile(s,c),iQ({src:e,downloadMap:t,downloadDir:l,to:s}),s}let{to:p}=await eu({url:e,onProgress:i=>{t.emitter.dispatchDownloadProgress(e,i.percent,i.downloaded,i.totalSize)},to:(t,i)=>i2({contentDisposition:t,downloadDir:l,src:e,contentType:i}),indent:i,logLevel:n});return iQ({src:e,downloadMap:t,downloadDir:l,to:p}),a&&await iz({binariesDirectory:o,downloadMap:t,src:p,indent:i,logLevel:n,cancelSignal:s,audioStreamIndex:c}),p},i0=e=>{Object.keys(e.hasBeenDownloadedMap).forEach(t=>{delete e.hasBeenDownloadedMap[t]}),Object.keys(e.isDownloadingMap).forEach(t=>{delete e.isDownloadingMap[t]})},i1=({contentDisposition:e,src:t,contentType:i})=>{let n="filename=";if(e?.includes(n)){let t=e.indexOf(n),i=e.substring(t+n.length),a=i.indexOf(";");return -1===a?{pathname:i.trim(),search:""}:{search:"",pathname:i.substring(0,a).trim()}}let{pathname:a,search:o}=new URL(t);if(!(0,l.extname)(a)&&i){let e=iF(i);return{pathname:`${a}.${e}`,search:o}}return{pathname:a,search:o}},i2=({src:e,downloadDir:t,contentDisposition:i,contentType:n})=>{if(ij(e))return e;let{pathname:a,search:o}=i1({contentDisposition:i,contentType:n,src:e}),s=a.split("."),r=s.length>1&&s[s.length-1]?`.${s[s.length-1]}`:"",c=String((0,v.random)(`${e}${a}${o}`)).replace("0.","");return l.join(t,iY(c+r))},i3=async({renderAsset:e,onDownload:t,downloadMap:i,logLevel:n,indent:a,binariesDirectory:o,cancelSignalForAudioAnalysis:s,shouldAnalyzeAudioImmediately:r})=>{let c=i4(i,t),l=await iZ({src:e.src,downloadMap:i,indent:a,logLevel:n,shouldAnalyzeAudioImmediately:r,binariesDirectory:o,cancelSignalForAudioAnalysis:s,audioStreamIndex:e.audioStreamIndex});return c(),{...e,src:l}},i4=(e,t)=>{let i=[];if(!t||e.downloadListeners.includes(t))return()=>{};e.downloadListeners.push(t),i.push(()=>(e.downloadListeners=e.downloadListeners.filter(e=>e!==t),Promise.resolve()));let n=e.emitter.addEventListener("download",({detail:{src:n}})=>{let a=t(n),o=e.emitter.addEventListener("progress",({detail:{downloaded:e,percent:t,src:i,totalSize:o}})=>{n===i&&a?.({downloaded:e,percent:t,totalSize:o})});i.push(()=>(o(),Promise.resolve()))});return i.push(()=>(n(),Promise.resolve())),()=>{i.forEach(e=>e())}},i6=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),i8=(e,t)=>({nonce:i6(),payload:{type:e,params:t}}),i5=({type:e,payload:t,logLevel:i,indent:n,binariesDirectory:a=null})=>{let o=tg({type:"compositor",indent:n,logLevel:i,binariesDirectory:a});tw(o);let s=i8(e,t),r=l.dirname(o),c=(0,d.spawn)(o,[JSON.stringify(s)],{cwd:r,env:"darwin"===process.platform?{DYLD_LIBRARY_PATH:r}:void 0}),p=[],u=new Map,{onData:m,getOutputBuffer:h,clear:f}=T((e,t,a)=>{if("0"===t)en.verbose({indent:n,logLevel:i,tag:"compositor"},new TextDecoder("utf8").decode(a));else if(u.has(t)){if("error"===e)try{let e=JSON.parse(new TextDecoder("utf8").decode(a));u.get(t).reject(Error(`Compositor error: ${e.error}
${e.backtrace}`))}catch{u.get(t).reject(Error(new TextDecoder("utf8").decode(a)))}else u.get(t).resolve(a);u.delete(t)}}),g={type:"running"};c.stdout.on("data",m),c.stderr.on("data",e=>{p.push(e)});let v=null,x=null;return c.on("close",(e,t)=>{let a=Array.from(u.values());if(0===e){for(let e of(g={type:"quit-without-error",signal:t},v?.(),a))e.reject(Error(`Compositor quit${t?` with signal ${t}`:""}`));u.clear()}else{let o=Buffer.concat(p).toString("utf-8")+new TextDecoder("utf-8").decode(h());g={type:"quit-with-error",error:o,signal:t},en.verbose({indent:n,logLevel:i},`Compositor exited with code ${e} and signal ${t}`);let s=null===e?Error(`Compositor exited with signal ${t}`):Error(`Compositor exited with code ${e}: ${o}`);for(let e of a)e.reject(s);u.clear(),x?.(s)}f(),p=[]}),{waitForDone:()=>new Promise((e,t)=>{if("quit-without-error"===g.type){t(Error(`Compositor quit${g.signal?` with signal ${g.signal}`:""}`));return}if("quit-with-error"===g.type){t(Error(`Compositor quit${g.signal?` with signal ${g.signal}`:""}: ${g.error}`));return}v=e,x=t}),finishCommands:()=>"quit-with-error"===g.type?Promise.reject(Error(`Compositor quit${g.signal?` with signal ${g.signal}`:""}: ${g.error}`)):"quit-without-error"===g.type?Promise.reject(Error(`Compositor quit${g.signal?` with signal ${g.signal}`:""}`)):new Promise((e,t)=>{c.stdin.write(`EOF
`,i=>{if(i){t(i);return}e()})}),executeCommand:(e,t)=>new Promise((i,n)=>{if("quit-without-error"===g.type){n(Error(`Compositor quit${g.signal?` with signal ${g.signal}`:""}`));return}if("quit-with-error"===g.type){n(Error(`Compositor quit${g.signal?` with signal ${g.signal}`:""}: ${g.error.trim()}`));return}let a=i6();c.stdin.write(JSON.stringify({nonce:a,payload:{type:e,params:t}})+`
`,e=>{e&&n(e)}),u.set(a,{resolve:i,reject:n})}),pid:c.pid??null}},i9=e=>{if(null!=e){if("number"!=typeof e)throw Error("Expected a number");if(e<0||0===e)throw Error("Expected a positive number");if(Number.isNaN(e))throw Error("Expected a number");if(!Number.isFinite(e))throw Error("Expected a finite number");if(e%1!=0)throw Error("Expected a whole number")}},i7=e=>{let t=new URL(e,"http://localhost").search;if(!t.trim())throw Error("Expected query from "+e);let i=new b.URLSearchParams(t),n=i.get("src");if(!n)throw Error("Did not pass `src` parameter");let a=i.get("time");if(!a)throw Error("Did not get `time` parameter");let o=i.get("transparent"),s=i.get("toneMapped");if(!s)throw Error("Did not get `toneMapped` parameter");return{src:n,time:parseFloat(a),transparent:"true"===o,toneMapped:"true"===s}},ne="Request closed",nt=({downloadMap:e,logLevel:t,indent:i,offthreadVideoCacheSizeInBytes:n,binariesDirectory:a,offthreadVideoThreads:o})=>{i9(n);let s=i5({type:"StartLongRunningProcess",payload:{concurrency:o,maximum_frame_cache_size_in_bytes:n,verbose:A(t,"verbose")},logLevel:t,indent:i,binariesDirectory:a});return{close:async()=>{try{return await s.finishCommands(),s.waitForDone()}catch(e){return Promise.reject(e)}},listener:(n,o)=>{if(!n.url)throw Error("Request came in without URL");if(!n.url.startsWith("/proxy")){o.writeHead(404),o.end();return}let{src:r,time:c,transparent:l,toneMapped:p}=i7(n.url);if(o.setHeader("access-control-allow-origin","*"),o.setHeader("cache-control","no-cache, no-store, must-revalidate"),"OPTIONS"===n.method){o.statusCode=200,n.headers["access-control-request-private-network"]&&o.setHeader("Access-Control-Allow-Private-Network","true"),o.end();return}let u=!1;n.on("close",()=>{u=!0});let d=Date.now();iZ({src:r,downloadMap:e,indent:i,logLevel:t,binariesDirectory:a,cancelSignalForAudioAnalysis:void 0,shouldAnalyzeAudioImmediately:!0,audioStreamIndex:void 0}).then(e=>new Promise((t,i)=>{if(u){i(Error(ne));return}d=Date.now(),s.executeCommand("ExtractFrame",{src:e,original_src:r,time:c,transparent:l,tone_mapped:p}).then(t).catch(i)})).then(e=>new Promise((n,a)=>{if(u){a(Error(ne));return}if(!e){a(Error("no readable from compositor"));return}let s=Date.now()-d;s>1e3&&en.verbose({indent:i,logLevel:t},`Took ${s}ms to extract frame from ${r} at ${c}`);let l=e.at(0),p=e.at(1),m=e.at(2);if(137===l&&80===p&&78===m)o.setHeader("content-type","image/png"),o.setHeader("content-length",e.byteLength);else if(66===l&&77===p)o.setHeader("content-type","image/bmp"),o.setHeader("content-length",e.byteLength);else{a(Error(`Unknown file type: ${l} ${p} ${m}`));return}o.writeHead(200),o.write(e,e=>{o.end(),e?a(e):n()})})).catch(e=>{en.error({indent:i,logLevel:t},"Could not extract frame from compositor",e),o.headersSent||(o.writeHead(500),o.write(JSON.stringify({error:e.stack}))),o.end()})},compositor:s}};class ni{listeners={progress:[],download:[]};addEventListener(e,t){return this.listeners[e].push(t),()=>{this.removeEventListener(e,t)}}removeEventListener(e,t){this.listeners[e]=this.listeners[e].filter(e=>e!==t)}dispatchEvent(e,t){this.listeners[e].forEach(e=>{e({detail:t})})}dispatchDownloadProgress(e,t,i,n){this.dispatchEvent("progress",{downloaded:i,percent:t,totalSize:n,src:e})}dispatchDownload(e){this.dispatchEvent("download",{src:e})}}var nn="abcdefghijklmnopqrstuvwxyz0123456789",na=()=>Array(10).fill(1).map(()=>nn[Math.floor(Math.random()*nn.length)]).join(""),no=e=>{let t=l.join(m.tmpdir(),e+na());return r.existsSync(t)&&r.rmSync(t,{recursive:!0,force:!0}),(0,r.mkdirSync)(t),t},ns=async({input:e,output:t,toneFrequency:i,indent:n,logLevel:a,binariesDirectory:o,cancelSignal:s})=>{let r=`asetrate=48000*${i},aresample=48000,atempo=1/${i}`,c=["-hide_banner","-i",e,["-ac","2"],"-filter:a",r,["-c:a","pcm_s16le"],["-ar",String(48e3)],"-y",t].flat(2);en.verbose({indent:n,logLevel:a},"Changing tone frequency using FFmpeg:",JSON.stringify(c.join(" ")),"Filter:",r);let l=Date.now(),p=ty({bin:"ffmpeg",args:c,indent:n,logLevel:a,binariesDirectory:o,cancelSignal:s});await p,en.verbose({indent:n,logLevel:a},"Changed tone frequency using FFmpeg",`${Date.now()-l}ms`)},nr=e=>new Uint8Array([255&e,e>>8&255,e>>16&255,e>>24&255]),nc=e=>new Uint8Array([255&e,e>>8&255]),nl=e=>{let t=np(e,"remotion-inline-audio-mixing"),i={},n={},a={},o=e=>l.join(t,`${e.id}.wav`),s=({asset:e,fps:t,totalNumberOfFrames:a,trimLeftOffset:s,trimRightOffset:c})=>{let l=o(e);if(i[l]||(i[l]=r.openSync(l,"w")),n[l])return;n[l]=!0;let p=Math.round((a/t-s+c)*192e3),u=i[l];(0,r.writeSync)(u,new Uint8Array([82,73,70,70]),0,4,0),(0,r.writeSync)(u,new Uint8Array(nr(40+p)),0,4,4),(0,r.writeSync)(u,new Uint8Array([87,65,86,69]),0,4,8),(0,r.writeSync)(u,new Uint8Array([102,109,116,32]),0,4,12),(0,r.writeSync)(u,new Uint8Array([16,0,0,0]),0,4,16),(0,r.writeSync)(u,new Uint8Array([1,0]),0,2,20),(0,r.writeSync)(u,new Uint8Array([2,0]),0,2,22),(0,r.writeSync)(u,new Uint8Array(nr(48e3)),0,4,24),(0,r.writeSync)(u,new Uint8Array(nr(192e3)),0,4,28),(0,r.writeSync)(u,new Uint8Array(nc(4)),0,2,32),(0,r.writeSync)(u,nc(16),0,2,34),(0,r.writeSync)(u,new Uint8Array([100,97,116,97]),0,4,36),(0,r.writeSync)(u,new Uint8Array(nr(p)),0,4,40)};return{cleanup:()=>{for(let e of Object.values(i))try{r.closeSync(e)}catch{}tn(t)},addAsset:({asset:e,fps:t,totalNumberOfFrames:n,firstFrame:c,trimLeftOffset:l,trimRightOffset:p})=>{s({asset:e,fps:t,totalNumberOfFrames:n,trimLeftOffset:l,trimRightOffset:p});let u=o(e);if(void 0!==a[u]&&a[u]!==e.toneFrequency)throw Error(`toneFrequency must be the same across the entire audio, got ${e.toneFrequency}, but before it was ${a[u]}`);let d=i[u];a[u]=e.toneFrequency;let m=new Int16Array(e.audio),h=e.frame===c,f=e.frame===n+c-1,g=48e3*l,v=48e3*p;if(Math.abs(Math.round(v)-v)>1e-7)throw Error(`samplesToShaveFromEnd should be approximately an integer, is${v}`);if(Math.abs(Math.round(g)-g)>1e-7)throw Error(`samplesToShaveFromStart should be approximately an integer, is ${g}`);h&&(m=m.slice(2*Math.round(g))),f&&(m=m.slice(0,m.length+2*Math.round(v)));let x=(e.frame-c)/t-(h?0:l);(0,r.writeSync)(d,m,0,m.byteLength,44+2*Math.floor(48e3*x)*2)},getListOfAssets:()=>Object.keys(i),finish:async({binariesDirectory:e,indent:t,logLevel:n,cancelSignal:o})=>{for(let s of Object.keys(i)){let i=a[s];if(1!==i){let a=s.replace(/.wav$/,"-tmp.wav");await ns({input:s,output:a,toneFrequency:i,indent:t,logLevel:n,binariesDirectory:e,cancelSignal:o}),r.renameSync(a,s)}}}}},np=(e,t)=>{let i=l.join(e,t);return(0,r.mkdirSync)(i),i},nu=()=>{let e=no(`remotion-v${h.VERSION}-assets`),t=!1;return{isDownloadingMap:{},hasBeenDownloadedMap:{},listeners:{},durationOfAssetCache:{},id:String(Math.random()),assetDir:e,downloadListeners:[],downloadDir:np(e,"remotion-assets-dir"),complexFilter:np(e,"remotion-complex-filter"),preEncode:np(e,"pre-encode"),audioMixing:np(e,"remotion-audio-mixing"),audioPreprocessing:np(e,"remotion-audio-preprocessing"),stitchFrames:np(e,"remotion-stitch-temp-dir"),compositingDir:np(e,"remotion-compositing-temp-dir"),emitter:new ni,preventCleanup:()=>{t=!0},allowCleanup:()=>{t=!1},isPreventedFromCleanup:()=>t,inlineAudioMixing:nl(e)}},nd=e=>{e.isPreventedFromCleanup()||(tn(e.downloadDir),tn(e.complexFilter),tn(e.compositingDir),e.inlineAudioMixing.cleanup(),tn(e.assetDir))},nm=(e,t)=>{if(B(e)){let i=new URL(e),n=i.pathname.lastIndexOf("/");return -1===n?i.origin+"/"+t:i.origin+i.pathname.substring(0,n+1)+t}let i=e.lastIndexOf(y.sep);return e.substring(0,i+1)+t},nh=e=>nm(e,v.NoReactInternals.bundleMapName),nf=e=>e.includes("?")?nf(e.substr(0,e.indexOf("?"))):e.endsWith("index.html")?e:e.endsWith("/")?`${e}index.html`:`${e}/index.html`,ng=({timeout:e})=>{let t=[],i=[],n=()=>{0===t.length&&i.forEach(e=>e())};return{lock:()=>{let e=Math.random();return t.push(e),e},unlock:e=>{t=t.filter(t=>t!==e),n()},waitForAllToBeDone:()=>{let a=new Promise(e=>{i.push(()=>{e()})});return(n(),0===t.length)?Promise.resolve():null===e?a:Promise.race([a,new Promise(t=>{setTimeout(()=>t(),e)})])}}},nv=({portToTry:e,host:t})=>new Promise(i=>{let n="unavailable",a=new I.Socket;a.on("connect",()=>{n="unavailable",a.destroy()}),a.setTimeout(3e3),a.on("timeout",()=>{n="unavailable",a.destroy(),i(n)}),a.on("error",()=>{n="available"}),a.on("close",()=>i(n)),a.connect(e,t)}),nx=async({hosts:e,port:t})=>(await Promise.all(e.map(e=>nv({portToTry:t,host:e})))).every(e=>"available"===e)?"available":"unavailable",nb=async({from:e,to:t,hostsToTest:i})=>{for(let n of n_(e,t))if(await nx({port:n,hosts:i})==="available")return n;throw Error("No available ports found")},nw=ng({timeout:1e4}),ny=async({desiredPort:e,from:t,hostsToTry:i,to:n})=>{await nw.waitForAllToBeDone();let a=nw.lock(),o=()=>nw.unlock(a);if(void 0!==e&&await nx({port:e,hosts:i})==="available")return{port:e,unlockPort:o};let s=await nb({from:t,to:n,hostsToTest:i});if(e&&e!==s)throw o(),Error(`You specified port ${e} to be used for the HTTP server, but it is not available. Choose a different port or remove the setting to let Remotion automatically select a free port.`);return{port:s,unlockPort:o}},n_=(e,t)=>{if(!Number.isInteger(e)||!Number.isInteger(t))throw TypeError("`from` and `to` must be integer numbers");if(e<1024||e>65535)throw RangeError("`from` must be between 1024 and 65535");if(t<1024||t>65536)throw RangeError("`to` must be between 1024 and 65536");if(t<e)throw RangeError("`to` must be greater than or equal to `from`");return Array(t-e+1).fill(!0).map((t,i)=>i+e)},nE=null,nS=e=>{if(nE)return nE;let t=nT(N.networkInterfaces()),i={host:nk(t,e),hostsToTry:nC(t)};return nE=i,i},nk=(e,t)=>t||!nI(e)?"0.0.0.0":"::",nC=e=>[nN(e)?"::1":null,nj(e)?"127.0.0.1":null,nI(e)?"::":null,"0.0.0.0"].filter(ee),nT=e=>{let t=[];for(let i in e)for(let n of e[i])t.push(n);return t},nI=e=>{for(let t of e)if("IPv6"===t.family&&!t.internal)return!0;return!1},nN=e=>{for(let t of e)if("IPv6"===t.family&&t.internal&&"::1"===t.address)return!0;return!1},nj=e=>{for(let t of e)if("IPv4"===t.family&&t.internal&&"127.0.0.1"===t.address)return!0;return!1};function nR(e){return e[e.length-1]===l.sep?e.slice(0,-1):e}var nL=(e,t)=>{if("string"!=typeof t)throw TypeError("argument str must be a string");let i=t.indexOf("=");if(-1===i)return -2;let n=t.slice(i+1).split(","),a=[],o=t.slice(0,i);for(let t=0;t<n.length;t++){let i=n[t].split("-"),o=parseInt(i[0],10),s=parseInt(i[1],10);isNaN(o)?(o=e-s,s=e-1):isNaN(s)&&(s=e-1),s>e-1&&(s=e-1),isNaN(o)||isNaN(s)||o>s||o<0||a.push({start:o,end:s})}return a.length<1?-1:{ranges:a,type:o}},nF=(e,t)=>{let{base:i}=l.parse(e),n={};if(t){(n={"Content-Length":String(t.size),"Accept-Ranges":"bytes"})["Last-Modified"]=t.mtime.toUTCString();let e=function(e){if(!e||"string"!=typeof e)return!1;let t=-1===e.indexOf("/")?function(e){if(!e||"string"!=typeof e)return!1;let t=(0,l.extname)("."+e).toLowerCase().substr(1);return!!t&&(iL[t]||!1)}(e):e;if(!t)return!1;if(-1===t.indexOf("charset")){let e=function(e){if(!e||"string"!=typeof e)return!1;let t=iP.exec(e),i=t&&iR[t[1].toLowerCase()];return i?.charset?i.charset:!!(t&&iO.test(t[1]))&&"UTF-8"}(t);e&&(t+="; charset="+e.toLowerCase())}return t}(i);e&&(n["Content-Type"]=e)}return n},nP=(e,t)=>[l.join(e,`index${t}`),e.endsWith("/")?e.replace(/\/$/g,t):e+t].filter(e=>l.basename(e)!==t),nO=async(e,t)=>{let i=nP(t,".html"),n=null;for(let t=0;t<i.length;t++){let a=i[t],o=l.join(e,a);try{n=await r.promises.lstat(o)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)throw e}if(n)return{stats:n,absolutePath:o}}return null},n$=(e,t,i)=>{let{message:n,statusCode:a}=i,o=nF(e,null);t.writeHead(a,{...o,"Content-Type":"application/json"}),t.end(JSON.stringify({statusCode:a,message:n}))},nM=(e,t)=>n$(e,t,{statusCode:500,code:"internal_server_error",message:"A server error has occurred"}),nA=async(e,t,i)=>{let n=process.cwd(),a=l.resolve(n,i.public),o=null;try{let t=new URL(e.url,`http://${e.headers.host}`);o=decodeURIComponent(t.pathname)}catch{return n$("/",t,{statusCode:400,code:"bad_request",message:"Bad Request"})}let s=l.join(a,o);if(!function(e,t){return e=nR(e),t=nR(t),"win32"===process.platform&&(e=e.toLowerCase(),t=t.toLowerCase()),0===e.lastIndexOf(t,0)&&(e[t.length]===l.sep||void 0===e[t.length])}(s,a))return n$(s,t,{statusCode:400,code:"bad_request",message:"Bad Request"});let c=null;if(""!==l.extname(o))try{c=await r.promises.lstat(s)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)return nM(s,t)}if(!c){try{let e=await nO(a,o);e&&(c=e.stats,s=e.absolutePath)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)return nM(s,t)}try{c=await r.promises.lstat(s)}catch(e){if("ENOENT"!==e.code&&"ENOTDIR"!==e.code)return nM(s,t)}}c?.isDirectory()&&(c=null);let p=c?.isSymbolicLink();if(!c||p)return n$(s,t,{statusCode:404,code:"not_found",message:"The requested path ("+s+") could not be found"});let u=null;if(e.headers.range&&c.size){let i=nL(c.size,e.headers.range);if("object"==typeof i&&"bytes"===i.type){let{start:e,end:n}=i.ranges[0];u={start:e,end:n},t.statusCode=206}else t.statusCode=416,t.setHeader("Content-Range",`bytes */${c.size}`)}let d=null;try{d=(0,r.createReadStream)(s,u??{})}catch{return nM(s,t)}let m=nF(s,c);null!==u&&(m["Content-Range"]=`bytes ${u.start}-${u.end}/${c.size}`,m["Content-Length"]=String(u.end-u.start+1)),m["Cache-Control"]="no-cache, no-store, must-revalidate",t.writeHead(t.statusCode||200,m),d.pipe(t)},nD=async(e,t)=>{let{listener:i,close:n,compositor:a}=nt({downloadMap:t.downloadMap,offthreadVideoThreads:t.offthreadVideoThreads,logLevel:t.logLevel,indent:t.indent,offthreadVideoCacheSizeInBytes:t.offthreadVideoCacheSizeInBytes,binariesDirectory:t.binariesDirectory}),o={},s=g.createServer((t,n)=>{if(t.url?.startsWith("/proxy"))return i(t,n);if(null===e){n.writeHead(404),n.end("Server only supports /proxy");return}nA(t,n,{public:e}).catch(()=>{n.headersSent||n.writeHead(500),n.end("Error serving file")})});s.on("connection",e=>{let t;try{t=e.remoteAddress+":"+e.remotePort}catch{t=":"}o[t]=e,e.on("close",()=>{delete o[t]})});let r=null,c=nS(t.forceIPv4);for(let e=0;e<10;e++){let e=()=>{};try{r=await new Promise((i,n)=>{ny({desiredPort:t?.port??void 0,from:3e3,to:3100,hostsToTry:c.hostsToTry}).then(({port:t,unlockPort:a})=>{e=a,s.listen({port:t,host:c.host}),s.on("listening",()=>(i(t),e())),s.on("error",t=>{e(),n(t)})}).catch(t=>(e(),n(t)))});let i=function(){for(let e in o)o[e].destroy()},l=async()=>{await Promise.all([new Promise((e,t)=>{n().catch(i=>{if(i.message.includes("Compositor quit")){e();return}t(i)}).finally(()=>{e()})}),new Promise((e,t)=>{i(),s.close(i=>{if(i){if("ERR_SERVER_NOT_RUNNING"===i.code)return e();t(i)}else e()})})])};return{port:r,close:l,compositor:a}}catch(e){if(!(e instanceof Error))throw e;if("EADDRINUSE"===e.code);else throw e}}throw Error("Tried 10 times to find a free port. Giving up.")},{lock:nz,unlock:nB,waitForAllToBeDone:nU}=ng({timeout:5e4}),nq=async({webpackConfigOrServeUrl:e,port:t,remotionRoot:i,offthreadVideoThreads:n,logLevel:a,indent:o,offthreadVideoCacheSizeInBytes:s,binariesDirectory:c,forceIPv4:p})=>{let u=nu();if(en.verbose({indent:o,logLevel:a},"Created directory for temporary files",u.assetDir),B(e)){let{port:r,close:l,compositor:d}=await nD(null,{port:t,downloadMap:u,remotionRoot:i,offthreadVideoThreads:n,logLevel:a,indent:o,offthreadVideoCacheSizeInBytes:s,binariesDirectory:c,forceIPv4:p}),m=nf(e),h=null;return tj(nh(m)).then(e=>{h=e}).catch(e=>{en.verbose({indent:o,logLevel:a},"Could not fetch sourcemap for ",m,e)}),Promise.resolve({serveUrl:m,closeServer:()=>(nd(u),h?.destroy(),h=null,l()),offthreadPort:r,compositor:d,sourceMap:()=>h,downloadMap:u})}let d=l.join(e,"index.html");if(!(0,r.existsSync)(d))throw Error(`Tried to serve the Webpack bundle on a HTTP server, but the file ${d} does not exist. Is this a valid path to a Webpack bundle?`);let m=null;tM(l.join(e,v.NoReactInternals.bundleName)).then(e=>{m=e}).catch(t=>{en.verbose({indent:o,logLevel:a},"Could not fetch sourcemap for ",e,t)});let{port:h,close:f,compositor:g}=await nD(e,{port:t,downloadMap:u,remotionRoot:i,offthreadVideoThreads:n,logLevel:a,indent:o,offthreadVideoCacheSizeInBytes:s,binariesDirectory:c,forceIPv4:p});return Promise.resolve({closeServer:async e=>(m?.destroy(),m=null,nd(u),e||await nU(),f()),serveUrl:`http://localhost:${h}`,offthreadPort:h,compositor:g,sourceMap:()=>m,downloadMap:u})},nG=async(e,t,{onDownload:i})=>{if(e){let t=i4(e.downloadMap,i);return{server:e,cleanupServer:()=>(t(),Promise.resolve())}}let n=await nq(t),a=i4(n.downloadMap,i);return{server:n,cleanupServer:e=>(a(),Promise.all([n.closeServer(e)]))}};function nW({args:e,frame:t,page:i,pageFunction:n,timeoutInMilliseconds:a}){let o=null;return Promise.race([new Promise((e,t)=>{o=setTimeout(()=>{t(Error(`Timed out evaluating page function "${n.toString()}"`))},a)}),nV({args:e,frame:t,page:i,pageFunction:n,timeoutInMilliseconds:a})]).then(e=>(null!==o&&clearTimeout(o),e))}async function nV({page:e,pageFunction:t,frame:i,args:n}){let a;let o=(await e.mainFrame().executionContext())._contextId,s=e._client();if("function"!=typeof t)throw Error(`Expected to get |string| or |function| as the first argument, but got "${t}" instead.`);let r=t.toString();try{Function("("+r+")")}catch{r=r.startsWith("async ")?"async function "+r.substring(6):"function "+r;try{Function("("+r+")")}catch{throw Error("Passed function is not well-serializable!")}}try{a=s.send("Runtime.callFunctionOn",{functionDeclaration:r+`
`+"//# sourceURL=__puppeteer_evaluation_script__"+`
`,executionContextId:o,arguments:n.map(e=>(function(e){if("number"==typeof e||"string"==typeof e||"boolean"==typeof e)return{value:e};if("bigint"==typeof e)return{unserializableValue:`${e.toString()}n`};if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,1/0))return{unserializableValue:"Infinity"};if(Object.is(e,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};let t=e&&e instanceof eU?e:null;if(t){if(t._disposed)throw Error("JSHandle is disposed!");return t._remoteObject.unserializableValue?{unserializableValue:t._remoteObject.unserializableValue}:t._remoteObject.objectId?{objectId:t._remoteObject.objectId}:{value:t._remoteObject.value}}return{value:e}})(e)),returnByValue:!0,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(e.message+=" Are you passing a nested JSHandle?"),e}try{let{value:{exceptionDetails:t,result:n},size:o}=await a;if(t){let n=new tW({stack:t.exception?.description,name:t.exception?.className,message:t.exception?.description?.split(`
`)[0],frame:i,stackFrame:tq((t.exception?.description).split(`
`)),chunk:null});throw e.close(),n}return{size:o,value:function(e){if(e.unserializableValue){if("bigint"===e.type&&"undefined"!=typeof BigInt)return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return -0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value}(n)}}catch(e){if(e?.originalMessage?.startsWith("Object couldn't be returned by value"))throw Error("Could not serialize the return value of the function. Did you pass non-serializable values to defaultProps?");throw e}}var nH="cancelled",nJ="ready",nY=({page:e,timeoutInMilliseconds:t,frame:i,indent:n,logLevel:a})=>{let o=[],s=()=>new Promise((i,o)=>{nV({pageFunction:()=>window.remotion_cancelledError,args:[],frame:null,page:e,timeoutInMilliseconds:t}).then(({value:e})=>{if("string"!=typeof e){o(e);return}o(new tW({frame:null,stack:e,name:"CancelledError",message:e.split(`
`)[0],stackFrame:tq(e.split(`
`)),chunk:null}))}).catch(e=>{en.verbose({indent:n,logLevel:a},"Could not get cancelled error",e),o(Error("Render was cancelled using cancelRender()"))})}),r=new Promise((r,c)=>{let l=e.mainFrame()._mainWorld.waitForFunction({browser:e.browser,timeout:t+3e3,pageFunction:`window.remotion_renderReady === true ? "${nJ}" : window.remotion_cancelledError !== undefined ? "${nH}" : false`,title:null===i?"the page to render the React component":`the page to render the React component at frame ${i}`});o.push(()=>{l.terminate(Error("cleanup"))}),l.promise.then(e=>{let t=e.toString();return t===nH?s():t===nJ?r(e):void c(Error("Unexpected token "+t))}).catch(o=>{o.message.includes("timeout")&&o.message.includes("exceeded")?nW({pageFunction:()=>Object.keys(window.remotion_delayRenderTimeouts).map((e,t)=>{let{label:i}=window.remotion_delayRenderTimeouts[e];return null===i?`${t+1}. (no label)`:`"${t+1}. ${i}"`}).join(", "),args:[],frame:i,page:e,timeoutInMilliseconds:5e3}).then(e=>{c(Error(`Timeout (${t}ms) exceeded rendering the component${i?" at frame "+i:" initially"}. ${e.value?`Open delayRender() handles: ${e.value}`:""}. You can increase the timeout using the "timeoutInMilliseconds" / "--timeout" option of the function or command you used to trigger this render.`))}).catch(e=>{en.warn({indent:n,logLevel:a},"Tried to get delayRender() handles for timeout, but could not do so because of",e),c(o)}):c(o)})});return Promise.race([new Promise((t,i)=>{let n=()=>{i(Error("Target closed (page disposed)"))};e.on("disposed",n),o.push(()=>{e.off("disposed",n)})}),new Promise((t,i)=>{let n=()=>{i(Error("Target closed"))};e.browser.on("closed-silent",n),o.push(()=>{e.browser.off("closed-silent",n)})}),r]).finally(()=>{o.forEach(e=>{e()})})},nK=async({frame:e,page:t,composition:i,timeoutInMilliseconds:n,logLevel:a,indent:o,attempt:s})=>{await nY({page:t,timeoutInMilliseconds:n,frame:null,indent:o,logLevel:a}),await nW({pageFunction:(e,t,i)=>{window.remotion_setFrame(e,t,i)},args:[e,i,s],frame:e,page:t,timeoutInMilliseconds:n}),await nY({page:t,timeoutInMilliseconds:n,frame:e,indent:o,logLevel:a}),await t.evaluateHandle("document.fonts.ready")},nQ=async(e,t,i)=>{try{let n=await e.goto({url:t,timeout:i});if(null===n)return[null,Error(`Visited "${t}" but got no response.`)];return[n,null]}catch(e){return[null,e]}},nX=e=>{if(null!=e){if("number"!=typeof e)throw TypeError(`'timeoutInMilliseconds' should be a number, but is: ${JSON.stringify(e)}`);if(e<7e3)throw TypeError(`'timeoutInMilliseconds' should be bigger or equal than 7000, but is ${e}`);if(Number.isNaN(e))throw TypeError(`'timeoutInMilliseconds' should not be NaN, but is ${e}`);if(!Number.isFinite(e))throw TypeError(`'timeoutInMilliseconds' should be finite, but is ${e}`);if(e%1!=0)throw TypeError(`'timeoutInMilliseconds' should be an integer, but is ${e}`)}},nZ=async({serializedInputPropsWithCustomSchema:e,envVariables:t,page:i,serveUrl:n,initialFrame:a,timeoutInMilliseconds:o,proxyPort:s,retriesRemaining:r,audioEnabled:c,videoEnabled:l,indent:p,logLevel:u,onServeUrlVisited:d,isMainTab:m,mediaCacheSizeInBytes:f,initialMemoryAvailable:g})=>{nX(o);let v=o??3e4;i.setDefaultTimeout(v),i.setDefaultNavigationTimeout(v);let x=nf(n);await i.evaluateOnNewDocument((e,t,i,n)=>{window.remotion_puppeteerTimeout=e,window.remotion_isMainTab=t,window.remotion_mediaCacheSizeInBytes=i,window.remotion_initialMemoryAvailable=n,void 0===window.process&&(window.process={}),void 0===window.process.env&&(window.process.env={}),window.process.env.NODE_ENV="production"},v,m,f,g),await i.evaluateOnNewDocument('window.remotion_broadcastChannel = new BroadcastChannel("remotion-video-frame-extraction")'),t&&await i.evaluateOnNewDocument(e=>{window.remotion_envVariables=e},JSON.stringify(t)),await i.evaluateOnNewDocument((e,t,i,n,a,o)=>{window.remotion_inputProps=e,window.remotion_initialFrame=t,window.remotion_attempt=1,window.remotion_proxyPort=i,window.remotion_audioEnabled=n,window.remotion_videoEnabled=a,window.remotion_logLevel=o,window.alert=e=>{e?window.window.remotion_cancelledError=Error(`alert("${e}") was called. It cannot be called in a headless browser.`).stack:window.window.remotion_cancelledError=Error("alert() was called. It cannot be called in a headless browser.").stack},window.confirm=e=>(e?window.remotion_cancelledError=Error(`confirm("${e}") was called. It cannot be called in a headless browser.`).stack:window.remotion_cancelledError=Error("confirm() was called. It cannot be called in a headless browser.").stack,!1)},e,a,s,c,l,u);let b=async()=>(await new Promise(e=>{setTimeout(()=>{e()},2e3)}),nZ({envVariables:t,initialFrame:a,serializedInputPropsWithCustomSchema:e,page:i,proxyPort:s,retriesRemaining:r-1,serveUrl:n,timeoutInMilliseconds:o,audioEnabled:c,videoEnabled:l,indent:p,logLevel:u,onServeUrlVisited:d,isMainTab:m,mediaCacheSizeInBytes:f,initialMemoryAvailable:g})),[w,y]=await nQ(i,x,v);if(null!==y){if(y.message.includes("ECONNRESET")||y.message.includes("ERR_CONNECTION_TIMED_OUT"))return b();throw y}let _=w.status();if(_>=500&&_<=504&&r>0)return b();if(!ea.every(e=>e!==_))throw Error(`Error while getting compositions: Tried to go to ${x} but the status code was ${_} instead of 200. Does the site you specified exist?`);d();let{value:E}=await nV({pageFunction:()=>window.getStaticCompositions,args:[],frame:null,page:i,timeoutInMilliseconds:v});if(void 0===E){let{value:e}=await nV({pageFunction:()=>document.body.innerHTML,args:[],frame:null,page:i,timeoutInMilliseconds:v});if(e.includes("We encountered an internal error."))return b();throw Error([`Error while getting compositions: Tried to go to ${x} and verify that it is a Remotion project by checking if window.getStaticCompositions is defined.`,"However, the function was undefined, which indicates that this is not a valid Remotion project. Please check the URL you passed.","The page loaded contained the following markup:",e.substring(0,500)+(e.length>500?"...":""),"Does this look like a foreign page? If so, try to stop this server."].join(`
`))}let{value:S}=await nV({pageFunction:()=>window.siteVersion,args:[],frame:null,page:i,timeoutInMilliseconds:v}),{value:k}=await nV({pageFunction:()=>window.remotion_version,args:[],frame:null,page:i,timeoutInMilliseconds:v});if("11"!==S)throw Error([`Incompatible site: When visiting ${x}, a bundle was found, but one that is not compatible with this version of Remotion. Found version: ${S} - Required version: 11. To resolve this error:`,"When using server-side rendering:",`  Use 'bundle()' with '@remotion/bundler' of version ${h.VERSION} to create a compatible bundle.`,"When using the Remotion Lambda:","  Use `npx remotion lambda sites create` to redeploy the site with the latest version.","  Use --site-name with the same name as before to overwrite your site.","  Use `deploySite()` if you are using the Node.JS APIs."].join(`
`));k!==h.VERSION&&(k?en.warn({indent:p,logLevel:u},[`The site was bundled with version ${k} of @remotion/bundler, while @remotion/renderer is on version ${h.VERSION}. You may not have the newest bugfixes and features.`,"To resolve this warning:"," Use `npx remotion lambda sites create` to redeploy the site with the latest version.","   Use --site-name with the same name as before to overwrite your site."," Use `deploySite()` if you are using the Node.JS APIs."].join(`
`)):en.warn({indent:p,logLevel:u},`The site was bundled with an old version of Remotion, while @remotion/renderer is on version ${h.VERSION}. You may not have the newest bugfixes and features. Re-bundle the site to fix this issue.`))},n0=async e=>{let t=null;try{return await Promise.race([nZ(e),new Promise((i,n)=>{t=setTimeout(()=>{n(Error([`Timed out after ${e.timeoutInMilliseconds}ms while setting up the headless browser.`,"This could be because the you specified takes a long time to load (or network resources that it includes like fonts) or because the browser is not responding.","linux"===process.platform?"Make sure you have installed the Linux depdendencies: https://www.remotion.dev/docs/miscellaneous/linux-dependencies":null].filter(ee).join(`
`)))},e.timeoutInMilliseconds)})])}finally{null!==t&&clearTimeout(t)}},n1=[],n2=(e,t,i)=>{let n=e.stack;if(!(n&&n1.includes(n))){if(n&&(n1.push(n),n1=n1.slice(-10)),e.message.includes("Could not play video with")&&(en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/media-playback-error")),e.message.includes("A delayRender()")&&e.message.includes("was called but not cleared after")&&(en.info({indent:i,logLevel:t}),e.message.includes("/proxy")&&en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/troubleshooting/delay-render-proxy"),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/timeout")),e.message.includes("Target closed")&&(en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/target-closed")),e.message.includes("Timed out evaluating")&&(en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/troubleshooting/timed-out-page-function")),e.message.includes("ENAMETOOLONG")&&(en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/enametoolong")),e.message.includes("Member must have value less than or equal to 3008")&&(en.warn({indent:i,logLevel:t}),en.warn({indent:i,logLevel:t},"\uD83D\uDCA1 This error indicates that you have a AWS account on the free or basic tier or have been limited by your organization."),en.warn({indent:i,logLevel:t},"Often times this can be solved by adding a credit card, or if already done, by contacting AWS support."),en.warn({indent:i,logLevel:t},"Alternatively, you can decrease the memory size of your Lambda function to a value below 3008 MB. See: https://www.remotion.dev/docs/lambda/runtime#core-count--vcpus"),en.warn({indent:i,logLevel:t},"See also: https://repost.aws/questions/QUKruWYNDYTSmP17jCnIz6IQ/questions/QUKruWYNDYTSmP17jCnIz6IQ/unable-to-set-lambda-memory-over-3008mb")),(e.stack?.includes("TooManyRequestsException: Rate Exceeded.")||e.message?.includes("ConcurrentInvocationLimitExceeded"))&&(en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 This error indicates that your Lambda concurrency limit is too low. See: https://www.remotion.dev/docs/lambda/troubleshooting/rate-limit")),e.message.includes("Error creating WebGL context")&&(en.info({indent:i,logLevel:t}),en.warn({indent:i,logLevel:t},'\uD83D\uDCA1 You might need to set the OpenGL renderer to "angle-egl", "angle" (or "swangle" if rendering on lambda). Learn why at https://www.remotion.dev/docs/three'),en.warn({indent:i,logLevel:t},"\uD83D\uDCA1 Check how it's done at https://www.remotion.dev/docs/chromium-flags#--gl")),e.message.includes("The bucket does not allow ACLs")&&(en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Fix for this issue: https://remotion.dev/docs/lambda/troubleshooting/bucket-disallows-acl")),e.message.includes("Minified React error #306")){let n=e.message.match(/<\w+>/)?.[0];en.info({indent:i,logLevel:t},["\uD83D\uDCA1 This error indicates that the component",n?`(${n})`:null,"you are trying to render is not imported correctly."].filter(ee).join(" ")),en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"   Check the root file and ensure that the component is not undefined."),en.info({indent:i,logLevel:t},"   Oftentimes, this happens if the component is missing the `export` keyword"),en.info({indent:i,logLevel:t},"   or if the component was renamed and the import statement not properly adjusted.")}e.message.includes("GLIBC_")&&(en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Remotion requires at least Libc 2.35."),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 Get help for this issue: https://github.com/remotion-dev/remotion/issues/2439")),e.message.includes("EBADF")&&(en.info({indent:i,logLevel:t},"\uD83D\uDCA1 This error might be fixed by changing your Node version:"),en.info({indent:i,logLevel:t},"   https://github.com/remotion-dev/remotion/issues/2452")),e.message.includes("routines::unsupported")&&(en.info({indent:i,logLevel:t},"\uD83D\uDCA1 This error might happen if using Cloud Run with credentials that have a newline at the end or are otherwise badly encoded."),en.info({indent:i,logLevel:t},"   https://github.com/remotion-dev/remotion/issues/3864")),e.message.includes("Failed to fetch")&&(en.info({indent:i,logLevel:t},"\uD83D\uDCA1 On Lambda, one reason this could happen is that Chrome is rejecting an asset to be loaded when it is running low on disk space."),en.info({indent:i,logLevel:t},"Try increasing the disk size of your Lambda function.")),e.message.includes("Invalid value specified for cpu")&&(en.info({indent:i,logLevel:t}),en.info({indent:i,logLevel:t},"\uD83D\uDCA1 This error indicates that your GCP account does have a limit. Try setting `--maxInstances=5` / `maxInstances: 5` when deploying this service."),en.info({indent:i,logLevel:t}))}},n3=e=>async(...t)=>{try{return await e(...t)}catch(n){let{indent:e}=t[0],{logLevel:i}=t[0];throw n2(n,i,e),n}},n4=async({envVariables:e,serializedInputPropsWithCustomSchema:t,page:i,proxyPort:n,serveUrl:a,timeoutInMilliseconds:o,indent:s,logLevel:r,mediaCacheSizeInBytes:c})=>{nX(o),await n0({serializedInputPropsWithCustomSchema:t,envVariables:e,page:i,serveUrl:a,initialFrame:0,timeoutInMilliseconds:o,proxyPort:n,retriesRemaining:2,audioEnabled:!1,videoEnabled:!1,indent:s,logLevel:r,onServeUrlVisited:()=>{},isMainTab:!0,mediaCacheSizeInBytes:c,initialMemoryAvailable:iy(r)}),await nV({page:i,pageFunction:()=>{window.remotion_setBundleMode({type:"evaluation"})},frame:null,args:[],timeoutInMilliseconds:o}),await nY({page:i,timeoutInMilliseconds:o,frame:null,indent:s,logLevel:r});let{value:l}=await nV({pageFunction:()=>window.getStaticCompositions(),frame:null,page:i,args:[],timeoutInMilliseconds:o});return l.map(e=>{let{width:t,durationInFrames:i,fps:n,height:a,id:o,defaultCodec:s,defaultOutName:r,defaultVideoImageFormat:c,defaultPixelFormat:l}=e;return{id:o,width:t,height:a,fps:n,durationInFrames:i,props:v.NoReactInternals.deserializeJSONWithSpecialTypes(e.serializedResolvedPropsWithCustomSchema),defaultProps:v.NoReactInternals.deserializeJSONWithSpecialTypes(e.serializedDefaultPropsWithCustomSchema),defaultCodec:s,defaultOutName:r,defaultVideoImageFormat:c,defaultPixelFormat:l}})},n6=(n3(async({browserExecutable:e,chromiumOptions:t,envVariables:i,indent:n,serializedInputPropsWithCustomSchema:a,onBrowserLog:o,port:s,puppeteerInstance:r,serveUrlOrWebpackUrl:c,server:l,timeoutInMilliseconds:p,logLevel:u,offthreadVideoCacheSizeInBytes:d,binariesDirectory:m,onBrowserDownload:h,chromeMode:f,offthreadVideoThreads:g,mediaCacheSizeInBytes:v,onLog:x})=>{let{page:b,cleanupPage:w}=await iI({passedInInstance:r,browserExecutable:e,chromiumOptions:t,forceDeviceScaleFactor:void 0,indent:n,logLevel:u,onBrowserDownload:h,chromeMode:f,pageIndex:0,onBrowserLog:o,onLog:x}),y=[w];return new Promise((e,t)=>{y.push(tY({page:b,frame:null,onError:e=>t(e)})),nG(l,{webpackConfigOrServeUrl:c,port:s,remotionRoot:z(),offthreadVideoThreads:g??2,logLevel:u,indent:n,offthreadVideoCacheSizeInBytes:d,binariesDirectory:m,forceIPv4:!1},{onDownload:()=>{}}).then(({server:{serveUrl:e,offthreadPort:t,sourceMap:o},cleanupServer:s})=>(b.setBrowserSourceMapGetter(o),y.push(()=>s(!0)),n4({envVariables:i,serializedInputPropsWithCustomSchema:a,page:b,proxyPort:t,serveUrl:e,timeoutInMilliseconds:p,indent:n,logLevel:u,offthreadVideoCacheSizeInBytes:d,binariesDirectory:m,onBrowserDownload:h,chromeMode:f,offthreadVideoThreads:g,mediaCacheSizeInBytes:v}))).then(t=>e(t)).catch(e=>{t(e)}).finally(()=>{y.forEach(e=>{e()})})})}),e=>{let t;let i=id();if(null===e)return Math.round(Math.min(8,Math.max(1,i/2)));if((t="string"==typeof e?Math.floor(parseInt(e.slice(0,-1),10)/100*i):Math.floor(e))>i)throw Error(`Maximum for --concurrency is ${i} (number of cores on this system)`);if(t<1)throw Error("Minimum for concurrency is 1.");return t}),n8=(e,t)=>{if(0===t)throw Error("everyNthFrame cannot be 0");return Array(e[1]-e[0]+1).fill(!0).map((t,i)=>i+e[0]).filter(e=>e%t==0)},n5=(e,t)=>{if(!tI.includes(e))throw Error(`Codec must be one of the following: ${tI.join(", ")}, but got ${e}`);let i=tK[e];if(null===t)return i.default;if(!(t in i.forAudioCodec))throw Error(`Audio codec ${t} is not supported for codec ${e}`);return i.forAudioCodec[t].default},n9=e=>{let t=typeof e;if("string"!==t)throw TypeError(`Expected a string, got a ${t}`)},n7=(e,t)=>{let i,n="",a=0,o=-1,s=0;for(let r=0;r<=e.length;++r){if(r<e.length)i=e.charCodeAt(r);else if(47===i)break;else i=47;if(47===i){if(o===r-1||1===s);else if(o!==r-1&&2===s){if(n.length<2||2!==a||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){let e=n.lastIndexOf("/");if(e!==n.length-1){-1===e?(n="",a=0):a=(n=n.slice(0,e)).length-1-n.lastIndexOf("/"),o=r,s=0;continue}}else if(2===n.length||1===n.length){n="",a=0,o=r,s=0;continue}}t&&(n.length>0?n+="/..":n="..",a=2)}else n.length>0?n+="/"+e.slice(o+1,r):n=e.slice(o+1,r),a=r-o-1;o=r,s=0}else 46===i&&-1!==s?++s:s=-1}return n},ae=e=>{try{return decodeURIComponent(e)}catch{return e}},at=e=>{n9(e);let t=e;if(0===t.length)return".";let i=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return(0!==(t=n7(t=ae(t),!i)).length||i||(t="."),t.length>0&&n&&(t+="/"),i)?"/"+t:t},ai=e=>{if(null===e)return null;let t=at(e).split("."),i=t.length>=2,n=t.length;return i?t[n-1]:null},an=(e,t)=>{if(null===t)return[0,e-1];if("number"==typeof t){if(t<0||t>=e)throw Error(`Frame number is out of range, must be between 0 and ${e-1} but got ${t}`);return[t,t]}if(t[1]>=e||t[0]<0)throw Error(`The "durationInFrames" of the <Composition /> was evaluated to be ${e}, but frame range ${t.join("-")} is not inbetween 0-${e-1}`);return t},aa=["png","jpeg","none"],ao=["png","jpeg","pdf","webp"],as="png",ar=(e,t)=>{if("none"===t)return"none";if(void 0===e)return"valid";if(!aa.includes(t))throw TypeError(`Value ${t} is not valid as an image format.`);if("yuva420p"!==e&&"yuva444p10le"!==e)return"valid";if("png"!==t)throw TypeError(`Pixel format was set to '${e}' but the image format is not PNG. To render transparent videos, you need to set PNG as the image format.`);return"valid"},ac=e=>{if(!ao.includes(e))throw TypeError(String(`Image format should be one of: ${ao.map(e=>`"${e}"`).join(", ")}`))},al=e=>{if(void 0!==e&&"number"!=typeof e)throw Error(`JPEG Quality option must be a number or undefined. Got ${typeof e} (${JSON.stringify(e)})`);if(void 0!==e){if(!Number.isFinite(e))throw RangeError(`JPEG Quality must be a finite number, but is ${e}`);if(Number.isNaN(e))throw RangeError("JPEG Quality is NaN, but must be a real number");if(e>100||e<0)throw RangeError("JPEG Quality option must be between 0 and 100.")}};((e,t)=>{for(var i in t)R(e,i,{get:t[i],enumerable:!0,configurable:!0,set:e=>t[i]=()=>e})})({},{stopPerfMeasure:()=>am,startPerfMeasure:()=>ad,getPerf:()=>ah});var ap={capture:[],"extract-frame":[],piping:[]},au={},ad=e=>{let t=Math.random();return au[t]={id:t,marker:e,start:Date.now()},t},am=e=>{let t=Date.now()-au[e].start;ap[au[e].marker].push(t),delete au[e]},ah=()=>["Render performance:",...Object.keys(ap).filter(e=>ap[e].length).map(e=>`  ${e} => ${Math.round(ap[e].reduce((e,t)=>e+t,0)/ap[e].length)}ms (n = ${ap[e].length})`)],af=["yuv420p","yuva420p","yuv422p","yuv444p","yuv420p10le","yuv422p10le","yuv444p10le","yuva444p10le"],ag="yuv420p",av=e=>"vp8"===e||"vp9"===e?af:af.filter(e=>"yuva420p"!==e),ax=(e,t)=>{if(void 0===e)return e;if(!af.includes(e))throw TypeError(`Value ${e} is not valid as a pixel format.`);if("yuva420p"!==e)return;let i=av(t);if(!i.includes(e))throw TypeError(`Pixel format was set to 'yuva420p' but codec ${t} does not support it. Valid pixel formats for codec ${t} are: ${i.join(", ")}.`)},ab=({puppeteerInstance:e,concurrency:t,logLevel:i,indent:n})=>{if(t<=1)return{stopCycling:()=>{}};let a=null,o=0,s=!1,r=()=>{a=setTimeout(()=>{e.getBrowser().pages().then(e=>{if(0===e.length)return;let t=e[o%e.length];if(o++,!t?.closed&&!s&&t?.url()!=="about:blank")return t.bringToFront()}).catch(e=>en.error({indent:n,logLevel:i},e)).finally(()=>{s||r()})},200)};return r(),{stopCycling:()=>{if(a)return s=!0,clearTimeout(a)}}},aw={cliFlag:"separate-audio-to"},ay={h264:["aac","pcm-16","mp3"],"h264-mkv":["pcm-16","mp3"],"h264-ts":["pcm-16","aac"],aac:["aac","pcm-16"],avi:[],gif:[],h265:["aac","pcm-16"],mp3:["mp3","pcm-16"],prores:["aac","pcm-16"],vp8:["opus","pcm-16"],vp9:["opus","pcm-16"],wav:["pcm-16"]},a_=e=>{if("aac"===e)return"libfdk_aac";if("mp3"===e)return"libmp3lame";if("opus"===e)return"libopus";if("pcm-16"===e)return"pcm_s16le";throw Error("unknown audio codec: "+e)},aE={"h264-mkv":{lossless:"pcm-16",compressed:"pcm-16"},"h264-ts":{lossless:"pcm-16",compressed:"aac"},aac:{lossless:"pcm-16",compressed:"aac"},gif:{lossless:null,compressed:null},h264:{lossless:"pcm-16",compressed:"aac"},h265:{lossless:"pcm-16",compressed:"aac"},mp3:{lossless:"pcm-16",compressed:"mp3"},prores:{lossless:"pcm-16",compressed:"pcm-16"},vp8:{lossless:"pcm-16",compressed:"opus"},vp9:{lossless:"pcm-16",compressed:"opus"},wav:{lossless:"pcm-16",compressed:"pcm-16"}},aS={aac:"aac",mp3:"mp3",opus:"opus","pcm-16":"wav"},ak=e=>{if(aS[e])return aS[e];throw Error(`Unsupported audio codec: ${e}`)},aC=({codec:e,setting:t,preferLossless:i,separateAudioTo:n})=>{let a=null;if(n){let t=n.split(".").pop();for(let[i,n]of Object.entries(aS))if(n===t&&(a=i,!ay[e].includes(a)&&a))throw Error(`The codec is ${e} but the audio codec derived from --${aw.cliFlag} is ${a}. The only supported codecs are: ${ay[e].join(", ")}`)}if(i){let t=aT({codec:e,preferLossless:i});if(a&&t!==a)throw Error(`The audio codec derived from --${aw.cliFlag} is ${a}, but does not match the audio codec derived from the "Prefer lossless" option (${t}). Remove any conflicting options.`);return t}if(null===t)return a||aT({codec:e,preferLossless:i});if(a!==t&&a)throw Error(`The audio codec derived from --${aw.cliFlag} is ${a}, but does not match the audio codec derived from your ${aI.name} setting (${t}). Remove any conflicting options.`);return t},aT=({codec:e,preferLossless:t})=>aE[e][t?"lossless":"compressed"],aI={name:"Audio Codec"},aN=(e,t)=>{let i=e.match(/frame=(\s+)?([0-9]+)\s/);if(i)return Number(i[2]);let n=e.match(/time=(\d+):(\d+):(\d+).(\d+)\s/);if(n){let[,e,i,a,o]=n;return Number(o)/100*t+Number(a)*t+Number(i)*t*60+Number(e)*t*3600}},aj=e=>21333.333333333332*Math.round(1e6*e/21333.333333333332)/1e6,aR=async({files:e,resolvedAudioCodec:t,audioBitrate:i,filelistDir:n,output:a,indent:o,logLevel:s,addRemotionMetadata:r,fps:c,binariesDirectory:l,cancelSignal:p,onProgress:u})=>{let d=e.map(e=>`file '${e}'`).join(`
`),m=(0,y.join)(n,"audio-files.txt");(0,_.writeFileSync)(m,d);let f=Date.now(),g=["-hide_banner","-f","concat","-safe","0","-i",m,"-c:a",a_(t),"aac"===t?"-cutoff":null,"aac"===t?"18000":null,"-b:a",i||"320k","-vn",r?"-metadata":null,r?`comment=Made with Remotion ${h.VERSION}`:null,"-y",a];en.verbose({indent:o,logLevel:s},`Combining audio with re-encoding, command: ${g.join(" ")}`);try{let e=ty({args:g,bin:"ffmpeg",indent:o,logLevel:s,binariesDirectory:l,cancelSignal:p});return e.stderr?.on("data",e=>{let t=e.toString("utf8"),i=aN(t,c);void 0===i?en.verbose({indent:o,logLevel:s},t):(u(i),en.verbose({indent:o,logLevel:s},`Encoded ${i} audio frames`))}),await e,en.verbose({indent:o,logLevel:s},`Encoded audio in ${Date.now()-f}ms`),a}catch(e){throw(0,_.rmSync)(m,{recursive:!0}),e}},aL=async({files:e,filelistDir:t,indent:i,logLevel:n,output:a,chunkDurationInSeconds:o,addRemotionMetadata:s,fps:r,binariesDirectory:c,cancelSignal:l,onProgress:p})=>{let u=Date.now(),d=e.map((t,i)=>{let n=i===e.length-1,a=1e6*aj(i*o),s=1e6*aj((i+1)*o),r=0;i>0&&(r=85333.33333333333);let c=(0===i?42666.666666666664:r)+(s-a)-(n?0:21333.333333333332);return[`file '${t}'`,`inpoint ${r}us`,`outpoint ${c}us`].filter(ee).join(`
`)}).join(`
`),m=(0,y.join)(t,"audio-files.txt");(0,_.writeFileSync)(m,d);let f=["-hide_banner","-f","concat","-safe","0","-i",m,"-c:a","copy","-vn",s?"-metadata":null,s?`comment=Made with Remotion ${h.VERSION}`:null,"-y",a];en.verbose({indent:i,logLevel:n},`Combining AAC audio seamlessly, command: ${f.join(" ")}`);try{let e=ty({args:f,bin:"ffmpeg",indent:i,logLevel:n,binariesDirectory:c,cancelSignal:l});return e.stderr?.on("data",e=>{let t=e.toString("utf8"),a=aN(t,r);void 0!==a&&(p(a),en.verbose({indent:i,logLevel:n},`Encoded ${a} audio frames`))}),await e,en.verbose({indent:i,logLevel:n},`Combined audio seamlessly in ${Date.now()-u}ms`),a}catch(e){throw(0,_.rmSync)(m,{recursive:!0}),en.error({indent:i,logLevel:n},e),e}},aF=({compositionStart:e,realFrameRange:t,fps:i,forSeamlessAacConcatenation:n})=>{if(!n)return{extraFramesToCaptureAssetsBackend:[],extraFramesToCaptureAssetsFrontend:[],chunkLengthInSeconds:(t[1]-t[0]+1)/i,trimLeftOffset:0,trimRightOffset:0};let a=t[0];if(a<e)throw Error("chunkStart may not be below compositionStart");let o=a-e;if(o<0)throw Error("chunkStat - compositionStart may not be below 0");let s=o+(t[1]-t[0]+1),r=Math.max(0,aj(o/i)-.042666666666666665),c=aj(s/i)+.042666666666666665,l=Math.floor(r*i),p=l+e;return{extraFramesToCaptureAssetsFrontend:Array(t[0]-p).fill(!0).map((e,t)=>t+p),extraFramesToCaptureAssetsBackend:Array(Math.ceil(c*i)+e-t[1]-1).fill(!0).map((e,i)=>i+t[1]+1),chunkLengthInSeconds:c-r,trimLeftOffset:(r*i-l)/i,trimRightOffset:(c*i-Math.ceil(c*i))/i}},aP=({pattern:e,frame:t,ext:i})=>e.replace(/\[frame\]/g,t).replace(/\[ext\]/g,i),aO=({index:e,frame:t,imageFormat:i,countType:n,lastFrame:a,totalFrames:o,imageSequencePattern:s})=>{let r=a$({lastFrame:a,countType:n,totalFrames:o}),c="actual-frames"===n?String(t).padStart(r,"0"):String(e).padStart(r,"0");if(s)return aP({pattern:s,frame:c,ext:i});if("actual-frames"===n||"from-zero"===n)return`element-${c}.${i}`;throw TypeError("Unknown count type")},a$=({lastFrame:e,totalFrames:t,countType:i})=>{if("actual-frames"===i)return String(e).length;if("from-zero"===i)return String(t-1).length;throw Error("Unknown file type")},aM=()=>{let e=[],t=!1;return{cancelSignal:i=>{e.push(i),t&&i()},cancel:()=>{t||(e.forEach(e=>{e()}),t=!0)}}},aA={renderMedia:"renderMedia() got cancelled",renderFrames:"renderFrames() got cancelled",renderStill:"renderStill() got cancelled",stitchFramesToVideo:"stitchFramesToVideo() got cancelled"},aD=e=>"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message&&(e.message.includes(aA.renderMedia)||e.message.includes(aA.renderFrames)||e.message.includes(aA.renderStill)||e.message.includes(aA.stitchFramesToVideo)),az=async({context:e,initialFrame:t,browserReplacer:i,logLevel:n,indent:a,pagesArray:o,onBrowserLog:s,scale:r,timeoutInMilliseconds:c,composition:l,proxyPort:p,serveUrl:u,muted:d,envVariables:m,serializedInputPropsWithCustomSchema:h,imageFormat:f,serializedResolvedPropsWithCustomSchema:g,pageIndex:v,isMainTab:x,mediaCacheSizeInBytes:b,onLog:w})=>{let y=await i.getBrowser().newPage({context:e,logLevel:n,indent:a,pageIndex:v,onBrowserLog:s,onLog:w});return o.push(y),await y.setViewport({width:l.width,height:l.height,deviceScaleFactor:r}),await n0({serializedInputPropsWithCustomSchema:h,envVariables:m,page:y,serveUrl:u,initialFrame:t,timeoutInMilliseconds:c,proxyPort:p,retriesRemaining:2,audioEnabled:!d,videoEnabled:"none"!==f,indent:a,logLevel:n,onServeUrlVisited:()=>{},isMainTab:x,mediaCacheSizeInBytes:b,initialMemoryAvailable:iy(n)}),await nV({pageFunction:(e,t,i,n,a,o,s,r,c,l)=>{window.remotion_setBundleMode({type:"composition",compositionName:e,serializedResolvedPropsWithSchema:t,compositionDurationInFrames:i,compositionFps:n,compositionHeight:a,compositionWidth:o,compositionDefaultCodec:s,compositionDefaultOutName:r,compositionDefaultVideoImageFormat:c,compositionDefaultPixelFormat:l})},args:[l.id,g,l.durationInFrames,l.fps,l.height,l.width,l.defaultCodec,l.defaultOutName,l.defaultVideoImageFormat,l.defaultPixelFormat],frame:null,page:y,timeoutInMilliseconds:c}),y},aB=({frames:e,concurrency:t})=>{let i=[],n=0;for(let a=0;a<t;a++){let o=n+Math.ceil((e.length-n)/(t-a));i.push(e.slice(n,o)),n=o}return{partitions:i,getNextFrame:e=>{if(0===i[e].length){if(i.map(e=>e.length).every(e=>0===e))throw Error("No more frames to render");let t=-1;for(let e=0;e<i.length;e++){if(-1===t){t=e;continue}i[e].length>i[t].length&&(t=e)}if(-1===t)throw Error("No more frames to render");let n=Math.ceil(i[t].length/2)-1;i[e]=i[t].slice(n),i[t]=i[t].slice(0,n)}let t=i[e].shift();if(void 0===t)throw Error("No more frames to render");return t}}},aU=({allFramesAndExtraFrames:e,concurrencyOrFramesToRender:t})=>{let i=new Map;return{getNextFrame:t=>{let n=e.find(e=>!i.has(e));if(void 0===n)throw Error("No more frames to render");return i.set(n,!0),n},returnFrame:e=>{i.delete(e)}}},aq=({allFramesAndExtraFrames:e,concurrencyOrFramesToRender:t})=>{let i=aB({frames:e,concurrency:t});return{getNextFrame:e=>i.getNextFrame(e),returnFrame:()=>{throw Error("retrying failed frames for partitioned rendering is not supported. Disable partitioned rendering.")}}};class aG{resources;waiters;constructor(e){this.resources=e,this.waiters=[]}acquire(){let e=this.resources.shift();return void 0!==e?Promise.resolve(e):new Promise(e=>{this.waiters.push(t=>{e(t)})})}release(e){let t=this.waiters.shift();void 0===t?this.resources.push(e):t(e)}}var aW=e=>{if(!e)throw Error("Expected stack");let{stack:t}=e;if(!t)throw Error("Expected stack: "+JSON.stringify(e));let i=t.indexOf(v.NoReactInternals.DELAY_RENDER_ATTEMPT_TOKEN);if(-1===i)throw Error("Expected to find attempt token in stack");let n=t.indexOf(v.NoReactInternals.DELAY_RENDER_RETRY_TOKEN);if(-1===n)throw Error("Expected to find retry token in stack");let a=Number(t.substring(i+v.NoReactInternals.DELAY_RENDER_ATTEMPT_TOKEN.length,n));if(Number.isNaN(a))throw Error(`Expected to find a number in the stack ${t}`);return a},aV=async({frame:e,freePage:t,timeoutInMilliseconds:i})=>{let{value:n}=await nV({pageFunction:()=>window.remotion_collectAssets(),args:[],frame:e,page:t,timeoutInMilliseconds:i});return n.map(e=>{if("artifact"!==e.type)return e;if("binary"===e.contentType||"text"===e.contentType){if("string"!=typeof e.content)throw Error(`Expected string content for artifact ${e.id}, but got ${e.content}`);let t="binary"===e.contentType?new TextEncoder().encode(atob(e.content)):e.content;return{...e,content:t}}return e.contentType,e})},aH=e=>e.filter(e=>"audio"===e.type||"video"===e.type),aJ=({assets:e,frameBuffer:t})=>e.filter(e=>"artifact"===e.type).map(e=>{if("binary"===e.contentType||"text"===e.contentType)return{frame:e.frame,content:e.content,filename:e.filename,downloadBehavior:e.downloadBehavior};if("thumbnail"===e.contentType)return null===t?null:{frame:e.frame,content:new Uint8Array(t),filename:e.filename,downloadBehavior:e.downloadBehavior};throw Error("Unknown artifact type: "+e)}).filter(ee),aY=e=>e.filter(e=>"inline-audio"===e.type),aK=async({format:e,height:t,omitBackground:i,page:n,width:a,path:o,jpegQuality:s,scale:c})=>{let l=n._client(),p=n.target();await l.send("Target.activateTarget",{targetId:p._targetId}),i&&await l.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}});let u=ad("capture");try{let n;if("pdf"===e)n=(await l.send("Page.printToPDF",{paperWidth:a/96,paperHeight:t/96,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,scale:1,printBackground:!0})).value;else{let i=!process.env.DISABLE_FROM_SURFACE||t>8192||a>8192,o=i?1:c,{value:r}=await l.send("Page.captureScreenshot",{format:e,quality:s,clip:{x:0,y:0,height:t*o,scale:1,width:a*o},captureBeyondViewport:!0,optimizeForSpeed:!0,fromSurface:i});n=r}am(u),i&&await l.send("Emulation.setDefaultBackgroundColorOverride");let p=Buffer.from(n.data,"base64");return o&&await r.promises.writeFile(o,p),p}catch(e){if(e.message.includes("Unable to capture screenshot"))throw Error(["Could not take a screenshot because Google Chrome ran out of memory or disk space.",process?.env?.__RESERVED_IS_INSIDE_REMOTION_LAMBDA?"Deploy a new Lambda function with more memory or disk space.":"Decrease the concurrency to use less RAM."].join(" "));throw e}},aQ=e=>(e.jpegQuality&&(j.ok("number"==typeof e.jpegQuality,"Expected options.quality to be a number but found "+typeof e.jpegQuality),j.ok(Number.isInteger(e.jpegQuality),"Expected options.quality to be an integer"),j.ok(e.jpegQuality>=0&&e.jpegQuality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.jpegQuality)),e.page.screenshotTaskQueue.postTask(()=>aK({page:e.page,format:e.type,height:e.height,width:e.width,omitBackground:e.omitBackground,path:e.path,jpegQuality:"jpeg"===e.type?e.jpegQuality:void 0,scale:e.scale}))),aX=async({freePage:e,imageFormat:t,jpegQuality:i,width:n,height:a,output:o,scale:s,wantsBuffer:r,timeoutInMilliseconds:c})=>"none"===t?null:("png"===t||"pdf"===t||"webp"===t?await nV({pageFunction:()=>{document.body.style.background="transparent"},args:[],frame:null,page:e,timeoutInMilliseconds:c}):await nV({pageFunction:()=>{document.body.style.background="black"},args:[],frame:null,page:e,timeoutInMilliseconds:c}),await aQ({page:e,omitBackground:"png"===t,path:(r?void 0:o)??void 0,type:t,jpegQuality:i,width:n,height:a,scale:s})),aZ=async({reject:e,width:t,height:i,compId:n,attempt:a,stoppedSignal:o,indent:s,logLevel:r,timeoutInMilliseconds:c,outputDir:l,onFrameBuffer:p,imageFormat:u,onError:d,lastFrame:m,jpegQuality:h,frameDir:f,scale:g,countType:v,assets:x,framesToRender:b,onArtifact:w,onDownload:_,downloadMap:E,binariesDirectory:S,cancelSignal:k,framesRenderedObj:C,onFrameUpdate:T,frame:I,page:N,imageSequencePattern:j,fps:R,trimLeftOffset:L,trimRightOffset:F,allFramesAndExtraFrames:P})=>{let O=performance.now(),$=b.indexOf(I),M=-1===$;if(o.stopped)return Promise.reject(Error("Render was stopped"));let A=t=>{e(t)},D=tY({page:N,onError:A,frame:I});N.on("error",A);let z=Date.now();await nK({frame:I,page:N,composition:n,timeoutInMilliseconds:c,indent:s,logLevel:r,attempt:a});let B=Date.now()-z;if(B>1e3&&en.verbose({indent:s,logLevel:r},`Seeking to frame ${I} took ${B}ms`),!l&&!p&&"none"!==u)throw Error("Called renderFrames() without specifying either `outputDir` or `onFrameBuffer`");if(l&&p&&"none"!==u)throw Error("Pass either `outputDir` or `onFrameBuffer` to renderFrames(), not both.");let[U,q]=await Promise.all([aX({freePage:N,height:i,imageFormat:M?"none":u,output:null===$?null:y.join(f,aO({frame:I,imageFormat:u,index:$,countType:v,lastFrame:m,totalFrames:b.length,imageSequencePattern:j})),jpegQuality:h,width:t,scale:g,wantsBuffer:!!p,timeoutInMilliseconds:c}),aV({frame:I,freePage:N,timeoutInMilliseconds:c})]);if(p&&!M){if(!U)throw Error("unexpected null buffer");p(U,I)}let G=x.filter(ee),W=G.map(e=>e.audioAndVideoAssets).flat(2),V=G.map(e=>e.artifactAssets).flat(2),H=aH(q),J=aJ({assets:q,frameBuffer:U});for(let e of J){for(let t of V)if(e.filename===t.filename)return Promise.reject(Error(`An artifact with output "${e.filename}" was already registered at frame ${t.frame}, but now registered again at frame ${e.frame}. Artifacts must have unique names. https://remotion.dev/docs/artifacts`));w?.(e)}let Y=H.map(e=>iN(W,e)),K=aY(q);for(let e of(x.push({audioAndVideoAssets:Y,frame:I,artifactAssets:J.map(e=>({frame:e.frame,filename:e.filename})),inlineAudioAssets:K}),Y))i3({renderAsset:e,onDownload:_,downloadMap:E,indent:s,logLevel:r,binariesDirectory:S,cancelSignalForAudioAnalysis:k,shouldAnalyzeAudioImmediately:!0}).catch(t=>{let i=e.src.substring(0,1e3)+(e.src.length>1e3?"...":"");d(Error(`Error while downloading ${i}: ${t.stack}`))});for(let e of K)E.inlineAudioMixing.addAsset({asset:e,fps:R,totalNumberOfFrames:P.length,firstFrame:P[0],trimLeftOffset:L,trimRightOffset:F});D(),N.off("error",A),M||(C.count++,T?.(C.count,I,performance.now()-O))},a0=({attempt:e,binariesDirectory:t,cancelSignal:i,imageFormat:n,indent:a,logLevel:o,assets:s,countType:r,downloadMap:c,frameDir:l,framesToRender:p,jpegQuality:u,onArtifact:d,onDownload:m,scale:h,composition:f,onError:g,outputDir:v,stoppedSignal:x,timeoutInMilliseconds:b,lastFrame:w,onFrameBuffer:y,onFrameUpdate:_,framesRenderedObj:E,frame:S,page:k,imageSequencePattern:C,trimLeftOffset:T,trimRightOffset:I,allFramesAndExtraFrames:N})=>new Promise((j,R)=>{aZ({reject:R,width:f.width,height:f.height,compId:f.id,attempt:e,indent:a,logLevel:o,stoppedSignal:x,timeoutInMilliseconds:b,imageFormat:n,onFrameBuffer:y,outputDir:v,assets:s,binariesDirectory:t,cancelSignal:i,countType:r,downloadMap:c,frameDir:l,framesToRender:p,jpegQuality:u,lastFrame:w,onArtifact:d,onDownload:m,onError:g,scale:h,framesRenderedObj:E,onFrameUpdate:_,frame:S,page:k,imageSequencePattern:C,fps:f.fps,trimLeftOffset:T,trimRightOffset:I,allFramesAndExtraFrames:N}).then(()=>{j()}).catch(e=>{R(e)})}),a1=async({retriesLeft:e,attempt:t,assets:i,imageFormat:n,binariesDirectory:a,cancelSignal:o,composition:s,countType:r,downloadMap:c,frameDir:l,framesToRender:p,jpegQuality:u,onArtifact:d,onDownload:m,onError:h,outputDir:f,poolPromise:g,scale:x,stoppedSignal:b,timeoutInMilliseconds:w,indent:y,logLevel:_,makeBrowser:E,makeNewPage:S,browserReplacer:k,concurrencyOrFramesToRender:C,framesRenderedObj:T,lastFrame:I,onFrameBuffer:N,onFrameUpdate:j,nextFrameToRender:R,imageSequencePattern:L,trimLeftOffset:F,trimRightOffset:P,allFramesAndExtraFrames:O})=>{let $=await g;if(b.stopped)return;let M=await $.acquire(),A=R.getNextFrame(M.pageIndex);try{await Promise.race([a0({trimLeftOffset:F,trimRightOffset:P,allFramesAndExtraFrames:O,attempt:t,assets:i,binariesDirectory:a,cancelSignal:o,countType:r,downloadMap:c,frameDir:l,framesToRender:p,imageFormat:n,indent:y,jpegQuality:u,logLevel:_,onArtifact:d,onDownload:m,scale:x,composition:s,framesRenderedObj:T,lastFrame:I,onError:h,onFrameBuffer:N,onFrameUpdate:j,outputDir:f,stoppedSignal:b,timeoutInMilliseconds:w,nextFrameToRender:R,frame:A,page:M,imageSequencePattern:L}),new Promise((e,t)=>{o?.(()=>{t(Error(aA.renderFrames))})})]),$.release(M)}catch(B){let $=e2(B),D=B.stack?.includes(v.NoReactInternals.DELAY_RENDER_RETRY_TOKEN),z=e3(B);if(aD(B)&&!D||!$&&!D&&!z)throw B;if(b.stopped)return;if(0===e)throw en.warn({indent:y,logLevel:_},`The browser crashed ${t} times while rendering frame ${A}. Not retrying anymore. Learn more about this error under https://www.remotion.dev/docs/target-closed`),B;if(D){let e=await g,v=await S(A,M.pageIndex);e.release(v),en.warn({indent:y,logLevel:_},`delayRender() timed out while rendering frame ${A}: ${B.message}`);let $=aW(B);return R.returnFrame(A),a1({retriesLeft:$,attempt:t+1,assets:i,imageFormat:n,binariesDirectory:a,cancelSignal:o,composition:s,countType:r,downloadMap:c,frameDir:l,framesToRender:p,indent:y,jpegQuality:u,logLevel:_,onArtifact:d,onDownload:m,onError:h,outputDir:f,poolPromise:g,scale:x,stoppedSignal:b,timeoutInMilliseconds:w,makeBrowser:E,makeNewPage:S,browserReplacer:k,concurrencyOrFramesToRender:C,framesRenderedObj:T,lastFrame:I,onFrameBuffer:N,onFrameUpdate:j,nextFrameToRender:R,imageSequencePattern:L,trimLeftOffset:F,trimRightOffset:P,allFramesAndExtraFrames:O})}en.warn({indent:y,logLevel:_},`The browser crashed while rendering frame ${A}, retrying ${e} more times. Learn more about this error under https://www.remotion.dev/docs/target-closed`),await k.replaceBrowser(E,async()=>{let e=Array(C).fill(!0).map((e,t)=>S(A,t)),t=await Promise.all(e),i=await g;for(let e of t)i.release(e)}),R.returnFrame(A),await a1({retriesLeft:e-1,attempt:t+1,assets:i,binariesDirectory:a,cancelSignal:o,composition:s,countType:r,downloadMap:c,frameDir:l,framesToRender:p,imageFormat:n,indent:y,jpegQuality:u,logLevel:_,onArtifact:d,makeBrowser:E,onDownload:m,onError:h,outputDir:f,poolPromise:g,scale:x,stoppedSignal:b,timeoutInMilliseconds:w,browserReplacer:k,makeNewPage:S,concurrencyOrFramesToRender:C,framesRenderedObj:T,lastFrame:I,onFrameBuffer:N,onFrameUpdate:j,nextFrameToRender:R,imageSequencePattern:L,trimLeftOffset:F,trimRightOffset:P,allFramesAndExtraFrames:O})}},a2=(e,t,i)=>{let n=e,a=[],o=!1;return{getBrowser:()=>n,replaceBrowser:async(e,s)=>{if(o)return new Promise((e,t)=>{a.push({resolve:e,reject:t})});try{o=!0,await n.close({silent:!0}).then(()=>{en.info({indent:i,logLevel:t},"Killed previous browser and making new one")}).catch(()=>{});let r=await e();return n=r,await s(),a.forEach(e=>e.resolve(r)),en.info({indent:i,logLevel:t},"Made new browser"),r}catch(e){throw a.forEach(t=>t.reject(e)),e}finally{o=!1}}}},a3=v.NoReactInternals.validateFps,a4=v.NoReactInternals.validateDimension,a6=v.NoReactInternals.validateDurationInFrames,a8=e=>{if(void 0!==e){if("number"!=typeof e)throw Error('Scale should be a number or undefined, but is "'+JSON.stringify(e)+'"');if(Number.isNaN(e))throw Error("`scale` should not be NaN, but is NaN");if(!Number.isFinite(e))throw Error(`"scale" must be finite, but is ${e}`);if(e<=0)throw Error(`"scale" must be bigger than 0, but is ${e}`);if(e>16)throw Error(`"scale" must be smaller or equal than 16, but is ${e}`)}},a5=async({onFrameUpdate:e,outputDir:t,onStart:i,serializedInputPropsWithCustomSchema:n,serializedResolvedPropsWithCustomSchema:a,jpegQuality:o,imageFormat:s,frameRange:c,onError:p,envVariables:u,onBrowserLog:d,onFrameBuffer:m,onDownload:h,pagesArray:f,serveUrl:g,composition:v,timeoutInMilliseconds:x,scale:b,resolvedConcurrency:w,everyNthFrame:y,proxyPort:_,cancelSignal:E,downloadMap:S,muted:k,makeBrowser:C,browserReplacer:T,sourceMapGetter:I,logLevel:N,indent:j,parallelEncodingEnabled:R,compositionStart:L,forSeamlessAacConcatenation:F,onArtifact:P,binariesDirectory:O,imageSequencePattern:$,mediaCacheSizeInBytes:M,onLog:A})=>{t&&!r.existsSync(t)&&r.mkdirSync(t,{recursive:!0});let D=an(v.durationInFrames,c),{extraFramesToCaptureAssetsBackend:z,extraFramesToCaptureAssetsFrontend:B,chunkLengthInSeconds:U,trimLeftOffset:q,trimRightOffset:G}=aF({fps:v.fps,compositionStart:L,realFrameRange:D,forSeamlessAacConcatenation:F}),W=n8(D,y),V=W[W.length-1],H=Math.min(W.length,w),J=(e,t)=>az({context:I,initialFrame:e,browserReplacer:T,indent:j,logLevel:N,onBrowserLog:d,pagesArray:f,scale:b,composition:v,envVariables:u,imageFormat:s,muted:k,proxyPort:_,serializedInputPropsWithCustomSchema:n,serializedResolvedPropsWithCustomSchema:a,serveUrl:g,timeoutInMilliseconds:x,pageIndex:t,isMainTab:0===t,mediaCacheSizeInBytes:M,onLog:A}),Y=async()=>{let e=Array(H).fill(!0).map((e,t)=>J(W[t],t));return new aG(await Promise.all(e))},K=1===y?"actual-frames":"from-zero",Q=a$({lastFrame:V,totalFrames:W.length,countType:K}),X={count:0},Z=Y();i?.({frameCount:W.length,parallelEncoding:R,resolvedConcurrency:w});let ee=[],et={stopped:!1};E?.(()=>{et.stopped=!0});let ei=t??S.compositingDir,ea=[...B,...W,...z],eo=tk();eo&&en.info({indent:j,logLevel:N},"Experimental: Using partitioned rendering (https://github.com/remotion-dev/remotion/pull/4830)");let es=eo?aq({allFramesAndExtraFrames:ea,concurrencyOrFramesToRender:H}):aU({allFramesAndExtraFrames:ea,concurrencyOrFramesToRender:H}),er=$||"element-[frame].[ext]",ec=er.replace(/\[frame\]/g,`%0${Q}d`).replace(/\[ext\]/g,s);await Promise.all(ea.map(()=>a1({retriesLeft:1,attempt:1,assets:ee,binariesDirectory:O,cancelSignal:E,composition:v,countType:K,downloadMap:S,frameDir:ei,framesToRender:W,imageFormat:s,indent:j,jpegQuality:o,logLevel:N,onArtifact:P,onDownload:h,onError:p,outputDir:t,poolPromise:Z,scale:b,stoppedSignal:et,timeoutInMilliseconds:x,makeBrowser:C,browserReplacer:T,concurrencyOrFramesToRender:H,framesRenderedObj:X,lastFrame:V,makeNewPage:J,onFrameBuffer:m,onFrameUpdate:e,nextFrameToRender:es,imageSequencePattern:er,trimLeftOffset:q,trimRightOffset:G,allFramesAndExtraFrames:ea})));let el="from-zero"===K?0:W[0];return await Promise.all([]),{assetsInfo:{assets:ee.sort((e,t)=>e.frame-t.frame),imageSequenceName:l.join(ei,ec),firstFrameIndex:el,downloadMap:S,trimLeftOffset:q,trimRightOffset:G,chunkLengthInSeconds:U,forSeamlessAacConcatenation:F},frameCount:W.length}},a9=n3(({browserExecutable:e,cancelSignal:t,chromiumOptions:i,composition:n,concurrency:a,envVariables:o,everyNthFrame:s,frameRange:r,imageFormat:c,indent:l,jpegQuality:p,muted:u,onBrowserLog:d,onDownload:m,onFrameBuffer:h,onFrameUpdate:f,onStart:g,outputDir:v,port:x,puppeteerInstance:b,scale:w,server:y,timeoutInMilliseconds:_,logLevel:E,webpackBundleOrServeUrl:S,serializedInputPropsWithCustomSchema:k,serializedResolvedPropsWithCustomSchema:C,offthreadVideoCacheSizeInBytes:T,parallelEncodingEnabled:I,binariesDirectory:N,forSeamlessAacConcatenation:j,compositionStart:R,onBrowserDownload:L,onArtifact:F,chromeMode:P,offthreadVideoThreads:O,imageSequencePattern:$,mediaCacheSizeInBytes:M,onLog:A})=>{a4(n.height,"height","in the `config` object passed to `renderFrames()`"),a4(n.width,"width","in the `config` object passed to `renderFrames()`"),a3(n.fps,"in the `config` object of `renderFrames()`",!1),a6(n.durationInFrames,{component:"in the `config` object passed to `renderFrames()`",allowFloats:!1}),al(p),a8(w);let D=()=>iT({browser:ed,browserExecutable:e,chromiumOptions:i,forceDeviceScaleFactor:w,indent:l,viewport:null,logLevel:E,onBrowserDownload:L,chromeMode:P}),B=b??D(),U=n6(a),q=[];return new Promise((e,i)=>{let a=[],G=e=>{i(e)};Promise.race([new Promise((e,i)=>{t?.(()=>{i(Error(aA.renderFrames))})}),Promise.all([nG(y,{webpackConfigOrServeUrl:S,port:x,remotionRoot:z(),offthreadVideoThreads:O??2,logLevel:E,indent:l,offthreadVideoCacheSizeInBytes:T,binariesDirectory:N,forceIPv4:!1},{onDownload:m}),B]).then(([{server:e,cleanupServer:i},x])=>{let{serveUrl:b,offthreadPort:y,sourceMap:S,downloadMap:T}=e,z=a2(x,E,l),B=ab({puppeteerInstance:z,concurrency:U,logLevel:E,indent:l});return a.push(()=>(B.stopCycling(),Promise.resolve())),a.push(()=>i(!1)),a5({onError:G,pagesArray:q,serveUrl:b,composition:n,resolvedConcurrency:U,onDownload:m,proxyPort:y,makeBrowser:D,browserReplacer:z,sourceMapGetter:S,downloadMap:T,cancelSignal:t,envVariables:o,everyNthFrame:s,frameRange:r,imageFormat:c,jpegQuality:p,muted:u,onBrowserLog:d,onFrameBuffer:h,onFrameUpdate:f,onStart:g,outputDir:v,scale:w,timeoutInMilliseconds:_,logLevel:E,indent:l,serializedInputPropsWithCustomSchema:k,serializedResolvedPropsWithCustomSchema:C,parallelEncodingEnabled:I,binariesDirectory:N,forSeamlessAacConcatenation:j,compositionStart:R,onBrowserDownload:L,onArtifact:F,chromeMode:P,offthreadVideoThreads:O,imageSequencePattern:$,mediaCacheSizeInBytes:M,onLog:A})})]).then(t=>(y?.compositor.executeCommand("CloseAllVideos",{}).then(()=>{en.verbose({indent:l,logLevel:E,tag:"compositor"},"Freed memory from compositor")}).catch(e=>{en.verbose({indent:l,logLevel:E},"Could not close compositor",e)}),e(t))).catch(e=>i(e)).finally(()=>{b?Promise.all(q.map(e=>e.close())).catch(e=>{e2(e)||en.error({indent:l,logLevel:E},"Unable to close browser tab",e)}):Promise.resolve(B).then(e=>e.close({silent:!0})).catch(e=>{e?.message.includes("Target closed")||en.error({indent:l,logLevel:E},"Unable to close browser",e)}),a.forEach(e=>{e()})})})}),a7={h264:18,h265:23,vp8:9,vp9:28,prores:null,gif:null,"h264-mkv":18,"h264-ts":18,aac:null,mp3:null,wav:null},oe=e=>{let t=a7[e];if(void 0===t)throw TypeError(`Got unexpected codec "${e}"`);return t},ot={h264:[1,51],h265:[0,51],vp8:[4,63],vp9:[0,63],prores:[0,0],gif:[0,0],"h264-mkv":[1,51],"h264-ts":[1,51],aac:[0,0],mp3:[0,0],wav:[0,0]},oi=e=>{let t=ot[e];if(void 0===t)throw TypeError(`Got unexpected codec "${e}"`);return t},on=({codec:e,crf:t,videoBitrate:i,encodingMaxRate:n,encodingBufferSize:a,hardwareAcceleration:o})=>{if(t&&i)throw Error('"crf" and "videoBitrate" can not both be set. Choose one of either.');if(t&&"required"===o)throw Error('"crf" option is not supported with hardware acceleration');if(n&&!a)throw Error('"encodingMaxRate" can not be set without also setting "encodingBufferSize".');let s=a?["-bufsize",a]:[],r=n?["-maxrate",n]:[];if(i)return"prores"===e?(console.warn("ProRes does not support videoBitrate. Ignoring."),[]):tE(e)?(console.warn(`${e} does not support videoBitrate. Ignoring.`),[]):["-b:v",i,...s,...r];if(null==t){let t=oe(e);return null===t?[...s,...r]:["-crf",String(t),...s,...r]}if("number"!=typeof t)throw TypeError("Expected CRF to be a number, but is "+JSON.stringify(t));let c=oi(e);if(0===t&&("h264"===e||"h264-mkv"===e||"h264-ts"===e))throw TypeError("Setting the CRF to 0 with a H264 codec is not supported anymore because of it's inconsistencies between platforms. Videos with CRF 0 cannot be played on iOS/macOS. 0 is a extreme value with inefficient settings which you probably do not want. Set CRF to a higher value to fix this error.");if(t<c[0]||t>c[1]){if(0===c[0]&&0===c[1])throw TypeError(`The "${e}" codec does not support the --crf option.`);throw TypeError(`CRF must be between ${c[0]} and ${c[1]} for codec ${e}. Passed: ${t}`)}return"prores"===e?(console.warn('ProRes does not support the "crf" option. Ignoring.'),[]):tE(e)?(console.warn(`${e} does not support the "crf" option. Ignoring.`),[]):["-crf",String(t),...s,...r]},oa={"h264-mkv":{audio:!0,video:!0},aac:{audio:!0,video:!1},gif:{video:!0,audio:!1},h264:{video:!0,audio:!0},"h264-ts":{video:!0,audio:!0},h265:{video:!0,audio:!0},mp3:{audio:!0,video:!1},prores:{audio:!0,video:!0},vp8:{audio:!0,video:!0},vp9:{audio:!0,video:!0},wav:{audio:!0,video:!1}},oo=e=>oa[e],os=e=>{let[t]=e,i=e[e.length-1],n=[],a=()=>{for(let e of n.slice(0))t===e.forFrame&&(e.resolve(),n=n.filter(t=>t.id!==e.id))},o=e=>new Promise(t=>{n.push({id:String(Math.random()),forFrame:e,resolve:t}),a()}),s=async()=>{await o(i+1)};return{waitForRightTimeOfFrameToBeInserted:o,setFrameToStitch:e=>{t=e,a()},waitForFinish:s}};v.NoReactInternals.ENABLE_V5_BREAKING_CHANGES;var or=v.NoReactInternals.ENABLE_V5_BREAKING_CHANGES?"bt709":"default",oc=["ultrafast","superfast","veryfast","faster","fast","medium","slow","slower","veryslow","placebo"],ol=({codec:e,x264Preset:t})=>{if(null!==t&&"h264"!==e&&"h264-mkv"!==e&&"h264-ts"!==e)throw TypeError(`You have set a x264 preset but the codec is "${e}". Set the codec to "h264" or remove the Preset profile.`);if(null!==t&&!oc.includes(t))throw TypeError(`The Preset profile "${t}" is not valid. Valid options are ${oc.map(e=>`"${e}"`).join(", ")}`)},op=({encodingMaxRate:e,encodingBufferSize:t,crf:i})=>null!==t?"encodingBufferSize":null!==e?"encodingMaxRate":null!=i?"crf":null,ou=({codec:e,encodingMaxRate:t,encodingBufferSize:i,crf:n,hardwareAcceleration:a,logLevel:o,indent:s})=>{let r="required"===a||"if-possible"===a,c=op({encodingMaxRate:t,encodingBufferSize:i,crf:n});if("required"===a&&c)throw Error(`When using hardware accelerated encoding, the option "${c}" with hardware acceleration is not supported. Disable hardware accelerated encoding or use "if-possible" instead.`);let l=()=>{"if-possible"===a&&c&&en.warn({indent:s,logLevel:o},`${s?"":`
`}Hardware accelerated encoding disabled - "${c}" option is not supported with hardware acceleration`)};if("prores"===e)return r&&"darwin"===process.platform&&!c?{encoderName:"prores_videotoolbox",hardwareAccelerated:!0}:(l(),{encoderName:"prores_ks",hardwareAccelerated:!1});if("h264"===e)return r&&"darwin"===process.platform&&!c?{encoderName:"h264_videotoolbox",hardwareAccelerated:!0}:(l(),{encoderName:"libx264",hardwareAccelerated:!1});if("h265"===e)return r&&"darwin"===process.platform&&!c?{encoderName:"hevc_videotoolbox",hardwareAccelerated:!0}:(l(),{encoderName:"libx265",hardwareAccelerated:!1});if("vp8"===e)return{encoderName:"libvpx",hardwareAccelerated:!1};if("vp9"===e)return{encoderName:"libvpx-vp9",hardwareAccelerated:!1};if("gif"===e)return{encoderName:"gif",hardwareAccelerated:!1};if("mp3"===e||"aac"===e||"wav"===e)return null;if("h264-mkv"===e||"h264-ts"===e)return{encoderName:"libx264",hardwareAccelerated:!1};throw Error(`Could not get codec for ${e}`)},od=({hasPreencoded:e,proResProfileName:t,pixelFormat:i,x264Preset:n,codec:a,crf:o,videoBitrate:s,encodingMaxRate:r,encodingBufferSize:c,hardwareAcceleration:l})=>e||"gif"===a?[]:[t?["-profile:v",t]:null,["-pix_fmt",i],"yuva420p"===i?["-auto-alt-ref","0"]:null,n?["-preset",n]:null,on({crf:o,videoBitrate:s,codec:a,encodingMaxRate:r,encodingBufferSize:c,hardwareAcceleration:l})].filter(ee),om=({hasPreencoded:e,proResProfileName:t,pixelFormat:i,x264Preset:n,codec:a,crf:o,videoBitrate:s,encodingMaxRate:r,encodingBufferSize:c,colorSpace:l,hardwareAcceleration:p,indent:u,logLevel:d})=>{let m=ou({codec:a,encodingMaxRate:r,encodingBufferSize:c,crf:o,hardwareAcceleration:p,indent:u,logLevel:d});if(null===m)throw TypeError(`encoderSettings is null: ${JSON.stringify(a)} (hwaccel = ${p})`);let{encoderName:h,hardwareAccelerated:f}=m;if(!f&&"required"===p)throw Error(`Codec ${a} does not support hardware acceleration on ${process.platform}, but "hardwareAcceleration" is set to "required"`);en.verbose({indent:u,logLevel:d,tag:"stitchFramesToVideo()"},`Encoder: ${h}, hardware accelerated: ${f}`);let g=l??or,v="bt709"===g?[["-colorspace:v","bt709"],["-color_primaries:v","bt709"],["-color_trc:v","bt709"],["-color_range","tv"],e?[]:["-vf","zscale=matrix=709:matrixin=709:range=limited"]]:"bt2020-ncl"===g?[["-colorspace:v","bt2020nc"],["-color_primaries:v","bt2020"],["-color_trc:v","arib-std-b67"],["-color_range","tv"],e?[]:["-vf","zscale=matrix=2020_ncl:matrixin=2020_ncl:range=limited"]]:[];return[["-c:v",e?"copy":h],"h264-ts"===a?["-f","mpegts"]:null,...v,...od({codec:a,crf:o,hasPreencoded:e,pixelFormat:i,proResProfileName:t,videoBitrate:s,encodingMaxRate:r,encodingBufferSize:c,x264Preset:n,hardwareAcceleration:p})].filter(ee)},oh=(e,t)=>{if("prores"!==e)return null;switch(t){case"4444-xq":return"5";case"4444":return"4";case"hq":default:return"3";case"standard":return"2";case"light":return"1";case"proxy":return"0"}},of=({width:e,height:t,codec:i,scale:n,wantsImageSequence:a,indent:o,logLevel:s})=>{if(a||"h264-mkv"!==i&&"h264"!==i&&"h265"!==i&&"h264-ts"!==i)return{actualWidth:e,actualHeight:t};let r=t;for(;Math.round(r*n)%2!=0;)r--;let c=e;for(;Math.round(c*n)%2!=0;)c--;return c!==e&&en.verbose({indent:o,logLevel:s},`Rounding width to an even number from ${e} to ${c}`),r!==t&&en.verbose({indent:o,logLevel:s},`Rounding height to an even number from ${t} to ${r}`),{actualWidth:c,actualHeight:r}},og=e=>{a4(e.height,"height","passed to `stitchFramesToVideo()`"),a4(e.width,"width","passed to `stitchFramesToVideo()`");let t=e.codec??"h264";a3(e.fps,"in `stitchFramesToVideo()`","gif"===t),of({width:e.width,height:e.height,codec:t,scale:1,wantsImageSequence:!1,indent:e.indent,logLevel:e.logLevel});let i=e.pixelFormat??ag,n=oh(t,e.proResProfile);ax(i,t);let a=[["-r",e.fps],["-f","image2pipe"],["-s",`${e.width}x${e.height}`],["-vcodec","jpeg"===e.imageFormat?"mjpeg":"png"],["-i","-"],...om({hasPreencoded:!1,proResProfileName:n,pixelFormat:i,x264Preset:e.x264Preset,codec:t,crf:e.crf,videoBitrate:e.videoBitrate,encodingMaxRate:e.encodingMaxRate,encodingBufferSize:e.encodingBufferSize,colorSpace:e.colorSpace,hardwareAcceleration:e.hardwareAcceleration,indent:e.indent,logLevel:e.logLevel}),"-y",e.outputLocation];en.verbose({indent:e.indent,logLevel:e.logLevel,tag:"prespawnFfmpeg()"},"Generated FFMPEG command:"),en.verbose({indent:e.indent,logLevel:e.logLevel,tag:"prespawnFfmpeg()"},a.join(" "));let o=a.flat(2).filter(Boolean),s=ty({bin:"ffmpeg",args:e.ffmpegOverride?e.ffmpegOverride({type:"pre-stitcher",args:o}):o,indent:e.indent,logLevel:e.logLevel,binariesDirectory:e.binariesDirectory,cancelSignal:e.signal}),r="";s.stderr?.on("data",t=>{let i=t.toString();if(r+=i,e.onProgress){let t=aN(i,e.fps);void 0!==t&&e.onProgress(t)}});let c={type:"running"};return s.on("exit",e=>{c="number"==typeof e&&e>0?{type:"quit-with-error",exitCode:e,stderr:r}:{type:"quit-successfully",stderr:r}}),{task:s,getLogs:()=>r,getExitStatus:()=>c}},ov=({width:e,height:t})=>1e3*e*t,ox=({width:e,height:t,logLevel:i})=>{let n=iy(i),a=ov({height:t,width:e});return{hasEnoughMemory:n-a>2e9&&a/n<.5,freeMemory:n,estimatedUsage:a}},ob=["4444-xq","4444","hq","standard","light","proxy"],ow=({codec:e,proResProfile:t})=>{if(void 0!==t&&"prores"!==e)throw TypeError(`You have set a ProRes profile but the codec is "${e}". Set the codec to "prores" or remove the ProRes profile.`);if(void 0!==t&&!ob.includes(t))throw TypeError(`The ProRes profile "${t}" is not valid. Valid options are ${ob.map(e=>`"${e}"`).join(", ")}`)},oy=e=>null===e?"0":0===e?"-1":String(e),o_=e=>{if(!e.startsWith("file:"))return e;let{protocol:t}=new URL(e);if("file:"===t)return b.fileURLToPath(e);throw TypeError(`Unexpected src ${e}`)},oE=e=>{if("number"==typeof e)return e;if(0===e.length)throw TypeError("Volume array must have at least 1 number");return 1===new Set(e).size?e[0]:e},oS=e=>({...e,volume:oE(e.volume)}),ok=(e,t)=>{let i=t.src.match(/same-as-(.*)-([0-9.]+)$/);if(!i)return t;let[,n,a]=i,o=e.find(e=>e.id===n&&String(e.frame)===a);if(!o)throw console.log("List of assets:"),console.log(e),TypeError("Cannot uncompress asset, asset list seems corrupt. Please file a bug in the Remotion repo with the debug information above.");return{...t,src:o.src}},oC=(e,t)=>e.id===t.id,oT=(e,t)=>{let i=e.findIndex(e=>oC(e,t));return -1!==i&&(e.splice(i,1),!0)},oI=e=>{let t=aH(e),i=[];for(let e of t)i.find(t=>t.id===e.id)||i.push(e);return i},oN=e=>{let t=[],i=e.flat(1);for(let n=0;n<e.length;n++){let a=oI(e[n-1]??[]),o=oI(e[n]),s=oI(e[n+1]??[]);for(let e of o){oT(a,e)||t.push({src:o_(ok(i,e).src),type:e.type,duration:null,id:e.id,startInVideo:n,trimLeft:e.mediaFrame,volume:[],playbackRate:e.playbackRate,toneFrequency:e.toneFrequency,audioStartFrame:e.audioStartFrame,audioStreamIndex:e.audioStreamIndex});let o=t.find(t=>null===t.duration&&oC(t,e));if(!o)throw Error("something wrong");oT(s,e)||(o.duration=n-o.startInVideo+1),o.volume=[...o.volume,e.volume]}}for(let e of t)if(null===e.duration)throw Error("duration is unexpectedly null");return t.map(e=>oS(e))},oj=(e,t)=>e.reduce((e,i,n)=>n%t==0?[...e,[i]]:[...e.slice(0,-1),[...e.slice(-1)[0],i]],[]),oR=async({assets:e,onDownload:t,downloadMap:i,indent:n,logLevel:a,binariesDirectory:o})=>{let s=oj(e,1e3),r=[];for(let e of s){let s=e.map(e=>Promise.all(e.audioAndVideoAssets.map(e=>i3({renderAsset:e,onDownload:t,downloadMap:i,indent:n,logLevel:a,binariesDirectory:o,cancelSignalForAudioAnalysis:void 0,shouldAnalyzeAudioImmediately:!0})))),c=await Promise.all(s);r.push(c)}return r.flat(1)},oL=async({audioCodec:e,outName:t,binariesDirectory:i,indent:n,logLevel:a,audioBitrate:o,cancelSignal:s,inName:c,onProgress:l,chunkLengthInSeconds:p,fps:u})=>{if("pcm-16"===e)return(0,r.cpSync)(c,t),l(1);let d=ty({bin:"ffmpeg",args:[["-hide_banner"],["-i",c],["-c:a",a_(e)],"aac"===e?["-f","adts"]:null,e?["-b:a",o||"320k"]:null,"aac"===e?"-cutoff":null,"aac"===e?"18000":null,["-y",t]].filter(ee).flat(2),indent:n,logLevel:a,binariesDirectory:i,cancelSignal:s});d.stderr?.on("data",e=>{let t=aN(e.toString("utf8"),u);void 0!==t&&l(t/(p*u))}),await d},oF=(e,t)=>e.reduce((e,i,n)=>n%t==0?[...e,[i]]:[...e.slice(0,-1),[...e.slice(-1)[0],i]],[]),oP="outputaudio",oO=({inputs:e})=>[...e.map((e,t)=>{let i=[e.filter.pad_start?e.filter.pad_start:null,e.filter.pad_end?e.filter.pad_end:null,"acopy"];return`[${t}:a]${i.filter(ee).join(",")}[padded${t}]`}),`${Array(e.length).fill(!0).map((e,t)=>`[padded${t}]`).join("")}amix=inputs=${e.length}:dropout_transition=0:normalize=0[${oP}]`].join(";"),o$=(e,t)=>null===e.filter?{file:null,cleanup:()=>{}}:oM(e.filter,t),oM=async(e,t)=>{let i=Math.random().toString().replace(".",""),n=l.join(t.complexFilter,"complex-filter-"+i+".txt");return(0,r.existsSync)(t.complexFilter)||r.mkdirSync(t.complexFilter,{recursive:!0}),await r.promises.writeFile(n,e),{file:n,cleanup:()=>{r.unlinkSync(n)}}},oA=async({filters:e,downloadMap:t})=>{if(0===e.length)return{complexFilterFlag:null,cleanup:()=>{},complexFilter:null};let i=oO({inputs:e}),{file:n,cleanup:a}=await oM(i,t);return{complexFilterFlag:["-filter_complex_script",n],cleanup:a,complexFilter:i}},oD=async({outName:e,indent:t,logLevel:i,binariesDirectory:n,cancelSignal:a,chunkLengthInSeconds:o})=>{await ty({bin:"ffmpeg",args:["-f","lavfi","-i","anullsrc=r=48000","-c:a","pcm_s16le","-t",String(o),"-ar",String(48e3),e],indent:t,logLevel:i,binariesDirectory:n,cancelSignal:a})},oz=async({outName:e,files:t,downloadMap:i,remotionRoot:n,indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r,onProgress:c,fps:p,chunkLengthInSeconds:u})=>{if(0===t.length){await oD({outName:e,chunkLengthInSeconds:u,indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r}),c(1);return}if(t.length>=32){let d=oF(t,10),m=no("remotion-large-audio-mixing");try{let t=Array(d.length).fill(0),h=0,f=()=>{let e=t.reduce((e,t)=>e+t,0)/d.length,i=.8*e+.2*h;c(i)},g=await Promise.all(d.map(async(e,c)=>{let d=l.join(m,`chunk-${c}.wav`);return await oU({files:e,chunkLengthInSeconds:u,outName:d,downloadMap:i,remotionRoot:n,indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r,onProgress:e=>{t[c]=e,f()},fps:p}),d}));await oU({files:g.map(e=>({filter:{pad_end:null,pad_start:null},outName:e})),outName:e,downloadMap:i,remotionRoot:n,indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r,onProgress:e=>{h=e,f()},fps:p,chunkLengthInSeconds:u});return}finally{tn(m)}}let{complexFilterFlag:d,cleanup:m,complexFilter:h}=await oA({filters:t,downloadMap:i}),f=[["-hide_banner"],...t.map(e=>["-i",e.outName]),d,["-c:a","pcm_s16le"],["-map",`[${oP}]`],["-y",e]].filter(ee).flat(2);en.verbose({indent:a,logLevel:o},"Merging audio tracks","Command:",`ffmpeg ${f.join(" ")}`,"Complex filter script:",h);let g=ty({bin:"ffmpeg",args:f,indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r});g.stderr?.on("data",e=>{let t=aN(e.toString("utf8"),p);void 0!==t&&c(t/(u*p))}),await g,c(1),m()},oB=i$(3),oU=e=>oB(oz,e),oq=e=>1===e?null:e>=.5&&e<=2?`atempo=${e.toFixed(5)}`:`${oq(Math.sqrt(e))},${oq(Math.sqrt(e))}`,oG=e=>Number((Math.round(97*e)/97).toFixed(3)),oW=(e,t,i)=>`if(${e},${t},${i})`,oV=({frames:e,trimLeft:t,fps:i})=>{let n=[];for(let t=0;t<e.length;t++){let i=e[t-1],a=e[t];(void 0===i||a!==i+1)&&n.push([]),n[n.length-1].push(a)}return n.map(e=>{let n=e[0],a=e[e.length-1];return`between(t,${((n-.5)/i+t).toFixed(4)},${((a+.5)/i+t).toFixed(4)})`}).join("+")},oH=({arr:e,delay:t,fps:i})=>{if(0===e.length)throw Error("Volume array expression should never have length 0");if(1===e.length)return String(e[0][0]);let[n,...a]=e,[o,s]=n;return oW(oV({frames:s,trimLeft:t,fps:i}),String(o),oH({arr:a,delay:t,fps:i}))},oJ=({volume:e,fps:t,trimLeft:i})=>{if("number"==typeof e)return{eval:"once",value:String(e)};if(1==[...new Set(e)].length)return oJ({volume:e[0],fps:t,trimLeft:i});let n=[...e,e[e.length-1]],a={};n.forEach((e,t)=>{let i=oG(e);a[i]||(a[i]=[]),a[i].push(t)});let o=oH({arr:Object.keys(a).map(e=>[Number(e),a[e]]).sort((e,t)=>e[1].length-t[1].length),delay:i,fps:t});return{eval:"frame",value:`'${o}'`}},oY=({fps:e,trimLeftOffset:t,seamless:i,assetDuration:n,audioStartFrame:a,trimLeft:o,playbackRate:s})=>{let r=o-a;if(!i)return{trimLeft:a/e+r/e*s+t,maxTrim:n};if(i)return{trimLeft:a/e/s+r/e+t,maxTrim:n?n/s:null};throw Error("This should never happen")},oK=e=>e%1<1e-7?Math.floor(e):e%1>.9999999?Math.ceil(e):e,oQ=e=>{let t=oK(1e6*e),i=`${t}us`;return i.includes("e-")?"0us":i},oX=({assetDuration:e,asset:t,trimLeftOffset:i,trimRightOffset:n,fps:a,indent:o,logLevel:s})=>{let{trimLeft:r,maxTrim:c}=oY({trimLeft:t.trimLeft,fps:a,trimLeftOffset:i,seamless:!0,assetDuration:e,audioStartFrame:t.audioStartFrame,playbackRate:t.playbackRate}),l=r+t.duration/a-i+n,p=c?Math.min(l,c):l;return p<r&&(en.warn({indent:o,logLevel:s},"trimRightOrAssetDuration < trimLeft: "+JSON.stringify({trimRight:l,trimLeft:r,assetDuration:e,assetTrimLeft:t.trimLeft})),p=r),{filter:[oq(t.playbackRate),`atrim=${oQ(r)}:${oQ(p)}`],actualTrimLeft:r,audibleDuration:p-r}},oZ=({channels:e,volume:t,fps:i,assetDuration:n,chunkLengthInSeconds:a,forSeamlessAacConcatenation:o,trimLeftOffset:s,trimRightOffset:r,asset:c,indent:l,logLevel:p,presentationTimeOffsetInSeconds:u})=>{if(0===e)return null;let{toneFrequency:d,startInVideo:m}=c,h=m/i,{trimLeft:f,maxTrim:g}=oY({trimLeft:c.trimLeft,fps:i,trimLeftOffset:s,seamless:o,assetDuration:n,audioStartFrame:c.audioStartFrame,playbackRate:c.playbackRate});if(g&&f>=g)return null;if(null!==d&&(d<=0||d>2))throw Error("toneFrequency must be a positive number between 0.01 and 2");let{actualTrimLeft:v,audibleDuration:x,filter:b}=oX({assetDuration:n,trimLeftOffset:s,trimRightOffset:r,asset:c,fps:i,indent:l,logLevel:p}),w=oJ({volume:t,fps:i,trimLeft:v}),y=a-x-h,_=h+(0===c.trimLeft?u:0);return{filter:"[0:a]"+["aformat=sample_fmts=s16:sample_rates=48000",...b,"1"===w.value?null:`volume=${w.value}:eval=${w.eval}`,d&&1!==d?`asetrate=48000*${d},aresample=48000,atempo=1/${d}`:null].filter(ee).join(",")+"[a0]",pad_end:y>1e-7?"apad=pad_len="+Math.round(48e3*y):null,pad_start:0===_?null:`adelay=${Array(e+1).fill((1e3*_).toFixed(0)).join("|")}`,actualTrimLeft:v}},o0=async({outName:e,asset:t,fps:i,downloadMap:n,indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r,onProgress:c,chunkLengthInSeconds:l,trimLeftOffset:p,trimRightOffset:u,forSeamlessAacConcatenation:d,audioStreamIndex:m})=>{let{channels:h,duration:f,startTime:g}=await iz({downloadMap:n,src:o_(t.src),indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r,audioStreamIndex:m}),v=oZ({asset:t,fps:i,channels:h,assetDuration:f,chunkLengthInSeconds:l,trimLeftOffset:p,trimRightOffset:u,forSeamlessAacConcatenation:d,volume:oE(t.volume),indent:a,logLevel:o,presentationTimeOffsetInSeconds:g??0});if(null===v)return null;let{cleanup:x,file:b}=await o$(v,n),w=[["-hide_banner"],["-i",o_(t.src)],m?["-map",`0:a:${m}`]:[],["-ac","2"],b?["-filter_script:a",b]:null,["-c:a","pcm_s16le"],["-ar",String(48e3)],["-y",e]].flat(2).filter(ee);en.verbose({indent:a,logLevel:o},"Preprocessing audio track:",JSON.stringify(w.join(" ")),"Filter:",v.filter);let y=Date.now(),_=ty({bin:"ffmpeg",args:w,indent:a,logLevel:o,binariesDirectory:s,cancelSignal:r});return _.stderr?.on("data",e=>{let t=aN(e.toString("utf8"),i);void 0!==t&&c((t-v.actualTrimLeft*i)/(l*i))}),await _,en.verbose({indent:a,logLevel:o},"Preprocessed audio track",`${Date.now()-y}ms`),x(),{outName:e,filter:v}},o1=i$(2),o2=e=>o1(o0,e),o3=async({assets:e,onDownload:t,fps:i,logLevel:n,onProgress:a,downloadMap:o,remotionRoot:s,indent:r,binariesDirectory:c,audioBitrate:l,audioCodec:p,cancelSignal:u,chunkLengthInSeconds:d,trimLeftOffset:m,trimRightOffset:h,forSeamlessAacConcatenation:f})=>{let g=await oR({assets:e,onDownload:t??(()=>()=>{}),downloadMap:o,indent:r,logLevel:n,binariesDirectory:c});i0(o);let v=oN(g);en.verbose({indent:r,logLevel:n,tag:"audio"},"asset positions",JSON.stringify(v));let x=Array(v.length).fill(0),b=0,w=0,_=()=>{a(.7*(0===x.length?1:x.reduce((e,t)=>e+t,0)/v.length)+.1*b+.2*w)},E=await Promise.all(v.map(async(e,t)=>{let a=y.join(o.audioMixing,`${t}.wav`),s=await o2({outName:a,asset:e,fps:i,downloadMap:o,indent:r,logLevel:n,binariesDirectory:c,cancelSignal:u,onProgress:e=>{x[t]=e,_()},chunkLengthInSeconds:d,trimLeftOffset:m,trimRightOffset:h,forSeamlessAacConcatenation:f,audioStreamIndex:e.audioStreamIndex});return x[t]=1,_(),s}));await o.inlineAudioMixing.finish({indent:r,logLevel:n,binariesDirectory:c,cancelSignal:u});let S=o.inlineAudioMixing.getListOfAssets(),k=[...E.filter(ee),...S.map(e=>({outName:e,filter:{filter:null,pad_start:null,pad_end:null}}))],C=y.join(o.audioPreprocessing,"merged.wav"),T=ak(p),I=y.join(o.audioPreprocessing,`audio.${T}`);return await oU({files:k,outName:C,downloadMap:o,remotionRoot:s,indent:r,logLevel:n,binariesDirectory:c,cancelSignal:u,fps:i,onProgress:e=>{b=e,_()},chunkLengthInSeconds:d}),await oL({audioBitrate:l,audioCodec:p,binariesDirectory:c,indent:r,logLevel:n,inName:C,outName:I,cancelSignal:u,chunkLengthInSeconds:d,fps:i,onProgress:e=>{w=e,_()}}),tn(C),tn(o.audioMixing),k.forEach(e=>{tn(e.outName)}),I},o4=e=>{let t=`Made with Remotion ${h.VERSION}`,i={comment:t};return Object.keys(e).forEach(n=>{let a=n.toLowerCase();"comment"===a?i[a]=`${t}; ${e[n]}`:i[a]=e[n]}),Object.entries(i).map(([e,t])=>["-metadata",`${e}=${t}`]).flat(1)},o6=({codec:e,assetsInfo:t,enforceAudioTrack:i,muted:n})=>n||!oo(e).audio?"no":i?"yes":null===t?"maybe":t.assets.flat(1).length>0?"yes":"no",o8=(e,t)=>{if(null!=e){if("number"==typeof e)throw TypeError(`"${t}" must be a string ending in "K" or "M". Got a number: ${e}`);if("string"!=typeof e)throw TypeError(`"${t}" must be a string or null, but got ${JSON.stringify(e)}`);if(!e.endsWith("K")&&!e.endsWith("k")&&!e.endsWith("M"))throw TypeError(`"${t}" must end in "K", "k" or "M", but got ${JSON.stringify(e)}`)}},o5=async({assetsInfo:e,audioBitrate:t,audioCodec:i,cancelSignal:n,codec:a,crf:o,enforceAudioTrack:s,ffmpegOverride:c,force:p,fps:u,height:d,indent:m,muted:h,onDownload:f,outputLocation:g,pixelFormat:v,preEncodedFileLocation:x,preferLossless:b,proResProfile:w,logLevel:y,videoBitrate:_,maxRate:E,bufferSize:S,width:k,numberOfGifLoops:C,onProgress:T,x264Preset:I,colorSpace:N,binariesDirectory:j,separateAudioTo:R,metadata:L,hardwareAcceleration:F},P)=>{a4(d,"height","passed to `stitchFramesToVideo()`"),a4(k,"width","passed to `stitchFramesToVideo()`"),of({width:k,height:d,codec:a,scale:1,wantsImageSequence:!1,indent:m,logLevel:y}),ow({codec:a,proResProfile:w}),o8(t,"audioBitrate"),o8(_,"videoBitrate"),o8(E,"maxRate"),o8(S,"bufferSize"),a3(u,"in `stitchFramesToVideo()`",!1),e.downloadMap.preventCleanup();let O=oh(a,w),$=oo(a),M=o6({assetsInfo:e,codec:a,enforceAudioTrack:s,muted:h});if("maybe"===M)throw Error("Remotion is not sure whether to render audio. Please report this in the Remotion repo.");let A="yes"===M,D=$.video;if(!A&&!D)throw Error("The output format has neither audio nor video. This can happen if you are rendering an audio codec and the output file has no audio or the muted flag was passed.");let z=aC({codec:a,preferLossless:b,setting:i,separateAudioTo:R}),B=g?null:l.join(e.downloadMap.stitchFrames,`out.${n5(a,z)}`);en.verbose({indent:m,logLevel:y,tag:"stitchFramesToVideo()"},"audioCodec",z),en.verbose({indent:m,logLevel:y,tag:"stitchFramesToVideo()"},"pixelFormat",v),en.verbose({indent:m,logLevel:y,tag:"stitchFramesToVideo()"},"codec",a),en.verbose({indent:m,logLevel:y,tag:"stitchFramesToVideo()"},"shouldRenderAudio",A),en.verbose({indent:m,logLevel:y,tag:"stitchFramesToVideo()"},"shouldRenderVideo",D),on({crf:o,codec:a,videoBitrate:_,encodingMaxRate:E,encodingBufferSize:S,hardwareAcceleration:F}),ax(v,a);let U=e=>{T?.(e)},q=A&&z?await o3({assets:e.assets,onDownload:f,fps:u,chunkLengthInSeconds:e.chunkLengthInSeconds,logLevel:y,onProgress:e=>{en.verbose({indent:m,logLevel:y,tag:"audio"},`Encoding progress: ${Math.round(100*e)}%`)},downloadMap:e.downloadMap,remotionRoot:P,indent:m,binariesDirectory:j,audioBitrate:t,audioCodec:z,cancelSignal:n??void 0,trimLeftOffset:e.trimLeftOffset,trimRightOffset:e.trimRightOffset,forSeamlessAacConcatenation:e.forSeamlessAacConcatenation}):null;if($.audio&&!$.video){if(!z)throw TypeError("exporting audio but has no audio codec name. Report this in the Remotion repo.");if(!q)throw TypeError("exporting audio but has no audio file. Report this in the Remotion repo.");if(R)throw Error("`separateAudioTo` was set, but this render was audio-only. This option is meant to be used for video renders.");(0,r.cpSync)(q,g??B),T?.(Math.round(e.chunkLengthInSeconds*u)),tn(l.dirname(q));let t=await new Promise((e,t)=>{B?r.promises.readFile(B).then(t=>e(t)).catch(e=>t(e)):e(null)});return tn(e.downloadMap.stitchFrames),e.downloadMap.allowCleanup(),Promise.resolve(t)}let G=[...x?[["-i",x]]:[["-r",String(u)],["-f","image2"],["-s",`${k}x${d}`],["-start_number",String(e.firstFrameIndex)],["-i",e.imageSequenceName],"gif"===a?["-filter_complex","split[v],palettegen,[v]paletteuse"]:null],q&&!R?["-i",q,"-c:a","copy"]:["-an"],null===C?null:["-loop",oy(C)],...om({codec:a,crf:o,videoBitrate:_,encodingMaxRate:E,encodingBufferSize:S,hasPreencoded:!!x,proResProfileName:O,pixelFormat:v,x264Preset:I,colorSpace:N,hardwareAcceleration:F,indent:m,logLevel:y}),"h264"===a?["-movflags","faststart"]:null,["-map_metadata","-1"],...o4(L??{}),p?"-y":null,g??B].flat(2).filter(Boolean),W=c?c({type:"stitcher",args:G}):G;en.verbose({indent:m??!1,logLevel:y,tag:"stitchFramesToVideo()"},"Generated final FFmpeg command:"),en.verbose({indent:m,logLevel:y,tag:"stitchFramesToVideo()"},W.join(" "));let V=t_({bin:"ffmpeg",args:W,indent:m,logLevel:y,binariesDirectory:j,cancelSignal:n??void 0}),H="",J=!1;if(V.stderr?.on("data",t=>{let i=t.toString();if(H+=i,T){let t=aN(i,u);void 0!==t&&(t===e.assets.length&&(J?V.stdin?.write("q"):J=!0),U(t))}}),R){if(!q)throw Error(`\`separateAudioTo\` was set to ${JSON.stringify(R)}, but this render included no audio`);let e=l.resolve(P,R);(0,r.cpSync)(q,e),(0,r.rmSync)(q)}let Y=await new Promise((t,i)=>{V.once("close",(n,a)=>{if(0===n){if(null===B)return nd(e.downloadMap),t(null);r.promises.readFile(B).then(e=>{t(e)}).catch(e=>{i(e)}).finally(()=>{nd(e.downloadMap)})}else i(Error(`FFmpeg quit with code ${n} ${a?`(${a})`:""} The FFmpeg output was ${H}`))})});return e.downloadMap.allowCleanup(),Y},o9=e=>Promise.race([o5(e,z()),new Promise((t,i)=>{e.cancelSignal?.(()=>{i(Error(aA.stitchFramesToVideo))})})]),o7=({happyPath:e,cancelSignal:t,cancelMessage:i})=>{if(!t)return e;let n=()=>{},a=new Promise((e,a)=>{t?.(()=>{n=e,a(Error(i))})});return Promise.race([e.then(e=>(process.nextTick(()=>n?.(void 0)),e)),a])},se=e=>{if(void 0===e)throw TypeError('Argument missing for parameter "everyNthFrame"');if("number"!=typeof e)throw TypeError(`Argument passed to "everyNthFrame" is not a number: ${e}`);if(e<1)throw RangeError(`The value for "everyNthFrame" cannot be below 1, but is ${e}`);if(!Number.isFinite(e))throw RangeError(`"everyNthFrame" ${e} is not finite`);if(e%1!=0)throw RangeError(`Argument for everyNthFrame must be an integer, but got ${e}`);if(1===e)return e},st=e=>{if(void 0!==e&&e&&"function"!=typeof e)throw TypeError(`Argument passed for "ffmpegArgsHook" is not a function: ${e}`)},si=(e,t)=>{if(null!=e){if("number"!=typeof e)throw TypeError(`Argument passed to "numberOfGifLoops" is not a number: ${e}`);if(e<0)throw RangeError(`The value for "numberOfGifLoops" cannot be below 0, but is ${e}`);if(!Number.isFinite(e))throw RangeError(`"numberOfGifLoops" ${e} is not finite`);if(e%1!=0)throw RangeError(`Argument for numberOfGifLoops must be an integer, but got ${e}`);if("gif"!==t)throw Error(`"everyNthFrame" can only be set if "codec" is set to "gif". The codec is "${t}"`)}},sn=({codec:e,audioCodecSetting:t,extension:i,preferLossless:n,separateAudioTo:a})=>{if(!tK[e])throw TypeError(`The codec "${e}" is not supported. Supported codecs are: ${Object.keys(tK).join(", ")}`);let o=tK[e],s=aC({codec:e,preferLossless:n,setting:t,separateAudioTo:a});if(null===s){if(i!==o.default)throw TypeError(`When using the ${e} codec, the output filename must end in .${o.default}.`);return}if(!(s in o.forAudioCodec))throw Error(`Audio codec ${s} is not supported for codec ${e}`);let r=o.forAudioCodec[s].possible;if(!r.includes(i)&&!a)throw TypeError(`When using the ${e} codec with the ${s} audio codec, the output filename must end in one of the following: ${r.join(", ")}.`)},sa=n3(({proResProfile:e,x264Preset:t,crf:i,composition:n,serializedInputPropsWithCustomSchema:a,pixelFormat:o,codec:s,envVariables:c,frameRange:p,puppeteerInstance:u,outputLocation:d,onProgress:h,overwrite:f,onDownload:g,onBrowserLog:v,onStart:x,timeoutInMilliseconds:b,chromiumOptions:w,scale:y,browserExecutable:_,port:E,cancelSignal:S,muted:k,enforceAudioTrack:C,ffmpegOverride:T,audioBitrate:I,videoBitrate:N,encodingMaxRate:j,encodingBufferSize:R,audioCodec:L,concurrency:P,disallowParallelEncoding:O,everyNthFrame:$,imageFormat:M,indent:A,jpegQuality:D,numberOfGifLoops:B,onCtrlCExit:U,preferLossless:q,serveUrl:G,server:W,logLevel:V,serializedResolvedPropsWithCustomSchema:H,offthreadVideoCacheSizeInBytes:Y,colorSpace:K,repro:ee,binariesDirectory:et,separateAudioTo:ei,forSeamlessAacConcatenation:ea,compositionStart:eo,onBrowserDownload:es,onArtifact:er,metadata:ec,hardwareAcceleration:el,chromeMode:ep,offthreadVideoThreads:eu,mediaCacheSizeInBytes:ed,onLog:em})=>{let eh;let ef=o??n.defaultPixelFormat??ag;ee?Q({serveUrl:G,compositionName:n.id,serializedInputPropsWithCustomSchema:a,serializedResolvedPropsWithCustomSchema:H}):X(),al(D),on({crf:i,codec:s,videoBitrate:N,encodingMaxRate:j,encodingBufferSize:R,hardwareAcceleration:el}),o8(I,"audioBitrate"),o8(N,"videoBitrate"),o8(j,"encodingMaxRate"),o8(R,"encodingBufferSize"),ow({codec:s,proResProfile:e}),ol({codec:s,x264Preset:t}),ax(ef,s),d&&sn({codec:s,audioCodecSetting:L,extension:ai(d),preferLossless:q,separateAudioTo:ei});let eg=d?l.resolve(process.cwd(),d):null;a8(y),st(T),se($),si(B,s);let ev="encoding",ex=null,eb=0,ew=0,ey=0,e_=null,eE=null,eS=!1,ek=0,eC=[],eT=Date.now(),{estimatedUsage:eI,freeMemory:eN,hasEnoughMemory:ej}=ox({height:n.height,width:n.width,logLevel:V}),eR=!O&&ej&&tS(s);en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},"Free memory:",eN,"Estimated usage parallel encoding",eI);let eL=n6(P);en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},"Using concurrency:",eL),en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},"delayRender() timeout:",b),en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},"Codec supports parallel rendering:",tS(s)),O&&en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},"User disallowed parallel encoding."),eR?en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},"Parallel encoding is enabled."):en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},"Parallel encoding is disabled.");let eF=tE(s)?"none":M??n.defaultVideoImageFormat??"jpeg";ar(ef,eF);let eP=r.mkdtempSync(l.join(m.tmpdir(),"react-motion-render")),eO=eR?l.join(eP,"pre-encode."+n5(s,L)):null;U&&eP&&U(`Delete ${eP}`,()=>tn(eP));let{actualWidth:e$,actualHeight:eM}=of({codec:s,height:n.height,scale:y,width:n.width,wantsImageSequence:!1,indent:A,logLevel:V}),eA=e$*y,eD=eM*y,ez={...n,height:eM,width:e$},eB=an(ez.durationInFrames,p),eU=n8(eB,$).length;en.verbose({indent:A,logLevel:V,tag:"renderMedia()"},`Rendering frames ${eB.join("-")}`);let eq=()=>{let e=Math.round(.8*eb+.2*ew);h?.({encodedDoneIn:eE,encodedFrames:e,renderedDoneIn:e_,renderedFrames:ey,renderEstimatedTime:ek,stitchStage:ev,progress:Math.round((70*ey+30*e)/eU)/100})},eG=aM(),eW=aM(),eV=aM();S?.(()=>{eG.cancel()});let{waitForRightTimeOfFrameToBeInserted:eH,setFrameToStitch:eJ,waitForFinish:eY}=os(eB),eK=ez.fps/$;a3(eK,'in "renderMedia()"',"gif"===s);let eQ=()=>{eO&&(eh=(ex=og({width:eA,height:eD,fps:eK,outputLocation:eO,pixelFormat:ef,codec:s,proResProfile:e,crf:i,onProgress:e=>{eb=e,eq()},logLevel:V,imageFormat:eF,signal:eW.cancelSignal,ffmpegOverride:T??(({args:e})=>e),videoBitrate:N,encodingMaxRate:j,encodingBufferSize:R,indent:A,x264Preset:t??null,colorSpace:K,binariesDirectory:et,hardwareAcceleration:el})).task)},eX=async()=>{if(eh){await eY(),eh?.stdin?.end();try{await eh}catch{throw Error(ex?.getLogs())}}return{usesParallelEncoding:!!eh}},eZ=!oo(s).audio||k,e0=[],e1=0,e2=0,e3=(e,t)=>{let i={frame:e,time:t};if(!(t<e2)||10!==e0.length){if(t>e1)e0.unshift(i),e1=t;else{let e=e0.findIndex(({time:e})=>e<t);e0.splice(e,0,i)}e0.length>10&&e0.pop(),e2=e0[e0.length-1]?.time??e2}},e4=()=>Promise.resolve(void 0);return o7({happyPath:new Promise((n,o)=>{Promise.resolve(eQ()).then(()=>nG(W,{offthreadVideoThreads:eu??2,indent:A,port:E,remotionRoot:z(),logLevel:V,webpackConfigOrServeUrl:G,offthreadVideoCacheSizeInBytes:Y??null,binariesDirectory:et,forceIPv4:!1},{onDownload:g})).then(({server:e,cleanupServer:t})=>{e4=t;let i=Date.now();return a9({composition:ez,onFrameUpdate:(e,t)=>{ey=e;let n=Date.now(),a=n-i;i=n,eC.push(a),eC.length>150&&eC.shift();let o=eC.reduce((e,t)=>e+t,0)/eC.length;ek=Math.round((eU-ey)*o),eq(),e3(t,a)},concurrency:P,outputDir:eR?null:eP,onStart:e=>{ey=0,eq(),x?.(e)},serializedInputPropsWithCustomSchema:a,envVariables:c,imageFormat:eF,jpegQuality:D,frameRange:p,puppeteerInstance:u,everyNthFrame:$,onFrameBuffer:eR?async(e,t)=>{if(await eH(t),eS)return;let i=ad("piping"),n=ex?.getExitStatus();if(n?.type==="quit-successfully")throw Error(`FFmpeg already quit while trying to pipe frame ${t} to it. Stderr: ${n.stderr}}`);if(n?.type==="quit-with-error")throw Error(`FFmpeg quit with code ${n.exitCode} while piping frame ${t}. Stderr: ${n.stderr}}`);eh?.stdin?.write(e),am(i),eJ(Math.min(eB[1]+1,t+$))}:null,webpackBundleOrServeUrl:G,onBrowserLog:v,onDownload:g,timeoutInMilliseconds:b,chromiumOptions:w,scale:y,browserExecutable:_,port:E,cancelSignal:eG.cancelSignal,muted:eZ,logLevel:V,indent:A,server:e,serializedResolvedPropsWithCustomSchema:H,offthreadVideoCacheSizeInBytes:Y,offthreadVideoThreads:eu,parallelEncodingEnabled:eR,binariesDirectory:et,compositionStart:eo,forSeamlessAacConcatenation:ea,onBrowserDownload:es,onArtifact:er,chromeMode:ep,imageSequencePattern:null,mediaCacheSizeInBytes:ed,onLog:em})}).then(e=>Promise.all([e,eX()])).then(([{assetsInfo:n}])=>{e_=Date.now()-eT,en.verbose({indent:A,logLevel:V},"Rendering frames done in",e_+"ms"),eg&&F(eg);let a=Date.now();return o9({width:eA,height:eD,fps:eK,outputLocation:eg,preEncodedFileLocation:eO,preferLossless:q,indent:A,force:f,pixelFormat:ef,codec:s,proResProfile:e,crf:i,assetsInfo:n,onProgress:e=>{ev="muxing",eO?ew=Math.min(e,eU):(ew=Math.min(e,eU),eb=Math.min(e,eU)),eb===eU&&(eE=Date.now()-a),e>0&&eq()},onDownload:g,numberOfGifLoops:B,logLevel:V,cancelSignal:eV.cancelSignal,muted:eZ,enforceAudioTrack:C,ffmpegOverride:T??null,audioBitrate:I,videoBitrate:N,bufferSize:R,maxRate:j,audioCodec:L,x264Preset:t??null,colorSpace:K,binariesDirectory:et,separateAudioTo:ei,metadata:ec,hardwareAcceleration:el})}).then(e=>{en.verbose({indent:A,logLevel:V},"Stitching done in",eE+"ms"),e0.sort((e,t)=>t.time-e.time);let t={buffer:e,slowestFrames:e0};Z()?J().onRenderSucceed({indent:A,logLevel:V,output:eg}).then(()=>{n(t)}).catch(e=>{en.error({indent:A,logLevel:V},"Could not create reproduction",e)}):n(t)}).catch(e=>{if(eS=!0,eG.cancel(),eV.cancel(),eW.cancel(),void 0!==eh&&null===eh.exitCode){let t=new Promise(e=>{setTimeout(()=>{e()},2e3),eh.on("close",e)});try{eh.kill()}catch{}return t.then(()=>{o(e)})}o(e)}).finally(()=>{null!==eO&&r.existsSync(eO)&&tn(l.dirname(eO)),eP&&r.existsSync(eP)&&tn(eP),e4?.(!1).catch(e=>{en.error({indent:A,logLevel:V},"Could not cleanup: ",e)})})}),cancelSignal:S,cancelMessage:aA.renderMedia})}),so=({proResProfile:e,x264Preset:t,crf:i,composition:n,inputProps:a,pixelFormat:o,codec:s,envVariables:r,frameRange:c,puppeteerInstance:l,outputLocation:p,onProgress:u,overwrite:d,onDownload:m,onBrowserLog:h,onStart:f,timeoutInMilliseconds:g,chromiumOptions:x,scale:b,browserExecutable:w,port:y,cancelSignal:_,muted:E,enforceAudioTrack:S,ffmpegOverride:k,audioBitrate:C,videoBitrate:T,encodingMaxRate:I,encodingBufferSize:N,audioCodec:j,jpegQuality:R,concurrency:L,serveUrl:F,disallowParallelEncoding:P,everyNthFrame:O,imageFormat:$,numberOfGifLoops:M,dumpBrowserLogs:A,preferLossless:D,verbose:z,quality:B,logLevel:U,offthreadVideoCacheSizeInBytes:q,colorSpace:G,repro:W,binariesDirectory:V,separateAudioTo:H,forSeamlessAacConcatenation:J,onBrowserDownload:Y,onArtifact:K,metadata:Q,hardwareAcceleration:X,chromeMode:Z,offthreadVideoThreads:ee,compositionStart:et,mediaCacheSizeInBytes:ei})=>{let ea=z||A?"verbose":U??"info";return void 0!==B&&en.warn({indent:!1,logLevel:ea},'The "quality" option has been renamed. Please use "jpegQuality" instead.'),sa({proResProfile:e??void 0,x264Preset:t??null,codec:s,composition:n,serveUrl:F,audioBitrate:C??null,audioCodec:j??null,browserExecutable:w??null,cancelSignal:_,chromiumOptions:x??{},concurrency:L??null,crf:i??null,disallowParallelEncoding:P??!1,enforceAudioTrack:S??!1,envVariables:r??{},everyNthFrame:O??1,ffmpegOverride:k??void 0,frameRange:c??null,imageFormat:$??null,serializedInputPropsWithCustomSchema:v.NoReactInternals.serializeJSONWithSpecialTypes({indent:void 0,staticBase:null,data:a??{}}).serializedString,jpegQuality:R??B??80,muted:E??!1,numberOfGifLoops:M??null,onBrowserLog:h??null,onDownload:m??(()=>{}),onProgress:u??(()=>{}),onStart:f??(()=>{}),outputLocation:p??null,overwrite:d??!0,pixelFormat:o??null,port:y??null,puppeteerInstance:l??void 0,scale:b??1,timeoutInMilliseconds:g??3e4,videoBitrate:T??null,encodingMaxRate:I??null,encodingBufferSize:N??null,logLevel:ea,preferLossless:D??!1,indent:!1,onCtrlCExit:()=>{},server:void 0,serializedResolvedPropsWithCustomSchema:v.NoReactInternals.serializeJSONWithSpecialTypes({indent:void 0,staticBase:null,data:n.props??{}}).serializedString,offthreadVideoCacheSizeInBytes:q??null,offthreadVideoThreads:ee??null,colorSpace:G??or,repro:W??!1,binariesDirectory:V??null,separateAudioTo:H??null,forSeamlessAacConcatenation:J??!1,onBrowserDownload:Y??tX({indent:!1,logLevel:ea,api:"renderMedia()"}),onArtifact:K??null,metadata:Q??null,compositionStart:et??0,hardwareAcceleration:X??"disable",chromeMode:Z??"headless-shell",mediaCacheSizeInBytes:ei??null,onLog:tZ})},ss=async({composition:e,imageFormat:t=as,serveUrl:i,puppeteerInstance:n,onError:a,serializedInputPropsWithCustomSchema:o,envVariables:s,output:c,frame:p=0,overwrite:u,browserExecutable:d,timeoutInMilliseconds:m,chromiumOptions:h,scale:f,proxyPort:g,cancelSignal:x,jpegQuality:b,onBrowserLog:w,sourceMapGetter:y,logLevel:_,indent:E,serializedResolvedPropsWithCustomSchema:S,onBrowserDownload:k,onArtifact:C,chromeMode:T,mediaCacheSizeInBytes:I,onLog:N})=>{a4(e.height,"height","in the `config` object passed to `renderStill()`"),a4(e.width,"width","in the `config` object passed to `renderStill()`"),a3(e.fps,"in the `config` object of `renderStill()`",!1),a6(e.durationInFrames,{component:"in the `config` object passed to `renderStill()`",allowFloats:!1}),ac(t),v.NoReactInternals.validateFrame({frame:p,durationInFrames:e.durationInFrames,allowFloats:!1});let j=tN({durationInFrames:e.durationInFrames,frame:p});if(nX(m),a8(f),c="string"==typeof c?l.resolve(process.cwd(),c):null,al(b),c){if(r.existsSync(c)){if(!u)throw Error(`Cannot render still - "overwrite" option was set to false, but the output destination ${c} already exists.`);if(!(0,r.statSync)(c).isFile())throw Error(`The output location ${c} already exists, but is not a file, but something else (e.g. folder). Cannot save to it.`)}F(c)}let R=n??await iT({browser:ed,browserExecutable:d,chromiumOptions:h,forceDeviceScaleFactor:f,indent:E,viewport:null,logLevel:_,onBrowserDownload:k,chromeMode:T}),L=await R.newPage({context:y,logLevel:_,indent:E,pageIndex:0,onBrowserLog:w,onLog:N});await L.setViewport({width:e.width,height:e.height,deviceScaleFactor:f});let P=tY({page:L,onError:e=>{a(e),O()},frame:null}),O=async()=>{P(),n?await L.close():R.close({silent:!0}).catch(e=>{en.error({indent:E,logLevel:_},"Unable to close browser",e)})};x?.(()=>{O()}),await n0({serializedInputPropsWithCustomSchema:o,envVariables:s,page:L,serveUrl:i,initialFrame:j,timeoutInMilliseconds:m,proxyPort:g,retriesRemaining:2,audioEnabled:!1,videoEnabled:!0,indent:E,logLevel:_,onServeUrlVisited:()=>{},isMainTab:!0,mediaCacheSizeInBytes:I,initialMemoryAvailable:iy(_)}),await nV({pageFunction:(e,t,i,n,a,o,s,r,c,l)=>{window.remotion_setBundleMode({type:"composition",compositionName:e,serializedResolvedPropsWithSchema:t,compositionDurationInFrames:i,compositionFps:n,compositionHeight:a,compositionWidth:o,compositionDefaultCodec:s,compositionDefaultOutName:r,compositionDefaultVideoImageFormat:c,compositionDefaultPixelFormat:l})},args:[e.id,S,e.durationInFrames,e.fps,e.height,e.width,e.defaultCodec,e.defaultOutName,e.defaultVideoImageFormat,e.defaultPixelFormat],frame:null,page:L,timeoutInMilliseconds:m}),await nK({frame:j,page:L,composition:e.id,timeoutInMilliseconds:m,indent:E,logLevel:_,attempt:0});let[$,M]=await Promise.all([aX({freePage:L,height:e.height,width:e.width,imageFormat:t,scale:f,output:c,jpegQuality:b,wantsBuffer:!c,timeoutInMilliseconds:m}),aV({frame:p,freePage:L,timeoutInMilliseconds:m})]),A=aJ({assets:M,frameBuffer:$}),D=[];for(let e of A){for(let t of D)if(e.filename===t.filename)throw Error(`An artifact with output "${e.filename}" was already registered at frame ${t.frame}, but now registered again at frame ${e.frame}. Artifacts must have unique names. https://remotion.dev/docs/artifacts`);D.push(e),C?.(e)}return await O(),{buffer:c?null:$}},sr=(n3(e=>{let t=[];return Promise.race([new Promise((i,n)=>{let a=e=>n(e);nG(e.server,{webpackConfigOrServeUrl:e.serveUrl,port:e.port,remotionRoot:z(),offthreadVideoThreads:e.offthreadVideoThreads??2,logLevel:e.logLevel,indent:e.indent,offthreadVideoCacheSizeInBytes:e.offthreadVideoCacheSizeInBytes,binariesDirectory:e.binariesDirectory,forceIPv4:!1},{onDownload:e.onDownload}).then(({server:i,cleanupServer:n})=>{t.push(()=>n(!1));let{serveUrl:o,offthreadPort:s,sourceMap:r}=i;return ss({...e,serveUrl:o,onError:a,proxyPort:s,sourceMapGetter:r})}).then(e=>i(e)).catch(e=>n(e)).finally(()=>{t.forEach(t=>{t().catch(t=>{en.error(e,"Cleanup error:",t)})})})}),new Promise((t,i)=>{e.cancelSignal?.(()=>{i(Error(aA.renderStill))})})])}),async({page:e,serializedInputPropsWithCustomSchema:t,envVariables:i,serveUrl:n,timeoutInMilliseconds:a,port:o,id:s,indent:r,logLevel:c,onServeUrlVisited:l,mediaCacheSizeInBytes:p})=>{nX(a),await n0({serializedInputPropsWithCustomSchema:t,envVariables:i,page:e,serveUrl:n,initialFrame:0,timeoutInMilliseconds:a,proxyPort:o,retriesRemaining:2,audioEnabled:!1,videoEnabled:!1,indent:r,logLevel:c,onServeUrlVisited:l,isMainTab:!0,mediaCacheSizeInBytes:p,initialMemoryAvailable:iy(c)}),await nV({page:e,pageFunction:()=>{window.remotion_setBundleMode({type:"evaluation"})},frame:null,args:[],timeoutInMilliseconds:a}),await nY({page:e,timeoutInMilliseconds:a,frame:null,logLevel:c,indent:r}),en.verbose({indent:r,tag:"selectComposition()",logLevel:c},"Running calculateMetadata()...");let u=Date.now(),{value:d,size:m}=await nV({pageFunction:e=>window.remotion_calculateComposition(e),frame:null,page:e,args:[s],timeoutInMilliseconds:a});en.verbose({indent:r,tag:"selectComposition()",logLevel:c},`calculateMetadata() took ${Date.now()-u}ms`);let{width:h,durationInFrames:f,fps:g,height:x,defaultCodec:b,defaultOutName:w,defaultVideoImageFormat:y,defaultPixelFormat:_}=d;return{metadata:{id:s,width:h,height:x,fps:g,durationInFrames:f,props:v.NoReactInternals.deserializeJSONWithSpecialTypes(d.serializedResolvedPropsWithCustomSchema),defaultProps:v.NoReactInternals.deserializeJSONWithSpecialTypes(d.serializedDefaultPropsWithCustomSchema),defaultCodec:b,defaultOutName:w,defaultVideoImageFormat:y,defaultPixelFormat:_},propsSize:m}}),sc=n3(async e=>{let t=[],{puppeteerInstance:i,browserExecutable:n,chromiumOptions:a,serveUrl:o,logLevel:s,indent:r,port:c,envVariables:l,id:p,serializedInputPropsWithCustomSchema:u,onBrowserLog:d,server:m,timeoutInMilliseconds:h,offthreadVideoCacheSizeInBytes:f,binariesDirectory:g,onBrowserDownload:v,onServeUrlVisited:x,chromeMode:b,mediaCacheSizeInBytes:w}=e,[{page:y,cleanupPage:_},E]=await Promise.all([iI({passedInInstance:i,browserExecutable:n,chromiumOptions:a,forceDeviceScaleFactor:void 0,indent:r,logLevel:s,onBrowserDownload:v,chromeMode:b,pageIndex:0,onBrowserLog:d,onLog:sp.defaultOnLog}),nG(e.server,{webpackConfigOrServeUrl:o,port:c,remotionRoot:z(),offthreadVideoThreads:0,logLevel:s,indent:r,offthreadVideoCacheSizeInBytes:f,binariesDirectory:g,forceIPv4:!1},{onDownload:()=>{}}).then(e=>(t.push(()=>e.cleanupServer(!0)),e))]);return t.push(()=>_()),new Promise((e,o)=>{t.push(tY({page:y,frame:null,onError:e=>o(e)})),y.setBrowserSourceMapGetter(E.server.sourceMap),sr({serveUrl:E.server.serveUrl,page:y,port:E.server.offthreadPort,browserExecutable:n,chromiumOptions:a,envVariables:l,id:p,serializedInputPropsWithCustomSchema:u,timeoutInMilliseconds:h,logLevel:s,indent:r,puppeteerInstance:i,server:m,offthreadVideoCacheSizeInBytes:f,binariesDirectory:g,onBrowserDownload:v,onServeUrlVisited:x,chromeMode:b,mediaCacheSizeInBytes:w}).then(t=>e(t)).catch(e=>{o(e)}).finally(()=>{t.forEach(e=>{e().catch(e=>{en.error({indent:r,logLevel:s},"Cleanup error:",e)})})})})}),sl=async e=>{let{id:t,serveUrl:i,browserExecutable:n,chromiumOptions:a,envVariables:o,inputProps:s,onBrowserLog:r,port:c,puppeteerInstance:l,timeoutInMilliseconds:p,verbose:u,logLevel:d,offthreadVideoCacheSizeInBytes:m,binariesDirectory:h,onBrowserDownload:f,chromeMode:g,offthreadVideoThreads:x,mediaCacheSizeInBytes:b}=e,w=d??(u?"verbose":"info");return(await sc({id:t,serveUrl:i,browserExecutable:n??null,chromiumOptions:a??{},envVariables:o??{},serializedInputPropsWithCustomSchema:v.NoReactInternals.serializeJSONWithSpecialTypes({indent:void 0,staticBase:null,data:s??{}}).serializedString,onBrowserLog:r??null,port:c??null,puppeteerInstance:l,timeoutInMilliseconds:p??3e4,logLevel:w,indent:!1,server:void 0,offthreadVideoCacheSizeInBytes:m??null,binariesDirectory:h??null,onBrowserDownload:f??tX({indent:!1,logLevel:w,api:"selectComposition()"}),onServeUrlVisited:()=>{},chromeMode:g??"headless-shell",offthreadVideoThreads:x??null,mediaCacheSizeInBytes:b??null})).metadata},sp={defaultOnLog:tZ};n="info","undefined"==typeof Bun?(()=>{if(Number(process.version.replace("v","").split(".")[0])<v.NoReactInternals.MIN_NODE_VERSION)throw Error(`Remotion requires at least Node ${v.NoReactInternals.MIN_NODE_VERSION}. You currently have ${process.version}. Update your node version to ${v.NoReactInternals.MIN_NODE_VERSION} to use Remotion.`)})():(()=>{if(!Bun.semver.satisfies(Bun.version,`>=${v.NoReactInternals.MIN_BUN_VERSION}`))throw Error(`Remotion requires at least Bun ${v.NoReactInternals.MIN_BUN_VERSION}. You currently have ${Bun.version}. Update your Bun version to ${v.NoReactInternals.MIN_BUN_VERSION} to use Remotion.`)})(),((e,t)=>{if("win32"===process.platform||"darwin"===process.platform)return;let{report:i}=process;if(i){let n=i.getReport();if("string"==typeof n){en.warn({logLevel:e,indent:t},"Bun limitation: process.report.getReport() "+n);return}let{glibcVersionRuntime:a}=n.header;if(!a)return;let o=tT(a);o&&en.warn({logLevel:e,indent:t},o)}})(n,!1)}};
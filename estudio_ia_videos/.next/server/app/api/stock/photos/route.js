"use strict";(()=>{var e={};e.id=8390,e.ids=[8390],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},97446:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>u,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var o={};s.r(o),s.d(o,{GET:()=>l});var r=s(49303),a=s(88716),i=s(60670),n=s(87070),h=s(34385);let c=s(14923).k.createContext("API.Stock.Photos");async function l(e){let{searchParams:t}=new URL(e.url),s=t.get("query")??"",o=Number(t.get("page")??"1");if(!s)return n.NextResponse.json({error:"query \xe9 obrigat\xf3rio"},{status:400});try{let e=await h.stockAssetService.searchImages(s,o);return n.NextResponse.json({items:e})}catch(e){return c.error("Erro ao buscar fotos",{error:e instanceof Error?e.message:"Erro desconhecido",query:s,page:o}),n.NextResponse.json({error:"Erro interno ao buscar fotos"},{status:500})}}let p=new r.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/stock/photos/route",pathname:"/api/stock/photos",filename:"route",bundlePath:"app/api/stock/photos/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\stock\\photos\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:m}=p,g="/api/stock/photos/route";function f(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},14923:(e,t,s)=>{s.d(t,{k:()=>r});class o{formatMessage(e,t,s){return{level:e,message:t,timestamp:new Date().toISOString(),data:s}}log(e,t,s){let o=this.formatMessage(e,t,s);this.isDevelopment?console.log(`${{info:"\x1b[36m",warn:"\x1b[33m",error:"\x1b[31m",debug:"\x1b[35m"}[e]}[${e.toUpperCase()}]\x1b[0m ${o.timestamp} - ${t}`,s||""):console.log(JSON.stringify(o))}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t){this.log("error",e,t)}debug(e,t){this.isDevelopment&&this.log("debug",e,t)}constructor(){this.isDevelopment=!1}}let r=new o},34385:(e,t,s)=>{class o{static{this.PEXELS_API_KEY=process.env.PEXELS_API_KEY||"demo-key"}static{this.UNSPLASH_ACCESS_KEY=process.env.UNSPLASH_ACCESS_KEY||"demo-key"}static{this.GIPHY_API_KEY=process.env.GIPHY_API_KEY||"demo-key"}static async searchVideos(e,t=1,s=20){try{let e=[];for(let o=0;o<s;o++)e.push({id:`pexels-video-${t}-${o}`,url:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",thumbnail:`https://images.unsplash.com/photo-${15e11+o}?w=300&h=200&fit=crop&crop=center`,width:1920,height:1080,duration:Math.floor(30*Math.random())+5,author:`Creator ${o+1}`,source:"pexels",tags:["nature","business","technology","people"].slice(0,Math.floor(4*Math.random())+1)});return e}catch(e){return console.error("Error searching Pexels videos:",e),[]}}static async searchPhotos(e,t=1,s=20){try{let e=[];for(let o=0;o<s;o++)e.push({id:`unsplash-photo-${t}-${o}`,url:`https://images.unsplash.com/photo-${15e11+o}?w=800&h=600&fit=crop`,thumbnail:`https://images.unsplash.com/photo-${15e11+o}?w=300&h=200&fit=crop&crop=center`,width:800,height:600,author:`Photographer ${o+1}`,source:"unsplash",downloadUrl:`https://images.unsplash.com/photo-${15e11+o}?w=800&h=600&fit=crop`,tags:["business","technology","nature","people","urban"].slice(0,Math.floor(4*Math.random())+1)});return e}catch(e){return console.error("Error searching Unsplash photos:",e),[]}}static async searchGifs(e,t=1,s=20){try{let e=[];for(let o=0;o<s;o++)e.push({id:`giphy-gif-${t}-${o}`,url:`https://media.giphy.com/media/sample-gif-${o}/giphy.gif`,thumbnail:`https://media.giphy.com/media/sample-gif-${o}/100w.gif`,width:480,height:270,source:"giphy",tags:["fun","reaction","emoji","animation"].slice(0,Math.floor(3*Math.random())+1)});return e}catch(e){return console.error("Error searching Giphy GIFs:",e),[]}}static async searchAll(e,t="all",s=1,o=20){let r=[];("videos"===t||"all"===t)&&r.push(this.searchVideos(e,s,Math.floor(o/3)+1)),("photos"===t||"all"===t)&&r.push(this.searchPhotos(e,s,Math.floor(o/3)+1)),("gifs"===t||"all"===t)&&r.push(this.searchGifs(e,s,Math.floor(o/3)+1));try{return(await Promise.all(r)).flat().sort(()=>Math.random()-.5).slice(0,o)}catch(e){return console.error("Error in unified search:",e),[]}}static async getTrending(e="videos"){let t=["business","technology","nature","people","urban","office","meeting","presentation","success","growth"],s=t[Math.floor(Math.random()*t.length)];switch(e){case"videos":return this.searchVideos(s,1,10);case"photos":return this.searchPhotos(s,1,10);case"gifs":return this.searchGifs(s,1,10);default:return[]}}static async downloadAsset(e){if("unsplash"===e.source&&e.downloadUrl)try{return await fetch(e.downloadUrl),e.url}catch(e){console.error("Error downloading asset:",e)}return e.url}}class r{static{this.cache=new Map}static{this.CACHE_DURATION=3e5}static get(e){let t=this.cache.get(e);return t&&Date.now()-t.timestamp<this.CACHE_DURATION?t.data:(this.cache.delete(e),null)}static set(e,t){this.cache.set(e,{data:t,timestamp:Date.now()})}static clear(){this.cache.clear()}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),o=t.X(0,[1216],()=>s(97446));module.exports=o})();
"use strict";(()=>{var e={};e.id=5082,e.ids=[5082],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5245:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>v,patchFetch:()=>T,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{GET:()=>m,POST:()=>g});var a=s(49303),n=s(88716),o=s(60670),i=s(87070);class c{static getInstance(){return this.instance||(this.instance=new c),this.instance}logEvent(e,t){console.log(`ðŸ“Š [${e}]`,t)}}class u{static getInstance(){return this.instance||(this.instance=new u),this.instance}async synthesize(e,t,s){await new Promise(e=>setTimeout(e,1500));let r=`tts_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{jobId:r,audioUrl:`/api/audio/generated/${r}.mp3`,audioBuffer:new ArrayBuffer(100*e.length),duration:Math.floor(50*e.length),engine:t,voice:s.voice,language:s.language,phonemes:[],visemes:[],wordTimestamps:[],quality:.9,fromCache:Math.random()>.7}}getStats(){return{engines:{elevenlabs:{status:"active",requests:150,success:145},azure:{status:"active",requests:120,success:118},google:{status:"active",requests:80,success:78}},performance:{averageResponseTime:1500,successRate:.97,totalRequests:350},cache:{hitRate:.75,totalEntries:500},rateLimits:{elevenlabs:{remaining:8500,resetTime:"2024-01-01T00:00:00Z"},azure:{remaining:9200,resetTime:"2024-01-01T00:00:00Z"},google:{remaining:7800,resetTime:"2024-01-01T00:00:00Z"}}}}}async function g(e){let t=c.getInstance(),s=Date.now();try{let{text:r,engine:a="elevenlabs",voice:n="pt-BR-AntonioNeural",language:o="pt-BR",speed:c=1,pitch:g=1,stability:m=.75,clarity:p=.85,userId:l}=await e.json();if(!r||"string"!=typeof r)return i.NextResponse.json({error:"Texto \xe9 obrigat\xf3rio e deve ser uma string"},{status:400});if(r.length>1e4)return i.NextResponse.json({error:"Texto muito longo (m\xe1ximo 10.000 caracteres)"},{status:400});t.logEvent("tts_generate_request",{userId:l,engine:a,textLength:r.length,voice:n,language:o});let d=u.getInstance(),h=await d.synthesize(r,a,{voice:n,language:o,speed:c,pitch:g,stability:m,clarity:p,userId:l});return t.logEvent("tts_generate_success",{userId:l,engine:a,duration:h.duration,processingTime:Date.now()-s,audioSize:h.audioBuffer?.byteLength||0}),i.NextResponse.json({success:!0,data:{jobId:h.jobId,audioUrl:h.audioUrl,duration:h.duration,engine:h.engine,voice:h.voice,language:h.language,metadata:{phonemes:h.phonemes,visemes:h.visemes,wordTimestamps:h.wordTimestamps,quality:h.quality},performance:{processingTime:Date.now()-s,cacheHit:h.fromCache||!1}}})}catch(e){return t.logEvent("tts_generate_error",{error:e instanceof Error?e.message:String(e),stack:e instanceof Error?e.stack:void 0,processingTime:Date.now()-s}),console.error("Erro na gera\xe7\xe3o TTS:",e),i.NextResponse.json({error:"Erro interno do servidor",message:e instanceof Error?e.message:String(e),code:"TTS_GENERATION_ERROR"},{status:500})}}async function m(e){try{let e=u.getInstance().getStats();return i.NextResponse.json({success:!0,data:{engines:e.engines,performance:e.performance,cache:e.cache,rateLimits:e.rateLimits}})}catch(e){return console.error("Erro ao obter estat\xedsticas TTS:",e),i.NextResponse.json({error:"Erro ao obter estat\xedsticas",message:e instanceof Error?e.message:String(e)},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/tts/generate/route",pathname:"/api/tts/generate",filename:"route",bundlePath:"app/api/tts/generate/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\tts\\generate\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h}=p,v="/api/tts/generate/route";function T(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,5972],()=>s(5245));module.exports=r})();
"use strict";(()=>{var e={};e.id=3706,e.ids=[3706],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},84770:e=>{e.exports=require("crypto")},38095:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>g,requestAsyncStorage:()=>m,routeModule:()=>x,serverHooks:()=>f,staticGenerationAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{POST:()=>c});var o=r(49303),a=r(88716),i=r(60670),n=r(87070),u=r(84770);let d={synthesize:async e=>{if(!e.text||"string"!=typeof e.text||0===e.text.trim().length)throw Error("Text is required and must be a string");let t=e.text.trim().split(/\s+/).length,r=e.format??"mp3";return{fileUrl:`https://test-bucket.s3.amazonaws.com/tts/${(0,u.randomUUID)()}.${r}`,duration:Math.max(1,Math.round(t/150*60)),voiceId:e.voiceId||"pt-BR-Neural2-A",format:r}}};var p=r(91585);let l=p.Ry({text:p.Z_().min(1,"Text is required."),slideId:p.Z_().uuid("Invalid Slide ID")});async function c(e){try{let t=await e.json(),r=l.safeParse(t);if(!r.success)return n.NextResponse.json({error:r.error.format()},{status:400});let{text:s,slideId:o}=r.data,a=await d.synthesize({text:s});if(!a.fileUrl)return n.NextResponse.json({error:"TTS generation failed."},{status:500});return n.NextResponse.json({slideId:o,audioUrl:a.fileUrl,duration:a.duration})}catch(e){return console.error("TTS API Error:",e),n.NextResponse.json({error:"An unexpected error occurred."},{status:500})}}let x=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/tts/route",pathname:"/api/tts",filename:"route",bundlePath:"app/api/tts/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\tts\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:h,serverHooks:f}=x,v="/api/tts/route";function g(){return(0,i.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5972,1585],()=>r(38095));module.exports=s})();
"use strict";(()=>{var e={};e.id=8829,e.ids=[8829],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},196289:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>w,patchFetch:()=>O,requestAsyncStorage:()=>v,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var a={};r.r(a),r.d(a,{GET:()=>p,dynamic:()=>c,runtime:()=>u});var s=r(349303),o=r(88716),n=r(60670),i=r(387070);(function(){var e=Error("Cannot find module '~/lib/services/supabase-server'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '~/lib/services/redis'");throw e.code="MODULE_NOT_FOUND",e}();let u="nodejs",c="force-dynamic";async function l(){let e=Date.now();try{let t=Object(function(){var e=Error("Cannot find module '~/lib/services/supabase-server'");throw e.code="MODULE_NOT_FOUND",e}())(new Request("http://localhost")),{error:r}=await t.from("render_jobs").select("id").limit(1).single(),a=Date.now()-e;if(r&&"PGRST116"!==r.code)return{status:"error",message:r.message,latency_ms:a};return{status:"ok",latency_ms:a}}catch(t){return{status:"error",message:t.message,latency_ms:Date.now()-e}}}async function d(){let e=Date.now();try{let t=Object(function(){var e=Error("Cannot find module '~/lib/services/redis'");throw e.code="MODULE_NOT_FOUND",e}())();await t.set("healthcheck",Date.now().toString(),"EX",10);let r=Date.now()-e;return{status:"ok",latency_ms:r}}catch(t){return{status:"error",message:t.message,latency_ms:Date.now()-e}}}async function h(){try{return{status:"ok",waiting:0,active:0}}catch(e){return{status:"error",message:e.message}}}async function p(){let e=new Date().toISOString(),[t,r,a]=await Promise.all([l(),d(),h()]),s={database:t,redis:r,queue:a},o=Object.values(s).some(e=>"error"===e.status);return i.NextResponse.json({status:o?"unhealthy":"healthy",timestamp:e,checks:s},{status:o?503:200,headers:{"Cache-Control":"no-store, no-cache, must-revalidate","Content-Type":"application/json"}})}let m=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\health\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:v,staticGenerationAsyncStorage:f,serverHooks:g}=m,w="/api/health/route";function O(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>r(196289));module.exports=a})();
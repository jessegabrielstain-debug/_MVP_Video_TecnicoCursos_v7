"use strict";(()=>{var e={};e.id=9575,e.ids=[9575],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},640075:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>l,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>p,staticGenerationAsyncStorage:()=>h});var o={};t.r(o),t.d(o,{POST:()=>u});var s=t(349303),a=t(88716),n=t(60670),i=t(387070);async function u(e){try{let r=e.cookies.get("refresh-token")?.value;if(!r)return i.NextResponse.json({error:"Refresh token n\xe3o encontrado"},{status:401});let t=await Object(function(){var e=Error("Cannot find module '@/lib/auth/auth-service'");throw e.code="MODULE_NOT_FOUND",e}()).refreshTokens(r),o=i.NextResponse.json({success:!0,user:{id:t.user.id,email:t.user.email,name:t.user.name,avatar:t.user.avatar,role:t.user.role,permissions:t.user.permissions,preferences:t.user.preferences},expiresAt:t.expiresAt});return Object(function(){var e=Error("Cannot find module '@/lib/auth/auth-middleware'");throw e.code="MODULE_NOT_FOUND",e}()).setAuthCookies(o,t.accessToken,t.refreshToken),o}catch(t){console.error("Refresh token error:",t);let e=t instanceof Error?t.message:"Token de refresh inv\xe1lido",r=i.NextResponse.json({error:e},{status:401});return Object(function(){var e=Error("Cannot find module '@/lib/auth/auth-middleware'");throw e.code="MODULE_NOT_FOUND",e}()).clearAuthCookies(r),r}}(function(){var e=Error("Cannot find module '@/lib/auth/auth-service'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/lib/auth/auth-middleware'");throw e.code="MODULE_NOT_FOUND",e}();let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/refresh/route",pathname:"/api/auth/refresh",filename:"route",bundlePath:"app/api/auth/refresh/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\auth\\refresh\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:h,serverHooks:p}=d,l="/api/auth/refresh/route";function f(){return(0,n.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:h})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[8948,5972],()=>t(640075));module.exports=o})();
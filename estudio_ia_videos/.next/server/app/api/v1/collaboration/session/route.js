"use strict";(()=>{var e={};e.id=7286,e.ids=[7286],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},83017:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>w,patchFetch:()=>v,requestAsyncStorage:()=>p,routeModule:()=>m,serverHooks:()=>S,staticGenerationAsyncStorage:()=>g});var s={};a.r(s),a.d(s,{DELETE:()=>d,GET:()=>u,POST:()=>c,PUT:()=>l});var o=a(49303),r=a(88716),n=a(60670),i=a(87070);async function c(e){try{let{title:t,type:a,settings:s}=await e.json(),o={id:`session_${Date.now()}`,title:t||"Nova Sess\xe3o Colaborativa",type:a||"video_production",status:"active",createdAt:new Date().toISOString(),owner:{id:"current_user",name:"Ana Silva",email:"ana.silva@empresa.com",role:"owner"},participants:[{id:"current_user",name:"Ana Silva",email:"ana.silva@empresa.com",role:"owner",isOnline:!0,joinedAt:new Date().toISOString(),lastActivity:new Date().toISOString(),permissions:["read","write","admin"]}],settings:{maxParticipants:s?.maxParticipants||10,recordSession:s?.recordSession??!0,allowGuests:s?.allowGuests??!1,chatEnabled:s?.chatEnabled??!0,voiceEnabled:s?.voiceEnabled??!0,screenShare:s?.screenShare??!0,fileSharing:s?.fileSharing??!0,realTimeSync:s?.realTimeSync??!0,...s},urls:{join:`/collaborate/${Date.now()}`,embed:`/embed/collaborate/${Date.now()}`,share:`/share/collaborate/${Date.now()}`},security:{requireAuth:!0,allowedDomains:["empresa.com"],sessionToken:`token_${Math.random().toString(36).substr(2,9)}`,expiresAt:new Date(Date.now()+864e5).toISOString()}};return i.NextResponse.json({success:!0,data:o,message:"Sess\xe3o colaborativa criada com sucesso"})}catch(e){return console.error("Create collaboration session error:",e),i.NextResponse.json({success:!1,message:"Erro ao criar sess\xe3o colaborativa"},{status:500})}}async function u(e){try{let{searchParams:t}=new URL(e.url),a=t.get("sessionId");if(t.get("userId"),a){let e={id:a,title:"Produ\xe7\xe3o NR-12 - Seguran\xe7a em M\xe1quinas",status:"active",duration:2145,participants:[{id:"user1",name:"Ana Silva",email:"ana.silva@empresa.com",role:"owner",isOnline:!0,currentAction:"Editando timeline principal",cursor:{x:350,y:200},joinedAt:new Date(Date.now()-36e5).toISOString(),lastActivity:new Date().toISOString()},{id:"user2",name:"Carlos Santos",email:"carlos.santos@empresa.com",role:"editor",isOnline:!0,currentAction:"Adicionando narra\xe7\xe3o NR-12",cursor:{x:150,y:150},joinedAt:new Date(Date.now()-18e5).toISOString(),lastActivity:new Date(Date.now()-3e5).toISOString()},{id:"user3",name:"Maria Oliveira",email:"maria.oliveira@empresa.com",role:"viewer",isOnline:!0,currentAction:"Revisando conte\xfado",joinedAt:new Date(Date.now()-9e5).toISOString(),lastActivity:new Date(Date.now()-12e4).toISOString()}],chat:{messages:[{id:"msg1",userId:"user2",userName:"Carlos Santos",message:"Terminei de ajustar a narra\xe7\xe3o da se\xe7\xe3o de seguran\xe7a em m\xe1quinas. Podem revisar?",timestamp:new Date(Date.now()-18e5).toISOString(),type:"text"},{id:"msg2",userId:"system",userName:"Sistema",message:"Ana Silva fez altera\xe7\xf5es no template NR-12",timestamp:new Date(Date.now()-12e5).toISOString(),type:"system"}],unreadCount:2},activity:{recentChanges:[{id:"change1",userId:"user1",userName:"Ana Silva",action:"timeline_updated",description:"Atualizou a timeline principal",timestamp:new Date(Date.now()-6e5).toISOString()},{id:"change2",userId:"user2",userName:"Carlos Santos",action:"audio_added",description:"Adicionou narra\xe7\xe3o em portugu\xeas",timestamp:new Date(Date.now()-12e5).toISOString()}]},analytics:{totalViews:15,totalEdits:47,averageSessionTime:1800,peakParticipants:4,messagesExchanged:23}};return i.NextResponse.json({success:!0,data:e,message:"Sess\xe3o carregada com sucesso"})}let s=[{id:"session_001",title:"Produ\xe7\xe3o NR-12 - Seguran\xe7a em M\xe1quinas",status:"active",participants:3,duration:2145,lastActivity:new Date().toISOString(),role:"owner"},{id:"session_002",title:"Revis\xe3o NR-33 - Espa\xe7os Confinados",status:"paused",participants:2,duration:890,lastActivity:new Date(Date.now()-36e5).toISOString(),role:"editor"},{id:"session_003",title:"Template NR-35 - Trabalho em Altura",status:"ended",participants:0,duration:3240,lastActivity:new Date(Date.now()-864e5).toISOString(),role:"viewer"}];return i.NextResponse.json({success:!0,data:{sessions:s,summary:{active:s.filter(e=>"active"===e.status).length,total:s.length,totalParticipants:s.reduce((e,t)=>e+t.participants,0)}},message:"Sess\xf5es carregadas com sucesso"})}catch(e){return console.error("Get collaboration session error:",e),i.NextResponse.json({success:!1,message:"Erro ao carregar sess\xe3o colaborativa"},{status:500})}}async function l(e){try{let t;let{sessionId:a,action:s,data:o}=await e.json();switch(s){case"join":t={sessionId:a,userId:o.userId,joinedAt:new Date().toISOString(),role:o.role||"viewer",status:"joined"};break;case"leave":t={sessionId:a,userId:o.userId,leftAt:new Date().toISOString(),status:"left"};break;case"send_message":t={messageId:`msg_${Date.now()}`,sessionId:a,userId:o.userId,message:o.message,timestamp:new Date().toISOString(),status:"sent"};break;case"update_cursor":t={sessionId:a,userId:o.userId,cursor:o.cursor,timestamp:new Date().toISOString(),status:"updated"};break;case"sync_changes":t={sessionId:a,changes:o.changes,syncedAt:new Date().toISOString(),version:Math.floor(Date.now()/1e3),status:"synced"};break;default:throw Error(`Action '${s}' not supported`)}return i.NextResponse.json({success:!0,data:t,message:`A\xe7\xe3o '${s}' executada com sucesso`})}catch(e){return console.error("Update collaboration session error:",e),i.NextResponse.json({success:!1,message:"Erro ao atualizar sess\xe3o colaborativa"},{status:500})}}async function d(e){try{let{searchParams:t}=new URL(e.url),a=t.get("sessionId");if(!a)return i.NextResponse.json({success:!1,message:"ID da sess\xe3o \xe9 obrigat\xf3rio"},{status:400});let s={sessionId:a,endedAt:new Date().toISOString(),finalStats:{totalDuration:3240,totalParticipants:4,totalMessages:45,totalChanges:78},status:"ended"};return i.NextResponse.json({success:!0,data:s,message:"Sess\xe3o colaborativa encerrada com sucesso"})}catch(e){return console.error("Delete collaboration session error:",e),i.NextResponse.json({success:!1,message:"Erro ao encerrar sess\xe3o colaborativa"},{status:500})}}let m=new o.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/v1/collaboration/session/route",pathname:"/api/v1/collaboration/session",filename:"route",bundlePath:"app/api/v1/collaboration/session/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\v1\\collaboration\\session\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:p,staticGenerationAsyncStorage:g,serverHooks:S}=m,w="/api/v1/collaboration/session/route";function v(){return(0,n.patchFetch)({serverHooks:S,staticGenerationAsyncStorage:g})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[8948,5972],()=>a(83017));module.exports=s})();
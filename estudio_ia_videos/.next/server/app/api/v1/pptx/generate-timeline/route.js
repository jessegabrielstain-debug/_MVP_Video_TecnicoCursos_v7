"use strict";(()=>{var e={};e.id=4058,e.ids=[4058],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},241082:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>m,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>c,staticGenerationAsyncStorage:()=>p});var i={};o.r(i),o.d(i,{POST:()=>d});var n=o(349303),r=o(88716),a=o(60670),s=o(387070);async function d(e){console.log("‚è±Ô∏è Gerando timeline de v\xeddeo...");try{let{s3Key:t,slides:o,options:i}=await e.json();if(!t||!o)return s.NextResponse.json({success:!1,error:"S3 key e slides s\xe3o obrigat\xf3rios"},{status:400});console.log(`üé¨ Gerando timeline para ${o.length} slides`);let n={defaultSlideDuration:8,transitionDuration:1,addVoiceover:!0,addBackgroundMusic:!0,avatarEnabled:!0,resolution:{width:1920,height:1080},fps:30,...i},r=[],a=0;for(let e=0;e<o.length;e++){let t=o[e],i=t.duration||n.defaultSlideDuration,s=a+i,d={sceneId:`scene_${t.slideNumber}`,slideNumber:t.slideNumber,startTime:a,endTime:s,duration:i,transitions:function(e,t){let o=["fade","slide","zoom","wipe","dissolve"];return 0===e?["fadeIn"]:e===t-1?["fadeOut"]:[o[Math.floor(Math.random()*o.length)]]}(e,o.length),elements:function(e){let t=[];return e.title&&t.push({type:"text",content:e.title,position:{x:50,y:50,width:800,height:100},animation:"fadeInUp",timing:{start:0,end:e.duration||8}}),e.content&&t.push({type:"text",content:e.content,position:{x:50,y:200,width:800,height:400},animation:"fadeIn",timing:{start:1,end:e.duration||8}}),e.images?.forEach((o,i)=>{t.push({type:"image",content:o,position:{x:900+100*i,y:200,width:300,height:200},animation:"zoomIn",timing:{start:2+i,end:e.duration||8}})}),t}(t)};n.addVoiceover&&t.content&&(d.voiceover={text:t.content,voice:"brazilian-female-1",audioFile:`voiceover_slide_${t.slideNumber}.mp3`}),n.avatarEnabled&&(d.avatar={id:"avatar_professional_1",position:"right",animation:"talking"}),d.background={type:t.backgroundImage?"image":"color",value:t.backgroundImage||"#ffffff"},r.push(d),a=s}let d=[];for(let e of r)e.voiceover&&d.push({trackId:`voiceover_${e.sceneId}`,type:"voiceover",file:e.voiceover.audioFile,startTime:e.startTime,endTime:e.endTime,volume:.8});n.addBackgroundMusic&&d.push({trackId:"background_music",type:"music",file:"background_corporate_music.mp3",startTime:0,endTime:a,volume:.3});let u={totalDuration:a,fps:n.fps,resolution:n.resolution,scenes:r,audioTracks:d,metadata:{generatedAt:new Date().toISOString(),version:"1.0.0",templateUsed:"professional_corporate"}};return console.log(`‚úÖ Timeline gerada: ${r.length} cenas, ${a}s total`),s.NextResponse.json({success:!0,timeline:u})}catch(e){return console.error("‚ùå Erro na gera\xe7\xe3o de timeline:",e),s.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Erro interno"},{status:500})}}let u=new n.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/v1/pptx/generate-timeline/route",pathname:"/api/v1/pptx/generate-timeline",filename:"route",bundlePath:"app/api/v1/pptx/generate-timeline/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\v1\\pptx\\generate-timeline\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:c}=u,m="/api/v1/pptx/generate-timeline/route";function g(){return(0,a.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:p})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),i=t.X(0,[8948,5972],()=>o(241082));module.exports=i})();
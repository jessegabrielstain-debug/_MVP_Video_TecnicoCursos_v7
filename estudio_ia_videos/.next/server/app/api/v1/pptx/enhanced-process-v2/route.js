"use strict";(()=>{var e={};e.id=3792,e.ids=[3792],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},51694:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>v,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>P,staticGenerationAsyncStorage:()=>g});var o={};t.r(o),t.d(o,{GET:()=>u,POST:()=>d});var a=t(49303),r=t(88716),n=t(60670),i=t(87070);class l{async parse(e){return console.log("[PPTXParserV2] Parsing PPTX file"),{title:"Presentation",slides:[],metadata:{},assets:{images:[],audio:[],videos:[]},timeline:{duration:0,totalDuration:0,scenes:[]}}}async extractText(e){return console.log("[PPTXParserV2] Extracting text from slides"),[]}async extractImages(e){return console.log("[PPTXParserV2] Extracting images"),[]}async parseFromS3(e){return console.log("[PPTXParserV2] Parsing from S3:",e),{title:"Presentation",slides:[],metadata:{},assets:{images:[],audio:[],videos:[]},timeline:{duration:0,totalDuration:0,scenes:[]}}}}new l;let c=e=>({id:e.id||crypto.randomUUID(),userId:e.userId||"",title:e.title||"Untitled",slides:e.slides||[],createdAt:new Date(e.createdAt||Date.now()),updatedAt:new Date(e.updatedAt||Date.now())});async function d(e){console.log("\uD83D\uDE80 [PPTX Parser v2] Iniciando processamento real...");try{let{s3Key:s,filename:t,options:o={}}=await e.json();if(!s)return i.NextResponse.json({success:!1,error:"S3 key \xe9 obrigat\xf3rio"},{status:400});console.log("\uD83D\uDCE5 [PPTX Parser v2] Processando arquivo do S3:",s);let a=new l,r=await a.parseFromS3(s),n=c(r),d=r.slides.reduce((e,s)=>(s.elements&&s.elements.forEach(s=>{e[s.type]=(e[s.type]||0)+1}),e),{});console.log("✅ [PPTX Parser v2] Processamento real conclu\xeddo:",{slides:r.slides.length,totalElements:r.slides.reduce((e,s)=>e+(s.elements?.length||0),0),elementsByType:d,assets:{images:r.assets.images.length,videos:r.assets.videos.length,audio:r.assets.audio.length},duration:r.timeline.totalDuration,compliance:r.compliance?.score||0});let u=r.slides.reduce((e,s)=>e+(s.elements?.filter(e=>"image"!==e.type).length||0),0);return 0===u&&console.warn("⚠️ [PPTX Parser v2] Nenhum elemento edit\xe1vel encontrado!"),i.NextResponse.json({success:!0,data:n,statistics:{processedSlides:r.slides.length,totalElements:r.slides.reduce((e,s)=>e+s.elements.length,0),editableElements:u,elementsByType:d,totalAssets:r.assets.images.length+r.assets.videos.length+r.assets.audio.length,estimatedDuration:r.timeline.totalDuration,complianceScore:r.compliance?.score||0,processingTime:Date.now()},validation:{hasText:d.text>0,hasImages:r.assets.images.length>0,hasEditableElements:u>0,isCompliant:(r.compliance?.score||0)>70},message:`Processamento real conclu\xeddo: ${r.slides.length} slides, ${u} elementos edit\xe1veis`})}catch(e){return console.error("❌ [PPTX Parser v2] Erro no processamento:",e),i.NextResponse.json({success:!1,error:"Erro ao processar arquivo PPTX com parser real",details:e instanceof Error?e.message:"Erro desconhecido",code:"PARSER_ERROR"},{status:500})}}async function u(e){let{searchParams:s}=new URL(e.url),t=s.get("jobId");return t?i.NextResponse.json({success:!0,job:{jobId:t,status:"completed",progress:100,message:"Processamento real conclu\xeddo com sucesso",timestamp:new Date().toISOString()}}):i.NextResponse.json({error:"Job ID \xe9 obrigat\xf3rio"},{status:400})}let p=new a.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/v1/pptx/enhanced-process-v2/route",pathname:"/api/v1/pptx/enhanced-process-v2",filename:"route",bundlePath:"app/api/v1/pptx/enhanced-process-v2/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\v1\\pptx\\enhanced-process-v2\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:P}=p,v="/api/v1/pptx/enhanced-process-v2/route";function h(){return(0,n.patchFetch)({serverHooks:P,staticGenerationAsyncStorage:g})}}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),o=s.X(0,[8948,5972],()=>t(51694));module.exports=o})();
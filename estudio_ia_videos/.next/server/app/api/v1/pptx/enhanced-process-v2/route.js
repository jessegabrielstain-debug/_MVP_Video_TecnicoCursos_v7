"use strict";(()=>{var e={};e.id=3792,e.ids=[3792],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},694369:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>v,patchFetch:()=>g,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>u});var o={};t.r(o),t.d(o,{GET:()=>l,POST:()=>c});var r=t(349303),n=t(88716),a=t(60670),i=t(387070);async function c(e){console.log("\uD83D\uDE80 [PPTX Parser v2] Iniciando processamento real...");try{let{s3Key:s,filename:t,options:o={}}=await e.json();if(!s)return i.NextResponse.json({success:!1,error:"S3 key \xe9 obrigat\xf3rio"},{status:400});console.log("\uD83D\uDCE5 [PPTX Parser v2] Processando arquivo do S3:",s);let r=Object(function(){var e=Error("Cannot find module '@/lib/pptx-real-parser-v2'");throw e.code="MODULE_NOT_FOUND",e}())(),n=await r.parseFromS3(s),a=Object(function(){var e=Error("Cannot find module '@/lib/types-unified-v2'");throw e.code="MODULE_NOT_FOUND",e}())(n),c=n.slides.reduce((e,s)=>(s.elements.forEach(s=>{e[s.type]=(e[s.type]||0)+1}),e),{});console.log("✅ [PPTX Parser v2] Processamento real conclu\xeddo:",{slides:n.slides.length,totalElements:n.slides.reduce((e,s)=>e+s.elements.length,0),elementsByType:c,assets:{images:n.assets.images.length,videos:n.assets.videos.length,audio:n.assets.audio.length},duration:n.timeline.totalDuration,compliance:n.compliance?.score||0});let l=n.slides.reduce((e,s)=>e+s.elements.filter(e=>"image"!==e.type).length,0);return 0===l&&console.warn("⚠️ [PPTX Parser v2] Nenhum elemento edit\xe1vel encontrado!"),i.NextResponse.json({success:!0,data:a,statistics:{processedSlides:n.slides.length,totalElements:n.slides.reduce((e,s)=>e+s.elements.length,0),editableElements:l,elementsByType:c,totalAssets:n.assets.images.length+n.assets.videos.length+n.assets.audio.length,estimatedDuration:n.timeline.totalDuration,complianceScore:n.compliance?.score||0,processingTime:Date.now()},validation:{hasText:c.text>0,hasImages:n.assets.images.length>0,hasEditableElements:l>0,isCompliant:(n.compliance?.score||0)>70},message:`Processamento real conclu\xeddo: ${n.slides.length} slides, ${l} elementos edit\xe1veis`})}catch(e){return console.error("❌ [PPTX Parser v2] Erro no processamento:",e),i.NextResponse.json({success:!1,error:"Erro ao processar arquivo PPTX com parser real",details:e instanceof Error?e.message:"Erro desconhecido",code:"PARSER_ERROR"},{status:500})}}async function l(e){let{searchParams:s}=new URL(e.url),t=s.get("jobId");return t?i.NextResponse.json({success:!0,job:{jobId:t,status:"completed",progress:100,message:"Processamento real conclu\xeddo com sucesso",timestamp:new Date().toISOString()}}):i.NextResponse.json({error:"Job ID \xe9 obrigat\xf3rio"},{status:400})}(function(){var e=Error("Cannot find module '@/lib/pptx-real-parser-v2'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/lib/types-unified-v2'");throw e.code="MODULE_NOT_FOUND",e}();let d=new r.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/v1/pptx/enhanced-process-v2/route",pathname:"/api/v1/pptx/enhanced-process-v2",filename:"route",bundlePath:"app/api/v1/pptx/enhanced-process-v2/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\v1\\pptx\\enhanced-process-v2\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:p,staticGenerationAsyncStorage:u,serverHooks:m}=d,v="/api/v1/pptx/enhanced-process-v2/route";function g(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:u})}}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),o=s.X(0,[8948,5972],()=>t(694369));module.exports=o})();
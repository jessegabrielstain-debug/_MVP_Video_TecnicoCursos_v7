/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/v1/video-jobs/route";
exports.ids = ["app/api/v1/video-jobs/route"];
exports.modules = {

/***/ "(rsc)/../node_modules/@supabase/auth-js/dist/main/lib sync recursive":
/*!*************************************************************!*\
  !*** ../node_modules/@supabase/auth-js/dist/main/lib/ sync ***!
  \*************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../node_modules/@supabase/auth-js/dist/main/lib sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/../node_modules/@supabase/functions-js/dist/main sync recursive":
/*!**************************************************************!*\
  !*** ../node_modules/@supabase/functions-js/dist/main/ sync ***!
  \**************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../node_modules/@supabase/functions-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/../node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!*************************************************************!*\
  !*** ../node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \*************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/../node_modules/@supabase/storage-js/dist/main/lib sync recursive":
/*!****************************************************************!*\
  !*** ../node_modules/@supabase/storage-js/dist/main/lib/ sync ***!
  \****************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/../node_modules/@supabase/storage-js/dist/main/lib sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fv1%2Fvideo-jobs%2Froute&page=%2Fapi%2Fv1%2Fvideo-jobs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fv1%2Fvideo-jobs%2Froute.ts&appDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fv1%2Fvideo-jobs%2Froute&page=%2Fapi%2Fv1%2Fvideo-jobs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fv1%2Fvideo-jobs%2Froute.ts&appDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_xampp_htdocs_MVP_Video_TecnicoCursos_v7_estudio_ia_videos_app_api_v1_video_jobs_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/v1/video-jobs/route.ts */ \"(rsc)/./app/api/v1/video-jobs/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/v1/video-jobs/route\",\n        pathname: \"/api/v1/video-jobs\",\n        filename: \"route\",\n        bundlePath: \"app/api/v1/video-jobs/route\"\n    },\n    resolvedPagePath: \"C:\\\\xampp\\\\htdocs\\\\_MVP_Video_TecnicoCursos_v7\\\\estudio_ia_videos\\\\app\\\\api\\\\v1\\\\video-jobs\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_xampp_htdocs_MVP_Video_TecnicoCursos_v7_estudio_ia_videos_app_api_v1_video_jobs_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/v1/video-jobs/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2MSUyRnZpZGVvLWpvYnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnYxJTJGdmlkZW8tam9icyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnYxJTJGdmlkZW8tam9icyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDeGFtcHAlNUNodGRvY3MlNUNfTVZQX1ZpZGVvX1RlY25pY29DdXJzb3NfdjclNUNlc3R1ZGlvX2lhX3ZpZGVvcyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q3hhbXBwJTVDaHRkb2NzJTVDX01WUF9WaWRlb19UZWNuaWNvQ3Vyc29zX3Y3JTVDZXN0dWRpb19pYV92aWRlb3MmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3FEO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXN0dWRpby1pYS12aWRlb3MvPzUyNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxceGFtcHBcXFxcaHRkb2NzXFxcXF9NVlBfVmlkZW9fVGVjbmljb0N1cnNvc192N1xcXFxlc3R1ZGlvX2lhX3ZpZGVvc1xcXFxhcHBcXFxcYXBpXFxcXHYxXFxcXHZpZGVvLWpvYnNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3YxL3ZpZGVvLWpvYnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS92MS92aWRlby1qb2JzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS92MS92aWRlby1qb2JzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxceGFtcHBcXFxcaHRkb2NzXFxcXF9NVlBfVmlkZW9fVGVjbmljb0N1cnNvc192N1xcXFxlc3R1ZGlvX2lhX3ZpZGVvc1xcXFxhcHBcXFxcYXBpXFxcXHYxXFxcXHZpZGVvLWpvYnNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3YxL3ZpZGVvLWpvYnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fv1%2Fvideo-jobs%2Froute&page=%2Fapi%2Fv1%2Fvideo-jobs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fv1%2Fvideo-jobs%2Froute.ts&appDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/v1/video-jobs/route.ts":
/*!****************************************!*\
  !*** ./app/api/v1/video-jobs/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_services_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ~lib/services/supabase-server */ \"(rsc)/../lib/services/supabase-server.ts\");\n/* harmony import */ var _lib_utils_rate_limit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils/rate-limit */ \"(rsc)/./app/lib/utils/rate-limit.ts\");\n/* harmony import */ var _lib_utils_metrics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ~lib/utils/metrics */ \"(rsc)/../lib/utils/metrics.ts\");\n/* harmony import */ var _lib_handlers_video_jobs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ~lib/handlers/video-jobs */ \"(rsc)/../lib/handlers/video-jobs.ts\");\n/* harmony import */ var _lib_handlers_video_jobs_query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ~lib/handlers/video-jobs-query */ \"(rsc)/../lib/handlers/video-jobs-query.ts\");\n/* harmony import */ var _lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/render-jobs/mock-store */ \"(rsc)/./app/lib/render-jobs/mock-store.ts\");\nconst runtime = \"nodejs\";\n\n\n\n\n\n\n\n// Removido schema local de erro (não usado diretamente)\nfunction badRequest(issues) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        code: \"VALIDATION_ERROR\",\n        message: \"Payload inv\\xe1lido\",\n        details: issues\n    }, {\n        status: 400\n    });\n}\nconst allowMockFallback = ()=>process.env.ALLOW_RENDER_JOBS_FALLBACK !== \"false\";\nasync function POST(req) {\n    const started = Date.now();\n    let supabase = null;\n    try {\n        const json = await req.json();\n        const parsed = (0,_lib_handlers_video_jobs__WEBPACK_IMPORTED_MODULE_4__.parseVideoJobInput)(json);\n        if ((0,_lib_handlers_video_jobs__WEBPACK_IMPORTED_MODULE_4__.isErr)(parsed)) {\n            return badRequest(parsed.issues);\n        }\n        const authHeader = (req.headers.get(\"authorization\") ?? req.headers.get(\"Authorization\") ?? \"\").trim();\n        const authToken = authHeader.toLowerCase().startsWith(\"bearer \") ? authHeader.slice(7).trim() : authHeader;\n        const hasAuth = authToken.length > 0;\n        const mockMode = (0,_lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__.shouldUseMockRenderJobs)() || !hasAuth;\n        let userId;\n        if (mockMode) {\n            userId = (0,_lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__.getMockUserId)(req);\n        } else {\n            supabase = (0,_lib_services_supabase_server__WEBPACK_IMPORTED_MODULE_1__.getSupabaseForRequest)(req);\n            const { data: userData, error: userErr } = await supabase.auth.getUser();\n            if (userErr || !userData.user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    code: \"UNAUTHORIZED\",\n                    message: \"Usu\\xe1rio n\\xe3o autenticado\"\n                }, {\n                    status: 401\n                });\n            }\n            userId = userData.user.id;\n        }\n        // Rate limiting por usuário (janela fixa 60s)\n        const WINDOW_MS = 60000;\n        const MAX_REQ = 30;\n        const rl = (0,_lib_utils_rate_limit__WEBPACK_IMPORTED_MODULE_2__.checkRateLimit)(`post:${userId}`, MAX_REQ, WINDOW_MS);\n        if (process.env.DEBUG_RATE_LIMIT === \"true\") {\n            console.info(\"[video-jobs] rate-limit-check\", {\n                key: `post:${userId}`,\n                result: rl,\n                bucket: (0,_lib_utils_rate_limit__WEBPACK_IMPORTED_MODULE_2__.inspectRateLimit)(`post:${userId}`)\n            });\n        }\n        if (!rl.allowed) {\n            (0,_lib_utils_metrics__WEBPACK_IMPORTED_MODULE_3__.recordRateLimitHit)();\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(JSON.stringify({\n                code: \"RATE_LIMITED\",\n                message: \"Muitas requisi\\xe7\\xf5es. Tente novamente em breve.\"\n            }), {\n                status: 429,\n                headers: {\n                    \"content-type\": \"application/json\",\n                    \"Retry-After\": String(rl.retryAfterSec)\n                }\n            });\n        }\n        if (mockMode) {\n            const job = (0,_lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__.insertMockJob)(userId, parsed.data);\n            const durationMs = Date.now() - started;\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                job,\n                metrics: {\n                    validation_ms: durationMs\n                }\n            }, {\n                status: 201\n            });\n        }\n        const payload = parsed.data;\n        // Inserção simplificada (assume tabela render_jobs com colunas mínimas): id (uuid default), user_id, project_id, status, created_at\n        if (!supabase) {\n            throw new Error(\"Supabase client n\\xe3o inicializado\");\n        }\n        const { error: insertErr, data } = await supabase.from(\"render_jobs\").insert({\n            user_id: userId,\n            project_id: payload.project_id,\n            status: \"queued\",\n            progress: 0,\n            attempts: 1,\n            render_settings: {\n                slides: payload.slides.length,\n                quality: payload.quality,\n                tts_voice: payload.tts_voice\n            }\n        }).select(\"id,status,project_id,created_at,progress,render_settings,attempts,duration_ms\").single();\n        if (insertErr) {\n            (0,_lib_utils_metrics__WEBPACK_IMPORTED_MODULE_3__.recordError)(\"DB_ERROR\");\n            if (allowMockFallback()) {\n                const job = (0,_lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__.insertMockJob)(userId, payload);\n                const durationMs = Date.now() - started;\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    job,\n                    metadata: {\n                        fallback: \"mock\"\n                    },\n                    metrics: {\n                        validation_ms: durationMs\n                    }\n                }, {\n                    status: 201\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                code: \"DB_ERROR\",\n                message: \"Falha ao criar job\",\n                details: insertErr.message\n            }, {\n                status: 500\n            });\n        }\n        const durationMs = Date.now() - started;\n        const job = data ? {\n            id: data.id,\n            status: data.status,\n            project_id: data.project_id,\n            created_at: data.created_at,\n            progress: data.progress,\n            attempts: data.attempts,\n            duration_ms: data.duration_ms ?? null,\n            settings: data.render_settings\n        } : null;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            job,\n            metrics: {\n                validation_ms: durationMs\n            }\n        }, {\n            status: 201\n        });\n    } catch (err) {\n        (0,_lib_utils_metrics__WEBPACK_IMPORTED_MODULE_3__.recordError)(\"UNEXPECTED\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            code: \"UNEXPECTED\",\n            message: \"Erro inesperado\",\n            details: err.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(req) {\n    const fallbackEnabled = allowMockFallback();\n    let buildMockResponse = null;\n    let userId = \"\";\n    let limit = 10;\n    let statusFilter;\n    try {\n        const authHeader = (req.headers.get(\"authorization\") ?? req.headers.get(\"Authorization\") ?? \"\").trim();\n        const authToken = authHeader.toLowerCase().startsWith(\"bearer \") ? authHeader.slice(7).trim() : authHeader;\n        const hasAuth = authToken.length > 0;\n        const mockMode = (0,_lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__.shouldUseMockRenderJobs)() || !hasAuth;\n        let supabase = null;\n        if (mockMode) {\n            userId = (0,_lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__.getMockUserId)(req);\n        } else {\n            supabase = (0,_lib_services_supabase_server__WEBPACK_IMPORTED_MODULE_1__.getSupabaseForRequest)(req);\n            const { data: userData, error: userErr } = await supabase.auth.getUser();\n            if (userErr || !userData.user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    code: \"UNAUTHORIZED\",\n                    message: \"Usu\\xe1rio n\\xe3o autenticado\"\n                }, {\n                    status: 401\n                });\n            }\n            userId = userData.user.id;\n        }\n        const url = new URL(req.url);\n        const params = {};\n        url.searchParams.forEach((v, k)=>{\n            params[k] = v;\n        });\n        const parsed = (0,_lib_handlers_video_jobs_query__WEBPACK_IMPORTED_MODULE_5__.parseVideoJobsQuery)(params);\n        if (!parsed.success) {\n            const err = parsed;\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                code: \"VALIDATION_ERROR\",\n                message: \"Par\\xe2metros inv\\xe1lidos\",\n                details: err.error.issues\n            }, {\n                status: 400\n            });\n        }\n        limit = parsed.data.limit;\n        statusFilter = parsed.data.status;\n        // Cache simples em memória por usuário+query (TTL 15s)\n        const CACHE_TTL_MS = 15000;\n        const globalAny = globalThis;\n        if (!globalAny.__vj_cache) globalAny.__vj_cache = new Map();\n        const cacheKey = `list:${userId}:${limit}:${statusFilter || \"all\"}`;\n        const computeMockResponse = (cacheTag = \"MISS\")=>{\n            const jobs = (0,_lib_render_jobs_mock_store__WEBPACK_IMPORTED_MODULE_6__.listMockJobs)(userId, {\n                limit,\n                status: statusFilter\n            });\n            const payload = {\n                jobs\n            };\n            globalAny.__vj_cache.set(cacheKey, {\n                expiresAt: Date.now() + CACHE_TTL_MS,\n                payload\n            });\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(JSON.stringify(payload), {\n                status: 200,\n                headers: {\n                    \"content-type\": \"application/json\",\n                    \"X-Cache\": cacheTag,\n                    \"X-Mock-Data\": \"render-jobs\"\n                }\n            });\n        };\n        buildMockResponse = computeMockResponse;\n        const hit = globalAny.__vj_cache.get(cacheKey);\n        if (hit && hit.expiresAt > Date.now()) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(JSON.stringify(hit.payload), {\n                status: 200,\n                headers: {\n                    \"content-type\": \"application/json\",\n                    \"X-Cache\": \"HIT\"\n                }\n            });\n        }\n        if (mockMode) {\n            return computeMockResponse();\n        }\n        if (!supabase) {\n            throw new Error(\"Supabase client n\\xe3o inicializado\");\n        }\n        let query = supabase.from(\"render_jobs\").select(\"id,status,project_id,created_at,progress,render_settings,attempts,duration_ms\").eq(\"user_id\", userId).order(\"created_at\", {\n            ascending: false\n        }).limit(limit);\n        if (statusFilter) {\n            query = query.eq(\"status\", statusFilter);\n        }\n        const { data, error } = await query;\n        if (error) {\n            (0,_lib_utils_metrics__WEBPACK_IMPORTED_MODULE_3__.recordError)(\"DB_ERROR\");\n            if (fallbackEnabled && buildMockResponse) {\n                return buildMockResponse();\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                code: \"DB_ERROR\",\n                message: \"Falha ao listar jobs\",\n                details: error.message\n            }, {\n                status: 500\n            });\n        }\n        // Normaliza render_settings -> settings\n        const jobs = (data ?? []).map((row)=>{\n            const { render_settings, ...rest } = row;\n            return {\n                ...rest,\n                settings: render_settings\n            };\n        });\n        const payload = {\n            jobs\n        };\n        globalAny.__vj_cache.set(cacheKey, {\n            expiresAt: Date.now() + CACHE_TTL_MS,\n            payload\n        });\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(JSON.stringify(payload), {\n            status: 200,\n            headers: {\n                \"content-type\": \"application/json\",\n                \"X-Cache\": \"MISS\"\n            }\n        });\n    } catch (err) {\n        (0,_lib_utils_metrics__WEBPACK_IMPORTED_MODULE_3__.recordError)(\"UNEXPECTED\");\n        console.error(\"[video-jobs:list] unexpected error\", err);\n        if (fallbackEnabled && buildMockResponse) {\n            return buildMockResponse();\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            code: \"UNEXPECTED\",\n            message: \"Erro inesperado\",\n            details: err.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3YxL3ZpZGVvLWpvYnMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFPLE1BQU1BLFVBQVUsU0FBUztBQUVXO0FBQzJCO0FBQ0k7QUFDTDtBQUNBO0FBQ0E7QUFDOEM7QUFFbkgsd0RBQXdEO0FBRXhELFNBQVNjLFdBQVdDLE1BQWU7SUFDakMsT0FBT2QscURBQVlBLENBQUNlLElBQUksQ0FBQztRQUFFQyxNQUFNO1FBQW9CQyxTQUFTO1FBQW9CQyxTQUFTSjtJQUFPLEdBQUc7UUFBRUssUUFBUTtJQUFJO0FBQ3JIO0FBRUEsTUFBTUMsb0JBQW9CLElBQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsMEJBQTBCLEtBQUs7QUFFcEUsZUFBZUMsS0FBS0MsR0FBWTtJQUNyQyxNQUFNQyxVQUFVQyxLQUFLQyxHQUFHO0lBQ3hCLElBQUlDLFdBQTREO0lBQ2hFLElBQUk7UUFDRixNQUFNZCxPQUFPLE1BQU1VLElBQUlWLElBQUk7UUFDM0IsTUFBTWUsU0FBU3hCLDRFQUFrQkEsQ0FBQ1M7UUFDbEMsSUFBSVIsK0RBQUtBLENBQUN1QixTQUFTO1lBQ2pCLE9BQU9qQixXQUFXaUIsT0FBT2hCLE1BQU07UUFDakM7UUFFQSxNQUFNaUIsYUFBYSxDQUFDTixJQUFJTyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxvQkFBb0JSLElBQUlPLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQixFQUFDLEVBQUdDLElBQUk7UUFDcEcsTUFBTUMsWUFBWUosV0FBV0ssV0FBVyxHQUFHQyxVQUFVLENBQUMsYUFDbEROLFdBQVdPLEtBQUssQ0FBQyxHQUFHSixJQUFJLEtBQ3hCSDtRQUNKLE1BQU1RLFVBQVVKLFVBQVVLLE1BQU0sR0FBRztRQUNuQyxNQUFNQyxXQUFXaEMsb0ZBQXVCQSxNQUFNLENBQUM4QjtRQUUvQyxJQUFJRztRQUNKLElBQUlELFVBQVU7WUFDWkMsU0FBU2hDLDBFQUFhQSxDQUFDZTtRQUN6QixPQUFPO1lBQ0xJLFdBQVc1QixvRkFB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WUFBbUJDLFNBQVMsSUFBZUQsT0FBTztRQUFDLEdBQUc7WUFBRUUsUUFBUTtRQUFJO0lBQzlIO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lc3R1ZGlvLWlhLXZpZGVvcy8uL2FwcC9hcGkvdjEvdmlkZW8tam9icy9yb3V0ZS50cz9hMjRkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XHJcblxyXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGdldFN1cGFiYXNlRm9yUmVxdWVzdCB9IGZyb20gJ35saWIvc2VydmljZXMvc3VwYWJhc2Utc2VydmVyJztcclxuaW1wb3J0IHsgY2hlY2tSYXRlTGltaXQsIGluc3BlY3RSYXRlTGltaXQgfSBmcm9tICdAL2xpYi91dGlscy9yYXRlLWxpbWl0JztcclxuaW1wb3J0IHsgcmVjb3JkUmF0ZUxpbWl0SGl0LCByZWNvcmRFcnJvciB9IGZyb20gJ35saWIvdXRpbHMvbWV0cmljcyc7XHJcbmltcG9ydCB7IHBhcnNlVmlkZW9Kb2JJbnB1dCwgaXNFcnIgfSBmcm9tICd+bGliL2hhbmRsZXJzL3ZpZGVvLWpvYnMnO1xyXG5pbXBvcnQgeyBwYXJzZVZpZGVvSm9ic1F1ZXJ5IH0gZnJvbSAnfmxpYi9oYW5kbGVycy92aWRlby1qb2JzLXF1ZXJ5JztcclxuaW1wb3J0IHsgc2hvdWxkVXNlTW9ja1JlbmRlckpvYnMsIGdldE1vY2tVc2VySWQsIGluc2VydE1vY2tKb2IsIGxpc3RNb2NrSm9icyB9IGZyb20gJ0AvbGliL3JlbmRlci1qb2JzL21vY2stc3RvcmUnO1xyXG5cclxuLy8gUmVtb3ZpZG8gc2NoZW1hIGxvY2FsIGRlIGVycm8gKG7Do28gdXNhZG8gZGlyZXRhbWVudGUpXHJcblxyXG5mdW5jdGlvbiBiYWRSZXF1ZXN0KGlzc3VlczogdW5rbm93bikge1xyXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNvZGU6ICdWQUxJREFUSU9OX0VSUk9SJywgbWVzc2FnZTogJ1BheWxvYWQgaW52w6FsaWRvJywgZGV0YWlsczogaXNzdWVzIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGFsbG93TW9ja0ZhbGxiYWNrID0gKCkgPT4gcHJvY2Vzcy5lbnYuQUxMT1dfUkVOREVSX0pPQlNfRkFMTEJBQ0sgIT09ICdmYWxzZSc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcclxuICBjb25zdCBzdGFydGVkID0gRGF0ZS5ub3coKTtcclxuICBsZXQgc3VwYWJhc2U6IFJldHVyblR5cGU8dHlwZW9mIGdldFN1cGFiYXNlRm9yUmVxdWVzdD4gfCBudWxsID0gbnVsbDtcclxuICB0cnkge1xyXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVZpZGVvSm9iSW5wdXQoanNvbik7XHJcbiAgICBpZiAoaXNFcnIocGFyc2VkKSkge1xyXG4gICAgICByZXR1cm4gYmFkUmVxdWVzdChwYXJzZWQuaXNzdWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gKHJlcS5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpID8/IHJlcS5oZWFkZXJzLmdldCgnQXV0aG9yaXphdGlvbicpID8/ICcnKS50cmltKCk7XHJcbiAgICBjb25zdCBhdXRoVG9rZW4gPSBhdXRoSGVhZGVyLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnYmVhcmVyICcpXHJcbiAgICAgID8gYXV0aEhlYWRlci5zbGljZSg3KS50cmltKClcclxuICAgICAgOiBhdXRoSGVhZGVyO1xyXG4gICAgY29uc3QgaGFzQXV0aCA9IGF1dGhUb2tlbi5sZW5ndGggPiAwO1xyXG4gICAgY29uc3QgbW9ja01vZGUgPSBzaG91bGRVc2VNb2NrUmVuZGVySm9icygpIHx8ICFoYXNBdXRoO1xyXG5cclxuICAgIGxldCB1c2VySWQ6IHN0cmluZztcclxuICAgIGlmIChtb2NrTW9kZSkge1xyXG4gICAgICB1c2VySWQgPSBnZXRNb2NrVXNlcklkKHJlcSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdXBhYmFzZSA9IGdldFN1cGFiYXNlRm9yUmVxdWVzdChyZXEpO1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJEYXRhLCBlcnJvcjogdXNlckVyciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgICAgIGlmICh1c2VyRXJyIHx8ICF1c2VyRGF0YS51c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY29kZTogJ1VOQVVUSE9SSVpFRCcsIG1lc3NhZ2U6ICdVc3XDoXJpbyBuw6NvIGF1dGVudGljYWRvJyB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHVzZXJJZCA9IHVzZXJEYXRhLnVzZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmF0ZSBsaW1pdGluZyBwb3IgdXN1w6FyaW8gKGphbmVsYSBmaXhhIDYwcylcclxuICAgIGNvbnN0IFdJTkRPV19NUyA9IDYwXzAwMDtcclxuICAgIGNvbnN0IE1BWF9SRVEgPSAzMDtcclxuICAgIGNvbnN0IHJsID0gY2hlY2tSYXRlTGltaXQoYHBvc3Q6JHt1c2VySWR9YCwgTUFYX1JFUSwgV0lORE9XX01TKTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5ERUJVR19SQVRFX0xJTUlUID09PSAndHJ1ZScpIHtcclxuICAgICAgY29uc29sZS5pbmZvKCdbdmlkZW8tam9ic10gcmF0ZS1saW1pdC1jaGVjaycsIHtcclxuICAgICAgICBrZXk6IGBwb3N0OiR7dXNlcklkfWAsXHJcbiAgICAgICAgcmVzdWx0OiBybCxcclxuICAgICAgICBidWNrZXQ6IGluc3BlY3RSYXRlTGltaXQoYHBvc3Q6JHt1c2VySWR9YCksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFybC5hbGxvd2VkKSB7XHJcbiAgICAgIHJlY29yZFJhdGVMaW1pdEhpdCgpO1xyXG4gICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShKU09OLnN0cmluZ2lmeSh7IGNvZGU6ICdSQVRFX0xJTUlURUQnLCBtZXNzYWdlOiAnTXVpdGFzIHJlcXVpc2nDp8O1ZXMuIFRlbnRlIG5vdmFtZW50ZSBlbSBicmV2ZS4nIH0pLCB7XHJcbiAgICAgICAgc3RhdHVzOiA0MjksXHJcbiAgICAgICAgaGVhZGVyczogeyAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLCAnUmV0cnktQWZ0ZXInOiBTdHJpbmcocmwucmV0cnlBZnRlclNlYykgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobW9ja01vZGUpIHtcclxuICAgICAgY29uc3Qgam9iID0gaW5zZXJ0TW9ja0pvYih1c2VySWQsIHBhcnNlZC5kYXRhKTtcclxuICAgICAgY29uc3QgZHVyYXRpb25NcyA9IERhdGUubm93KCkgLSBzdGFydGVkO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBqb2IsIG1ldHJpY3M6IHsgdmFsaWRhdGlvbl9tczogZHVyYXRpb25NcyB9IH0sIHsgc3RhdHVzOiAyMDEgfSk7XHJcbiAgICB9XHJcblxyXG4gIGNvbnN0IHBheWxvYWQgPSBwYXJzZWQuZGF0YTtcclxuICAgIC8vIEluc2Vyw6fDo28gc2ltcGxpZmljYWRhIChhc3N1bWUgdGFiZWxhIHJlbmRlcl9qb2JzIGNvbSBjb2x1bmFzIG3DrW5pbWFzKTogaWQgKHV1aWQgZGVmYXVsdCksIHVzZXJfaWQsIHByb2plY3RfaWQsIHN0YXR1cywgY3JlYXRlZF9hdFxyXG4gICAgaWYgKCFzdXBhYmFzZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGNsaWVudCBuw6NvIGluaWNpYWxpemFkbycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3I6IGluc2VydEVyciwgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgncmVuZGVyX2pvYnMnKS5pbnNlcnQoe1xyXG4gICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgIHByb2plY3RfaWQ6IHBheWxvYWQucHJvamVjdF9pZCxcclxuICAgICAgc3RhdHVzOiAncXVldWVkJyxcclxuICAgICAgcHJvZ3Jlc3M6IDAsXHJcbiAgICAgIGF0dGVtcHRzOiAxLFxyXG4gICAgICByZW5kZXJfc2V0dGluZ3M6IHsgc2xpZGVzOiBwYXlsb2FkLnNsaWRlcy5sZW5ndGgsIHF1YWxpdHk6IHBheWxvYWQucXVhbGl0eSwgdHRzX3ZvaWNlOiBwYXlsb2FkLnR0c192b2ljZSB9LFxyXG4gICAgfSkuc2VsZWN0KCdpZCxzdGF0dXMscHJvamVjdF9pZCxjcmVhdGVkX2F0LHByb2dyZXNzLHJlbmRlcl9zZXR0aW5ncyxhdHRlbXB0cyxkdXJhdGlvbl9tcycpLnNpbmdsZSgpO1xyXG5cclxuICAgIGlmIChpbnNlcnRFcnIpIHtcclxuICAgICAgcmVjb3JkRXJyb3IoJ0RCX0VSUk9SJyk7XHJcbiAgICAgIGlmIChhbGxvd01vY2tGYWxsYmFjaygpKSB7XHJcbiAgICAgICAgY29uc3Qgam9iID0gaW5zZXJ0TW9ja0pvYih1c2VySWQsIHBheWxvYWQpO1xyXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uTXMgPSBEYXRlLm5vdygpIC0gc3RhcnRlZDtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBqb2IsIG1ldGFkYXRhOiB7IGZhbGxiYWNrOiAnbW9jaycgfSwgbWV0cmljczogeyB2YWxpZGF0aW9uX21zOiBkdXJhdGlvbk1zIH0gfSwgeyBzdGF0dXM6IDIwMSB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBjb2RlOiAnREJfRVJST1InLCBtZXNzYWdlOiAnRmFsaGEgYW8gY3JpYXIgam9iJywgZGV0YWlsczogaW5zZXJ0RXJyLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkdXJhdGlvbk1zID0gRGF0ZS5ub3coKSAtIHN0YXJ0ZWQ7XHJcbiAgY29uc3Qgam9iID0gZGF0YSA/IHsgaWQ6IChkYXRhIGFzIGFueSkuaWQsIHN0YXR1czogKGRhdGEgYXMgYW55KS5zdGF0dXMsIHByb2plY3RfaWQ6IChkYXRhIGFzIGFueSkucHJvamVjdF9pZCwgY3JlYXRlZF9hdDogKGRhdGEgYXMgYW55KS5jcmVhdGVkX2F0LCBwcm9ncmVzczogKGRhdGEgYXMgYW55KS5wcm9ncmVzcywgYXR0ZW1wdHM6IChkYXRhIGFzIGFueSkuYXR0ZW1wdHMsIGR1cmF0aW9uX21zOiAoZGF0YSBhcyBhbnkpLmR1cmF0aW9uX21zID8/IG51bGwsIHNldHRpbmdzOiAoZGF0YSBhcyBhbnkpLnJlbmRlcl9zZXR0aW5ncyB9IDogbnVsbDtcclxuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBqb2IsIG1ldHJpY3M6IHsgdmFsaWRhdGlvbl9tczogZHVyYXRpb25NcyB9IH0sIHsgc3RhdHVzOiAyMDEgfSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZWNvcmRFcnJvcignVU5FWFBFQ1RFRCcpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY29kZTogJ1VORVhQRUNURUQnLCBtZXNzYWdlOiAnRXJybyBpbmVzcGVyYWRvJywgZGV0YWlsczogKGVyciBhcyBFcnJvcikubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IFJlcXVlc3QpIHtcclxuICBjb25zdCBmYWxsYmFja0VuYWJsZWQgPSBhbGxvd01vY2tGYWxsYmFjaygpO1xyXG4gIGxldCBidWlsZE1vY2tSZXNwb25zZTogKCgpID0+IE5leHRSZXNwb25zZSkgfCBudWxsID0gbnVsbDtcclxuICBsZXQgdXNlcklkID0gJyc7XHJcbiAgbGV0IGxpbWl0ID0gMTA7XHJcbiAgbGV0IHN0YXR1c0ZpbHRlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhdXRoSGVhZGVyID0gKHJlcS5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpID8/IHJlcS5oZWFkZXJzLmdldCgnQXV0aG9yaXphdGlvbicpID8/ICcnKS50cmltKCk7XHJcbiAgICBjb25zdCBhdXRoVG9rZW4gPSBhdXRoSGVhZGVyLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgnYmVhcmVyICcpXHJcbiAgICAgID8gYXV0aEhlYWRlci5zbGljZSg3KS50cmltKClcclxuICAgICAgOiBhdXRoSGVhZGVyO1xyXG4gICAgY29uc3QgaGFzQXV0aCA9IGF1dGhUb2tlbi5sZW5ndGggPiAwO1xyXG4gICAgY29uc3QgbW9ja01vZGUgPSBzaG91bGRVc2VNb2NrUmVuZGVySm9icygpIHx8ICFoYXNBdXRoO1xyXG5cclxuICAgIGxldCBzdXBhYmFzZTogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0U3VwYWJhc2VGb3JSZXF1ZXN0PiB8IG51bGwgPSBudWxsO1xyXG4gICAgaWYgKG1vY2tNb2RlKSB7XHJcbiAgICAgIHVzZXJJZCA9IGdldE1vY2tVc2VySWQocmVxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN1cGFiYXNlID0gZ2V0U3VwYWJhc2VGb3JSZXF1ZXN0KHJlcSk7XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlckRhdGEsIGVycm9yOiB1c2VyRXJyIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICAgICAgaWYgKHVzZXJFcnIgfHwgIXVzZXJEYXRhLnVzZXIpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBjb2RlOiAnVU5BVVRIT1JJWkVEJywgbWVzc2FnZTogJ1VzdcOhcmlvIG7Do28gYXV0ZW50aWNhZG8nIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICAgIH1cclxuICAgICAgdXNlcklkID0gdXNlckRhdGEudXNlci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcS51cmwpO1xyXG4gICAgY29uc3QgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmZvckVhY2goKHYsIGspID0+IHsgcGFyYW1zW2tdID0gdjsgfSk7XHJcbiAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVZpZGVvSm9ic1F1ZXJ5KHBhcmFtcyk7XHJcbiAgICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XHJcbiAgICAgIGNvbnN0IGVyciA9IHBhcnNlZCBhcyBpbXBvcnQoJ3pvZCcpLlNhZmVQYXJzZUVycm9yPHVua25vd24+O1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBjb2RlOiAnVkFMSURBVElPTl9FUlJPUicsIG1lc3NhZ2U6ICdQYXLDom1ldHJvcyBpbnbDoWxpZG9zJywgZGV0YWlsczogZXJyLmVycm9yLmlzc3VlcyB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG4gICAgbGltaXQgPSBwYXJzZWQuZGF0YS5saW1pdDtcclxuICAgIHN0YXR1c0ZpbHRlciA9IHBhcnNlZC5kYXRhLnN0YXR1cztcclxuXHJcbiAgICAvLyBDYWNoZSBzaW1wbGVzIGVtIG1lbcOzcmlhIHBvciB1c3XDoXJpbytxdWVyeSAoVFRMIDE1cylcclxuICAgIGNvbnN0IENBQ0hFX1RUTF9NUyA9IDE1XzAwMDtcclxuICAgIGNvbnN0IGdsb2JhbEFueSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7IF9fdmpfY2FjaGU/OiBNYXA8c3RyaW5nLCB7IGV4cGlyZXNBdDogbnVtYmVyOyBwYXlsb2FkOiBhbnkgfT4gfTtcclxuICAgIGlmICghZ2xvYmFsQW55Ll9fdmpfY2FjaGUpIGdsb2JhbEFueS5fX3ZqX2NhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgY29uc3QgY2FjaGVLZXkgPSBgbGlzdDoke3VzZXJJZH06JHtsaW1pdH06JHtzdGF0dXNGaWx0ZXIgfHwgJ2FsbCd9YDtcclxuICAgIGNvbnN0IGNvbXB1dGVNb2NrUmVzcG9uc2UgPSAoY2FjaGVUYWc6ICdNSVNTJyB8ICdISVQnID0gJ01JU1MnKSA9PiB7XHJcbiAgICAgIGNvbnN0IGpvYnMgPSBsaXN0TW9ja0pvYnModXNlcklkLCB7IGxpbWl0LCBzdGF0dXM6IHN0YXR1c0ZpbHRlciB9KTtcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgam9icyB9O1xyXG4gICAgICBnbG9iYWxBbnkuX192al9jYWNoZS5zZXQoY2FjaGVLZXksIHsgZXhwaXJlc0F0OiBEYXRlLm5vdygpICsgQ0FDSEVfVFRMX01TLCBwYXlsb2FkIH0pO1xyXG4gICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShKU09OLnN0cmluZ2lmeShwYXlsb2FkKSwge1xyXG4gICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQ2FjaGUnOiBjYWNoZVRhZywgJ1gtTW9jay1EYXRhJzogJ3JlbmRlci1qb2JzJyB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGJ1aWxkTW9ja1Jlc3BvbnNlID0gY29tcHV0ZU1vY2tSZXNwb25zZTtcclxuICAgIGNvbnN0IGhpdCA9IGdsb2JhbEFueS5fX3ZqX2NhY2hlLmdldChjYWNoZUtleSk7XHJcbiAgICBpZiAoaGl0ICYmIGhpdC5leHBpcmVzQXQgPiBEYXRlLm5vdygpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KGhpdC5wYXlsb2FkKSwge1xyXG4gICAgICAgIHN0YXR1czogMjAwLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQ2FjaGUnOiAnSElUJyB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtb2NrTW9kZSkge1xyXG4gICAgICByZXR1cm4gY29tcHV0ZU1vY2tSZXNwb25zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghc3VwYWJhc2UpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBjbGllbnQgbsOjbyBpbmljaWFsaXphZG8nKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZS5mcm9tKCdyZW5kZXJfam9icycpXHJcbiAgICAgIC5zZWxlY3QoJ2lkLHN0YXR1cyxwcm9qZWN0X2lkLGNyZWF0ZWRfYXQscHJvZ3Jlc3MscmVuZGVyX3NldHRpbmdzLGF0dGVtcHRzLGR1cmF0aW9uX21zJylcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KGxpbWl0KTtcclxuXHJcbiAgICBpZiAoc3RhdHVzRmlsdGVyKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIHN0YXR1c0ZpbHRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnk7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgcmVjb3JkRXJyb3IoJ0RCX0VSUk9SJyk7XHJcbiAgICAgIGlmIChmYWxsYmFja0VuYWJsZWQgJiYgYnVpbGRNb2NrUmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gYnVpbGRNb2NrUmVzcG9uc2UoKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBjb2RlOiAnREJfRVJST1InLCBtZXNzYWdlOiAnRmFsaGEgYW8gbGlzdGFyIGpvYnMnLCBkZXRhaWxzOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBOb3JtYWxpemEgcmVuZGVyX3NldHRpbmdzIC0+IHNldHRpbmdzXHJcbiAgICBjb25zdCBqb2JzID0gKGRhdGEgPz8gW10pLm1hcCgocm93OiBhbnkpID0+IHtcclxuICAgICAgY29uc3QgeyByZW5kZXJfc2V0dGluZ3MsIC4uLnJlc3QgfSA9IHJvdztcclxuICAgICAgcmV0dXJuIHsgLi4ucmVzdCwgc2V0dGluZ3M6IHJlbmRlcl9zZXR0aW5ncyB9O1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBwYXlsb2FkID0geyBqb2JzIH07XHJcbiAgICBnbG9iYWxBbnkuX192al9jYWNoZS5zZXQoY2FjaGVLZXksIHsgZXhwaXJlc0F0OiBEYXRlLm5vdygpICsgQ0FDSEVfVFRMX01TLCBwYXlsb2FkIH0pO1xyXG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksIHsgc3RhdHVzOiAyMDAsIGhlYWRlcnM6IHsgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgJ1gtQ2FjaGUnOiAnTUlTUycgfSB9KTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlY29yZEVycm9yKCdVTkVYUEVDVEVEJyk7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbdmlkZW8tam9iczpsaXN0XSB1bmV4cGVjdGVkIGVycm9yJywgZXJyKTtcclxuICAgIGlmIChmYWxsYmFja0VuYWJsZWQgJiYgYnVpbGRNb2NrUmVzcG9uc2UpIHtcclxuICAgICAgcmV0dXJuIGJ1aWxkTW9ja1Jlc3BvbnNlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBjb2RlOiAnVU5FWFBFQ1RFRCcsIG1lc3NhZ2U6ICdFcnJvIGluZXNwZXJhZG8nLCBkZXRhaWxzOiAoZXJyIGFzIEVycm9yKS5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJydW50aW1lIiwiTmV4dFJlc3BvbnNlIiwiZ2V0U3VwYWJhc2VGb3JSZXF1ZXN0IiwiY2hlY2tSYXRlTGltaXQiLCJpbnNwZWN0UmF0ZUxpbWl0IiwicmVjb3JkUmF0ZUxpbWl0SGl0IiwicmVjb3JkRXJyb3IiLCJwYXJzZVZpZGVvSm9iSW5wdXQiLCJpc0VyciIsInBhcnNlVmlkZW9Kb2JzUXVlcnkiLCJzaG91bGRVc2VNb2NrUmVuZGVySm9icyIsImdldE1vY2tVc2VySWQiLCJpbnNlcnRNb2NrSm9iIiwibGlzdE1vY2tKb2JzIiwiYmFkUmVxdWVzdCIsImlzc3VlcyIsImpzb24iLCJjb2RlIiwibWVzc2FnZSIsImRldGFpbHMiLCJzdGF0dXMiLCJhbGxvd01vY2tGYWxsYmFjayIsInByb2Nlc3MiLCJlbnYiLCJBTExPV19SRU5ERVJfSk9CU19GQUxMQkFDSyIsIlBPU1QiLCJyZXEiLCJzdGFydGVkIiwiRGF0ZSIsIm5vdyIsInN1cGFiYXNlIiwicGFyc2VkIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJnZXQiLCJ0cmltIiwiYXV0aFRva2VuIiwidG9Mb3dlckNhc2UiLCJzdGFydHNXaXRoIiwic2xpY2UiLCJoYXNBdXRoIiwibGVuZ3RoIiwibW9ja01vZGUiLCJ1c2VySWQiLCJkYXRhIiwidXNlckRhdGEiLCJlcnJvciIsInVzZXJFcnIiLCJhdXRoIiwiZ2V0VXNlciIsInVzZXIiLCJpZCIsIldJTkRPV19NUyIsIk1BWF9SRVEiLCJybCIsIkRFQlVHX1JBVEVfTElNSVQiLCJjb25zb2xlIiwiaW5mbyIsImtleSIsInJlc3VsdCIsImJ1Y2tldCIsImFsbG93ZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiU3RyaW5nIiwicmV0cnlBZnRlclNlYyIsImpvYiIsImR1cmF0aW9uTXMiLCJtZXRyaWNzIiwidmFsaWRhdGlvbl9tcyIsInBheWxvYWQiLCJFcnJvciIsImluc2VydEVyciIsImZyb20iLCJpbnNlcnQiLCJ1c2VyX2lkIiwicHJvamVjdF9pZCIsInByb2dyZXNzIiwiYXR0ZW1wdHMiLCJyZW5kZXJfc2V0dGluZ3MiLCJzbGlkZXMiLCJxdWFsaXR5IiwidHRzX3ZvaWNlIiwic2VsZWN0Iiwic2luZ2xlIiwibWV0YWRhdGEiLCJmYWxsYmFjayIsImNyZWF0ZWRfYXQiLCJkdXJhdGlvbl9tcyIsInNldHRpbmdzIiwiZXJyIiwiR0VUIiwiZmFsbGJhY2tFbmFibGVkIiwiYnVpbGRNb2NrUmVzcG9uc2UiLCJsaW1pdCIsInN0YXR1c0ZpbHRlciIsInVybCIsIlVSTCIsInBhcmFtcyIsInNlYXJjaFBhcmFtcyIsImZvckVhY2giLCJ2IiwiayIsInN1Y2Nlc3MiLCJDQUNIRV9UVExfTVMiLCJnbG9iYWxBbnkiLCJnbG9iYWxUaGlzIiwiX192al9jYWNoZSIsIk1hcCIsImNhY2hlS2V5IiwiY29tcHV0ZU1vY2tSZXNwb25zZSIsImNhY2hlVGFnIiwiam9icyIsInNldCIsImV4cGlyZXNBdCIsImhpdCIsInF1ZXJ5IiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsIm1hcCIsInJvdyIsInJlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/v1/video-jobs/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/render-jobs/mock-store.ts":
/*!*******************************************!*\
  !*** ./app/lib/render-jobs/mock-store.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeMockStats: () => (/* binding */ computeMockStats),\n/* harmony export */   getMockUserId: () => (/* binding */ getMockUserId),\n/* harmony export */   insertMockJob: () => (/* binding */ insertMockJob),\n/* harmony export */   listMockJobs: () => (/* binding */ listMockJobs),\n/* harmony export */   shouldUseMockRenderJobs: () => (/* binding */ shouldUseMockRenderJobs)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst getStore = ()=>{\n    const g = globalThis;\n    if (!g.__mock_render_jobs__) {\n        g.__mock_render_jobs__ = new Map();\n    }\n    return g.__mock_render_jobs__;\n};\nconst hasSupabaseConfig = ()=>Boolean( true && \"anon\");\nconst shouldUseMockRenderJobs = ()=>{\n    if (process.env.USE_MOCK_RENDER_JOBS === \"true\") {\n        return true;\n    }\n    return !hasSupabaseConfig();\n};\nconst getMockUserId = (req)=>{\n    const explicit = req?.headers.get(\"x-mock-user\")?.trim();\n    return explicit && explicit.length > 0 ? explicit : \"mock-user\";\n};\nconst createJob = (userId, partial)=>{\n    const now = new Date().toISOString();\n    return {\n        id: (0,node_crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        user_id: userId,\n        project_id: partial.project_id ?? (0,node_crypto__WEBPACK_IMPORTED_MODULE_0__.randomUUID)(),\n        status: partial.status ?? \"queued\",\n        progress: partial.progress ?? 0,\n        attempts: partial.attempts ?? 1,\n        duration_ms: partial.duration_ms ?? (partial.status === \"completed\" ? 42000 : null),\n        render_settings: partial.render_settings ?? {\n            slides: 4,\n            quality: \"medium\",\n            tts_voice: \"br-Female\"\n        },\n        created_at: partial.created_at ?? now,\n        updated_at: partial.updated_at ?? now,\n        completed_at: partial.completed_at ?? (partial.status === \"completed\" ? now : null)\n    };\n};\nconst generateSeedJobs = (userId)=>{\n    const now = Date.now();\n    return [\n        createJob(userId, {\n            status: \"completed\",\n            progress: 100,\n            duration_ms: 38000,\n            created_at: new Date(now - 30 * 60 * 1000).toISOString(),\n            completed_at: new Date(now - 25 * 60 * 1000).toISOString(),\n            render_settings: {\n                slides: 12,\n                quality: \"high\",\n                tts_voice: \"br-Male\"\n            }\n        }),\n        createJob(userId, {\n            status: \"completed\",\n            progress: 100,\n            duration_ms: 52000,\n            created_at: new Date(now - 90 * 60 * 1000).toISOString(),\n            completed_at: new Date(now - 88 * 60 * 1000).toISOString(),\n            render_settings: {\n                slides: 9,\n                quality: \"medium\"\n            }\n        }),\n        createJob(userId, {\n            status: \"processing\",\n            progress: 65,\n            duration_ms: null,\n            created_at: new Date(now - 5 * 60 * 1000).toISOString(),\n            render_settings: {\n                slides: 6,\n                quality: \"medium\"\n            }\n        }),\n        createJob(userId, {\n            status: \"queued\",\n            progress: 0,\n            duration_ms: null,\n            created_at: new Date(now - 2 * 60 * 1000).toISOString(),\n            render_settings: {\n                slides: 3,\n                quality: \"low\"\n            }\n        }),\n        createJob(userId, {\n            status: \"failed\",\n            progress: 35,\n            duration_ms: null,\n            created_at: new Date(now - 3 * 60 * 60 * 1000).toISOString(),\n            render_settings: {\n                slides: 8,\n                quality: \"high\"\n            }\n        })\n    ];\n};\nconst ensureUserJobs = (userId)=>{\n    const store = getStore();\n    if (!store.has(userId)) {\n        store.set(userId, generateSeedJobs(userId));\n    }\n    return store.get(userId);\n};\nconst toJobResponse = (job)=>({\n        id: job.id,\n        status: job.status,\n        project_id: job.project_id,\n        created_at: job.created_at,\n        progress: job.progress,\n        attempts: job.attempts,\n        duration_ms: job.duration_ms,\n        settings: job.render_settings\n    });\nconst insertMockJob = (userId, payload)=>{\n    const jobs = ensureUserJobs(userId);\n    const job = createJob(userId, {\n        project_id: payload.project_id,\n        status: \"queued\",\n        progress: 0,\n        attempts: 1,\n        duration_ms: null,\n        render_settings: {\n            slides: payload.slides.length,\n            quality: payload.quality ?? \"medium\",\n            tts_voice: payload.tts_voice ?? \"br-Female\"\n        }\n    });\n    jobs.unshift(job);\n    return toJobResponse(job);\n};\nconst listMockJobs = (userId, opts)=>{\n    const jobs = ensureUserJobs(userId);\n    const filtered = opts.status ? jobs.filter((job)=>job.status === opts.status) : jobs;\n    return filtered.slice(0, opts.limit).map(toJobResponse);\n};\nconst computeMockStats = (userId)=>{\n    const jobs = ensureUserJobs(userId);\n    const counts = jobs.reduce((acc, job)=>{\n        acc[job.status] = (acc[job.status] || 0) + 1;\n        return acc;\n    }, {});\n    const completed = jobs.filter((job)=>job.status === \"completed\");\n    const now = Date.now();\n    const jobsCompletedLast60m = completed.filter((job)=>{\n        if (!job.completed_at) return false;\n        return now - new Date(job.completed_at).getTime() <= 60 * 60 * 1000;\n    }).length;\n    const durations = completed.map((job)=>job.duration_ms ?? 0);\n    const avgDuration = durations.length ? Math.round(durations.reduce((a, b)=>a + b, 0) / durations.length) : 0;\n    const sorted = durations.slice().sort((a, b)=>a - b);\n    const pct = (p)=>{\n        if (!sorted.length) return 0;\n        const idx = Math.min(sorted.length - 1, Math.floor(p * (sorted.length - 1)));\n        return sorted[idx];\n    };\n    return {\n        totals: {\n            total_jobs: jobs.length\n        },\n        by_status: {\n            queued: counts[\"queued\"] || 0,\n            processing: counts[\"processing\"] || 0,\n            completed: counts[\"completed\"] || 0,\n            failed: counts[\"failed\"] || 0,\n            cancelled: counts[\"cancelled\"] || 0,\n            other: 0\n        },\n        throughput: {\n            window_minutes: 60,\n            jobs_completed_last_60m: jobsCompletedLast60m,\n            jobs_per_min: Number(((jobsCompletedLast60m || 0) / 60).toFixed(3))\n        },\n        performance: {\n            avg_duration_ms: avgDuration,\n            p50_ms: pct(0.5),\n            p90_ms: pct(0.9),\n            p95_ms: pct(0.95)\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL3JlbmRlci1qb2JzL21vY2stc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF3QztBQXdCeEMsTUFBTUMsV0FBVztJQUNmLE1BQU1DLElBQUlDO0lBQ1YsSUFBSSxDQUFDRCxFQUFFRSxvQkFBb0IsRUFBRTtRQUMzQkYsRUFBRUUsb0JBQW9CLEdBQUcsSUFBSUM7SUFDL0I7SUFDQSxPQUFPSCxFQUFFRSxvQkFBb0I7QUFDL0I7QUFFQSxNQUFNRSxvQkFBb0IsSUFBTUMsUUFBUUMsS0FBb0MsSUFBSUEsTUFBeUM7QUFFbEgsTUFBTUksMEJBQTBCO0lBQ3JDLElBQUlKLFFBQVFDLEdBQUcsQ0FBQ0ksb0JBQW9CLEtBQUssUUFBUTtRQUMvQyxPQUFPO0lBQ1Q7SUFDQSxPQUFPLENBQUNQO0FBQ1YsRUFBQztBQUVNLE1BQU1RLGdCQUFnQixDQUFDQztJQUM1QixNQUFNQyxXQUFXRCxLQUFLRSxRQUFRQyxJQUFJLGdCQUFnQkM7SUFDbEQsT0FBT0gsWUFBWUEsU0FBU0ksTUFBTSxHQUFHLElBQUlKLFdBQVc7QUFDdEQsRUFBQztBQUVELE1BQU1LLFlBQVksQ0FBQ0MsUUFBZ0JDO0lBQ2pDLE1BQU1DLE1BQU0sSUFBSUMsT0FBT0MsV0FBVztJQUNsQyxPQUFPO1FBQ0xDLElBQUkzQix1REFBVUE7UUFDZDRCLFNBQVNOO1FBQ1RPLFlBQVlOLFFBQVFNLFVBQVUsSUFBSTdCLHVEQUFVQTtRQUM1QzhCLFFBQVFQLFFBQVFPLE1BQU0sSUFBSTtRQUMxQkMsVUFBVVIsUUFBUVEsUUFBUSxJQUFJO1FBQzlCQyxVQUFVVCxRQUFRUyxRQUFRLElBQUk7UUFDOUJDLGFBQWFWLFFBQVFVLFdBQVcsSUFBS1YsQ0FBQUEsUUFBUU8sTUFBTSxLQUFLLGNBQWMsUUFBUSxJQUFHO1FBQ2pGSSxpQkFBaUJYLFFBQVFXLGVBQWUsSUFBSTtZQUFFQyxRQUFRO1lBQUdDLFNBQVM7WUFBVUMsV0FBVztRQUFZO1FBQ25HQyxZQUFZZixRQUFRZSxVQUFVLElB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U04sVUFBVVYsS0FBSyxHQUFHaUIsSUFBSSxDQUFDLENBQUNILEdBQUdDLElBQU1ELElBQUlDO0lBQ3BELE1BQU1HLE1BQU0sQ0FBQ0M7UUFDWCxJQUFJLENBQUNILE9BQU9yRCxNQUFNLEVBQUUsT0FBTztRQUMzQixNQUFNeUQsTUFBTVIsS0FBS1MsR0FBRyxDQUFDTCxPQUFPckQsTUFBTSxHQUFHLEdBQUdpRCxLQUFLVSxLQUFLLENBQUNILElBQUtILENBQUFBLE9BQU9yRCxNQUFNLEdBQUc7UUFDeEUsT0FBT3FELE1BQU0sQ0FBQ0ksSUFBSTtJQUNwQjtJQUVBLE9BQU87UUFDTEcsUUFBUTtZQUFFQyxZQUFZOUIsS0FBSy9CLE1BQU07UUFBQztRQUNsQzhELFdBQVc7WUFDVEMsUUFBUXRCLE1BQU0sQ0FBQyxTQUFTLElBQUk7WUFDNUJ1QixZQUFZdkIsTUFBTSxDQUFDLGFBQWEsSUFBSTtZQUNwQ0csV0FBV0gsTUFBTSxDQUFDLFlBQVksSUFBSTtZQUNsQ3dCLFFBQVF4QixNQUFNLENBQUMsU0FBUyxJQUFJO1lBQzVCeUIsV0FBV3pCLE1BQU0sQ0FBQyxZQUFZLElBQUk7WUFDbEMwQixPQUFPO1FBQ1Q7UUFDQUMsWUFBWTtZQUNWQyxnQkFBZ0I7WUFDaEJDLHlCQUF5QnpCO1lBQ3pCMEIsY0FBY0MsT0FBTyxDQUFDLENBQUMzQix3QkFBd0IsS0FBSyxFQUFDLEVBQUc0QixPQUFPLENBQUM7UUFDbEU7UUFDQUMsYUFBYTtZQUNYQyxpQkFBaUIzQjtZQUNqQjRCLFFBQVFyQixJQUFJO1lBQ1pzQixRQUFRdEIsSUFBSTtZQUNadUIsUUFBUXZCLElBQUk7UUFDZDtJQUNGO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VzdHVkaW8taWEtdmlkZW9zLy4vYXBwL2xpYi9yZW5kZXItam9icy9tb2NrLXN0b3JlLnRzPzEwOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ25vZGU6Y3J5cHRvJ1xyXG5cclxudHlwZSBKb2JTdGF0dXMgPSAncXVldWVkJyB8ICdwcm9jZXNzaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2ZhaWxlZCcgfCAnY2FuY2VsbGVkJ1xyXG5cclxudHlwZSBNb2NrSm9iID0ge1xyXG4gIGlkOiBzdHJpbmdcclxuICB1c2VyX2lkOiBzdHJpbmdcclxuICBwcm9qZWN0X2lkOiBzdHJpbmdcclxuICBzdGF0dXM6IEpvYlN0YXR1c1xyXG4gIHByb2dyZXNzOiBudW1iZXJcclxuICBhdHRlbXB0czogbnVtYmVyXHJcbiAgZHVyYXRpb25fbXM6IG51bWJlciB8IG51bGxcclxuICByZW5kZXJfc2V0dGluZ3M6IFJlY29yZDxzdHJpbmcsIGFueT5cclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICBjb21wbGV0ZWRfYXQ6IHN0cmluZyB8IG51bGxcclxufVxyXG5cclxudHlwZSBTdG9yZSA9IE1hcDxzdHJpbmcsIE1vY2tKb2JbXT5cclxuXHJcbnR5cGUgR2xvYmFsV2l0aFN0b3JlID0gdHlwZW9mIGdsb2JhbFRoaXMgJiB7XHJcbiAgX19tb2NrX3JlbmRlcl9qb2JzX18/OiBTdG9yZVxyXG59XHJcblxyXG5jb25zdCBnZXRTdG9yZSA9ICgpOiBTdG9yZSA9PiB7XHJcbiAgY29uc3QgZyA9IGdsb2JhbFRoaXMgYXMgR2xvYmFsV2l0aFN0b3JlXHJcbiAgaWYgKCFnLl9fbW9ja19yZW5kZXJfam9ic19fKSB7XHJcbiAgICBnLl9fbW9ja19yZW5kZXJfam9ic19fID0gbmV3IE1hcDxzdHJpbmcsIE1vY2tKb2JbXT4oKVxyXG4gIH1cclxuICByZXR1cm4gZy5fX21vY2tfcmVuZGVyX2pvYnNfX1xyXG59XHJcblxyXG5jb25zdCBoYXNTdXBhYmFzZUNvbmZpZyA9ICgpID0+IEJvb2xlYW4ocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMICYmIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZKVxyXG5cclxuZXhwb3J0IGNvbnN0IHNob3VsZFVzZU1vY2tSZW5kZXJKb2JzID0gKCkgPT4ge1xyXG4gIGlmIChwcm9jZXNzLmVudi5VU0VfTU9DS19SRU5ERVJfSk9CUyA9PT0gJ3RydWUnKSB7XHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH1cclxuICByZXR1cm4gIWhhc1N1cGFiYXNlQ29uZmlnKClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldE1vY2tVc2VySWQgPSAocmVxPzogUmVxdWVzdCkgPT4ge1xyXG4gIGNvbnN0IGV4cGxpY2l0ID0gcmVxPy5oZWFkZXJzLmdldCgneC1tb2NrLXVzZXInKT8udHJpbSgpXHJcbiAgcmV0dXJuIGV4cGxpY2l0ICYmIGV4cGxpY2l0Lmxlbmd0aCA+IDAgPyBleHBsaWNpdCA6ICdtb2NrLXVzZXInXHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZUpvYiA9ICh1c2VySWQ6IHN0cmluZywgcGFydGlhbDogUGFydGlhbDxNb2NrSm9iPik6IE1vY2tKb2IgPT4ge1xyXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIHJldHVybiB7XHJcbiAgICBpZDogcmFuZG9tVVVJRCgpLFxyXG4gICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgcHJvamVjdF9pZDogcGFydGlhbC5wcm9qZWN0X2lkID8/IHJhbmRvbVVVSUQoKSxcclxuICAgIHN0YXR1czogcGFydGlhbC5zdGF0dXMgPz8gJ3F1ZXVlZCcsXHJcbiAgICBwcm9ncmVzczogcGFydGlhbC5wcm9ncmVzcyA/PyAwLFxyXG4gICAgYXR0ZW1wdHM6IHBhcnRpYWwuYXR0ZW1wdHMgPz8gMSxcclxuICAgIGR1cmF0aW9uX21zOiBwYXJ0aWFsLmR1cmF0aW9uX21zID8/IChwYXJ0aWFsLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyA0MjAwMCA6IG51bGwpLFxyXG4gICAgcmVuZGVyX3NldHRpbmdzOiBwYXJ0aWFsLnJlbmRlcl9zZXR0aW5ncyA/PyB7IHNsaWRlczogNCwgcXVhbGl0eTogJ21lZGl1bScsIHR0c192b2ljZTogJ2JyLUZlbWFsZScgfSxcclxuICAgIGNyZWF0ZWRfYXQ6IHBhcnRpYWwuY3JlYXRlZF9hdCA/PyBub3csXHJcbiAgICB1cGRhdGVkX2F0OiBwYXJ0aWFsLnVwZGF0ZWRfYXQgPz8gbm93LFxyXG4gICAgY29tcGxldGVkX2F0OiBwYXJ0aWFsLmNvbXBsZXRlZF9hdCA/PyAocGFydGlhbC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gbm93IDogbnVsbCksXHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBnZW5lcmF0ZVNlZWRKb2JzID0gKHVzZXJJZDogc3RyaW5nKTogTW9ja0pvYltdID0+IHtcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgcmV0dXJuIFtcclxuICAgIGNyZWF0ZUpvYih1c2VySWQsIHtcclxuICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcclxuICAgICAgcHJvZ3Jlc3M6IDEwMCxcclxuICAgICAgZHVyYXRpb25fbXM6IDM4MDAwLFxyXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShub3cgLSAzMCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgY29tcGxldGVkX2F0OiBuZXcgRGF0ZShub3cgLSAyNSAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgcmVuZGVyX3NldHRpbmdzOiB7IHNsaWRlczogMTIsIHF1YWxpdHk6ICdoaWdoJywgdHRzX3ZvaWNlOiAnYnItTWFsZScgfSxcclxuICAgIH0pLFxyXG4gICAgY3JlYXRlSm9iKHVzZXJJZCwge1xyXG4gICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxyXG4gICAgICBwcm9ncmVzczogMTAwLFxyXG4gICAgICBkdXJhdGlvbl9tczogNTIwMDAsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKG5vdyAtIDkwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBjb21wbGV0ZWRfYXQ6IG5ldyBEYXRlKG5vdyAtIDg4ICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZW5kZXJfc2V0dGluZ3M6IHsgc2xpZGVzOiA5LCBxdWFsaXR5OiAnbWVkaXVtJyB9LFxyXG4gICAgfSksXHJcbiAgICBjcmVhdGVKb2IodXNlcklkLCB7XHJcbiAgICAgIHN0YXR1czogJ3Byb2Nlc3NpbmcnLFxyXG4gICAgICBwcm9ncmVzczogNjUsXHJcbiAgICAgIGR1cmF0aW9uX21zOiBudWxsLFxyXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShub3cgLSA1ICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZW5kZXJfc2V0dGluZ3M6IHsgc2xpZGVzOiA2LCBxdWFsaXR5OiAnbWVkaXVtJyB9LFxyXG4gICAgfSksXHJcbiAgICBjcmVhdGVKb2IodXNlcklkLCB7XHJcbiAgICAgIHN0YXR1czogJ3F1ZXVlZCcsXHJcbiAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICBkdXJhdGlvbl9tczogbnVsbCxcclxuICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUobm93IC0gMiAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgcmVuZGVyX3NldHRpbmdzOiB7IHNsaWRlczogMywgcXVhbGl0eTogJ2xvdycgfSxcclxuICAgIH0pLFxyXG4gICAgY3JlYXRlSm9iKHVzZXJJZCwge1xyXG4gICAgICBzdGF0dXM6ICdmYWlsZWQnLFxyXG4gICAgICBwcm9ncmVzczogMzUsXHJcbiAgICAgIGR1cmF0aW9uX21zOiBudWxsLFxyXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZShub3cgLSAzICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHJlbmRlcl9zZXR0aW5nczogeyBzbGlkZXM6IDgsIHF1YWxpdHk6ICdoaWdoJyB9LFxyXG4gICAgfSksXHJcbiAgXVxyXG59XHJcblxyXG5jb25zdCBlbnN1cmVVc2VySm9icyA9ICh1c2VySWQ6IHN0cmluZyk6IE1vY2tKb2JbXSA9PiB7XHJcbiAgY29uc3Qgc3RvcmUgPSBnZXRTdG9yZSgpXHJcbiAgaWYgKCFzdG9yZS5oYXModXNlcklkKSkge1xyXG4gICAgc3RvcmUuc2V0KHVzZXJJZCwgZ2VuZXJhdGVTZWVkSm9icyh1c2VySWQpKVxyXG4gIH1cclxuICByZXR1cm4gc3RvcmUuZ2V0KHVzZXJJZCkgYXMgTW9ja0pvYltdXHJcbn1cclxuXHJcbmNvbnN0IHRvSm9iUmVzcG9uc2UgPSAoam9iOiBNb2NrSm9iKSA9PiAoe1xyXG4gIGlkOiBqb2IuaWQsXHJcbiAgc3RhdHVzOiBqb2Iuc3RhdHVzLFxyXG4gIHByb2plY3RfaWQ6IGpvYi5wcm9qZWN0X2lkLFxyXG4gIGNyZWF0ZWRfYXQ6IGpvYi5jcmVhdGVkX2F0LFxyXG4gIHByb2dyZXNzOiBqb2IucHJvZ3Jlc3MsXHJcbiAgYXR0ZW1wdHM6IGpvYi5hdHRlbXB0cyxcclxuICBkdXJhdGlvbl9tczogam9iLmR1cmF0aW9uX21zLFxyXG4gIHNldHRpbmdzOiBqb2IucmVuZGVyX3NldHRpbmdzLFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IGluc2VydE1vY2tKb2IgPSAoXHJcbiAgdXNlcklkOiBzdHJpbmcsXHJcbiAgcGF5bG9hZDogeyBwcm9qZWN0X2lkOiBzdHJpbmc7IHNsaWRlczogQXJyYXk8eyBvcmRlcl9pbmRleDogbnVtYmVyIH0+OyBxdWFsaXR5Pzogc3RyaW5nOyB0dHNfdm9pY2U/OiBzdHJpbmcgfVxyXG4pID0+IHtcclxuICBjb25zdCBqb2JzID0gZW5zdXJlVXNlckpvYnModXNlcklkKVxyXG4gIGNvbnN0IGpvYiA9IGNyZWF0ZUpvYih1c2VySWQsIHtcclxuICAgIHByb2plY3RfaWQ6IHBheWxvYWQucHJvamVjdF9pZCxcclxuICAgIHN0YXR1czogJ3F1ZXVlZCcsXHJcbiAgICBwcm9ncmVzczogMCxcclxuICAgIGF0dGVtcHRzOiAxLFxyXG4gICAgZHVyYXRpb25fbXM6IG51bGwsXHJcbiAgICByZW5kZXJfc2V0dGluZ3M6IHtcclxuICAgICAgc2xpZGVzOiBwYXlsb2FkLnNsaWRlcy5sZW5ndGgsXHJcbiAgICAgIHF1YWxpdHk6IHBheWxvYWQucXVhbGl0eSA/PyAnbWVkaXVtJyxcclxuICAgICAgdHRzX3ZvaWNlOiBwYXlsb2FkLnR0c192b2ljZSA/PyAnYnItRmVtYWxlJyxcclxuICAgIH0sXHJcbiAgfSlcclxuICBqb2JzLnVuc2hpZnQoam9iKVxyXG4gIHJldHVybiB0b0pvYlJlc3BvbnNlKGpvYilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGxpc3RNb2NrSm9icyA9ICh1c2VySWQ6IHN0cmluZywgb3B0czogeyBsaW1pdDogbnVtYmVyOyBzdGF0dXM/OiBzdHJpbmcgfSkgPT4ge1xyXG4gIGNvbnN0IGpvYnMgPSBlbnN1cmVVc2VySm9icyh1c2VySWQpXHJcbiAgY29uc3QgZmlsdGVyZWQgPSBvcHRzLnN0YXR1cyA/IGpvYnMuZmlsdGVyKChqb2IpID0+IGpvYi5zdGF0dXMgPT09IG9wdHMuc3RhdHVzKSA6IGpvYnNcclxuICByZXR1cm4gZmlsdGVyZWQuc2xpY2UoMCwgb3B0cy5saW1pdCkubWFwKHRvSm9iUmVzcG9uc2UpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjb21wdXRlTW9ja1N0YXRzID0gKHVzZXJJZDogc3RyaW5nKSA9PiB7XHJcbiAgY29uc3Qgam9icyA9IGVuc3VyZVVzZXJKb2JzKHVzZXJJZClcclxuICBjb25zdCBjb3VudHMgPSBqb2JzLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PigoYWNjLCBqb2IpID0+IHtcclxuICAgIGFjY1tqb2Iuc3RhdHVzXSA9IChhY2Nbam9iLnN0YXR1c10gfHwgMCkgKyAxXHJcbiAgICByZXR1cm4gYWNjXHJcbiAgfSwge30pXHJcblxyXG4gIGNvbnN0IGNvbXBsZXRlZCA9IGpvYnMuZmlsdGVyKChqb2IpID0+IGpvYi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKVxyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KClcclxuICBjb25zdCBqb2JzQ29tcGxldGVkTGFzdDYwbSA9IGNvbXBsZXRlZC5maWx0ZXIoKGpvYikgPT4ge1xyXG4gICAgaWYgKCFqb2IuY29tcGxldGVkX2F0KSByZXR1cm4gZmFsc2VcclxuICAgIHJldHVybiBub3cgLSBuZXcgRGF0ZShqb2IuY29tcGxldGVkX2F0KS5nZXRUaW1lKCkgPD0gNjAgKiA2MCAqIDEwMDBcclxuICB9KS5sZW5ndGhcclxuICBjb25zdCBkdXJhdGlvbnMgPSBjb21wbGV0ZWQubWFwKChqb2IpID0+IGpvYi5kdXJhdGlvbl9tcyA/PyAwKVxyXG4gIGNvbnN0IGF2Z0R1cmF0aW9uID0gZHVyYXRpb25zLmxlbmd0aCA/IE1hdGgucm91bmQoZHVyYXRpb25zLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gZHVyYXRpb25zLmxlbmd0aCkgOiAwXHJcbiAgY29uc3Qgc29ydGVkID0gZHVyYXRpb25zLnNsaWNlKCkuc29ydCgoYSwgYikgPT4gYSAtIGIpXHJcbiAgY29uc3QgcGN0ID0gKHA6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKCFzb3J0ZWQubGVuZ3RoKSByZXR1cm4gMFxyXG4gICAgY29uc3QgaWR4ID0gTWF0aC5taW4oc29ydGVkLmxlbmd0aCAtIDEsIE1hdGguZmxvb3IocCAqIChzb3J0ZWQubGVuZ3RoIC0gMSkpKVxyXG4gICAgcmV0dXJuIHNvcnRlZFtpZHhdXHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgdG90YWxzOiB7IHRvdGFsX2pvYnM6IGpvYnMubGVuZ3RoIH0sXHJcbiAgICBieV9zdGF0dXM6IHtcclxuICAgICAgcXVldWVkOiBjb3VudHNbJ3F1ZXVlZCddIHx8IDAsXHJcbiAgICAgIHByb2Nlc3Npbmc6IGNvdW50c1sncHJvY2Vzc2luZyddIHx8IDAsXHJcbiAgICAgIGNvbXBsZXRlZDogY291bnRzWydjb21wbGV0ZWQnXSB8fCAwLFxyXG4gICAgICBmYWlsZWQ6IGNvdW50c1snZmFpbGVkJ10gfHwgMCxcclxuICAgICAgY2FuY2VsbGVkOiBjb3VudHNbJ2NhbmNlbGxlZCddIHx8IDAsXHJcbiAgICAgIG90aGVyOiAwLFxyXG4gICAgfSxcclxuICAgIHRocm91Z2hwdXQ6IHtcclxuICAgICAgd2luZG93X21pbnV0ZXM6IDYwLFxyXG4gICAgICBqb2JzX2NvbXBsZXRlZF9sYXN0XzYwbTogam9ic0NvbXBsZXRlZExhc3Q2MG0sXHJcbiAgICAgIGpvYnNfcGVyX21pbjogTnVtYmVyKCgoam9ic0NvbXBsZXRlZExhc3Q2MG0gfHwgMCkgLyA2MCkudG9GaXhlZCgzKSksXHJcbiAgICB9LFxyXG4gICAgcGVyZm9ybWFuY2U6IHtcclxuICAgICAgYXZnX2R1cmF0aW9uX21zOiBhdmdEdXJhdGlvbixcclxuICAgICAgcDUwX21zOiBwY3QoMC41KSxcclxuICAgICAgcDkwX21zOiBwY3QoMC45KSxcclxuICAgICAgcDk1X21zOiBwY3QoMC45NSksXHJcbiAgICB9LFxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsicmFuZG9tVVVJRCIsImdldFN0b3JlIiwiZyIsImdsb2JhbFRoaXMiLCJfX21vY2tfcmVuZGVyX2pvYnNfXyIsIk1hcCIsImhhc1N1cGFiYXNlQ29uZmlnIiwiQm9vbGVhbiIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsInNob3VsZFVzZU1vY2tSZW5kZXJKb2JzIiwiVVNFX01PQ0tfUkVOREVSX0pPQlMiLCJnZXRNb2NrVXNlcklkIiwicmVxIiwiZXhwbGljaXQiLCJoZWFkZXJzIiwiZ2V0IiwidHJpbSIsImxlbmd0aCIsImNyZWF0ZUpvYiIsInVzZXJJZCIsInBhcnRpYWwiLCJub3ciLCJEYXRlIiwidG9JU09TdHJpbmciLCJpZCIsInVzZXJfaWQiLCJwcm9qZWN0X2lkIiwic3RhdHVzIiwicHJvZ3Jlc3MiLCJhdHRlbXB0cyIsImR1cmF0aW9uX21zIiwicmVuZGVyX3NldHRpbmdzIiwic2xpZGVzIiwicXVhbGl0eSIsInR0c192b2ljZSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiY29tcGxldGVkX2F0IiwiZ2VuZXJhdGVTZWVkSm9icyIsImVuc3VyZVVzZXJKb2JzIiwic3RvcmUiLCJoYXMiLCJzZXQiLCJ0b0pvYlJlc3BvbnNlIiwiam9iIiwic2V0dGluZ3MiLCJpbnNlcnRNb2NrSm9iIiwicGF5bG9hZCIsImpvYnMiLCJ1bnNoaWZ0IiwibGlzdE1vY2tKb2JzIiwib3B0cyIsImZpbHRlcmVkIiwiZmlsdGVyIiwic2xpY2UiLCJsaW1pdCIsIm1hcCIsImNvbXB1dGVNb2NrU3RhdHMiLCJjb3VudHMiLCJyZWR1Y2UiLCJhY2MiLCJjb21wbGV0ZWQiLCJqb2JzQ29tcGxldGVkTGFzdDYwbSIsImdldFRpbWUiLCJkdXJhdGlvbnMiLCJhdmdEdXJhdGlvbiIsIk1hdGgiLCJyb3VuZCIsImEiLCJiIiwic29ydGVkIiwic29ydCIsInBjdCIsInAiLCJpZHgiLCJtaW4iLCJmbG9vciIsInRvdGFscyIsInRvdGFsX2pvYnMiLCJieV9zdGF0dXMiLCJxdWV1ZWQiLCJwcm9jZXNzaW5nIiwiZmFpbGVkIiwiY2FuY2VsbGVkIiwib3RoZXIiLCJ0aHJvdWdocHV0Iiwid2luZG93X21pbnV0ZXMiLCJqb2JzX2NvbXBsZXRlZF9sYXN0XzYwbSIsImpvYnNfcGVyX21pbiIsIk51bWJlciIsInRvRml4ZWQiLCJwZXJmb3JtYW5jZSIsImF2Z19kdXJhdGlvbl9tcyIsInA1MF9tcyIsInA5MF9tcyIsInA5NV9tcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/render-jobs/mock-store.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/utils/rate-limit.ts":
/*!*************************************!*\
  !*** ./app/lib/utils/rate-limit.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkRateLimit: () => (/* binding */ checkRateLimit),\n/* harmony export */   inspectRateLimit: () => (/* binding */ inspectRateLimit)\n/* harmony export */ });\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_fs__WEBPACK_IMPORTED_MODULE_0__);\n\nconst logRateLimitEvent = (event)=>{\n    const logPath = process.env.RATE_LIMIT_DEBUG_LOG;\n    if (!logPath) return;\n    try {\n        (0,node_fs__WEBPACK_IMPORTED_MODULE_0__.appendFileSync)(logPath, `${JSON.stringify({\n            ts: Date.now(),\n            ...event\n        })}\\n`, {\n            encoding: \"utf-8\"\n        });\n    } catch (err) {\n        if (process.env.DEBUG_RATE_LIMIT === \"true\") {\n            console.error(\"[rate-limit] debug log failed\", err);\n        }\n    }\n};\nconst getStore = ()=>{\n    const proc = globalThis.process;\n    if (proc) {\n        if (!proc.__app_rate_limit_store__) {\n            proc.__app_rate_limit_store__ = new Map();\n        }\n        return proc.__app_rate_limit_store__;\n    }\n    const g = globalThis;\n    if (!g.__app_rate_limit_store__) {\n        g.__app_rate_limit_store__ = new Map();\n    }\n    return g.__app_rate_limit_store__;\n};\nfunction checkRateLimit(key, limit, windowMs) {\n    const store = getStore();\n    const now = Date.now();\n    let bucket = store.get(key);\n    const idle = bucket ? now - bucket.lastRequest : 0;\n    if (!bucket || idle >= windowMs && now >= (bucket.blockedUntil || 0)) {\n        const newBucket = {\n            windowStart: now,\n            lastRequest: now,\n            count: 1,\n            blockedUntil: 0\n        };\n        store.set(key, newBucket);\n        if (process.env.DEBUG_RATE_LIMIT === \"true\") {\n            console.info(\"[rate-limit] reset\", {\n                key,\n                limit,\n                windowMs,\n                idle\n            });\n        }\n        logRateLimitEvent({\n            type: \"reset\",\n            key,\n            limit,\n            windowMs,\n            idle\n        });\n        return {\n            allowed: true,\n            retryAfterSec: 0\n        };\n    }\n    bucket = store.get(key);\n    if (bucket.blockedUntil && now < bucket.blockedUntil) {\n        const retryAfterSec = Math.max(0, Math.ceil((bucket.blockedUntil - now) / 1000));\n        if (process.env.DEBUG_RATE_LIMIT === \"true\") {\n            console.info(\"[rate-limit] still-blocked\", {\n                key,\n                retryAfterSec\n            });\n        }\n        logRateLimitEvent({\n            type: \"blocked\",\n            key,\n            count: bucket.count,\n            limit,\n            retryAfterSec\n        });\n        bucket.lastRequest = now;\n        return {\n            allowed: false,\n            retryAfterSec\n        };\n    }\n    if (bucket.count >= limit) {\n        bucket.blockedUntil = bucket.windowStart + windowMs;\n        if (bucket.blockedUntil <= now) {\n            bucket.blockedUntil = now + windowMs;\n        }\n        const retryAfterSec = Math.max(0, Math.ceil((bucket.blockedUntil - now) / 1000));\n        if (process.env.DEBUG_RATE_LIMIT === \"true\") {\n            console.info(\"[rate-limit] blocked\", {\n                key,\n                count: bucket.count,\n                limit,\n                retryAfterSec\n            });\n        }\n        logRateLimitEvent({\n            type: \"blocked\",\n            key,\n            count: bucket.count,\n            limit,\n            retryAfterSec\n        });\n        bucket.lastRequest = now;\n        return {\n            allowed: false,\n            retryAfterSec\n        };\n    }\n    bucket.count += 1;\n    bucket.lastRequest = now;\n    if (process.env.DEBUG_RATE_LIMIT === \"true\") {\n        console.info(\"[rate-limit] allowed\", {\n            key,\n            count: bucket.count,\n            limit,\n            idle\n        });\n    }\n    logRateLimitEvent({\n        type: \"allowed\",\n        key,\n        count: bucket.count,\n        limit,\n        idle\n    });\n    return {\n        allowed: true,\n        retryAfterSec: 0\n    };\n}\nfunction inspectRateLimit(key) {\n    return getStore().get(key);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU9JLFlBQVksR0FBR3JCLE1BQU1lO1FBQzlCO1FBQ0EsTUFBTWMsZ0JBQWdCQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsSUFBSSxDQUFDLENBQUNmLE9BQU9JLFlBQVksR0FBR3JCLEdBQUUsSUFBSztRQUMxRSxJQUFJUCxRQUFRQyxHQUFHLENBQUNTLGdCQUFnQixLQUFLLFFBQVE7WUFDM0NDLFFBQVFzQixJQUFJLENBQUMsd0JBQXdCO2dCQUFFYjtnQkFBS1csT0FBT1AsT0FBT08sS0FBSztnQkFBRVY7Z0JBQU9lO1lBQWM7UUFDeEY7UUFDQXZDLGtCQUFrQjtZQUFFcUMsTUFBTTtZQUFXZDtZQUFLVyxPQUFPUCxPQUFPTyxLQUFLO1lBQUVWO1lBQU9lO1FBQWM7UUFDcEZaLE9BQU9HLFdBQVcsR0FBR3BCO1FBQ3JCLE9BQU87WUFBRTRCLFNBQVM7WUFBT0M7UUFBYztJQUN6QztJQUVBWixPQUFPTyxLQUFLLElBQUk7SUFDaEJQLE9BQU9HLFdBQVcsR0FBR3BCO0lBQ3JCLElBQUlQLFFBQVFDLEdBQUcsQ0FBQ1MsZ0JBQWdCLEtBQUssUUFBUTtRQUMzQ0MsUUFBUXNCLElBQUksQ0FBQyx3QkFBd0I7WUFBRWI7WUFBS1csT0FBT1AsT0FBT08sS0FBSztZQUFFVjtZQUFPSztRQUFLO0lBQy9FO0lBQ0E3QixrQkFBa0I7UUFBRXFDLE1BQU07UUFBV2Q7UUFBS1csT0FBT1AsT0FBT08sS0FBSztRQUFFVjtRQUFPSztJQUFLO0lBQzNFLE9BQU87UUFBRVMsU0FBUztRQUFNQyxlQUFlO0lBQUU7QUFDM0M7QUFFTyxTQUFTSSxpQkFBaUJwQixHQUFXO0lBQzFDLE9BQU9QLFdBQVdZLEdBQUcsQ0FBQ0w7QUFDeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lc3R1ZGlvLWlhLXZpZGVvcy8uL2FwcC9saWIvdXRpbHMvcmF0ZS1saW1pdC50cz81MzQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFwcGVuZEZpbGVTeW5jIH0gZnJvbSAnbm9kZTpmcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmF0ZUxpbWl0UmVzdWx0IHtcclxuICBhbGxvd2VkOiBib29sZWFuXHJcbiAgcmV0cnlBZnRlclNlYzogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmF0ZUxpbWl0QnVja2V0IHtcclxuICB3aW5kb3dTdGFydDogbnVtYmVyXHJcbiAgbGFzdFJlcXVlc3Q6IG51bWJlclxyXG4gIGNvdW50OiBudW1iZXJcclxuICBibG9ja2VkVW50aWw6IG51bWJlclxyXG59XHJcblxyXG50eXBlIFN0b3JlID0gTWFwPHN0cmluZywgUmF0ZUxpbWl0QnVja2V0PlxyXG5cclxudHlwZSBQcm9jZXNzV2l0aFN0b3JlID0gTm9kZUpTLlByb2Nlc3MgJiB7XHJcbiAgX19hcHBfcmF0ZV9saW1pdF9zdG9yZV9fPzogU3RvcmVcclxufVxyXG5cclxudHlwZSBHbG9iYWxXaXRoU3RvcmUgPSB0eXBlb2YgZ2xvYmFsVGhpcyAmIHtcclxuICBfX2FwcF9yYXRlX2xpbWl0X3N0b3JlX18/OiBTdG9yZVxyXG59XHJcblxyXG5jb25zdCBsb2dSYXRlTGltaXRFdmVudCA9IChldmVudDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHtcclxuICBjb25zdCBsb2dQYXRoID0gcHJvY2Vzcy5lbnYuUkFURV9MSU1JVF9ERUJVR19MT0dcclxuICBpZiAoIWxvZ1BhdGgpIHJldHVyblxyXG4gIHRyeSB7XHJcbiAgICBhcHBlbmRGaWxlU3luYyhsb2dQYXRoLCBgJHtKU09OLnN0cmluZ2lmeSh7IHRzOiBEYXRlLm5vdygpLCAuLi5ldmVudCB9KX1cXG5gLCB7IGVuY29kaW5nOiAndXRmLTgnIH0pXHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUdfUkFURV9MSU1JVCA9PT0gJ3RydWUnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tyYXRlLWxpbWl0XSBkZWJ1ZyBsb2cgZmFpbGVkJywgZXJyKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0U3RvcmUgPSAoKTogU3RvcmUgPT4ge1xyXG4gIGNvbnN0IHByb2MgPSBnbG9iYWxUaGlzLnByb2Nlc3MgYXMgUHJvY2Vzc1dpdGhTdG9yZSB8IHVuZGVmaW5lZFxyXG4gIGlmIChwcm9jKSB7XHJcbiAgICBpZiAoIXByb2MuX19hcHBfcmF0ZV9saW1pdF9zdG9yZV9fKSB7XHJcbiAgICAgIHByb2MuX19hcHBfcmF0ZV9saW1pdF9zdG9yZV9fID0gbmV3IE1hcDxzdHJpbmcsIFJhdGVMaW1pdEJ1Y2tldD4oKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByb2MuX19hcHBfcmF0ZV9saW1pdF9zdG9yZV9fXHJcbiAgfVxyXG5cclxuICBjb25zdCBnID0gZ2xvYmFsVGhpcyBhcyBHbG9iYWxXaXRoU3RvcmVcclxuICBpZiAoIWcuX19hcHBfcmF0ZV9saW1pdF9zdG9yZV9fKSB7XHJcbiAgICBnLl9fYXBwX3JhdGVfbGltaXRfc3RvcmVfXyA9IG5ldyBNYXA8c3RyaW5nLCBSYXRlTGltaXRCdWNrZXQ+KClcclxuICB9XHJcbiAgcmV0dXJuIGcuX19hcHBfcmF0ZV9saW1pdF9zdG9yZV9fXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JhdGVMaW1pdChrZXk6IHN0cmluZywgbGltaXQ6IG51bWJlciwgd2luZG93TXM6IG51bWJlcik6IFJhdGVMaW1pdFJlc3VsdCB7XHJcbiAgY29uc3Qgc3RvcmUgPSBnZXRTdG9yZSgpXHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxyXG4gIGxldCBidWNrZXQgPSBzdG9yZS5nZXQoa2V5KVxyXG4gIGNvbnN0IGlkbGUgPSBidWNrZXQgPyBub3cgLSBidWNrZXQubGFzdFJlcXVlc3QgOiAwXHJcblxyXG4gIGlmICghYnVja2V0IHx8IChpZGxlID49IHdpbmRvd01zICYmIG5vdyA+PSAoYnVja2V0LmJsb2NrZWRVbnRpbCB8fCAwKSkpIHtcclxuICAgIGNvbnN0IG5ld0J1Y2tldDogUmF0ZUxpbWl0QnVja2V0ID0geyB3aW5kb3dTdGFydDogbm93LCBsYXN0UmVxdWVzdDogbm93LCBjb3VudDogMSwgYmxvY2tlZFVudGlsOiAwIH1cclxuICAgIHN0b3JlLnNldChrZXksIG5ld0J1Y2tldClcclxuICAgIGlmIChwcm9jZXNzLmVudi5ERUJVR19SQVRFX0xJTUlUID09PSAndHJ1ZScpIHtcclxuICAgICAgY29uc29sZS5pbmZvKCdbcmF0ZS1saW1pdF0gcmVzZXQnLCB7IGtleSwgbGltaXQsIHdpbmRvd01zLCBpZGxlIH0pXHJcbiAgICB9XHJcbiAgICBsb2dSYXRlTGltaXRFdmVudCh7IHR5cGU6ICdyZXNldCcsIGtleSwgbGltaXQsIHdpbmRvd01zLCBpZGxlIH0pXHJcbiAgICByZXR1cm4geyBhbGxvd2VkOiB0cnVlLCByZXRyeUFmdGVyU2VjOiAwIH1cclxuICB9XHJcblxyXG4gIGJ1Y2tldCA9IHN0b3JlLmdldChrZXkpIGFzIFJhdGVMaW1pdEJ1Y2tldFxyXG5cclxuICBpZiAoYnVja2V0LmJsb2NrZWRVbnRpbCAmJiBub3cgPCBidWNrZXQuYmxvY2tlZFVudGlsKSB7XHJcbiAgICBjb25zdCByZXRyeUFmdGVyU2VjID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChidWNrZXQuYmxvY2tlZFVudGlsIC0gbm93KSAvIDEwMDApKVxyXG4gICAgaWYgKHByb2Nlc3MuZW52LkRFQlVHX1JBVEVfTElNSVQgPT09ICd0cnVlJykge1xyXG4gICAgICBjb25zb2xlLmluZm8oJ1tyYXRlLWxpbWl0XSBzdGlsbC1ibG9ja2VkJywgeyBrZXksIHJldHJ5QWZ0ZXJTZWMgfSlcclxuICAgIH1cclxuICAgIGxvZ1JhdGVMaW1pdEV2ZW50KHsgdHlwZTogJ2Jsb2NrZWQnLCBrZXksIGNvdW50OiBidWNrZXQuY291bnQsIGxpbWl0LCByZXRyeUFmdGVyU2VjIH0pXHJcbiAgICBidWNrZXQubGFzdFJlcXVlc3QgPSBub3dcclxuICAgIHJldHVybiB7IGFsbG93ZWQ6IGZhbHNlLCByZXRyeUFmdGVyU2VjIH1cclxuICB9XHJcblxyXG4gIGlmIChidWNrZXQuY291bnQgPj0gbGltaXQpIHtcclxuICAgIGJ1Y2tldC5ibG9ja2VkVW50aWwgPSBidWNrZXQud2luZG93U3RhcnQgKyB3aW5kb3dNc1xyXG4gICAgaWYgKGJ1Y2tldC5ibG9ja2VkVW50aWwgPD0gbm93KSB7XHJcbiAgICAgIGJ1Y2tldC5ibG9ja2VkVW50aWwgPSBub3cgKyB3aW5kb3dNc1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmV0cnlBZnRlclNlYyA9IE1hdGgubWF4KDAsIE1hdGguY2VpbCgoYnVja2V0LmJsb2NrZWRVbnRpbCAtIG5vdykgLyAxMDAwKSlcclxuICAgIGlmIChwcm9jZXNzLmVudi5ERUJVR19SQVRFX0xJTUlUID09PSAndHJ1ZScpIHtcclxuICAgICAgY29uc29sZS5pbmZvKCdbcmF0ZS1saW1pdF0gYmxvY2tlZCcsIHsga2V5LCBjb3VudDogYnVja2V0LmNvdW50LCBsaW1pdCwgcmV0cnlBZnRlclNlYyB9KVxyXG4gICAgfVxyXG4gICAgbG9nUmF0ZUxpbWl0RXZlbnQoeyB0eXBlOiAnYmxvY2tlZCcsIGtleSwgY291bnQ6IGJ1Y2tldC5jb3VudCwgbGltaXQsIHJldHJ5QWZ0ZXJTZWMgfSlcclxuICAgIGJ1Y2tldC5sYXN0UmVxdWVzdCA9IG5vd1xyXG4gICAgcmV0dXJuIHsgYWxsb3dlZDogZmFsc2UsIHJldHJ5QWZ0ZXJTZWMgfVxyXG4gIH1cclxuXHJcbiAgYnVja2V0LmNvdW50ICs9IDFcclxuICBidWNrZXQubGFzdFJlcXVlc3QgPSBub3dcclxuICBpZiAocHJvY2Vzcy5lbnYuREVCVUdfUkFURV9MSU1JVCA9PT0gJ3RydWUnKSB7XHJcbiAgICBjb25zb2xlLmluZm8oJ1tyYXRlLWxpbWl0XSBhbGxvd2VkJywgeyBrZXksIGNvdW50OiBidWNrZXQuY291bnQsIGxpbWl0LCBpZGxlIH0pXHJcbiAgfVxyXG4gIGxvZ1JhdGVMaW1pdEV2ZW50KHsgdHlwZTogJ2FsbG93ZWQnLCBrZXksIGNvdW50OiBidWNrZXQuY291bnQsIGxpbWl0LCBpZGxlIH0pXHJcbiAgcmV0dXJuIHsgYWxsb3dlZDogdHJ1ZSwgcmV0cnlBZnRlclNlYzogMCB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnNwZWN0UmF0ZUxpbWl0KGtleTogc3RyaW5nKTogUmF0ZUxpbWl0QnVja2V0IHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gZ2V0U3RvcmUoKS5nZXQoa2V5KVxyXG59XHJcbiJdLCJuYW1lcyI6WyJhcHBlbmRGaWxlU3luYyIsImxvZ1JhdGVMaW1pdEV2ZW50IiwiZXZlbnQiLCJsb2dQYXRoIiwicHJvY2VzcyIsImVudiIsIlJBVEVfTElNSVRfREVCVUdfTE9HIiwiSlNPTiIsInN0cmluZ2lmeSIsInRzIiwiRGF0ZSIsIm5vdyIsImVuY29kaW5nIiwiZXJyIiwiREVCVUdfUkFURV9MSU1JVCIsImNvbnNvbGUiLCJlcnJvciIsImdldFN0b3JlIiwicHJvYyIsImdsb2JhbFRoaXMiLCJfX2FwcF9yYXRlX2xpbWl0X3N0b3JlX18iLCJNYXAiLCJnIiwiY2hlY2tSYXRlTGltaXQiLCJrZXkiLCJsaW1pdCIsIndpbmRvd01zIiwic3RvcmUiLCJidWNrZXQiLCJnZXQiLCJpZGxlIiwibGFzdFJlcXVlc3QiLCJibG9ja2VkVW50aWwiLCJuZXdCdWNrZXQiLCJ3aW5kb3dTdGFydCIsImNvdW50Iiwic2V0IiwiaW5mbyIsInR5cGUiLCJhbGxvd2VkIiwicmV0cnlBZnRlclNlYyIsIk1hdGgiLCJtYXgiLCJjZWlsIiwiaW5zcGVjdFJhdGVMaW1pdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/utils/rate-limit.ts\n");

/***/ }),

/***/ "(rsc)/../lib/handlers/video-jobs-query.ts":
/*!*******************************************!*\
  !*** ../lib/handlers/video-jobs-query.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StatusSchema: () => (/* binding */ StatusSchema),\n/* harmony export */   VideoJobsQuerySchema: () => (/* binding */ VideoJobsQuerySchema),\n/* harmony export */   parseVideoJobsQuery: () => (/* binding */ parseVideoJobsQuery)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../node_modules/zod/v3/types.js\");\n\nconst StatusSchema = zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n    \"queued\",\n    \"processing\",\n    \"completed\",\n    \"failed\",\n    \"cancelled\"\n]);\nconst VideoJobsQuerySchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    limit: zod__WEBPACK_IMPORTED_MODULE_0__.coerce.number().int().min(1).max(50).default(20),\n    status: StatusSchema.optional()\n});\nfunction parseVideoJobsQuery(input) {\n    // Normalize to single string values\n    const norm = {};\n    for (const [k, v] of Object.entries(input)){\n        norm[k] = Array.isArray(v) ? v[0] : v;\n    }\n    return VideoJobsQuerySchema.safeParse(norm);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbGliL2hhbmRsZXJzL3ZpZGVvLWpvYnMtcXVlcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF1QjtBQUVoQixNQUFNQyxlQUFlRCx3Q0FBTSxDQUFDO0lBQUM7SUFBUztJQUFhO0lBQVk7SUFBUztDQUFZLEVBQUM7QUFFckYsTUFBTUcsdUJBQXVCSCx1Q0FBUSxDQUFDO0lBQzNDSyxPQUFPTCx1Q0FBUSxDQUFDTyxNQUFNLEdBQUdDLEdBQUcsR0FBR0MsR0FBRyxDQUFDLEdBQUdDLEdBQUcsQ0FBQyxJQUFJQyxPQUFPLENBQUM7SUFDdERDLFFBQVFYLGFBQWFZLFFBQVE7QUFDL0IsR0FBRTtBQUlLLFNBQVNDLG9CQUFvQkMsS0FBb0Q7SUFDdEYsb0NBQW9DO0lBQ3BDLE1BQU1DLE9BQWdDLENBQUM7SUFDdkMsS0FBSyxNQUFNLENBQUNDLEdBQUdDLEVBQUUsSUFBSUMsT0FBT0MsT0FBTyxDQUFDTCxPQUFRO1FBQzFDQyxJQUFJLENBQUNDLEVBQUUsR0FBR0ksTUFBTUMsT0FBTyxDQUFDSixLQUFLQSxDQUFDLENBQUMsRUFBRSxHQUFHQTtJQUN0QztJQUNBLE9BQU9mLHFCQUFxQm9CLFNBQVMsQ0FBQ1A7QUFDeEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lc3R1ZGlvLWlhLXZpZGVvcy8uLi9saWIvaGFuZGxlcnMvdmlkZW8tam9icy1xdWVyeS50cz81MzBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnXHJcblxyXG5leHBvcnQgY29uc3QgU3RhdHVzU2NoZW1hID0gei5lbnVtKFsncXVldWVkJywncHJvY2Vzc2luZycsJ2NvbXBsZXRlZCcsJ2ZhaWxlZCcsJ2NhbmNlbGxlZCddKVxyXG5cclxuZXhwb3J0IGNvbnN0IFZpZGVvSm9ic1F1ZXJ5U2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIGxpbWl0OiB6LmNvZXJjZS5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDUwKS5kZWZhdWx0KDIwKSxcclxuICBzdGF0dXM6IFN0YXR1c1NjaGVtYS5vcHRpb25hbCgpLFxyXG59KVxyXG5cclxuZXhwb3J0IHR5cGUgVmlkZW9Kb2JzUXVlcnkgPSB6LmluZmVyPHR5cGVvZiBWaWRlb0pvYnNRdWVyeVNjaGVtYT5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVZpZGVvSm9ic1F1ZXJ5KGlucHV0OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZD4pIHtcclxuICAvLyBOb3JtYWxpemUgdG8gc2luZ2xlIHN0cmluZyB2YWx1ZXNcclxuICBjb25zdCBub3JtOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9XHJcbiAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoaW5wdXQpKSB7XHJcbiAgICBub3JtW2tdID0gQXJyYXkuaXNBcnJheSh2KSA/IHZbMF0gOiB2XHJcbiAgfVxyXG4gIHJldHVybiBWaWRlb0pvYnNRdWVyeVNjaGVtYS5zYWZlUGFyc2Uobm9ybSlcclxufVxyXG4iXSwibmFtZXMiOlsieiIsIlN0YXR1c1NjaGVtYSIsImVudW0iLCJWaWRlb0pvYnNRdWVyeVNjaGVtYSIsIm9iamVjdCIsImxpbWl0IiwiY29lcmNlIiwibnVtYmVyIiwiaW50IiwibWluIiwibWF4IiwiZGVmYXVsdCIsInN0YXR1cyIsIm9wdGlvbmFsIiwicGFyc2VWaWRlb0pvYnNRdWVyeSIsImlucHV0Iiwibm9ybSIsImsiLCJ2IiwiT2JqZWN0IiwiZW50cmllcyIsIkFycmF5IiwiaXNBcnJheSIsInNhZmVQYXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../lib/handlers/video-jobs-query.ts\n");

/***/ }),

/***/ "(rsc)/../lib/handlers/video-jobs.ts":
/*!*************************************!*\
  !*** ../lib/handlers/video-jobs.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isErr: () => (/* binding */ isErr),\n/* harmony export */   parseVideoJobInput: () => (/* binding */ parseVideoJobInput)\n/* harmony export */ });\n/* harmony import */ var _validation_schemas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../validation/schemas */ \"(rsc)/../lib/validation/schemas.ts\");\n\nfunction isErr(r) {\n    return !r.ok;\n}\nfunction parseVideoJobInput(json) {\n    const res = _validation_schemas__WEBPACK_IMPORTED_MODULE_0__.VideoJobInputSchema.safeParse(json);\n    if (!res.success) {\n        const err = res;\n        return {\n            ok: false,\n            issues: err.error.issues\n        };\n    }\n    const ok = res;\n    return {\n        ok: true,\n        data: ok.data\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbGliL2hhbmRsZXJzL3ZpZGVvLWpvYnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ2dGO0FBTWhGLFNBQVNDLE1BQU1DLENBQWM7SUFDM0IsT0FBTyxDQUFDQSxFQUFFQyxFQUFFO0FBQ2Q7QUFFTyxTQUFTQyxtQkFBbUJDLElBQWE7SUFDOUMsTUFBTUMsTUFBTU4sb0VBQW1CQSxDQUFDTyxTQUFTLENBQUNGO0lBQzFDLElBQUksQ0FBQ0MsSUFBSUUsT0FBTyxFQUFFO1FBQ2hCLE1BQU1DLE1BQU1IO1FBQ1osT0FBTztZQUFFSCxJQUFJO1lBQU9PLFFBQVFELElBQUlFLEtBQUssQ0FBQ0QsTUFBTTtRQUFDO0lBQy9DO0lBQ0EsTUFBTVAsS0FBS0c7SUFDWCxPQUFPO1FBQUVILElBQUk7UUFBTVMsTUFBTVQsR0FBR1MsSUFBSTtJQUFDO0FBQ25DO0FBRWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXN0dWRpby1pYS12aWRlb3MvLi4vbGliL2hhbmRsZXJzL3ZpZGVvLWpvYnMudHM/M2U3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHsgVmlkZW9Kb2JJbnB1dFNjaGVtYSwgdHlwZSBWaWRlb0pvYklucHV0IH0gZnJvbSAnLi4vdmFsaWRhdGlvbi9zY2hlbWFzJztcclxuXHJcbmV4cG9ydCB0eXBlIFBhcnNlT2sgPSB7IG9rOiB0cnVlOyBkYXRhOiBWaWRlb0pvYklucHV0IH07XHJcbmV4cG9ydCB0eXBlIFBhcnNlRXJyID0geyBvazogZmFsc2U7IGlzc3Vlczogei5ab2RJc3N1ZVtdIH07XHJcbmV4cG9ydCB0eXBlIFBhcnNlUmVzdWx0ID0gUGFyc2VPayB8IFBhcnNlRXJyO1xyXG5cclxuZnVuY3Rpb24gaXNFcnIocjogUGFyc2VSZXN1bHQpOiByIGlzIFBhcnNlRXJyIHtcclxuICByZXR1cm4gIXIub2s7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVZpZGVvSm9iSW5wdXQoanNvbjogdW5rbm93bik6IFBhcnNlUmVzdWx0IHtcclxuICBjb25zdCByZXMgPSBWaWRlb0pvYklucHV0U2NoZW1hLnNhZmVQYXJzZShqc29uKTtcclxuICBpZiAoIXJlcy5zdWNjZXNzKSB7XHJcbiAgICBjb25zdCBlcnIgPSByZXMgYXMgei5TYWZlUGFyc2VFcnJvcjx1bmtub3duPjtcclxuICAgIHJldHVybiB7IG9rOiBmYWxzZSwgaXNzdWVzOiBlcnIuZXJyb3IuaXNzdWVzIH07XHJcbiAgfVxyXG4gIGNvbnN0IG9rID0gcmVzIGFzIHouU2FmZVBhcnNlU3VjY2VzczxWaWRlb0pvYklucHV0PjtcclxuICByZXR1cm4geyBvazogdHJ1ZSwgZGF0YTogb2suZGF0YSB9O1xyXG59XHJcblxyXG5leHBvcnQgeyBpc0VyciB9O1xyXG4iXSwibmFtZXMiOlsiVmlkZW9Kb2JJbnB1dFNjaGVtYSIsImlzRXJyIiwiciIsIm9rIiwicGFyc2VWaWRlb0pvYklucHV0IiwianNvbiIsInJlcyIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJlcnIiLCJpc3N1ZXMiLCJlcnJvciIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../lib/handlers/video-jobs.ts\n");

/***/ }),

/***/ "(rsc)/../lib/services/supabase-server.ts":
/*!******************************************!*\
  !*** ../lib/services/supabase-server.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSupabaseForRequest: () => (/* binding */ getSupabaseForRequest)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/../node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nfunction getSupabaseForRequest(req) {\n    const url = \"http://localhost:54321\" || 0 || 0;\n    const anonKey = \"anon\" || 0 || 0;\n    const authHeader = (req.headers.get(\"authorization\") || req.headers.get(\"Authorization\")) ?? \"\";\n    const globalHeaders = {};\n    if (authHeader) globalHeaders[\"Authorization\"] = authHeader;\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(url, anonKey, {\n        global: {\n            headers: globalHeaders\n        },\n        auth: {\n            persistSession: false,\n            autoRefreshToken: true\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbGliL3NlcnZpY2VzL3N1cGFiYXNlLXNlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxRTtBQUc5RCxTQUFTQyxzQkFBc0JDLEdBQVk7SUFDaEQsTUFBTUMsTUFBTUMsd0JBQW9DLElBQUlBLENBQXdCLElBQUk7SUFDaEYsTUFBTUksVUFBVUosTUFBeUMsSUFBSUEsQ0FBNkIsSUFBSTtJQUM5RixNQUFNTyxhQUFhLENBQUNULElBQUlVLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG9CQUFvQlgsSUFBSVUsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQWUsS0FBTTtJQUM3RixNQUFNQyxnQkFBd0MsQ0FBQztJQUMvQyxJQUFJSCxZQUFZRyxhQUFhLENBQUMsZ0JBQWdCLEdBQUdIO0lBRWpELE9BQU9YLG1FQUFZQSxDQUFXRyxLQUFLSyxTQUFTO1FBQzFDTyxRQUFRO1lBQUVILFNBQVNFO1FBQWM7UUFDakNFLE1BQU07WUFBRUMsZ0JBQWdCO1lBQU9DLGtCQUFrQjtRQUFLO0lBQ3hEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lc3R1ZGlvLWlhLXZpZGVvcy8uLi9saWIvc2VydmljZXMvc3VwYWJhc2Utc2VydmVyLnRzP2RhOTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50LCBTdXBhYmFzZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XHJcbmltcG9ydCB0eXBlIHsgRGF0YWJhc2UgfSBmcm9tICcuLi90eXBlcy9kYXRhYmFzZSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwYWJhc2VGb3JSZXF1ZXN0KHJlcTogUmVxdWVzdCk6IFN1cGFiYXNlQ2xpZW50PERhdGFiYXNlPiB7XHJcbiAgY29uc3QgdXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIHx8IHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTCB8fCAnJztcclxuICBjb25zdCBhbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgfHwgcHJvY2Vzcy5lbnYuU1VQQUJBU0VfQU5PTl9LRVkgfHwgJyc7XHJcbiAgY29uc3QgYXV0aEhlYWRlciA9IChyZXEuaGVhZGVycy5nZXQoJ2F1dGhvcml6YXRpb24nKSB8fCByZXEuaGVhZGVycy5nZXQoJ0F1dGhvcml6YXRpb24nKSkgPz8gJyc7XHJcbiAgY29uc3QgZ2xvYmFsSGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG4gIGlmIChhdXRoSGVhZGVyKSBnbG9iYWxIZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBhdXRoSGVhZGVyO1xyXG5cclxuICByZXR1cm4gY3JlYXRlQ2xpZW50PERhdGFiYXNlPih1cmwsIGFub25LZXksIHtcclxuICAgIGdsb2JhbDogeyBoZWFkZXJzOiBnbG9iYWxIZWFkZXJzIH0sXHJcbiAgICBhdXRoOiB7IHBlcnNpc3RTZXNzaW9uOiBmYWxzZSwgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSB9LFxyXG4gIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJnZXRTdXBhYmFzZUZvclJlcXVlc3QiLCJyZXEiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfVVJMIiwiYW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiU1VQQUJBU0VfQU5PTl9LRVkiLCJhdXRoSGVhZGVyIiwiaGVhZGVycyIsImdldCIsImdsb2JhbEhlYWRlcnMiLCJnbG9iYWwiLCJhdXRoIiwicGVyc2lzdFNlc3Npb24iLCJhdXRvUmVmcmVzaFRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../lib/services/supabase-server.ts\n");

/***/ }),

/***/ "(rsc)/../lib/utils/metrics.ts":
/*!*******************************!*\
  !*** ../lib/utils/metrics.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMetricsSnapshot: () => (/* binding */ getMetricsSnapshot),\n/* harmony export */   recordError: () => (/* binding */ recordError),\n/* harmony export */   recordRateLimitHit: () => (/* binding */ recordRateLimitHit),\n/* harmony export */   resetMetrics: () => (/* binding */ resetMetrics)\n/* harmony export */ });\n// Simple in-memory metrics collector (per-process, not suitable for distributed setups without shared store)\nconst getMetrics = ()=>{\n    const g = globalThis;\n    if (!g.__metrics) {\n        g.__metrics = {\n            rate_limit_hits: 0,\n            errors: {},\n            startTime: Date.now()\n        };\n    }\n    return g.__metrics;\n};\nfunction recordRateLimitHit() {\n    const m = getMetrics();\n    m.rate_limit_hits += 1;\n}\nfunction recordError(code) {\n    const m = getMetrics();\n    m.errors[code] = (m.errors[code] || 0) + 1;\n}\nfunction getMetricsSnapshot() {\n    const m = getMetrics();\n    return {\n        rate_limit_hits: m.rate_limit_hits,\n        errors_total: Object.values(m.errors).reduce((a, b)=>a + b, 0),\n        errors_by_code: {\n            ...m.errors\n        },\n        uptime_ms: Date.now() - m.startTime\n    };\n}\nfunction resetMetrics() {\n    const g = globalThis;\n    g.__metrics = {\n        rate_limit_hits: 0,\n        errors: {},\n        startTime: Date.now()\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbGliL3V0aWxzL21ldHJpY3MudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLDZHQUE2RztBQW1CN0csTUFBTUEsYUFBYTtJQUNqQixNQUFNQyxJQUFJQztJQUNWLElBQUksQ0FBQ0QsRUFBRUUsU0FBUyxFQUFFO1FBQ2hCRixFQUFFRSxTQUFTLEdBQUc7WUFDWkMsaUJBQWlCO1lBQ2pCQyxRQUFRLENBQUM7WUFDVEMsV0FBV0MsS0FBS0MsR0FBRztRQUNyQjtJQUNGO0lBQ0EsT0FBT1AsRUFBRUUsU0FBUztBQUNwQjtBQUVPLFNBQVNNO0lBQ2QsTUFBTUMsSUFBSVY7SUFDVlUsRUFBRU4sZUFBZSxJQUFJO0FBQ3ZCO0FBRU8sU0FBU08sWUFBWUMsSUFBWTtJQUN0QyxNQUFNRixJQUFJVjtJQUNWVSxFQUFFTCxNQUFNLENBQUNPLEtBQUssR0FBRyxDQUFDRixFQUFFTCxNQUFNLENBQUNPLEtBQUssSUFBSSxLQUFLO0FBQzNDO0FBRU8sU0FBU0M7SUFDZCxNQUFNSCxJQUFJVjtJQUNWLE9BQU87UUFDTEksaUJBQWlCTSxFQUFFTixlQUFlO1FBQ2xDVSxjQUFjQyxPQUFPQyxNQUFNLENBQUNOLEVBQUVMLE1BQU0sRUFBRVksTUFBTSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELElBQUlDLEdBQUc7UUFDOURDLGdCQUFnQjtZQUFFLEdBQUdWLEVBQUVMLE1BQU07UUFBQztRQUM5QmdCLFdBQVdkLEtBQUtDLEdBQUcsS0FBS0UsRUFBRUosU0FBUztJQUNyQztBQUNGO0FBRU8sU0FBU2dCO0lBQ2QsTUFBTXJCLElBQUlDO0lBQ1ZELEVBQUVFLFNBQVMsR0FBRztRQUNaQyxpQkFBaUI7UUFDakJDLFFBQVEsQ0FBQztRQUNUQyxXQUFXQyxLQUFLQyxHQUFHO0lBQ3JCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lc3R1ZGlvLWlhLXZpZGVvcy8uLi9saWIvdXRpbHMvbWV0cmljcy50cz80ZDY0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNpbXBsZSBpbi1tZW1vcnkgbWV0cmljcyBjb2xsZWN0b3IgKHBlci1wcm9jZXNzLCBub3Qgc3VpdGFibGUgZm9yIGRpc3RyaWJ1dGVkIHNldHVwcyB3aXRob3V0IHNoYXJlZCBzdG9yZSlcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWV0cmljc1NuYXBzaG90IHtcclxuICByYXRlX2xpbWl0X2hpdHM6IG51bWJlclxyXG4gIGVycm9yc190b3RhbDogbnVtYmVyXHJcbiAgZXJyb3JzX2J5X2NvZGU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cclxuICB1cHRpbWVfbXM6IG51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgTWV0cmljcyB7XHJcbiAgcmF0ZV9saW1pdF9oaXRzOiBudW1iZXJcclxuICBlcnJvcnM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cclxuICBzdGFydFRpbWU6IG51bWJlclxyXG59XHJcblxyXG50eXBlIEdsb2JhbFdpdGhNZXRyaWNzID0gdHlwZW9mIGdsb2JhbFRoaXMgJiB7XHJcbiAgX19tZXRyaWNzPzogTWV0cmljc1xyXG59XHJcblxyXG5jb25zdCBnZXRNZXRyaWNzID0gKCk6IE1ldHJpY3MgPT4ge1xyXG4gIGNvbnN0IGcgPSBnbG9iYWxUaGlzIGFzIEdsb2JhbFdpdGhNZXRyaWNzXHJcbiAgaWYgKCFnLl9fbWV0cmljcykge1xyXG4gICAgZy5fX21ldHJpY3MgPSB7XHJcbiAgICAgIHJhdGVfbGltaXRfaGl0czogMCxcclxuICAgICAgZXJyb3JzOiB7fSxcclxuICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBnLl9fbWV0cmljc1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkUmF0ZUxpbWl0SGl0KCkge1xyXG4gIGNvbnN0IG0gPSBnZXRNZXRyaWNzKClcclxuICBtLnJhdGVfbGltaXRfaGl0cyArPSAxXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWNvcmRFcnJvcihjb2RlOiBzdHJpbmcpIHtcclxuICBjb25zdCBtID0gZ2V0TWV0cmljcygpXHJcbiAgbS5lcnJvcnNbY29kZV0gPSAobS5lcnJvcnNbY29kZV0gfHwgMCkgKyAxXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRyaWNzU25hcHNob3QoKTogTWV0cmljc1NuYXBzaG90IHtcclxuICBjb25zdCBtID0gZ2V0TWV0cmljcygpXHJcbiAgcmV0dXJuIHtcclxuICAgIHJhdGVfbGltaXRfaGl0czogbS5yYXRlX2xpbWl0X2hpdHMsXHJcbiAgICBlcnJvcnNfdG90YWw6IE9iamVjdC52YWx1ZXMobS5lcnJvcnMpLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApLFxyXG4gICAgZXJyb3JzX2J5X2NvZGU6IHsgLi4ubS5lcnJvcnMgfSxcclxuICAgIHVwdGltZV9tczogRGF0ZS5ub3coKSAtIG0uc3RhcnRUaW1lXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRNZXRyaWNzKCkge1xyXG4gIGNvbnN0IGcgPSBnbG9iYWxUaGlzIGFzIEdsb2JhbFdpdGhNZXRyaWNzXHJcbiAgZy5fX21ldHJpY3MgPSB7XHJcbiAgICByYXRlX2xpbWl0X2hpdHM6IDAsXHJcbiAgICBlcnJvcnM6IHt9LFxyXG4gICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJnZXRNZXRyaWNzIiwiZyIsImdsb2JhbFRoaXMiLCJfX21ldHJpY3MiLCJyYXRlX2xpbWl0X2hpdHMiLCJlcnJvcnMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwicmVjb3JkUmF0ZUxpbWl0SGl0IiwibSIsInJlY29yZEVycm9yIiwiY29kZSIsImdldE1ldHJpY3NTbmFwc2hvdCIsImVycm9yc190b3RhbCIsIk9iamVjdCIsInZhbHVlcyIsInJlZHVjZSIsImEiLCJiIiwiZXJyb3JzX2J5X2NvZGUiLCJ1cHRpbWVfbXMiLCJyZXNldE1ldHJpY3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../lib/utils/metrics.ts\n");

/***/ }),

/***/ "(rsc)/../lib/validation/schemas.ts":
/*!************************************!*\
  !*** ../lib/validation/schemas.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SlideInputSchema: () => (/* binding */ SlideInputSchema),\n/* harmony export */   VideoJobInputSchema: () => (/* binding */ VideoJobInputSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../node_modules/zod/v3/types.js\");\n\nconst SlideInputSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    content: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    order_index: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().nonnegative()\n});\nconst VideoJobInputSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    project_id: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid(),\n    slides: zod__WEBPACK_IMPORTED_MODULE_0__.array(SlideInputSchema).min(1),\n    tts_voice: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    quality: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"low\",\n        \"medium\",\n        \"high\"\n    ]).default(\"medium\")\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vbGliL3ZhbGlkYXRpb24vc2NoZW1hcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0I7QUFFakIsTUFBTUMsbUJBQW1CRCx1Q0FBUSxDQUFDO0lBQ3ZDRyxPQUFPSCx1Q0FBUSxHQUFHSyxHQUFHLENBQUM7SUFDdEJDLFNBQVNOLHVDQUFRLEdBQUdLLEdBQUcsQ0FBQztJQUN4QkUsYUFBYVAsdUNBQVEsR0FBR1MsR0FBRyxHQUFHQyxXQUFXO0FBQzNDLEdBQUc7QUFFSSxNQUFNQyxzQkFBc0JYLHVDQUFRLENBQUM7SUFDMUNZLFlBQVlaLHVDQUFRLEdBQUdhLElBQUk7SUFDM0JDLFFBQVFkLHNDQUFPLENBQUNDLGtCQUFrQkksR0FBRyxDQUFDO0lBQ3RDVyxXQUFXaEIsdUNBQVEsR0FBR2lCLFFBQVE7SUFDOUJDLFNBQVNsQix3Q0FBTSxDQUFDO1FBQUM7UUFBTztRQUFVO0tBQU8sRUFBRW9CLE9BQU8sQ0FBQztBQUNyRCxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXN0dWRpby1pYS12aWRlb3MvLi4vbGliL3ZhbGlkYXRpb24vc2NoZW1hcy50cz8yZWU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNsaWRlSW5wdXRTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgdGl0bGU6IHouc3RyaW5nKCkubWluKDEpLFxyXG4gIGNvbnRlbnQ6IHouc3RyaW5nKCkubWluKDEpLFxyXG4gIG9yZGVyX2luZGV4OiB6Lm51bWJlcigpLmludCgpLm5vbm5lZ2F0aXZlKCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IFZpZGVvSm9iSW5wdXRTY2hlbWEgPSB6Lm9iamVjdCh7XHJcbiAgcHJvamVjdF9pZDogei5zdHJpbmcoKS51dWlkKCksXHJcbiAgc2xpZGVzOiB6LmFycmF5KFNsaWRlSW5wdXRTY2hlbWEpLm1pbigxKSxcclxuICB0dHNfdm9pY2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBxdWFsaXR5OiB6LmVudW0oWydsb3cnLCAnbWVkaXVtJywgJ2hpZ2gnXSkuZGVmYXVsdCgnbWVkaXVtJyksXHJcbn0pO1xyXG5cclxuZXhwb3J0IHR5cGUgU2xpZGVJbnB1dCA9IHouaW5mZXI8dHlwZW9mIFNsaWRlSW5wdXRTY2hlbWE+O1xyXG5leHBvcnQgdHlwZSBWaWRlb0pvYklucHV0ID0gei5pbmZlcjx0eXBlb2YgVmlkZW9Kb2JJbnB1dFNjaGVtYT47XHJcbiJdLCJuYW1lcyI6WyJ6IiwiU2xpZGVJbnB1dFNjaGVtYSIsIm9iamVjdCIsInRpdGxlIiwic3RyaW5nIiwibWluIiwiY29udGVudCIsIm9yZGVyX2luZGV4IiwibnVtYmVyIiwiaW50Iiwibm9ubmVnYXRpdmUiLCJWaWRlb0pvYklucHV0U2NoZW1hIiwicHJvamVjdF9pZCIsInV1aWQiLCJzbGlkZXMiLCJhcnJheSIsInR0c192b2ljZSIsIm9wdGlvbmFsIiwicXVhbGl0eSIsImVudW0iLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../lib/validation/schemas.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/tr46","vendor-chunks/@opentelemetry","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fv1%2Fvideo-jobs%2Froute&page=%2Fapi%2Fv1%2Fvideo-jobs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fv1%2Fvideo-jobs%2Froute.ts&appDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5C_MVP_Video_TecnicoCursos_v7%5Cestudio_ia_videos&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
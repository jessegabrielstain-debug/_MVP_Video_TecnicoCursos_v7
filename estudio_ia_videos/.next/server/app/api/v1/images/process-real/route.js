"use strict";(()=>{var e={};e.id=7543,e.ids=[7543],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},184963:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var o={};s.r(o),s.d(o,{GET:()=>p,POST:()=>m,dynamic:()=>c});var a=s(349303),t=s(88716),i=s(60670),n=s(387070);!function(){var e=Error("Cannot find module '@/lib/image-processor-real'");throw e.code="MODULE_NOT_FOUND",e}();let c="force-dynamic";async function m(e){try{let r;let s=await e.formData(),o=s.getAll("files"),a=s.get("projectId"),t=s.get("options");if(!o||0===o.length)return n.NextResponse.json({error:"Nenhuma imagem foi enviada"},{status:400});console.log(`ðŸ–¼ï¸ Processando ${o.length} imagens`);let i=t?JSON.parse(t):{};if(a){let e=await Object(function(){var e=Error("Cannot find module '@/lib/image-processor-real'");throw e.code="MODULE_NOT_FOUND",e}())(a,o,i);if(!e.success)throw Error(e.error);r=e.processedImages}else r=await Object(function(){var e=Error("Cannot find module '@/lib/image-processor-real'");throw e.code="MODULE_NOT_FOUND",e}()).processBatchImages(o,i);return n.NextResponse.json({success:!0,processedImages:r,count:r.length,message:`${r.length} imagens processadas com sucesso!`})}catch(e){return console.error("âŒ Erro no processamento de imagens:",e),n.NextResponse.json({error:"Erro no processamento de imagens",details:e instanceof Error?e.message:"Erro desconhecido"},{status:500})}}async function p(e){try{let{searchParams:r}=new URL(e.url),s=r.get("action");if("optimize"===s){let e=r.get("imageUrl");if(!e)return n.NextResponse.json({error:"URL da imagem \xe9 obrigat\xf3ria"},{status:400});let s=await fetch(e),o=Buffer.from(await s.arrayBuffer()),a=await Object(function(){var e=Error("Cannot find module '@/lib/image-processor-real'");throw e.code="MODULE_NOT_FOUND",e}()).optimizeForWeb(o);return n.NextResponse.json({success:!0,optimized:{sizes:a.sizes,savings:{webp:Math.round((a.sizes.original-a.sizes.webp)/a.sizes.original*100),jpeg:Math.round((a.sizes.original-a.sizes.jpeg)/a.sizes.original*100)}},message:"Imagem otimizada com sucesso!"})}return n.NextResponse.json({success:!0,message:"API de processamento de imagens ativa",endpoints:{POST:"/api/v1/images/process-real - Processar imagens",GET:"/api/v1/images/process-real?action=optimize&imageUrl=... - Otimizar imagem"}})}catch(e){return console.error("âŒ Erro na otimiza\xe7\xe3o de imagem:",e),n.NextResponse.json({error:"Erro na otimiza\xe7\xe3o",details:e instanceof Error?e.message:"Erro desconhecido"},{status:500})}}let u=new a.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/v1/images/process-real/route",pathname:"/api/v1/images/process-real",filename:"route",bundlePath:"app/api/v1/images/process-real/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\v1\\images\\process-real\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:g}=u,f="/api/v1/images/process-real/route";function h(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),o=r.X(0,[8948,5972],()=>s(184963));module.exports=o})();
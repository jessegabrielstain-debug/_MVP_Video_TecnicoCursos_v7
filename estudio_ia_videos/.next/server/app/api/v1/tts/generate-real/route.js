(()=>{var e={};e.id=8746,e.ids=[8746,7153],e.modules={14464:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=14464,e.exports=t},8541:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=8541,e.exports=t},12308:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=12308,e.exports=t},53524:e=>{"use strict";e.exports=require("@prisma/client")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},61212:e=>{"use strict";e.exports=require("async_hooks")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},11008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>I,patchFetch:()=>U,requestAsyncStorage:()=>A,routeModule:()=>S,serverHooks:()=>_,staticGenerationAsyncStorage:()=>T});var i={};r.r(i),r.d(i,{GET:()=>b,POST:()=>y,dynamic:()=>w});var s=r(49303),o=r(88716),a=r(60670),n=r(87070),l=r(84770),u=r(8261),d=r(54211),c=r(61657),h=r(97824);let p=null;var v=r(68582);let g="assets",f=e=>(e||"segment").replace(/[^a-zA-Z0-9-_]/g,"_");class m{async generateElevenLabsAudio(e){if(!e.text?.trim())throw Error("Texto para TTS \xe9 obrigat\xf3rio");let t=e.voice.voiceId||process.env.ELEVENLABS_VOICE_ID||"21m00Tcm4TlvDq8ikWAM",r=e.voice.modelId||"eleven_multilingual_v2",i=await (0,v.T9)(e.text.trim(),t,r),s=e.destinationPath??this.buildStoragePath("elevenlabs");return{audioUrl:await this.uploadAudioBuffer(i,s),duration:this.estimateDuration(e.text,e.voice.speed),provider:"elevenlabs",metadata:{voiceId:t,modelId:r,stability:e.voice.stability,similarityBoost:e.voice.similarityBoost}}}async generateAzureAudio(e){if(!e.text?.trim())throw Error("Texto para TTS \xe9 obrigat\xf3rio");let t=process.env.AZURE_SPEECH_KEY||process.env.AZURE_TTS_KEY,r=process.env.AZURE_SPEECH_REGION||process.env.AZURE_TTS_REGION;if(!t||!r)throw Error("Credenciais do Azure Speech n\xe3o configuradas");let i=e.voice.voiceId||"pt-BR-FranciscaNeural",s=e.voice.language||"pt-BR",o=this.normalizeRate(e.voice.speed),a=this.normalizePitch(e.voice.pitch),n=this.buildSsml({text:e.text,language:s,voiceName:i,rate:o,pitch:a,style:e.voice.style}),l=await fetch(`https://${r}.tts.speech.microsoft.com/cognitiveservices/v1`,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":t,"Content-Type":"application/ssml+xml","X-Microsoft-OutputFormat":"wav"===e.outputFormat?"riff-16khz-16bit-mono-pcm":"audio-24khz-160kbitrate-mono-mp3"},body:n});if(!l.ok){let e=await l.text();throw Error(`Azure TTS error ${l.status}: ${e}`)}let u=await l.arrayBuffer(),d=Buffer.from(u),c="wav"===e.outputFormat?"wav":"mp3",h=e.destinationPath??this.buildStoragePath("azure",void 0,void 0,void 0,c),p="wav"===c?"audio/wav":"audio/mpeg";return{audioUrl:await this.uploadAudioBuffer(d,h,p),duration:this.estimateDuration(e.text,e.voice.speed),provider:"azure",metadata:{voiceId:i,language:s,style:e.voice.style,rate:o,pitch:a}}}async getAvailableVoices(e){if("elevenlabs"===e)try{return(await (0,v.PY)()).map(e=>({id:e.voice_id,name:e.name,language:e?.labels?.language||"unknown",gender:e?.labels?.gender,provider:"elevenlabs"}))}catch(e){return d.kg.warn("Falha ao listar vozes ElevenLabs, usando fallback",{error:e}),this.elevenLabsFallback()}let t=this.azureVoiceCache;if(t&&t.expiresAt>Date.now())return t.data;try{let e=await this.fetchAzureVoices();return this.azureVoiceCache={data:e,expiresAt:Date.now()+3e5},e}catch(e){return d.kg.warn("Falha ao listar vozes Azure, usando fallback",{error:e}),this.azureFallback()}}async uploadAudioBuffer(e,t,r="audio/mpeg"){try{let i=function(){if(p)return p;let e=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!e)throw Error("Missing SUPABASE_SERVICE_ROLE_KEY environment variable for service Supabase client");let{url:t}=(0,h.o)();return p=(0,c.eI)(t,e,{auth:{persistSession:!1,autoRefreshToken:!1}})}(),{error:s}=await i.storage.from(g).upload(t,e,{cacheControl:"3600",upsert:!0,contentType:r});if(s)throw s;let{data:o}=i.storage.from(g).getPublicUrl(t);return o.publicUrl}catch(t){return d.kg.warn("Falha ao salvar \xe1udio no Storage, retornando base64 inline",{error:t}),`data:${r};base64,${e.toString("base64")}`}}async fetchAzureVoices(){let e=process.env.AZURE_SPEECH_KEY||process.env.AZURE_TTS_KEY,t=process.env.AZURE_SPEECH_REGION||process.env.AZURE_TTS_REGION;if(!e||!t)throw Error("Credenciais Azure ausentes para listar vozes");let r=await fetch(`https://${t}.tts.speech.microsoft.com/cognitiveservices/voices/list`,{headers:{"Ocp-Apim-Subscription-Key":e}});if(!r.ok){let e=await r.text();throw Error(`Azure voices error ${r.status}: ${e}`)}return(await r.json()).map(e=>({id:e.ShortName||e.VoiceId||"",name:e.DisplayName||e.LocalName||"",language:e.Locale||e.Language||"",gender:e.Gender,provider:"azure"}))}estimateDuration(e,t=1){let r=e.trim();return r?Number((r.split(/\s+/).length/160*60*(1/(t>0?t:1))).toFixed(2)):0}normalizeRate(e){return e&&1!==e?e.toFixed(2):"1.0"}normalizePitch(e){if(!e)return"0%";let t=Math.max(-20,Math.min(20,e));return`${t>0?"+":""}${t}%`}buildSsml({text:e,language:t,voiceName:r,rate:i,pitch:s,style:o}){let a=this.escapeSsml(e),n=o?`<mstts:express-as style="${o}">`:"";return`
      <speak version="1.0" xml:lang="${t}" xmlns:mstts="https://www.w3.org/2001/mstts">
        <voice name="${r}">
          ${n}
            <prosody rate="${i}" pitch="${s}">
              ${a}
            </prosody>
          ${o?"</mstts:express-as>":""}
        </voice>
      </speak>
    `}escapeSsml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\s+/g," ")}buildStoragePath(e,t,r,i,s="mp3"){let o=f(i||e);return t&&r?`audio/tts/projects/${t}/${r}-${o}-${Date.now()}.${s}`:`audio/tts/${e}/${(0,l.randomUUID)()}.${s}`}elevenLabsFallback(){return[{id:"21m00Tcm4TlvDq8ikWAM",name:"Rachel",language:"en-US",gender:"female",provider:"elevenlabs"},{id:"AZnzlk1XvdvUeBnXmlld",name:"Domi",language:"en-US",gender:"female",provider:"elevenlabs"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",language:"en-US",gender:"female",provider:"elevenlabs"}]}azureFallback(){return[{id:"pt-BR-FranciscaNeural",name:"Francisca",language:"pt-BR",gender:"female",provider:"azure"},{id:"pt-BR-AntonioNeural",name:"Antonio",language:"pt-BR",gender:"male",provider:"azure"},{id:"en-US-JennyNeural",name:"Jenny",language:"en-US",gender:"female",provider:"azure"},{id:"en-US-GuyNeural",name:"Guy",language:"en-US",gender:"male",provider:"azure"}]}constructor(){this.azureVoiceCache=null}}let x=new m;async function E(e,t){if(!t?.provider||!t.voiceId)return{success:!1,error:"Configura\xe7\xf5es de voz inv\xe1lidas"};if(!["elevenlabs","azure"].includes(t.provider))return{success:!1,error:`Provider n\xe3o suportado: ${t.provider}`};try{let r=await u._.project.findUnique({where:{id:e},include:{slides:{orderBy:{orderIndex:"asc"},select:{id:!0,title:!0,orderIndex:!0,content:!0,audioConfig:!0}}}});if(!r)return{success:!1,error:"Projeto n\xe3o encontrado"};if(!r.slides.length)return{success:!1,error:"Projeto n\xe3o possui slides processados"};let i=r.slides.filter(e=>e.content?.trim());if(!i.length)return{success:!1,error:"Nenhum slide possui conte\xfado para gerar TTS"};let s=[],o=0;for(let r of i){let i=(r.content||"").trim();if(i)try{let a=`audio/tts/projects/${e}/${r.id}-${f(t.voiceId)}.mp3`,n="elevenlabs"===t.provider?await x.generateElevenLabsAudio({text:i,voice:t,destinationPath:a}):await x.generateAzureAudio({text:i,voice:t,destinationPath:a});s.push({slideId:r.id,slideNumber:r.orderIndex,title:r.title||`Slide ${r.orderIndex}`,audioUrl:n.audioUrl,duration:n.duration,startsAt:Number(o.toFixed(2)),provider:t.provider,status:"completed"}),o+=n.duration;let l=r.audioConfig||{};await u._.slide.update({where:{id:r.id},data:{audioConfig:{...l,audioUrl:n.audioUrl,ttsGenerated:!0,lastGeneratedAt:new Date().toISOString()},updatedAt:new Date}})}catch(i){d.kg.error("Falha ao gerar \xe1udio para slide",i instanceof Error?i:Error(String(i)),{projectId:e,slideId:r.id}),s.push({slideId:r.id,slideNumber:r.orderIndex,title:r.title||`Slide ${r.orderIndex}`,audioUrl:null,duration:0,startsAt:Number(o.toFixed(2)),provider:t.provider,status:"failed",error:i instanceof Error?i.message:"Erro desconhecido"})}}let a=s.length&&s.every(e=>e.audioUrl)&&s[0]?.audioUrl||null,n=r.settings||{},l={...r.settings?.processingLog||{},audioTimeline:s,generatedAt:new Date().toISOString(),ttsProvider:t.provider,voiceId:t.voiceId};return await u._.project.update({where:{id:e},data:{settings:{...n,ttsProvider:t.provider,voiceId:t.voiceId,audioUrl:a??n.audioUrl,processingLog:l},duration:Math.round(o)}}),{success:!0,audioTimeline:s,totalDuration:Number(o.toFixed(2)),projectAudioUrl:a}}catch(t){return d.kg.error("Erro ao gerar TTS completo do projeto",t instanceof Error?t:Error(String(t)),{projectId:e}),{success:!1,error:t instanceof Error?t.message:"Erro desconhecido"}}}let w="force-dynamic";async function y(e){try{let t=await e.json(),{projectId:r,voice:i,action:s="generate"}=t;if("generate"===s){if(!r||!i)return n.NextResponse.json({error:"Project ID e configura\xe7\xf5es de voz s\xe3o obrigat\xf3rios"},{status:400});console.log("\uD83D\uDD0A Iniciando gera\xe7\xe3o TTS real para projeto:",r);let e=await E(r,i);if(!e.success)return n.NextResponse.json({error:e.error||"Erro na gera\xe7\xe3o TTS"},{status:500});return n.NextResponse.json({success:!0,audioTimeline:e.audioTimeline,projectAudioUrl:e.projectAudioUrl,totalDuration:e.totalDuration,slidesCount:e.audioTimeline?.length||0,message:"TTS gerado com sucesso para todos os slides!"})}if("single"!==s)return n.NextResponse.json({error:"A\xe7\xe3o n\xe3o reconhecida"},{status:400});{let e;let{text:r,voice:i}=t;if(!r||!i)return n.NextResponse.json({error:"Texto e configura\xe7\xf5es de voz s\xe3o obrigat\xf3rios"},{status:400});if("elevenlabs"===i.provider)e=await x.generateElevenLabsAudio({text:r,voice:i,outputFormat:"mp3"});else if("azure"===i.provider)e=await x.generateAzureAudio({text:r,voice:i,outputFormat:"mp3"});else throw Error(`Provider n\xe3o suportado: ${i.provider}`);return n.NextResponse.json({success:!0,audioUrl:e.audioUrl,metadata:e.metadata,message:"\xc1udio gerado com sucesso!"})}}catch(e){return console.error("❌ Erro na API TTS:",e),n.NextResponse.json({error:"Erro na gera\xe7\xe3o de \xe1udio",details:e instanceof Error?e.message:"Erro desconhecido"},{status:500})}}async function b(e){try{let{searchParams:t}=new URL(e.url),r=t.get("action"),i=t.get("provider");if("voices"===r){if(!i)return n.NextResponse.json({error:"Provider \xe9 obrigat\xf3rio"},{status:400});let e=await x.getAvailableVoices(i);return n.NextResponse.json({success:!0,provider:i,voices:e,count:e.length,message:`${e.length} vozes dispon\xedveis para ${i}`})}if("status"===r){let e=t.get("projectId");if(!e)return n.NextResponse.json({error:"Project ID \xe9 obrigat\xf3rio"},{status:400});let r=await u._.project.findUnique({where:{id:e},include:{slides:{select:{id:!0,title:!0,audioConfig:!0},orderBy:{orderIndex:"asc"}}}});if(!r)return n.NextResponse.json({error:"Projeto n\xe3o encontrado"},{status:404});let i=r.slides.filter(e=>e.audioConfig?.audioUrl),s=r.metadata||{},o=s.processingLog||{};return n.NextResponse.json({success:!0,project:{id:r.id,name:r.title,hasProjectAudio:!!s.audioUrl,projectAudioUrl:s.audioUrl,ttsProvider:s.ttsProvider,voiceId:s.voiceId,totalDuration:r.duration},slides:{total:r.slides.length,withTTS:i.length,percentage:r.slides.length>0?Math.round(i.length/r.slides.length*100):0,details:r.slides.map(e=>({id:e.id,title:e.title,hasTTS:!!e.audioConfig?.audioUrl,audioUrl:e.audioConfig?.audioUrl}))},timeline:o?.audioTimeline||[],generatedAt:o?.generatedAt})}return n.NextResponse.json({success:!0,message:"API TTS Real ativa",providers:["elevenlabs","azure"],endpoints:{"POST /generate":"Gerar TTS para projeto ou texto individual","GET /voices?provider=":"Listar vozes dispon\xedveis","GET /status?projectId=":"Status TTS do projeto"}})}catch(e){return console.error("❌ Erro na API TTS GET:",e),n.NextResponse.json({error:"Erro na consulta TTS",details:e instanceof Error?e.message:"Erro desconhecido"},{status:500})}}let S=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/v1/tts/generate-real/route",pathname:"/api/v1/tts/generate-real",filename:"route",bundlePath:"app/api/v1/tts/generate-real/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\v1\\tts\\generate-real\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:A,staticGenerationAsyncStorage:T,serverHooks:_}=S,I="/api/v1/tts/generate-real/route";function U(){return(0,a.patchFetch)({serverHooks:_,staticGenerationAsyncStorage:T})}},54211:(e,t,r)=>{"use strict";r.d(t,{Yd:()=>s,kg:()=>o});var i=r(77686);class s{constructor(e){this.isDevelopment=!1,this.minLevel=process.env.LOG_LEVEL||"info",this.namespace=null,this.levels={debug:0,info:1,warn:2,error:3},e&&(this.namespace=e)}shouldLog(e){return this.levels[e]>=this.levels[this.minLevel]}formatMessage(e){if(!this.isDevelopment)return JSON.stringify({level:e.level,message:e.message,timestamp:e.timestamp,...this.namespace?{namespace:this.namespace}:{},...e.context,...e.error?{error:{message:e.error.message,stack:e.error.stack,name:e.error.name}}:{}});let t=[`${{debug:"\uD83D\uDD0D",info:"ℹ️",warn:"⚠️",error:"❌"}[e.level]} [${e.level.toUpperCase()}]`,e.timestamp];return this.namespace&&t.push(`[${this.namespace}]`),t.push(e.message),e.context&&t.push(JSON.stringify(e.context,null,2)),e.error&&(t.push(`
Error: ${e.error.message}`),this.isDevelopment&&e.error.stack&&t.push(`
Stack: ${e.error.stack}`)),t.join(" ")}log(e,t,r,s){if(!this.shouldLog(e))return;let o={level:e,message:t,timestamp:new Date().toISOString(),context:r,error:s},a=this.formatMessage(o);switch(this.isDevelopment||("error"===e&&s?i.captureException(s,{extra:{...r,message:t}}):("error"===e||"warn"===e)&&i.captureMessage(t,{level:"warn"===e?"warning":"error",extra:r})),e){case"debug":this.isDevelopment&&console.debug(a);break;case"info":console.info(a);break;case"warn":console.warn(a);break;case"error":console.error(a)}}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t,r){this.log("error",e,r,t)}withContext(e){let t=new s(this.namespace||void 0),r=t.log.bind(t);return t.log=(t,i,s,o)=>{r(t,i,{...e,...s},o)},t}}let o=new s},8261:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var i=r(53524);let s=global.prisma||new i.PrismaClient({log:["error"]})},97824:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});let i=null;function s(){if(i)return i;let e="https://ofhzrdiadxigrvmrhaiz.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maHpyZGlhZHhpZ3J2bXJoYWl6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3MTE3NjEsImV4cCI6MjA3NTI4Nzc2MX0.u-F5m9lvYc1lx9aA-MoTZqCAa83QHGVk8uTh-_KPfCQ";if(!e||!t)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables");return i={url:e,anonKey:t}}},83988:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},10949:(e,t,r)=>{"use strict";function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)t.push(arguments[r]);return t}function s(e,t,r,i){if(!(this instanceof s))return new s(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=i,i.Node=s,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.tail=new s(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},i.prototype.unshift=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.head=new s(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;null!==r;i++)e.call(t,r.value,i,this),r=r.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;null!==r;i--)e.call(t,r.value,i,this),r=r.prev},i.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},i.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},i.prototype.map=function(e,t){t=t||this;for(var r=new i,s=this.head;null!==s;)r.push(e.call(t,s.value,this)),s=s.next;return r},i.prototype.mapReverse=function(e,t){t=t||this;for(var r=new i,s=this.tail;null!==s;)r.push(e.call(t,s.value,this)),s=s.prev;return r},i.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else if(this.head)i=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var s=0;null!==i;s++)r=e(r,i.value,s),i=i.next;return r},i.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else if(this.tail)i=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;null!==i;s--)r=e(r,i.value,s),i=i.prev;return r},i.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},i.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=0,o=this.head;null!==o&&s<e;s++)o=o.next;for(;null!==o&&s<t;s++,o=o.next)r.push(o.value);return r},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new i;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=this.length,o=this.tail;null!==o&&s>t;s--)o=o.prev;for(;null!==o&&s>e;s--,o=o.prev)r.push(o.value);return r},i.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(var a=[],i=0;o&&i<t;i++)a.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var i=0;i<r.length;i++)o=function(e,t,r){var i=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}(this,o,r[i]);return a},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};try{r(83988)(i)}catch(e){}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[8948,5972,1657,9092,7686,6394,8582],()=>r(11008));module.exports=i})();
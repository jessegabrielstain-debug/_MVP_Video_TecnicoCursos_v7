(()=>{var e={};e.id=2962,e.ids=[2962],e.modules={150673:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=150673,e.exports=r},636372:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=636372,e.exports=r},367696:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=367696,e.exports=r},768626:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=768626,e.exports=r},572934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},554580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},345869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},220399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},627790:e=>{"use strict";e.exports=require("assert")},978893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},532615:e=>{"use strict";e.exports=require("http")},735240:e=>{"use strict";e.exports=require("https")},768621:e=>{"use strict";e.exports=require("punycode")},986624:e=>{"use strict";e.exports=require("querystring")},276162:e=>{"use strict";e.exports=require("stream")},917360:e=>{"use strict";e.exports=require("url")},521764:e=>{"use strict";e.exports=require("util")},671568:e=>{"use strict";e.exports=require("zlib")},721863:(e,r,t)=>{"use strict";t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>v,staticGenerationAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{GET:()=>c});var o=t(349303),i=t(88716),u=t(60670),n=t(387070),a=t(95715),d=t(577711);async function c(e,{params:r}){try{let t=await (0,a.getServerSession)();if(!t?.user?.id)return n.NextResponse.json({error:"Unauthorized"},{status:401});if(t.user.id!==r.userId){let{data:e,error:r}=await d.OQ.from("users").select("role").eq("id",t.user.id).single();if(r||e?.role!=="admin")return n.NextResponse.json({error:"Forbidden"},{status:403})}let{searchParams:s}=new URL(e.url),o=parseInt(s.get("limit")||"100"),i=await Object(function(){var e=Error("Cannot find module '@/lib/audit-logging-real'");throw e.code="MODULE_NOT_FOUND",e}()).getUserActivity(r.userId,o);return n.NextResponse.json({activity:i})}catch(e){return n.NextResponse.json({error:e.message},{status:500})}}!function(){var e=Error("Cannot find module '@/lib/audit-logging-real'");throw e.code="MODULE_NOT_FOUND",e}();let p=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/audit/user/[userId]/route",pathname:"/api/audit/user/[userId]",filename:"route",bundlePath:"app/api/audit/user/[userId]/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\audit\\user\\[userId]\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:x,serverHooks:v}=p,m="/api/audit/user/[userId]/route";function f(){return(0,u.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:x})}},577711:(e,r,t)=>{"use strict";t.d(r,{OQ:()=>u});var s=t(366763);let o=process.env.NEXT_PUBLIC_SUPABASE_URL,i=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;if(!o||!i)throw Error("Faltam vari\xe1veis de ambiente do Supabase. Verifique o arquivo .env");let u=(0,s.createClient)(o,i,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}})}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,5972,5715,6763],()=>t(721863));module.exports=s})();
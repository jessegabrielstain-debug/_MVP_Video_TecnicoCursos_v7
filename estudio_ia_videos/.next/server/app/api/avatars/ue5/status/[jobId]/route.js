"use strict";(()=>{var e={};e.id=1597,e.ids=[1597],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},13488:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>m,patchFetch:()=>_,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>g,staticGenerationAsyncStorage:()=>c});var n={};a.r(n),a.d(n,{GET:()=>d});var o=a(49303),i=a(88716),s=a(60670),r=a(87070),l=a(37470);async function d(e,{params:t}){try{let e=l.Gc.getJobStatus(t.jobId);if(!e)return r.NextResponse.json({error:"Job n\xe3o encontrado"},{status:404});let a={};return e.timings.audio2face_start&&e.timings.audio2face_end&&(a.audio2face_seconds=((e.timings.audio2face_end.getTime()-e.timings.audio2face_start.getTime())/1e3).toFixed(2)),e.timings.ue5_render_start&&e.timings.ue5_render_end&&(a.ue5_render_seconds=((e.timings.ue5_render_end.getTime()-e.timings.ue5_render_start.getTime())/1e3).toFixed(2)),e.timings.encoding_start&&e.timings.completed_at&&(a.encoding_seconds=((e.timings.completed_at.getTime()-e.timings.encoding_start.getTime())/1e3).toFixed(2)),e.timings.completed_at&&(a.total_seconds=((e.timings.completed_at.getTime()-e.timings.queued_at.getTime())/1e3).toFixed(2)),r.NextResponse.json({job_id:e.job_id,status:e.status,progress:e.progress,checkpoints:e.checkpoints,timings:a,output:e.output,error:e.error,config:{metahuman_id:e.config.metahuman_id,resolution:e.config.resolution,fps:e.config.fps,environment:e.config.environment}})}catch(e){return console.error("âŒ Erro ao obter status:",e),r.NextResponse.json({error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let u=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/avatars/ue5/status/[jobId]/route",pathname:"/api/avatars/ue5/status/[jobId]",filename:"route",bundlePath:"app/api/avatars/ue5/status/[jobId]/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\avatars\\ue5\\status\\[jobId]\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:p,staticGenerationAsyncStorage:c,serverHooks:g}=u,m="/api/avatars/ue5/status/[jobId]/route";function _(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:c})}},36527:(e,t,a)=>{a.d(t,{e4:()=>i});let n=[{id:"heygen_anna_news",name:"Anna (News Anchor)",type:"video",engine:"heygen",gender:"female",description:"Apresentadora profissional ideal para comunicados oficiais e treinamentos corporativos.",style:"professional",tags:["news","formal","enterprise"],previewUrl:"https://files.heygen.ai/avatar/v3/3f2583200c854a0397f129e60b811467/full/preview_target.webp",metadata:{style:"professional",quality:"high",tags:["news","formal"]},heyGenConfig:{avatarId:"Anna_public_3_20240108"}},{id:"heygen_josh_casual",name:"Josh (Casual)",type:"video",engine:"heygen",gender:"male",description:"Especialista descontra\xeddo, \xf3timo para v\xeddeos educacionais e comunicados internos.",style:"casual",tags:["explainer","friendly"],previewUrl:"https://files.heygen.ai/avatar/v3/4a90e2/full/preview_target.webp",metadata:{style:"casual",quality:"high",tags:["explainer","friendly"]},heyGenConfig:{avatarId:"Josh_public_2_20240108"}},{id:"mh_male_01",name:"Professional Male (UE5)",type:"3d",engine:"ue5",gender:"male",description:"MetaHuman masculino para renders imersivos em ambientes industriais.",style:"professional",tags:["ue5","metahuman"],metadata:{style:"professional",age_range:"30-40",clothing_options:["suit","casual"],expression_presets:["neutral","smile","speak"]}},{id:"mh_female_01",name:"Professional Female (UE5)",type:"3d",engine:"ue5",gender:"female",description:"MetaHuman feminino indicado para aulas t\xe9cnicas e conte\xfados executivos.",style:"professional",tags:["ue5","metahuman"],metadata:{style:"professional",age_range:"25-35",clothing_options:["suit","casual"],expression_presets:["neutral","smile","speak"]}},{id:"local_male_01",name:"Simple Male (2D)",type:"2d",engine:"local",gender:"male",description:"Avatar 2D leve para pr\xe9-visualiza\xe7\xf5es r\xe1pidas e anima\xe7\xf5es simples.",style:"cartoon",tags:["2d","fast-render"],metadata:{style:"cartoon",color:"#4a90e2"}},{id:"local_female_01",name:"Simple Female (2D)",type:"2d",engine:"local",gender:"female",description:"Avatar 2D feminino otimizado para storyboards e prot\xf3tipos.",style:"cartoon",tags:["2d","fast-render"],metadata:{style:"cartoon",color:"#e24a90"}}];class o{getAll(){return n}getById(e){return n.find(t=>t.id===e)}getByEngine(e){return n.filter(t=>t.engine===e)}}let i=new o},37470:(e,t,a)=>{a.d(t,{Gc:()=>i,us:()=>o});var n=a(36527);class o{getAvailableMetaHumans(){return n.e4.getByEngine("ue5").map(e=>{let t=e.metadata||{};return{id:e.id,name:e.name,display_name:e.name,gender:e.gender,ethnicity:t.ethnicity,age_range:t.age_range,style:t.style,blendshape_count:t.blendshape_count,expression_presets:t.expression_presets,clothing_options:t.clothing_options,hair_options:t.hair_options,polygon_count:t.polygon_count,texture_resolution:t.texture_resolution,optimization_level:t.optimization_level}})}getMetaHuman(e){let t=n.e4.getById(e);if(!t||"ue5"!==t.engine)return;let a=t.metadata||{};return{id:t.id,name:t.name,display_name:t.name,gender:t.gender,ethnicity:a.ethnicity,age_range:a.age_range,style:a.style,blendshape_count:a.blendshape_count,expression_presets:a.expression_presets,clothing_options:a.clothing_options,hair_options:a.hair_options,polygon_count:a.polygon_count,texture_resolution:a.texture_resolution,optimization_level:a.optimization_level}}async startRender(e){return console.log("[UE5] Starting render job for:",e.metahuman_id),`job_ue5_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async render(e,t){let{quality:a,resolution:n}=e;console.log(`[UE5] Rendering avatar at ${a} quality (${n.width}x${n.height})`);let o=process.env.UE5_RENDER_API_URL;if(o)try{console.log(`[UE5] Connecting to Render Service at ${o}`);let a=await fetch(`${o}/render`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({options:e,duration:t})});a.ok?(await a.json(),console.log("[UE5] Render successful via API")):console.error(`[UE5] Render API failed: ${a.statusText}`)}catch(e){console.error("[UE5] Error connecting to Render Service:",e)}else console.warn("[UE5] UE5_RENDER_API_URL not set. Using mock rendering.");return{frames:Array(Math.floor(30*t)).fill(Buffer.from("")),fps:30,totalDuration:t}}async isAvailable(){let e=process.env.UE5_RENDER_API_URL;if(e)try{return(await fetch(`${e}/health`)).ok}catch{}return!1}getJobStatus(e){return{job_id:e,status:"completed",progress:100,checkpoints:[],timings:{queued_at:new Date(Date.now()-1e4),audio2face_start:new Date(Date.now()-9e3),audio2face_end:new Date(Date.now()-8e3),ue5_render_start:new Date(Date.now()-7e3),ue5_render_end:new Date(Date.now()-2e3),encoding_start:new Date(Date.now()-1500),completed_at:new Date},output:{video_url:"https://example.com/video.mp4"},error:null,config:{metahuman_id:"default",resolution:{width:1920,height:1080},fps:30,environment:"studio"}}}}let i=new o}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[8948,5972],()=>a(13488));module.exports=n})();
"use strict";(()=>{var e={};e.id=3963,e.ids=[3963],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},89261:e=>{e.exports=require("postcss")},564007:e=>{e.exports=require("typescript")},627790:e=>{e.exports=require("assert")},978893:e=>{e.exports=require("buffer")},761282:e=>{e.exports=require("child_process")},609714:e=>{e.exports=require("constants")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},592048:e=>{e.exports=require("fs")},532615:e=>{e.exports=require("http")},735240:e=>{e.exports=require("https")},366302:e=>{e.exports=require("inspector")},885807:e=>{e.exports=require("module")},698216:e=>{e.exports=require("net")},19801:e=>{e.exports=require("os")},555315:e=>{e.exports=require("path")},135816:e=>{e.exports=require("process")},986624:e=>{e.exports=require("querystring")},276162:e=>{e.exports=require("stream")},682452:e=>{e.exports=require("tls")},774175:e=>{e.exports=require("tty")},917360:e=>{e.exports=require("url")},521764:e=>{e.exports=require("util")},541520:e=>{e.exports=require("vm")},806162:e=>{e.exports=require("worker_threads")},671568:e=>{e.exports=require("zlib")},398061:e=>{e.exports=require("node:assert")},317718:e=>{e.exports=require("node:child_process")},906005:e=>{e.exports=require("node:crypto")},630604:e=>{e.exports=require("node:dns")},487561:e=>{e.exports=require("node:fs")},788849:e=>{e.exports=require("node:http")},382033:e=>{e.exports=require("node:module")},970612:e=>{e.exports=require("node:os")},149411:e=>{e.exports=require("node:path")},941041:e=>{e.exports=require("node:url")},447261:e=>{e.exports=require("node:util")},224086:e=>{e.exports=require("node:worker_threads")},235125:e=>{e.exports=require("pnpapi")},195414:(e,r,o)=>{o.r(r),o.d(r,{originalPathname:()=>w,patchFetch:()=>f,requestAsyncStorage:()=>q,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>h});var t={};o.r(t),o.d(t,{GET:()=>x,POST:()=>c});var s=o(349303),i=o(88716),n=o(60670),p=o(387070),u=o(555315),a=o.n(u),d=o(592048),l=o.n(d);async function c(e){try{let r=await e.json();if(!r.compositionId||!r.props)return p.NextResponse.json({error:"Missing required fields: compositionId, props"},{status:400});console.log("\uD83C\uDFAC Starting Remotion render:",r.compositionId);let{bundle:t}=await Promise.all([o.e(5787),o.e(5927)]).then(o.bind(o,125927)),s=await t({entryPoint:a().resolve("./remotion/Root.tsx"),webpackOverride:e=>e});console.log("\uD83D\uDCE6 Bundle created at:",s);let{selectComposition:i,renderMedia:n}=await Promise.all([o.e(9092),o.e(5787),o.e(3875)]).then(o.bind(o,33875)),u=await i({serveUrl:s,id:r.compositionId,inputProps:r.props});console.log("\uD83C\uDFAF Composition selected:",u);let d=a().resolve("./public/renders");l().existsSync(d)||l().mkdirSync(d,{recursive:!0});let c=Date.now(),x=r.outputPath||a().join(d,`render-${r.compositionId}-${c}.mp4`);console.log("\uD83C\uDFAC Starting render to:",x);let m=await n({composition:u,serveUrl:s,codec:r.codec||"h264",outputLocation:x,inputProps:r.props,quality:r.quality||8,onProgress:({progress:e})=>{console.log(`ðŸŽ¬ Render progress: ${Math.round(100*e)}%`)},onStart:()=>{console.log("\uD83C\uDFAC Render started")},onDownload:e=>{console.log("\uD83D\uDCE5 Downloaded:",e)}});console.log("âœ… Render completed:",m);let q=x.replace(a().resolve("./public"),"");return p.NextResponse.json({success:!0,outputPath:q,composition:{id:u.id,width:u.width,height:u.height,fps:u.fps,durationInFrames:u.durationInFrames},renderTime:Date.now()-c,fileSize:l().existsSync(x)?l().statSync(x).size:0})}catch(e){return console.error("âŒ Remotion render error:",e),p.NextResponse.json({error:"Render failed",details:e instanceof Error?e.message:"Unknown error",stack:e instanceof Error?e.stack:void 0},{status:500})}}async function x(e){try{let{searchParams:r}=new URL(e.url),t=r.get("compositionId");if(!t)return p.NextResponse.json({error:"Missing compositionId parameter"},{status:400});let{bundle:s}=await Promise.all([o.e(5787),o.e(5927)]).then(o.bind(o,125927)),i=await s({entryPoint:a().resolve("./remotion/Root.tsx"),webpackOverride:e=>e}),{selectComposition:n}=await Promise.all([o.e(9092),o.e(5787),o.e(3875)]).then(o.bind(o,33875)),u=await n({serveUrl:i,id:t});return p.NextResponse.json({composition:{id:u.id,width:u.width,height:u.height,fps:u.fps,durationInFrames:u.durationInFrames,defaultProps:u.defaultProps}})}catch(e){return console.error("âŒ Get composition error:",e),p.NextResponse.json({error:"Failed to get composition",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/remotion/render/route",pathname:"/api/remotion/render",filename:"route",bundlePath:"app/api/remotion/render/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\remotion\\render\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:q,staticGenerationAsyncStorage:h,serverHooks:g}=m,w="/api/remotion/render/route";function f(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:h})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[8948,5972],()=>o(195414));module.exports=t})();
"use strict";(()=>{var e={};e.id=3963,e.ids=[3963],e.modules={13513:e=>{e.exports=require("@remotion/bundler")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},96024:e=>{e.exports=import("@remotion/renderer")},95414:(e,o,r)=>{r.r(o),r.d(o,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>g,routeModule:()=>h,serverHooks:()=>w,staticGenerationAsyncStorage:()=>v});var t={};r.r(t),r.d(t,{GET:()=>m,POST:()=>l});var n=r(49303),s=r(88716),i=r(60670),a=r(87070),d=r(55315),p=r.n(d),u=r(92048),c=r.n(u);async function l(e){try{let o=await e.json();if(!o.compositionId||!o.props)return a.NextResponse.json({error:"Missing required fields: compositionId, props"},{status:400});console.log("\uD83C\uDFAC Starting Remotion render:",o.compositionId);let{bundle:t}=await Promise.resolve().then(r.t.bind(r,13513,23)),n=await t({entryPoint:p().resolve("./remotion/Root.tsx"),webpackOverride:e=>e});console.log("\uD83D\uDCE6 Bundle created at:",n);let{selectComposition:s,renderMedia:i}=await Promise.resolve().then(r.bind(r,96024)),d=await s({serveUrl:n,id:o.compositionId,inputProps:o.props});console.log("\uD83C\uDFAF Composition selected:",d);let u=p().resolve("./public/renders");c().existsSync(u)||c().mkdirSync(u,{recursive:!0});let l=Date.now(),m=o.outputPath||p().join(u,`render-${o.compositionId}-${l}.mp4`);console.log("\uD83C\uDFAC Starting render to:",m);let h=await i({composition:d,serveUrl:n,codec:o.codec||"h264",outputLocation:m,inputProps:o.props,...o.quality?{crf:o.quality}:{},onProgress:({progress:e})=>{console.log(`ðŸŽ¬ Render progress: ${Math.round(100*e)}%`)},onStart:()=>{console.log("\uD83C\uDFAC Render started")},onDownload:e=>{console.log("\uD83D\uDCE5 Downloaded:",e)}});console.log("âœ… Render completed:",h);let g=m.replace(p().resolve("./public"),"");return a.NextResponse.json({success:!0,outputPath:g,composition:{id:d.id,width:d.width,height:d.height,fps:d.fps,durationInFrames:d.durationInFrames},renderTime:Date.now()-l,fileSize:c().existsSync(m)?c().statSync(m).size:0})}catch(e){return console.error("âŒ Remotion render error:",e),a.NextResponse.json({error:"Render failed",details:e instanceof Error?e.message:"Unknown error",stack:e instanceof Error?e.stack:void 0},{status:500})}}async function m(e){try{let{searchParams:o}=new URL(e.url),t=o.get("compositionId");if(!t)return a.NextResponse.json({error:"Missing compositionId parameter"},{status:400});let{bundle:n}=await Promise.resolve().then(r.t.bind(r,13513,23)),s=await n({entryPoint:p().resolve("./remotion/Root.tsx"),webpackOverride:e=>e}),{selectComposition:i}=await Promise.resolve().then(r.bind(r,96024)),d=await i({serveUrl:s,id:t});return a.NextResponse.json({composition:{id:d.id,width:d.width,height:d.height,fps:d.fps,durationInFrames:d.durationInFrames,defaultProps:d.defaultProps}})}catch(e){return console.error("âŒ Get composition error:",e),a.NextResponse.json({error:"Failed to get composition",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let h=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/remotion/render/route",pathname:"/api/remotion/render",filename:"route",bundlePath:"app/api/remotion/render/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\remotion\\render\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:g,staticGenerationAsyncStorage:v,serverHooks:w}=h,x="/api/remotion/render/route";function f(){return(0,i.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:v})}}};var o=require("../../../../webpack-runtime.js");o.C(e);var r=e=>o(o.s=e),t=o.X(0,[8948,5972],()=>r(95414));module.exports=t})();
"use strict";(()=>{var e={};e.id=6377,e.ids=[6377],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},61212:e=>{e.exports=require("async_hooks")},78893:e=>{e.exports=require("buffer")},61282:e=>{e.exports=require("child_process")},84770:e=>{e.exports=require("crypto")},27920:e=>{e.exports=require("diagnostics_channel")},80665:e=>{e.exports=require("dns")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},85807:e=>{e.exports=require("module")},98216:e=>{e.exports=require("net")},19801:e=>{e.exports=require("os")},55315:e=>{e.exports=require("path")},96119:e=>{e.exports=require("perf_hooks")},35816:e=>{e.exports=require("process")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},74026:e=>{e.exports=require("string_decoder")},82452:e=>{e.exports=require("tls")},74175:e=>{e.exports=require("tty")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},6162:e=>{e.exports=require("worker_threads")},71568:e=>{e.exports=require("zlib")},17718:e=>{e.exports=require("node:child_process")},65714:e=>{e.exports=require("node:diagnostics_channel")},15673:e=>{e.exports=require("node:events")},87561:e=>{e.exports=require("node:fs")},88849:e=>{e.exports=require("node:http")},22286:e=>{e.exports=require("node:https")},85690:e=>{e.exports=require("node:inspector")},82033:e=>{e.exports=require("node:module")},87503:e=>{e.exports=require("node:net")},70612:e=>{e.exports=require("node:os")},49411:e=>{e.exports=require("node:path")},51747:e=>{e.exports=require("node:readline")},84492:e=>{e.exports=require("node:stream")},31764:e=>{e.exports=require("node:tls")},47261:e=>{e.exports=require("node:util")},24086:e=>{e.exports=require("node:worker_threads")},65628:e=>{e.exports=require("node:zlib")},45264:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>_,patchFetch:()=>x,requestAsyncStorage:()=>v,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>f});var r={};a.r(r),a.d(r,{GET:()=>p,POST:()=>g});var i=a(49303),s=a(88716),n=a(60670),o=a(87070),l=a(99963),u=a(6251),d=a(60354);let c=(0,l.H2)(l.wS.authenticated);async function p(e){return c(e,async e=>{try{let{searchParams:t}=new URL(e.url),a=t.get("category"),r=t.get("quality"),i=t.get("language"),s=t.get("search"),n=parseInt(t.get("page")||"1"),l=parseInt(t.get("limit")||"20");console.log("\uD83C\uDFAD API v2: Buscando galeria de avatares..."),console.log(`ðŸ“‚ Categoria: ${a||"todas"}`),console.log(`âœ¨ Qualidade: ${r||"todas"}`),console.log(`ðŸŒ Idioma: ${i||"todos"}`);let c=d.OQ.from("avatar_models").select(`
        *,
        avatar_stats:avatar_stats(*)
      `).eq("is_active",!0);a&&"all"!==a&&(c=c.eq("type",a)),r&&"all"!==r&&(c=c.eq("quality",r)),i&&"all"!==i&&(c=c.contains("supported_languages",[i])),s&&(c=c.or(`name.ilike.%${s}%,display_name.ilike.%${s}%,description.ilike.%${s}%`));let p=(n-1)*l;c=(c=c.range(p,p+l-1)).order("quality",{ascending:!1}).order("usage_count",{ascending:!1});let{data:h,error:g,count:m}=await c;if(g)throw Error(`Erro ao buscar avatares: ${g.message}`);let v=await u.N.getPipelineStats(),{data:f}=await d.OQ.from("avatar_models").select("type").eq("is_active",!0).not("type","is",null),{data:y}=await d.OQ.from("avatar_models").select("quality").eq("is_active",!0).not("quality","is",null),_=Array.from(new Set((f||[]).map(e=>e.type).filter(Boolean))),x=Array.from(new Set((y||[]).map(e=>e.quality).filter(Boolean))),w={success:!0,data:{avatars:(h||[]).map(e=>({id:e.id,name:e.name,displayName:e.display_name,description:e.description,category:e.type,gender:e.gender,quality:e.quality,features:{audio2FaceCompatible:e.audio2face_compatible,realTimeLipSync:e.real_time_lipsync,rayTracing:e.ray_tracing_support,lipSyncAccuracy:e.lipsync_accuracy||95},preview:{thumbnail:e.thumbnail_url||`/api/v2/avatars/${e.id}/thumbnail.jpg`,model3D:e.model_url||`/api/v2/avatars/${e.id}/preview.gltf`,animation:e.preview_video_url||`/api/v2/avatars/${e.id}/idle.mp4`},assets:{modelFile:e.model_file_path,textureFiles:e.texture_files,rigFile:e.rig_file_path,animationSets:e.animation_sets,blendShapes:e.blend_shapes_file},supportedLanguages:e.supported_languages||["pt-BR"],usageCount:e.usage_count||0,rating:e.rating||5,createdAt:e.created_at,updatedAt:e.updated_at})),pagination:{page:n,limit:l,total:m||0,totalPages:Math.ceil((m||0)/l),hasNext:p+l<(m||0),hasPrev:n>1},filters:{categories:_,qualities:x,supportedLanguages:["pt-BR","en-US","es-ES"],applied:{category:a||"all",quality:r||"all",language:i||"all",search:s||""}},stats:{...v,totalDisplayed:h?.length||0,totalAvailable:m||0},metadata:{version:"2.0.0",audio2FaceEnabled:v.audio2FaceStatus,supportedQualities:x,supportedLanguages:["pt-BR","en-US","es-ES"],renderingEngine:"Unreal Engine 5 + Audio2Face"}}};return o.NextResponse.json(w)}catch(e){return console.error("âŒ Erro na API v2 Gallery:",e),o.NextResponse.json({success:!1,error:{message:"Erro ao carregar galeria de avatares",details:e instanceof Error?e.message:"Erro desconhecido",code:"GALLERY_ERROR"}},{status:500})}})}let h=(0,l.H2)(l.wS.authenticated);async function g(e){return h(e,async e=>{try{let{avatarId:t,action:a,data:r}=await e.json();switch(console.log(`ðŸŽ­ API v2: A\xe7\xe3o na galeria - ${a} para avatar ${t}`),a){case"preview":{let{data:e,error:a}=await d.OQ.from("avatar_models").select("*").eq("id",t).eq("is_active",!0).single();if(a||!e)return o.NextResponse.json({success:!1,error:{message:"Avatar n\xe3o encontrado",code:"AVATAR_NOT_FOUND"}},{status:404});return o.NextResponse.json({success:!0,data:{avatar:{id:e.id,name:e.name,displayName:e.display_name,description:e.description,preview:{thumbnail:e.thumbnail_url||`/api/v2/avatars/${e.id}/thumbnail.jpg`,model3D:e.model_url||`/api/v2/avatars/${e.id}/preview.gltf`,animation:e.preview_video_url||`/api/v2/avatars/${e.id}/idle.mp4`},features:{audio2FaceCompatible:e.audio2face_compatible,realTimeLipSync:e.real_time_lipsync,rayTracing:e.ray_tracing_support,lipSyncAccuracy:e.lipsync_accuracy||95},assets:{modelFile:e.model_file_path,textureFiles:e.texture_files,rigFile:e.rig_file_path,animationSets:e.animation_sets,blendShapes:e.blend_shapes_file}}}})}case"test_lipsync":{let{text:e,audioFile:a,voiceProfileId:i}=r;if(!e)return o.NextResponse.json({success:!1,error:{message:"Texto \xe9 obrigat\xf3rio para teste de lip-sync",code:"MISSING_TEXT"}},{status:400});let{data:s}=await d.OQ.from("avatar_models").select("id, name, audio2face_compatible").eq("id",t).eq("is_active",!0).single();if(!s)return o.NextResponse.json({success:!1,error:{message:"Avatar n\xe3o encontrado",code:"AVATAR_NOT_FOUND"}},{status:404});let n=`test_${t}_${Date.now()}`;try{let r=await u.N.generateHyperRealisticLipSync(t,a||"/audio/test-sample.wav",e,{language:"pt-BR",quality:"high"});return o.NextResponse.json({success:!0,data:{testJobId:n,lipSync:{accuracy:r.accuracy,processingTime:r.processingTime,audio2FaceEnabled:r.audio2FaceEnabled,dataPoints:r.lipSyncData?.length||0,preview:`/api/v2/avatars/${t}/lipsync-test.mp4`,blendShapes:r.lipSyncData?.slice(0,10)},avatar:{id:s.id,name:s.name,audio2FaceCompatible:s.audio2face_compatible}}})}catch(e){return console.error("Erro no teste de lip-sync:",e),o.NextResponse.json({success:!1,error:{message:"Erro ao testar lip-sync",code:"LIPSYNC_TEST_ERROR",details:e instanceof Error?e.message:"Erro desconhecido"}},{status:500})}}case"favorite":{let{userId:e,isFavorite:a}=r;if(!e)return o.NextResponse.json({success:!1,error:{message:"ID do usu\xe1rio \xe9 obrigat\xf3rio",code:"MISSING_USER_ID"}},{status:400});return o.NextResponse.json({success:!0,data:{avatarId:t,userId:e,isFavorite:!a,message:a?"Avatar removido dos favoritos":"Avatar adicionado aos favoritos"}})}default:return o.NextResponse.json({success:!1,error:{message:"A\xe7\xe3o n\xe3o suportada",code:"UNSUPPORTED_ACTION"}},{status:400})}}catch(e){return console.error("âŒ Erro na a\xe7\xe3o da galeria:",e),o.NextResponse.json({success:!1,error:{message:"Erro ao executar a\xe7\xe3o na galeria",details:e instanceof Error?e.message:"Erro desconhecido",code:"GALLERY_ACTION_ERROR"}},{status:500})}})}let m=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/v2/avatars/gallery/route",pathname:"/api/v2/avatars/gallery",filename:"route",bundlePath:"app/api/v2/avatars/gallery/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\v2\\avatars\\gallery\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:v,staticGenerationAsyncStorage:f,serverHooks:y}=m,_="/api/v2/avatars/gallery/route";function x(){return(0,n.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:f})}},6251:(e,t,a)=>{a.d(t,{N:()=>s});var r=a(8261),i=a(36527);let s={renderAvatar:async e=>e?{success:!1,error:"Use renderHyperRealisticAvatar for real rendering"}:{success:!1,error:"Invalid avatar config"},customizeAvatar:async(e,t)=>{let a=i.e4.getById(e);return a?{success:!0,avatarData:{id:e,...a.metadata,...t}}:{success:!1,error:"Avatar not found in registry"}},renderHyperRealisticAvatar:async(e,t,a,i)=>{try{let s=await r._.renderJob.create({data:{status:"queued",renderSettings:JSON.parse(JSON.stringify({type:"avatar_render",text:t,voiceProfileId:a,options:i,userId:e})),progress:0}});return{success:!0,jobId:s.id,status:"queued",audio2FaceEnabled:!!i.audio2FaceEnabled}}catch(e){return console.error("Error creating render job:",e),{success:!1,error:"Failed to create render job"}}},getRenderJobStatus:async e=>{try{let t=await r._.renderJob.findUnique({where:{id:e}});if(!t)return{status:"not_found",error:"Job not found"};let a=t.renderSettings||{};return{id:t.id,status:t.status||"unknown",outputVideo:t.outputUrl||void 0,error:t.errorMessage||void 0,progress:t.progress||0,avatarId:a.avatarId,userId:t.userId||void 0,startTime:t.createdAt.getTime(),endTime:t.completedAt?.getTime(),outputThumbnail:t.thumbnailUrl||void 0,lipSyncAccuracy:95,audio2FaceEnabled:!0,quality:a.quality,resolution:a.resolution,rayTracingEnabled:a.rayTracing,realTimeLipSync:a.realTimeLipSync,language:a.language,createdAt:t.createdAt,updatedAt:t.updatedAt}}catch(e){return console.error("Error fetching job status:",e),{status:"error",error:"Database error"}}},getAllCategories:()=>["business","casual","medical","industrial"],getAvatarsByCategory:e=>i.e4.getAll().filter(t=>{let a=t.metadata?.style||"";return"business"!==e||"professional"===a}),getAllAvatars:()=>i.e4.getAll(),getAvatar:e=>i.e4.getById(e),getPipelineStats:async()=>{let e=new Date;e.setHours(0,0,0,0);let[t,a,i,s]=await Promise.all([r._.renderJob.count({where:{status:"processing"}}),r._.renderJob.count({where:{status:"queued"}}),r._.renderJob.count({where:{status:"completed",createdAt:{gte:e}}}),r._.renderJob.findMany({where:{status:"completed",durationMs:{not:null}},select:{durationMs:!0},take:100})]),n=s.length>0?s.reduce((e,t)=>e+(t.durationMs||0),0)/s.length:0,o=await r._.renderJob.count(),l=await r._.renderJob.count({where:{status:"completed"}});return{activeJobs:t,queuedJobs:a,completedToday:i,averageRenderTime:Math.round(n),successRate:Math.round(10*(o>0?l/o*100:100))/10,audio2FaceStatus:!0}},generateHyperRealisticLipSync:async(e,t,a,r)=>{let s=i.e4.getById(e);return s?.engine==="ue5"?{success:!0,audio2FaceEnabled:!0,accuracy:95,processingTime:1200,lipSyncData:[]}:{success:!1,audio2FaceEnabled:!1,accuracy:0,error:"Avatar does not support Audio2Face"}},cancelRenderJob:async e=>{try{let t=await r._.renderJob.findUnique({where:{id:e}});if(!t||["completed","failed","cancelled"].includes(t.status||""))return!1;return await r._.renderJob.update({where:{id:e},data:{status:"cancelled"}}),!0}catch(e){return console.error("Error cancelling job:",e),!1}},cleanupOldJobs:async()=>{let e=new Date;e.setDate(e.getDate()-30),await r._.renderJob.deleteMany({where:{createdAt:{lt:e},status:{in:["completed","failed","cancelled"]}}})}}},36527:(e,t,a)=>{a.d(t,{e4:()=>s});let r=[{id:"heygen_anna_news",name:"Anna (News Anchor)",type:"video",engine:"heygen",gender:"female",description:"Apresentadora profissional ideal para comunicados oficiais e treinamentos corporativos.",style:"professional",tags:["news","formal","enterprise"],previewUrl:"https://files.heygen.ai/avatar/v3/3f2583200c854a0397f129e60b811467/full/preview_target.webp",metadata:{style:"professional",quality:"high",tags:["news","formal"]},heyGenConfig:{avatarId:"Anna_public_3_20240108"}},{id:"heygen_josh_casual",name:"Josh (Casual)",type:"video",engine:"heygen",gender:"male",description:"Especialista descontra\xeddo, \xf3timo para v\xeddeos educacionais e comunicados internos.",style:"casual",tags:["explainer","friendly"],previewUrl:"https://files.heygen.ai/avatar/v3/4a90e2/full/preview_target.webp",metadata:{style:"casual",quality:"high",tags:["explainer","friendly"]},heyGenConfig:{avatarId:"Josh_public_2_20240108"}},{id:"mh_male_01",name:"Professional Male (UE5)",type:"3d",engine:"ue5",gender:"male",description:"MetaHuman masculino para renders imersivos em ambientes industriais.",style:"professional",tags:["ue5","metahuman"],metadata:{style:"professional",age_range:"30-40",clothing_options:["suit","casual"],expression_presets:["neutral","smile","speak"]}},{id:"mh_female_01",name:"Professional Female (UE5)",type:"3d",engine:"ue5",gender:"female",description:"MetaHuman feminino indicado para aulas t\xe9cnicas e conte\xfados executivos.",style:"professional",tags:["ue5","metahuman"],metadata:{style:"professional",age_range:"25-35",clothing_options:["suit","casual"],expression_presets:["neutral","smile","speak"]}},{id:"local_male_01",name:"Simple Male (2D)",type:"2d",engine:"local",gender:"male",description:"Avatar 2D leve para pr\xe9-visualiza\xe7\xf5es r\xe1pidas e anima\xe7\xf5es simples.",style:"cartoon",tags:["2d","fast-render"],metadata:{style:"cartoon",color:"#4a90e2"}},{id:"local_female_01",name:"Simple Female (2D)",type:"2d",engine:"local",gender:"female",description:"Avatar 2D feminino otimizado para storyboards e prot\xf3tipos.",style:"cartoon",tags:["2d","fast-render"],metadata:{style:"cartoon",color:"#e24a90"}}];class i{getAll(){return r}getById(e){return r.find(t=>t.id===e)}getByEngine(e){return r.filter(t=>t.engine===e)}}let s=new i},8261:(e,t,a)=>{a.d(t,{_:()=>i});var r=a(53524);let i=global.prisma||new r.PrismaClient({log:["error"]})},99963:(e,t,a)=>{a.d(t,{H2:()=>s,wS:()=>n});var r=a(87070),i=a(5213);function s(e){let{limit:t,windowMs:a,message:s="Muitas requisi\xe7\xf5es. Tente novamente mais tarde.",keyGenerator:n=e=>`ip:${function(e){let t=e.headers.get("x-forwarded-for");if(t)return t.split(",")[0].trim();let a=e.headers.get("cf-connecting-ip");return a?a:e.headers.get("x-real-ip")||"unknown"}(e)}`,skip:o}=e;return async function(e,l){if(o&&await o(e))return l(e);let u=n(e),d=(0,i.D)(u,t,a);if(!d.allowed)return r.NextResponse.json({error:s,retryAfter:d.retryAfterSec},{status:429,headers:{"Retry-After":d.retryAfterSec.toString(),"X-RateLimit-Limit":t.toString(),"X-RateLimit-Reset":new Date(Date.now()+1e3*d.retryAfterSec).toISOString()}});let c=await l(e);return c.headers.set("X-RateLimit-Limit",t.toString()),c.headers.set("X-RateLimit-Remaining",(t-(d.retryAfterSec||0)).toString()),c}}let n={authenticated:{limit:100,windowMs:6e4,message:"Limite de requisi\xe7\xf5es excedido. Aguarde 1 minuto."},anonymous:{limit:20,windowMs:6e4,message:"Limite de requisi\xe7\xf5es excedido para usu\xe1rios n\xe3o autenticados."},upload:{limit:10,windowMs:36e5,message:"Limite de uploads excedido. Aguarde 1 hora."},render:{limit:5,windowMs:36e5,message:"Limite de renderiza\xe7\xf5es excedido. Aguarde 1 hora."},public:{limit:50,windowMs:6e4,message:"Limite de requisi\xe7\xf5es para API p\xfablica excedido."},webhook:{limit:100,windowMs:6e4,message:"Limite de webhooks excedido."}}},5213:(e,t,a)=>{a.d(t,{D:()=>n,U:()=>o});var r=a(87561);let i=e=>{let t=process.env.RATE_LIMIT_DEBUG_LOG;if(t)try{(0,r.appendFileSync)(t,`${JSON.stringify({ts:Date.now(),...e})}
`,{encoding:"utf-8"})}catch(e){"true"===process.env.DEBUG_RATE_LIMIT&&console.error("[rate-limit] debug log failed",e)}},s=()=>{let e=globalThis.process;if(e)return e.__app_rate_limit_store__||(e.__app_rate_limit_store__=new Map),e.__app_rate_limit_store__;let t=globalThis;return t.__app_rate_limit_store__||(t.__app_rate_limit_store__=new Map),t.__app_rate_limit_store__};function n(e,t,a){let r=s(),n=Date.now(),o=r.get(e),l=o?n-o.lastRequest:0;if(!o||l>=a&&n>=(o.blockedUntil||0))return r.set(e,{windowStart:n,lastRequest:n,count:1,blockedUntil:0}),"true"===process.env.DEBUG_RATE_LIMIT&&console.info("[rate-limit] reset",{key:e,limit:t,windowMs:a,idle:l}),i({type:"reset",key:e,limit:t,windowMs:a,idle:l}),{allowed:!0,retryAfterSec:0};if((o=r.get(e)).blockedUntil&&n<o.blockedUntil){let a=Math.max(0,Math.ceil((o.blockedUntil-n)/1e3));return"true"===process.env.DEBUG_RATE_LIMIT&&console.info("[rate-limit] still-blocked",{key:e,retryAfterSec:a}),i({type:"blocked",key:e,count:o.count,limit:t,retryAfterSec:a}),o.lastRequest=n,{allowed:!1,retryAfterSec:a}}if(o.count>=t){o.blockedUntil=o.windowStart+a,o.blockedUntil<=n&&(o.blockedUntil=n+a);let r=Math.max(0,Math.ceil((o.blockedUntil-n)/1e3));return"true"===process.env.DEBUG_RATE_LIMIT&&console.info("[rate-limit] blocked",{key:e,count:o.count,limit:t,retryAfterSec:r}),i({type:"blocked",key:e,count:o.count,limit:t,retryAfterSec:r}),o.lastRequest=n,{allowed:!1,retryAfterSec:r}}return o.count+=1,o.lastRequest=n,"true"===process.env.DEBUG_RATE_LIMIT&&console.info("[rate-limit] allowed",{key:e,count:o.count,limit:t,idle:l}),i({type:"allowed",key:e,count:o.count,limit:t,idle:l}),{allowed:!0,retryAfterSec:0}}function o(e){return s().get(e)}},83988:e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},10949:(e,t,a)=>{function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var a=0,i=arguments.length;a<i;a++)t.push(arguments[a]);return t}function i(e,t,a,r){if(!(this instanceof i))return new i(e,t,a,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}e.exports=r,r.Node=i,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,a=e.prev;return t&&(t.prev=a),a&&(a.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=a),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e,t=0,a=arguments.length;t<a;t++)e=arguments[t],this.tail=new i(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},r.prototype.unshift=function(){for(var e,t=0,a=arguments.length;t<a;t++)e=arguments[t],this.head=new i(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var a=this.head,r=0;null!==a;r++)e.call(t,a.value,r,this),a=a.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var a=this.tail,r=this.length-1;null!==a;r--)e.call(t,a.value,r,this),a=a.prev},r.prototype.get=function(e){for(var t=0,a=this.head;null!==a&&t<e;t++)a=a.next;if(t===e&&null!==a)return a.value},r.prototype.getReverse=function(e){for(var t=0,a=this.tail;null!==a&&t<e;t++)a=a.prev;if(t===e&&null!==a)return a.value},r.prototype.map=function(e,t){t=t||this;for(var a=new r,i=this.head;null!==i;)a.push(e.call(t,i.value,this)),i=i.next;return a},r.prototype.mapReverse=function(e,t){t=t||this;for(var a=new r,i=this.tail;null!==i;)a.push(e.call(t,i.value,this)),i=i.prev;return a},r.prototype.reduce=function(e,t){var a,r=this.head;if(arguments.length>1)a=t;else if(this.head)r=this.head.next,a=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==r;i++)a=e(a,r.value,i),r=r.next;return a},r.prototype.reduceReverse=function(e,t){var a,r=this.tail;if(arguments.length>1)a=t;else if(this.tail)r=this.tail.prev,a=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==r;i--)a=e(a,r.value,i),r=r.prev;return a},r.prototype.toArray=function(){for(var e=Array(this.length),t=0,a=this.head;null!==a;t++)e[t]=a.value,a=a.next;return e},r.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,a=this.tail;null!==a;t++)e[t]=a.value,a=a.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var a=new r;if(t<e||t<0)return a;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)a.push(s.value);return a},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var a=new r;if(t<e||t<0)return a;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)a.push(s.value);return a},r.prototype.splice=function(e,t,...a){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;null!==s&&r<e;r++)s=s.next;for(var n=[],r=0;s&&r<t;r++)n.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<a.length;r++)s=function(e,t,a){var r=t===e.head?new i(a,null,t,e):new i(a,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}(this,s,a[r]);return n},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,a=e;null!==a;a=a.prev){var r=a.prev;a.prev=a.next,a.next=r}return this.head=t,this.tail=e,this};try{a(83988)(r)}catch(e){}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,5972,1657,9702,9092,7686,6608,3595],()=>a(45264));module.exports=r})();
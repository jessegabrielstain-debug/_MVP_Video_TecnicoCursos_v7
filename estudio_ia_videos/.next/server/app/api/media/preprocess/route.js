"use strict";(()=>{var e={};e.id=9686,e.ids=[9686],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},20629:e=>{e.exports=require("fs/promises")},45730:(e,r,s)=>{s.r(r),s.d(r,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var t={};s.r(t),s.d(t,{GET:()=>m,POST:()=>d});var o=s(49303),a=s(88716),n=s(60670),i=s(87070);class p{async preprocessImage(e,r){return console.log("[Preprocessor] Processing image",r),{buffer:e,format:r.format||"png",size:e.length,dimensions:r.resize}}async preprocessVideo(e,r){return console.log("[Preprocessor] Processing video",r),{buffer:e,format:r.format||"mp4",size:e.length}}async preprocessAudio(e,r){return console.log("[Preprocessor] Processing audio",r),{buffer:e,format:r.format||"mp3",size:e.length}}getStats(){return{processed:0,errors:0,avgTime:0}}}let c=new p;var u=s(20629);async function d(e){try{let{imagePath:r,options:s}=await e.json();if(!r)return i.NextResponse.json({error:"Image path is required"},{status:400});try{await u.access(r)}catch{return i.NextResponse.json({error:"Image file not found"},{status:404})}let t=await u.readFile(r),o=await c.preprocessImage(t,s||{});return i.NextResponse.json({success:!0,data:o,stats:c.getStats()})}catch(e){return console.error("Media preprocessing error:",e),i.NextResponse.json({error:"Failed to preprocess media",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function m(e){try{let e=c.getStats();return i.NextResponse.json({success:!0,stats:e})}catch(e){return console.error("Error fetching preprocessor stats:",e),i.NextResponse.json({error:"Failed to fetch stats"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/media/preprocess/route",pathname:"/api/media/preprocess",filename:"route",bundlePath:"app/api/media/preprocess/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\media\\preprocess\\route.ts",nextConfigOutput:"",userland:t}),{requestAsyncStorage:g,staticGenerationAsyncStorage:f,serverHooks:h}=l,x="/api/media/preprocess/route";function v(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,5972],()=>s(45730));module.exports=t})();
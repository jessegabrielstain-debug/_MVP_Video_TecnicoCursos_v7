"use strict";(()=>{var e={};e.id=4871,e.ids=[4871],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},200709:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>f,patchFetch:()=>w,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>S,staticGenerationAsyncStorage:()=>h});var r={};o.r(r),o.d(r,{GET:()=>c,POST:()=>l});var s=o(349303),a=o(88716),i=o(60670),n=o(387070),p=o(691585);let d=p.Ry({name:p.Z_().min(1,"Nome \xe9 obrigat\xf3rio").max(255,"Nome muito longo"),description:p.Z_().optional(),type:p.Km(["video","presentation","animation"]).default("video"),settings:p.Ry({width:p.Rx().default(1920),height:p.Rx().default(1080),fps:p.Rx().default(30),duration:p.Rx().optional(),quality:p.Km(["low","medium","high"]).default("high"),format:p.Km(["mp4","mov","avi"]).default("mp4")}).optional()}),u=[{id:"proj-001",name:"Projeto Demo 1",description:"Projeto de demonstra\xe7\xe3o do sistema",type:"video",status:"draft",owner_id:"user-demo",settings:{width:1920,height:1080,fps:30,quality:"high",format:"mp4"},is_public:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"proj-002",name:"Apresenta\xe7\xe3o Corporativa",description:"V\xeddeo para apresenta\xe7\xe3o da empresa",type:"presentation",status:"in_progress",owner_id:"user-demo",settings:{width:1920,height:1080,fps:30,quality:"high",format:"mp4"},is_public:!0,created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date().toISOString()}];async function c(e){try{console.log("\uD83D\uDCCB [PROJECTS-API] Listando projetos...");let{searchParams:t}=new URL(e.url),o=parseInt(t.get("page")||"1"),r=parseInt(t.get("limit")||"10"),s=t.get("status"),a=t.get("type"),i=t.get("search"),p=[...u];s&&(p=p.filter(e=>e.status===s)),a&&(p=p.filter(e=>e.type===a)),i&&(p=p.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.description?.toLowerCase().includes(i.toLowerCase())));let d=(o-1)*r,c=p.slice(d,d+r),l={success:!0,data:c,pagination:{page:o,limit:r,total:p.length,pages:Math.ceil(p.length/r)},filters:{status:s,type:a,search:i},timestamp:new Date().toISOString()};return console.log(`✅ [PROJECTS-API] ${c.length} projetos retornados`),n.NextResponse.json(l)}catch(e){return console.error("\uD83D\uDCA5 [PROJECTS-API] Erro ao listar projetos:",e),n.NextResponse.json({success:!1,error:"Erro interno do servidor",details:e instanceof Error?e.message:"Erro desconhecido",timestamp:new Date().toISOString()},{status:500})}}async function l(e){try{console.log("\uD83D\uDE80 [PROJECTS-API] Criando novo projeto...");let t=await e.json(),o=d.safeParse(t);if(!o.success)return n.NextResponse.json({success:!1,error:"Dados inv\xe1lidos",details:o.error.errors,timestamp:new Date().toISOString()},{status:400});let r=o.data,s={id:`proj-${Date.now()}`,name:r.name,description:r.description||"",type:r.type,status:"draft",owner_id:"user-demo",settings:{width:1920,height:1080,fps:30,quality:"high",format:"mp4",...r.settings},is_public:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return u.push(s),console.log(`✅ [PROJECTS-API] Projeto criado: ${s.id}`),n.NextResponse.json({success:!0,message:"Projeto criado com sucesso!",data:s,timestamp:new Date().toISOString()},{status:201})}catch(e){return console.error("\uD83D\uDCA5 [PROJECTS-API] Erro ao criar projeto:",e),n.NextResponse.json({success:!1,error:"Erro interno do servidor",details:e instanceof Error?e.message:"Erro desconhecido",timestamp:new Date().toISOString()},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/projects/route",pathname:"/api/projects",filename:"route",bundlePath:"app/api/projects/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\projects\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:S}=m,f="/api/projects/route";function w(){return(0,i.patchFetch)({serverHooks:S,staticGenerationAsyncStorage:h})}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[8948,5972,1585],()=>o(200709));module.exports=r})();
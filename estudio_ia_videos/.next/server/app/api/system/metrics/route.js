"use strict";(()=>{var e={};e.id=9141,e.ids=[9141],e.modules={572934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},554580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},345869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},627790:e=>{e.exports=require("assert")},978893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},532615:e=>{e.exports=require("http")},735240:e=>{e.exports=require("https")},986624:e=>{e.exports=require("querystring")},917360:e=>{e.exports=require("url")},521764:e=>{e.exports=require("util")},671568:e=>{e.exports=require("zlib")},298036:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>c,POST:()=>p});var o=t(349303),a=t(88716),n=t(60670),i=t(387070),u=t(95715);async function c(e){try{let e=await (0,u.getServerSession)(Object(function(){var e=Error("Cannot find module '@/lib/auth/auth-options'");throw e.code="MODULE_NOT_FOUND",e}()));if(!e?.user)return i.NextResponse.json({error:"Unauthorized"},{status:401});let r={cpu:Math.floor(80*Math.random())+10,memory:Math.floor(70*Math.random())+20,storage:Math.floor(60*Math.random())+30,activeConnections:Math.floor(50*Math.random())+10,queueLength:Math.floor(10*Math.random()),uptime:Math.floor(86400*Math.random())+3600,lastUpdated:new Date};return i.NextResponse.json(r)}catch(e){return console.error("Error fetching system metrics:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function p(e){try{let r=await (0,u.getServerSession)(Object(function(){var e=Error("Cannot find module '@/lib/auth/auth-options'");throw e.code="MODULE_NOT_FOUND",e}()));if(!r?.user)return i.NextResponse.json({error:"Unauthorized"},{status:401});if(!r.user.email?.includes("admin"))return i.NextResponse.json({error:"Forbidden - Admin access required"},{status:403});let{action:t}=await e.json(),s={success:!1,message:""};switch(t){case"clear_cache":s={success:!0,message:"Cache cleared successfully"};break;case"restart_services":s={success:!0,message:"Services restarted successfully"};break;case"optimize_storage":s={success:!0,message:"Storage optimized successfully"};break;case"clear_queue":s={success:!0,message:"Render queue cleared successfully"};break;default:return i.NextResponse.json({error:"Invalid action"},{status:400})}return i.NextResponse.json(s)}catch(e){return console.error("Error executing system action:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}!function(){var e=Error("Cannot find module '@/lib/auth/auth-options'");throw e.code="MODULE_NOT_FOUND",e}();let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/system/metrics/route",pathname:"/api/system/metrics",filename:"route",bundlePath:"app/api/system/metrics/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\system\\metrics\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:h}=d,x="/api/system/metrics/route";function f(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,5972,5715],()=>t(298036));module.exports=s})();
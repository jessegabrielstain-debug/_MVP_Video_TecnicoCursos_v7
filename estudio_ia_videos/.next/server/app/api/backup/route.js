"use strict";(()=>{var e={};e.id=5005,e.ids=[5005],e.modules={220399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},430517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},553848:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>k,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>b,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{DELETE:()=>p,GET:()=>u,POST:()=>i});var a=t(349303),s=t(88716),n=t(60670),c=t(387070);async function u(e){try{let{searchParams:r}=new URL(e.url),t=r.get("id");if(t){let e=Object(function(){var e=Error("Cannot find module '@/lib/backup-recovery-system'");throw e.code="MODULE_NOT_FOUND",e}()).getBackupInfo(t);if(!e)return c.NextResponse.json({error:"Backup n\xe3o encontrado"},{status:404});return c.NextResponse.json({backup:e})}let o=Object(function(){var e=Error("Cannot find module '@/lib/backup-recovery-system'");throw e.code="MODULE_NOT_FOUND",e}()).listBackups();return c.NextResponse.json({backups:o,total:o.length,summary:{completed:o.filter(e=>"completed"===e.status).length,failed:o.filter(e=>"failed"===e.status).length,pending:o.filter(e=>"pending"===e.status).length}})}catch(e){return console.error("Erro ao listar backups:",e),c.NextResponse.json({error:"Erro ao listar backups"},{status:500})}}async function i(e){try{let{action:r,backupId:t,overwrite:o,dryRun:a}=await e.json().catch(()=>({}));if("restore"===r&&t)return await Object(function(){var e=Error("Cannot find module '@/lib/backup-recovery-system'");throw e.code="MODULE_NOT_FOUND",e}()).restoreBackup({backupId:t,overwrite:o||!1,dryRun:a||!1}),c.NextResponse.json({message:a?"Dry run conclu\xeddo":"Backup restaurado com sucesso",backupId:t});let s=await Object(function(){var e=Error("Cannot find module '@/lib/backup-recovery-system'");throw e.code="MODULE_NOT_FOUND",e}()).createFullBackup();return c.NextResponse.json({message:"Backup criado com sucesso",backup:s})}catch(e){return console.error("Erro ao processar backup:",e),c.NextResponse.json({error:e instanceof Error?e.message:"Erro ao processar backup"},{status:500})}}async function p(){try{let e=await Object(function(){var e=Error("Cannot find module '@/lib/backup-recovery-system'");throw e.code="MODULE_NOT_FOUND",e}()).cleanupOldBackups();return c.NextResponse.json({message:`${e} backup(s) antigo(s) removido(s)`,deleted:e})}catch(e){return console.error("Erro ao limpar backups:",e),c.NextResponse.json({error:"Erro ao limpar backups"},{status:500})}}!function(){var e=Error("Cannot find module '@/lib/backup-recovery-system'");throw e.code="MODULE_NOT_FOUND",e}();let l=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/backup/route",pathname:"/api/backup",filename:"route",bundlePath:"app/api/backup/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\backup\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:b}=l,k="/api/backup/route";function f(){return(0,n.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:m})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[8948,5972],()=>t(553848));module.exports=o})();
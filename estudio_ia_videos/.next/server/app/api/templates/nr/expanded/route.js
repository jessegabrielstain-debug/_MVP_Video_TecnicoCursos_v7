"use strict";(()=>{var e={};e.id=4733,e.ids=[4733],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},50775:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>N,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>R,staticGenerationAsyncStorage:()=>x});var a={};r.r(a),r.d(a,{GET:()=>d,POST:()=>l});var s=r(49303),o=r(88716),n=r(60670),i=r(87070);let p={"NR-7":{number:"NR-7",title:"Programas de Controle M\xe9dico de Sa\xfade Ocupacional",sections:[]},"NR-9":{number:"NR-9",title:"Avalia\xe7\xe3o e Controle das Exposi\xe7\xf5es Ocupacionais",sections:[]},"NR-11":{number:"NR-11",title:"Transporte, Movimenta\xe7\xe3o, Armazenagem e Manuseio de Materiais",sections:[]},"NR-13":{number:"NR-13",title:"Caldeiras, Vasos de Press\xe3o e Tubula\xe7\xf5es",sections:[]},"NR-15":{number:"NR-15",title:"Atividades e Opera\xe7\xf5es Insalubres",sections:[]}},u={"NR-7":{version:"2024",lastUpdate:"2024-01-01"},"NR-9":{version:"2024",lastUpdate:"2024-01-01"},"NR-11":{version:"2024",lastUpdate:"2024-01-01"},"NR-13":{version:"2024",lastUpdate:"2024-01-01"},"NR-15":{version:"2024",lastUpdate:"2024-01-01"}};async function d(e){try{let t=e.nextUrl.searchParams.get("category"),r=e.nextUrl.searchParams.get("search"),a=e.nextUrl.searchParams.get("minDuration"),s=e.nextUrl.searchParams.get("maxDuration"),o=Object.values(p);if(t&&(o=o.filter(e=>e.category===t)),r){let e=r.toLowerCase();o=o.filter(t=>t.title.toLowerCase().includes(e)||(t.nr||t.number||"").toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e))}if(a){let e=parseInt(a);o=o.filter(t=>(t.duration||t.duration_minutes||0)>=e)}if(s){let e=parseInt(s);o=o.filter(t=>(t.duration||t.duration_minutes||0)<=e)}return i.NextResponse.json({success:!0,templates:o,metadata:u,total:o.length,timestamp:new Date().toISOString()})}catch(e){return console.error("Erro ao buscar templates NR expandidos:",e),i.NextResponse.json({error:"Erro ao buscar templates"},{status:500})}}async function l(e){try{let{templateId:t,projectName:r,customizations:a}=await e.json(),s=Object.values(p).find(e=>e.id===t||e.number===t);if(!s)return i.NextResponse.json({error:"Template n\xe3o encontrado"},{status:404});let o={id:`project-${Date.now()}`,name:r||s.title,templateId:t,templateNR:s.nr||s.number,slides:s.slides||s.sections,customizations:a,createdAt:new Date().toISOString()};return i.NextResponse.json({success:!0,message:"Projeto criado com sucesso",project:o})}catch(e){return console.error("Erro ao criar projeto a partir do template:",e),i.NextResponse.json({error:"Erro ao criar projeto"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/templates/nr/expanded/route",pathname:"/api/templates/nr/expanded",filename:"route",bundlePath:"app/api/templates/nr/expanded/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\api\\templates\\nr\\expanded\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:x,serverHooks:R}=c,N="/api/templates/nr/expanded/route";function v(){return(0,n.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:x})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>r(50775));module.exports=a})();
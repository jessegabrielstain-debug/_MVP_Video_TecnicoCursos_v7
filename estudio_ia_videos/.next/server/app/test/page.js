(()=>{var e={};e.id=7928,e.ids=[7928],e.modules={572934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},554580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},345869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},220399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},978893:e=>{"use strict";e.exports=require("buffer")},532615:e=>{"use strict";e.exports=require("http")},735240:e=>{"use strict";e.exports=require("https")},768621:e=>{"use strict";e.exports=require("punycode")},276162:e=>{"use strict";e.exports=require("stream")},917360:e=>{"use strict";e.exports=require("url")},671568:e=>{"use strict";e.exports=require("zlib")},815161:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(383461),r(800635),r(35866);var s=r(723191),o=r(88716),i=r(637922),a=r.n(i),n=r(595231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,383461)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\test\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,800635)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\test\\page.tsx"],u="/test/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/test/page",pathname:"/test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},399173:(e,t,r)=>{Promise.resolve().then(r.bind(r,551771)),Promise.resolve().then(r.bind(r,697754)),Promise.resolve().then(r.bind(r,581966)),Promise.resolve().then(r.bind(r,825146)),Promise.resolve().then(r.bind(r,108563)),Promise.resolve().then(r.bind(r,735265)),Promise.resolve().then(r.bind(r,243796)),Promise.resolve().then(r.bind(r,474008)),Promise.resolve().then(r.bind(r,754055))},853192:(e,t,r)=>{Promise.resolve().then(r.bind(r,695880))},695880:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(210326),o=r(517577),i=r(212192);let a=()=>{let{isRendering:e,currentJob:t,progress:r,error:a,startRender:n,cancelRender:l,clearError:d,streamProgress:c,listJobs:u,downloadRender:m,getPreset:h,validateProject:p}=(0,i.K)(),[x,g]=(0,o.useState)([]),[b,j]=(0,o.useState)(!1),f={id:"test-project-001",name:"Projeto de Teste",duration:10,fps:30,resolution:{width:1920,height:1080},elements:[{id:"text-1",type:"text",content:"Teste de Renderiza\xe7\xe3o Completa!",startTime:0,duration:5,style:{fontSize:48,color:"#ffffff",fontFamily:"Arial",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",padding:"20px",borderRadius:"10px"},position:{x:50,y:50},animations:[{type:"fadeInScale",startTime:0,duration:1,easing:"easeOut"}]},{id:"text-2",type:"text",content:"Sistema Integrado Funcionando!",startTime:5,duration:5,style:{fontSize:36,color:"#00ff00",fontFamily:"Arial",textAlign:"center"},position:{x:50,y:70},animations:[{type:"slideIn",startTime:5,duration:1,direction:"left",easing:"easeOut"}]}],layers:[],createdAt:new Date,updatedAt:new Date},v={format:"mp4",quality:"high",fps:30,resolution:{width:1920,height:1080},codec:"h264",bitrate:"5M",audio:{enabled:!1}},y=async()=>{console.log("\uD83C\uDFAC Iniciando teste de renderiza\xe7\xe3o..."),await n(f,v)},w=async()=>{console.log("â¹ï¸ Cancelando renderiza\xe7\xe3o..."),await l()},C=async()=>{j(!0);try{let e=await u();g(e.jobs||[]),console.log("\uD83D\uDCCB Jobs encontrados:",e)}catch(e){console.error("Erro ao listar jobs:",e)}finally{j(!1)}},N=e=>{console.log("â¬‡ï¸ Baixando arquivo:",e),m(e,"mp4")};return(0,s.jsxs)("div",{className:"p-6 max-w-4xl mx-auto bg-white rounded-lg shadow-lg",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"\uD83E\uDDEA Teste de Renderiza\xe7\xe3o Completa"}),(0,s.jsxs)("div",{className:"mb-6 p-4 bg-gray-100 rounded-lg",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Status Atual"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Renderizando:"})," ",e?"âœ… Sim":"âŒ N\xe3o"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Job Atual:"})," ",t?.id||"Nenhum"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Progresso:"})," ",r?.percentage||0,"%"]}),(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"Erro:"})," ",a||"Nenhum"]})]})]}),r&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-blue-100 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Progresso da Renderiza\xe7\xe3o"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-2",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${r.percentage}%`}})}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Frame ",r.frame," de ",r.totalFrames," | Tempo decorrido: ",r.renderedInSeconds?.toFixed(1),"s",r.estimatedTimeRemaining&&(0,s.jsxs)("span",{children:[" | Tempo restante: ",r.estimatedTimeRemaining,"s"]})]})]}),a&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro"}),s.jsx("p",{className:"text-red-700",children:a}),s.jsx("button",{onClick:d,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Limpar Erro"})]}),(0,s.jsxs)("div",{className:"mb-6 grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:y,disabled:e,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:e?"\uD83C\uDFAC Renderizando...":"â–¶ï¸ Iniciar Renderiza\xe7\xe3o"}),s.jsx("button",{onClick:w,disabled:!e,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"â¹ï¸ Cancelar Renderiza\xe7\xe3o"})]}),(0,s.jsxs)("div",{className:"mb-6 grid grid-cols-3 gap-4",children:[s.jsx("button",{onClick:C,disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:"\uD83D\uDCCB Listar Jobs"}),s.jsx("button",{onClick:()=>{console.log("âœ… Valida\xe7\xe3o do projeto:",p(f))},className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700",children:"âœ… Validar Projeto"}),s.jsx("button",{onClick:()=>{["low","medium","high","ultra"].forEach(e=>{let t=h(e);console.log(`ðŸŽ¯ Preset ${e}:`,t)})},className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"\uD83C\uDFAF Testar Presets"})]}),x.length>0&&(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Jobs de Renderiza\xe7\xe3o"}),s.jsx("div",{className:"space-y-2",children:x.map(e=>(0,s.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("strong",{children:"ID:"})," ",e.id," |",s.jsx("strong",{children:" Status:"})," ",e.status," |",s.jsx("strong",{children:" Criado:"})," ",new Date(e.createdAt).toLocaleString()]}),(0,s.jsxs)("div",{className:"space-x-2",children:["completed"===e.status&&s.jsx("button",{onClick:()=>N(e.id),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"â¬‡ï¸ Download"}),s.jsx("button",{onClick:()=>c(e.id),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"\uD83D\uDCE1 Monitorar"})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Projeto de Teste"}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"ID:"})," ",f.id]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Nome:"})," ",f.name]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Dura\xe7\xe3o:"})," ",f.duration,"s"]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"FPS:"})," ",f.fps]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Resolu\xe7\xe3o:"})," ",f.resolution.width,"x",f.resolution.height]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Elementos:"})," ",f.elements.length]})]})]})]})}},212192:(e,t,r)=>{"use strict";r.d(t,{K:()=>o});var s=r(517577);function o(){let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)(null),[i,a]=(0,s.useState)(null),[n,l]=(0,s.useState)(null),d=(0,s.useCallback)(()=>{l(null)},[]),c=(0,s.useCallback)(async(e,r)=>{try{t(!0),l(null),a(null);let s=g(e);if(!s.valid)throw Error(`Projeto inv\xe1lido: ${s.errors.join(", ")}`);let i=await fetch("/api/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project:e,settings:r})});if(!i.ok){let e=await i.json();throw Error(e.error||"Erro ao iniciar renderiza\xe7\xe3o")}let{job:n}=await i.json();o(n),u(n.id)}catch(e){l(e instanceof Error?e.message:"Erro desconhecido"),t(!1)}},[]),u=(0,s.useCallback)(e=>{let r=new EventSource(`/api/render/progress?jobId=${e}`);return r.onmessage=e=>{try{let s=JSON.parse(e.data);"progress"===s.type?a(s.progress):"complete"===s.type?(t(!1),o(s.job),r.close()):"error"===s.type&&(l(s.error),t(!1),r.close())}catch(e){console.error("Erro ao processar progresso:",e)}},r.onerror=()=>{l("Erro na conex\xe3o de progresso"),t(!1),r.close()},r},[]),m=(0,s.useCallback)(async()=>{if(r)try{if(!(await fetch(`/api/render?action=cancel&jobId=${r.id}`,{method:"DELETE"})).ok)throw Error("Erro ao cancelar renderiza\xe7\xe3o");t(!1),o(null),a(null)}catch(e){l(e instanceof Error?e.message:"Erro ao cancelar")}},[r]),h=(0,s.useCallback)(async e=>{try{let t=e?`/api/render?action=list&status=${e}`:"/api/render?action=list",r=await fetch(t);if(!r.ok)throw Error("Erro ao buscar jobs");return await r.json()}catch(e){return console.error("Erro ao listar jobs:",e),{jobs:[],stats:{total:0}}}},[]),p=(0,s.useCallback)((e,t="mp4")=>{let r=`${e}.${t}`,s=`/api/render/output/${r}`,o=document.createElement("a");o.href=s,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o)},[]),x=(0,s.useCallback)(e=>({low:{name:"Baixa Qualidade",width:854,height:480,fps:24,crf:28,bitrate:"500k",format:"mp4"},medium:{name:"Qualidade M\xe9dia",width:1280,height:720,fps:30,crf:23,bitrate:"2M",format:"mp4"},high:{name:"Alta Qualidade",width:1920,height:1080,fps:30,crf:18,bitrate:"5M",format:"mp4"},ultra:{name:"Ultra Qualidade",width:3840,height:2160,fps:60,crf:15,bitrate:"15M",format:"mp4"}})[e]||null,[]),g=(0,s.useCallback)(e=>{let t=[];return e.elements&&0!==e.elements.length||t.push("Projeto n\xe3o cont\xe9m elementos"),e.duration<=0&&t.push("Dura\xe7\xe3o do projeto inv\xe1lida"),e.elements.forEach((e,r)=>{e.id||t.push(`Elemento ${r+1} sem ID`),e.startTime<0&&t.push(`Elemento ${r+1} com tempo inicial inv\xe1lido`),e.duration<=0&&t.push(`Elemento ${r+1} com dura\xe7\xe3o inv\xe1lida`)}),{valid:0===t.length,errors:t}},[]);return{isRendering:e,currentJob:r,progress:i,error:n,startRender:c,cancelRender:m,clearError:d,streamProgress:u,listJobs:h,downloadRender:p,getPreset:x,validateProject:g}}},383461:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(919510);let o=(0,r(768570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\components\test\RenderingTest.tsx#default`);function i(){return s.jsx("div",{className:"min-h-screen bg-gray-100 py-8",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(o,{})})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,605,6430],()=>r(815161));module.exports=s})();
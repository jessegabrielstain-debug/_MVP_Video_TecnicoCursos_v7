(()=>{var e={};e.id=2298,e.ids=[2298],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},30678:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>x,tree:()=>o}),s(10061),s(14118),s(26083),s(81754);var r=s(23191),i=s(88716),a=s(48001),l=s(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(t,n);let o=["",{children:["editor",{children:["pro",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,10061)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\editor\\pro\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],d=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\editor\\pro\\page.tsx"],c="/editor/pro/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/editor/pro/page",pathname:"/editor/pro",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},27617:(e,t,s)=>{Promise.resolve().then(s.bind(s,75545))},30370:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var r=s(10326),i=s(17577),a=s(47405);let l=i.forwardRef(({className:e,value:t,...s},i)=>r.jsx("div",{ref:i,className:(0,a.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));l.displayName="Progress"},89427:(e,t,s)=>{"use strict";s.d(t,{B:()=>o,x:()=>n});var r=s(10326),i=s(17577),a=s(16999),l=s(47405);let n=i.forwardRef(({className:e,children:t,...s},i)=>(0,r.jsxs)(a.fC,{ref:i,className:(0,l.cn)("relative overflow-hidden",e),...s,children:[r.jsx(a.l_,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(o,{}),r.jsx(a.Ns,{})]}));n.displayName=a.fC.displayName;let o=i.forwardRef(({className:e,orientation:t="vertical",...s},i)=>r.jsx(a.gb,{ref:i,orientation:t,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 border-t border-t-transparent p-[1px]",e),...s,children:r.jsx(a.q4,{className:"relative flex-1 rounded-full bg-border"})}));o.displayName=a.gb.displayName},6598:(e,t,s)=>{"use strict";s.d(t,{i:()=>n});var r=s(10326),i=s(17577),a=s(87131),l=s(47405);let n=i.forwardRef(({className:e,...t},s)=>(0,r.jsxs)(a.fC,{ref:s,className:(0,l.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(a.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:r.jsx(a.e6,{className:"absolute h-full bg-primary"})}),r.jsx(a.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));n.displayName=a.fC.displayName},55009:(e,t,s)=>{"use strict";s.d(t,{SP:()=>d,dr:()=>o,mQ:()=>n,nU:()=>c});var r=s(10326),i=s(17577),a=s(28407),l=s(47405);let n=a.fC,o=i.forwardRef(({className:e,...t},s)=>r.jsx(a.aV,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));o.displayName=a.aV.displayName;let d=i.forwardRef(({className:e,...t},s)=>r.jsx(a.xz,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));d.displayName=a.xz.displayName;let c=i.forwardRef(({className:e,...t},s)=>r.jsx(a.VY,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=a.VY.displayName},63617:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var r=s(10326),i=s(17577),a=s(47405);let l=i.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));l.displayName="Textarea"},75545:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>F});var r=s(10326),i=s(17577),a=s.n(i),l=s(33265);let n=(0,s(17370).U)((e,t)=>({elements:[],selectedId:null,tracks:[{id:"track-1",name:"Video 1",type:"video"},{id:"track-2",name:"Audio 1",type:"audio"}],currentTime:0,duration:3e4,isPlaying:!1,zoom:100,subtitles:[],activeVideoElements:new Map,addElement:t=>{e(e=>({elements:[...e.elements,{...t,startTime:e.currentTime,duration:5e3,trackId:"track-1"}]}))},updateElement:(t,s)=>e(e=>({elements:e.elements.map(e=>e.id===t?{...e,...s}:e)})),selectElement:t=>e({selectedId:t}),removeElement:t=>e(e=>({elements:e.elements.filter(e=>e.id!==t),selectedId:e.selectedId===t?null:e.selectedId})),addTrack:t=>e(e=>({tracks:[...e.tracks,t]})),setCurrentTime:t=>e({currentTime:Math.max(0,t)}),setIsPlaying:t=>e({isPlaying:t}),setZoom:t=>e({zoom:t}),addSubtitle:t=>e(e=>({subtitles:[...e.subtitles,t]})),updateSubtitle:(t,s)=>e(e=>({subtitles:e.subtitles.map(e=>e.id===t?{...e,...s}:e)})),deleteSubtitle:t=>e(e=>({subtitles:e.subtitles.filter(e=>e.id!==t)})),registerVideoElement:(e,s)=>{t().activeVideoElements.set(e,s)},unregisterVideoElement:e=>{t().activeVideoElements.delete(e)}}));var o=s(4559),d=s(61182),c=s(82610),u=s(63617),x=s(89427),m=s(55009),p=s(1572),f=s(48998),b=s(98091);let h=()=>{let e=n(e=>e.subtitles),t=n(e=>e.addSubtitle),s=n(e=>e.updateSubtitle),i=n(e=>e.deleteSubtitle),a=n(e=>e.currentTime);return(0,r.jsxs)("div",{className:"flex flex-col h-full bg-background",children:[r.jsx("div",{className:"p-4 border-b",children:(0,r.jsxs)("h2",{className:"font-bold text-lg flex items-center gap-2",children:[r.jsx(d.Z,{className:"w-5 h-5"}),"Subtitles"]})}),(0,r.jsxs)(m.mQ,{defaultValue:"auto",className:"flex-1 flex flex-col",children:[r.jsx("div",{className:"px-4 pt-2",children:(0,r.jsxs)(m.dr,{className:"w-full",children:[r.jsx(m.SP,{value:"auto",className:"flex-1",children:"Auto Subtitles"}),r.jsx(m.SP,{value:"manual",className:"flex-1",children:"Manual"})]})}),r.jsx(m.nU,{value:"auto",className:"flex-1 p-4 flex flex-col gap-4",children:(0,r.jsxs)("div",{className:"bg-muted p-4 rounded-lg text-center space-y-3",children:[r.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 w-12 h-12 rounded-full flex items-center justify-center mx-auto",children:r.jsx(p.Z,{className:"w-6 h-6 text-blue-500"})}),r.jsx("h3",{className:"font-semibold",children:"AI Auto-Transcribe"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically generate subtitles from your video audio using AI."}),r.jsx(c.z,{onClick:()=>{setTimeout(()=>{[{id:"auto-1",text:"Welcome to this tutorial.",startTime:500,endTime:2500},{id:"auto-2",text:"Today we will learn Konva.",startTime:2600,endTime:4500},{id:"auto-3",text:"It is very powerful.",startTime:4600,endTime:6e3}].forEach(e=>{t({...e,style:{fontSize:24,fontFamily:"Arial",fill:"white",align:"center"}})})},1e3)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600",children:"Generate Subtitles (Mock)"})]})}),r.jsx(m.nU,{value:"manual",className:"flex-1 p-4",children:r.jsx(c.z,{onClick:()=>{t({id:`sub-${Date.now()}`,text:"New Subtitle",startTime:a,endTime:a+3e3,style:{fontSize:24,fontFamily:"Arial",fill:"white",align:"center"}})},variant:"outline",className:"w-full mb-4",children:"+ Add Subtitle at Current Time"})}),(0,r.jsxs)("div",{className:"flex-1 border-t bg-gray-50/50 dark:bg-gray-900/50 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"p-2 text-xs font-semibold text-muted-foreground bg-background border-b",children:"Timeline"}),r.jsx(x.x,{className:"flex-1 p-2",children:(0,r.jsxs)("div",{className:"space-y-2",children:[e.sort((e,t)=>e.startTime-t.startTime).map(e=>(0,r.jsxs)("div",{className:"bg-background border rounded p-3 text-sm hover:border-blue-500 transition-colors group",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(f.Z,{className:"w-3 h-3"}),(0,r.jsxs)("span",{children:[(e.startTime/1e3).toFixed(1),"s - ",(e.endTime/1e3).toFixed(1),"s"]})]}),r.jsx("button",{onClick:()=>i(e.id),className:"text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(b.Z,{className:"w-3 h-3"})})]}),r.jsx(u.g,{value:e.text,onChange:t=>s(e.id,{text:t.target.value}),className:"h-auto min-h-[60px] resize-none border-0 shadow-none focus-visible:ring-0 p-0 bg-transparent text-sm"})]},e.id)),0===e.length&&r.jsx("div",{className:"text-center text-xs text-muted-foreground py-8",children:"No subtitles yet."})]})})]})]})]})},g=({icon:e,active:t,onClick:s,label:i})=>(0,r.jsxs)("button",{onClick:s,className:`p-3 rounded-xl transition-colors flex flex-col items-center gap-1 ${t?"bg-blue-100 text-blue-600 dark:bg-blue-900/50":"text-muted-foreground hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:[a().cloneElement(e,{size:20}),r.jsx("span",{className:"text-[10px] font-medium",children:i})]}),v=()=>{let[e,t]=(0,i.useState)("assets");n(e=>e.addElement);let s=(e,t,s)=>{e.dataTransfer.setData("application/json",JSON.stringify({type:t,src:s}))};return(0,r.jsxs)("div",{className:"flex h-full border-r bg-muted/30",children:[(0,r.jsxs)("div",{className:"w-16 flex flex-col items-center py-4 gap-4 border-r bg-background",children:[r.jsx(g,{icon:r.jsx(o.Z,{}),active:"assets"===e,onClick:()=>t("assets"),label:"Assets"}),r.jsx(g,{icon:r.jsx(d.Z,{}),active:"subtitles"===e,onClick:()=>t("subtitles"),label:"Subtitles"})]}),r.jsx("div",{className:"w-64 flex flex-col",children:"subtitles"===e?r.jsx(h,{}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"p-4 border-b",children:r.jsx("h2",{className:"font-bold text-lg",children:"Assets"})}),(0,r.jsxs)("div",{className:"flex-1 p-4 flex flex-col gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Shapes"}),r.jsx("div",{className:"flex gap-2",children:r.jsx("div",{draggable:!0,onDragStart:e=>s(e,"shape"),className:"w-12 h-12 bg-red-500 rounded cursor-grab active:cursor-grabbing hover:opacity-80 shadow-sm",title:"Drag Rectangle"})})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Text"}),r.jsx("div",{draggable:!0,onDragStart:e=>s(e,"text"),className:"p-2 border border-dashed rounded cursor-grab bg-white dark:bg-black text-center text-sm hover:shadow-sm",children:"Headline Text"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-xs font-semibold text-muted-foreground mb-2",children:"Videos (Mock)"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:(0,r.jsxs)("div",{draggable:!0,onDragStart:e=>s(e,"video","https://upload.wikimedia.org/wikipedia/commons/transcoded/c/c0/Big_Buck_Bunny_4K.webm/Big_Buck_Bunny_4K.webm.480p.vp9.webm"),className:"aspect-video bg-black rounded overflow-hidden cursor-grab relative group",children:[r.jsx("video",{src:"https://upload.wikimedia.org/wikipedia/commons/transcoded/c/c0/Big_Buck_Bunny_4K.webm/Big_Buck_Bunny_4K.webm.480p.vp9.webm",className:"w-full h-full object-cover pointer-events-none"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition",children:r.jsx("span",{className:"text-xs text-white",children:"Drag"})})]})})]})]})]})})]})},y=()=>{let e=n(e=>e.duration),t=n(e=>e.zoom),s=n(e=>e.currentTime),i=n(e=>e.setCurrentTime),a=[],l=e/1e3;for(let e=0;e<=l;e++){a.push(r.jsx("div",{className:"absolute top-0 h-full border-l border-gray-400 text-[10px] pl-1 select-none",style:{left:e*t},children:e%5==0?`${e}s`:""},e));for(let s=1;s<5;s++)e<l&&a.push(r.jsx("div",{className:"absolute bottom-0 h-2 border-l border-gray-300",style:{left:(e+.2*s)*t}},`${e}-${s}`))}return(0,r.jsxs)("div",{className:"h-8 w-full bg-gray-100 border-b relative cursor-pointer overflow-hidden",onClick:e=>{let s=e.currentTarget.getBoundingClientRect();i((e.clientX-s.left)/t*1e3)},children:[r.jsx("div",{style:{width:e/1e3*t,height:"100%",position:"relative"},children:a}),r.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-10 pointer-events-none",style:{left:s/1e3*t},children:r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full -ml-1.5 -mt-1.5"})})]})};var j=s(6309),w=s(71059),N=s(94893),k=s(10976),_=s(11962),C=s(7937),T=s(6598);let P=({zoom:e})=>{let t=n(e=>e.subtitles);return(0,r.jsxs)("div",{className:"h-16 border-b flex relative group bg-indigo-50/30 dark:bg-indigo-900/10 border-indigo-100",children:[r.jsx("div",{className:"w-48 border-r bg-muted/10 sticky left-0 z-10 p-2 flex flex-col justify-center shrink-0",children:r.jsx("div",{className:"text-xs font-medium text-indigo-600 dark:text-indigo-400",children:"Subtitles"})}),r.jsx("div",{className:"flex-1 relative h-full",children:t.map(t=>r.jsx("div",{className:"absolute top-2 bottom-2 rounded bg-indigo-200 dark:bg-indigo-800 border border-indigo-300 flex items-center px-2 text-[10px] overflow-hidden whitespace-nowrap",style:{left:t.startTime/1e3*e,width:(t.endTime-t.startTime)/1e3*e},title:t.text,children:t.text},t.id))})]})},S=({track:e,elements:t,zoom:s,onUpdateElement:i})=>(0,r.jsxs)("div",{className:"h-24 border-b flex relative group bg-white dark:bg-gray-900 border-gray-100 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"w-48 border-r bg-muted/10 sticky left-0 z-10 p-2 flex flex-col justify-center shrink-0 shadow-[4px_0_5px_-2px_rgba(0,0,0,0.1)]",children:[r.jsx("div",{className:"text-xs font-medium truncate mb-1",children:e.name}),r.jsx("div",{className:"text-[10px] text-muted-foreground uppercase",children:e.type})]}),(0,r.jsxs)("div",{className:"flex-1 relative h-full",children:[r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTAwIDBMIHAgMTAwIiBzdHJva2U9IiNlNWU3ZWIiIHN0cm9rZS13aWR0aD0iMSIvPjwvc3ZnPg==')] opacity-20",style:{backgroundSize:`${s}px 100%`}}),t.map(e=>r.jsx(M,{element:e,zoom:s,onUpdate:t=>i(e.id,t)},e.id))]})]}),M=({element:e,zoom:t,onUpdate:s})=>{let a=(0,i.useRef)(!1),l=(0,i.useRef)(0),o=(0,i.useRef)(0);return(0,r.jsxs)("div",{onMouseDown:r=>{r.stopPropagation(),a.current=!0,l.current=r.clientX,o.current=e.startTime;let i=e=>{if(!a.current)return;let r=e.clientX-l.current;s({startTime:Math.max(0,o.current+r/t*1e3)})},n=()=>{a.current=!1,window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",n)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",n)},onContextMenu:t=>{t.preventDefault(),confirm("Delete this clip?")&&n.getState().removeElement(e.id)},className:"absolute top-2 bottom-2 rounded-md border cursor-move overflow-hidden transition-colors shadow-sm select-none flex flex-col",style:{left:e.startTime/1e3*t,width:Math.max(2,e.duration/1e3*t),backgroundColor:"video"===e.type?"#3b82f6":"audio"===e.type?"#10b981":"#f59e0b",borderColor:"rgba(255,255,255,0.3)",opacity:.9},title:`${e.name||e.type} (${(e.duration/1e3).toFixed(1)}s)`,children:[r.jsx("div",{className:"px-2 py-1 text-xs text-white font-medium truncate drop-shadow-md",children:e.text||e.type}),r.jsx("div",{className:"flex-1 bg-black/10 w-full"})]})},q=()=>{let e=n(e=>e.tracks),t=n(e=>e.elements),s=n(e=>e.zoom),l=n(e=>e.setZoom),o=n(e=>e.currentTime),d=n(e=>e.isPlaying),c=n(e=>e.setIsPlaying),u=n(e=>e.setCurrentTime),m=n(e=>e.updateElement),p=(0,i.useRef)(),f=(0,i.useRef)(),b=(0,i.useCallback)(e=>{void 0!==f.current&&u(o+(e-f.current)),f.current=e,p.current=requestAnimationFrame(b)},[o,u]);return a().useEffect(()=>{if(d){let e=Date.now(),t=()=>{let s=Date.now(),r=s-e;r>0&&(n.setState(e=>({currentTime:e.currentTime+r})),e=s),p.current=requestAnimationFrame(t)};p.current=requestAnimationFrame(t)}else p.current&&cancelAnimationFrame(p.current);return()=>{p.current&&cancelAnimationFrame(p.current)}},[d]),(0,r.jsxs)("div",{className:"flex flex-col h-full bg-background border-t",children:[(0,r.jsxs)("div",{className:"h-10 border-b flex items-center px-4 gap-4 bg-muted/20 justify-between shrink-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onClick:()=>u(0),children:r.jsx(j.Z,{size:16})}),r.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",onClick:()=>c(!d),children:d?r.jsx(w.Z,{size:16}):r.jsx(N.Z,{size:16})}),r.jsx("button",{className:"p-1 hover:bg-gray-200 rounded",children:r.jsx(k.Z,{size:16})}),(0,r.jsxs)("div",{className:"text-xs font-mono ml-4 w-16",children:[(o/1e3).toFixed(2),"s"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 w-48",children:[r.jsx(_.Z,{size:14,className:"text-muted-foreground"}),r.jsx(T.i,{value:[s],min:10,max:300,step:10,onValueChange:e=>{l(e[0])},className:"w-24"}),r.jsx(C.Z,{size:14,className:"text-muted-foreground"})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden flex flex-col relative select-none",children:(0,r.jsxs)(x.x,{className:"w-full h-full",children:[(0,r.jsxs)("div",{className:"min-w-full relative",style:{height:"max-content"},children:[r.jsx("div",{className:"sticky top-0 z-20 bg-background border-b shadow-sm",children:r.jsx(y,{})}),(0,r.jsxs)("div",{className:"p-0 relative bg-gray-50/50 min-h-[300px]",children:[r.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-10 pointer-events-none",style:{left:o/1e3*s,height:"100%"}}),r.jsx(P,{zoom:s}),e.map(e=>r.jsx(S,{track:e,elements:t.filter(t=>t.trackId===e.id),zoom:s,onUpdateElement:m},e.id))]})]}),r.jsx(x.B,{orientation:"horizontal"})]})})]})},E=()=>{let e=n(e=>e.isPlaying),t=n(e=>e.setIsPlaying);n(e=>e.elements);let s=n(e=>e.selectedId),r=n(e=>e.removeElement);n(e=>e.deleteSubtitle),n(e=>e.subtitles),(0,i.useEffect)(()=>{let i=i=>{let a=i.target;if("INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName)switch(i.code){case"Space":i.preventDefault(),t(!e);break;case"Delete":case"Backspace":s&&r(s)}};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[e,t,s,r])},z=e=>{let[t,s]=(0,i.useState)(!1),[r,a]=(0,i.useState)(0),[l,o]=(0,i.useState)(!1),d=n(e=>e.setCurrentTime),c=n(e=>e.setIsPlaying),u=n(e=>e.duration),x=n(e=>e.currentTime),m=(0,i.useRef)(null),p=(0,i.useRef)([]);(0,i.useEffect)(()=>{t&&(a(Math.min(100,x/u*100)),x>=u&&b())},[x,t,u]);let f=async()=>{e.current&&(s(!0),a(0),c(!1),d(0),setTimeout(()=>{let t=e.current?.toCanvas();if(!t)return;let r=new(window.AudioContext||window.webkitAudioContext),i=r.createMediaStreamDestination();n.getState().activeVideoElements.forEach((e,t)=>{if(e)try{r.createMediaElementSource(e).connect(i)}catch(e){console.warn("Audio source already connected or error:",e)}});let a=new MediaRecorder(new MediaStream([...t.captureStream(30).getVideoTracks(),...i.stream.getAudioTracks()]),{mimeType:"video/webm;codecs=vp9"});p.current=[],a.ondataavailable=e=>{e.data.size>0&&p.current.push(e.data)},a.onstop=()=>{let e=new Blob(p.current,{type:"video/webm"}),t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=`video-export-${Date.now()}.webm`,i.click(),URL.revokeObjectURL(t),r.close(),s(!1),o(!1)},m.current=a,a.start(),c(!0)},500))},b=()=>{c(!1),m.current&&"recording"===m.current.state&&m.current.stop()};return{isExporting:t,progress:r,exportModalOpen:l,setExportModalOpen:o,startExport:f}};var Z=s(76993),V=s(31540),R=s(57446),I=s(77506),A=s(30370);let D=({open:e,onOpenChange:t,onConfirmExport:s,isExporting:i,progress:a})=>r.jsx(R.Vq,{open:e,onOpenChange:t,children:(0,r.jsxs)(R.cZ,{className:"sm:max-w-md",children:[(0,r.jsxs)(R.fK,{children:[r.jsx(R.$N,{children:"Export Video"}),r.jsx(R.Be,{children:"Render your video timeline to a WebM file. This captures the canvas in real-time."})]}),r.jsx("div",{className:"flex flex-col gap-4 py-4",children:i?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Rendering..."}),(0,r.jsxs)("span",{children:[Math.round(a),"%"]})]}),r.jsx(A.E,{value:a,className:"h-2"}),r.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Please do not close this window."})]}):(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between border p-3 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium",children:"Format"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"WebM (VP9)"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border p-3 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium",children:"Resolution"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"Original (Canvas)"})]})]})}),(0,r.jsxs)(R.cN,{children:[!i&&(0,r.jsxs)("div",{className:"flex gap-2 w-full",children:[r.jsx(c.z,{variant:"outline",onClick:()=>t(!1),className:"flex-1",children:" Cancel "}),(0,r.jsxs)(c.z,{onClick:s,className:"flex-1",disabled:i,children:[r.jsx(V.Z,{className:"w-4 h-4 mr-2"}),"Start Export"]})]}),i&&(0,r.jsxs)(c.z,{disabled:!0,className:"w-full",children:[r.jsx(I.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Rendering..."]})]})]})}),B=(0,l.default)(async()=>{},{loadableGenerated:{modules:["app\\editor\\pro\\page.tsx -> ./components/KonvaStage"]},ssr:!1,loading:()=>r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-900 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg animate-pulse",children:"Loading Editor Core..."})});function F(){E();let e=(0,i.useRef)(null),{isExporting:t,progress:s,exportModalOpen:a,setExportModalOpen:l,startExport:n}=z(e);return(0,r.jsxs)("div",{className:"flex h-screen w-full bg-background overflow-hidden relative",children:[r.jsx(D,{open:a,onOpenChange:l,onConfirmExport:n,isExporting:t,progress:s}),r.jsx(v,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col relative",children:[(0,r.jsxs)("div",{className:"h-14 border-b flex items-center px-4 justify-between bg-background z-10 shrink-0",children:[r.jsx("div",{className:"font-semibold flex items-center gap-2",children:"VEED-Killer Project (Beta)"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(c.z,{variant:"ghost",size:"sm",className:"hidden sm:flex",children:[r.jsx(Z.Z,{className:"w-4 h-4 mr-2"}),"Invite"]}),(0,r.jsxs)(c.z,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:opacity-90",onClick:()=>l(!0),disabled:t,children:[r.jsx(V.Z,{className:"w-4 h-4 mr-2"}),"Export Video"]})]})]}),r.jsx("div",{className:"flex-1 overflow-hidden relative bg-gray-50/50 dark:bg-gray-950/50 flex items-center justify-center",children:r.jsx(B,{stageRef:e})}),r.jsx("div",{className:"h-80 border-t bg-background z-10 shrink-0",children:r.jsx(q,{})})]}),(0,r.jsxs)("div",{className:"w-72 border-l bg-background flex flex-col z-10 hidden lg:flex",children:[r.jsx("div",{className:"p-4 border-b",children:r.jsx("h2",{className:"font-semibold text-sm",children:"Properties"})}),r.jsx("div",{className:"p-4 text-xs text-muted-foreground",children:"Select an element to edit properties."})]})]})}},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4559:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},77506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},71059:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},76993:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},6309:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]])},10976:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},61182:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]])},7937:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])},11962:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])},33265:(e,t,s)=>{"use strict";s.d(t,{default:()=>i.a});var r=s(43353),i=s.n(r)},43353:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=s(91174);s(10326),s(17577);let i=r._(s(77028));function a(e,t){var s;let r={loading:e=>{let{error:t,isLoading:s,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let a={...r,...t};return(0,i.default)({...a,modules:null==(s=a.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let r=s(94129);function i(e){let{reason:t,children:s}=e;throw new r.BailoutToCSRError(t)}},77028:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let r=s(10326),i=s(17577),a=s(933),l=s(46618);function n(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},s=(0,i.lazy)(()=>t.loader().then(n)),d=t.loading;function c(e){let n=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.PreloadCss,{moduleIds:t.modules}),(0,r.jsx)(s,{...e})]}):(0,r.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(i.Suspense,{fallback:n,children:o})}return c.displayName="LoadableComponent",c}},46618:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let r=s(10326),i=s(54580);function a(e){let{moduleIds:t}=e,s=(0,i.getExpectedRequestStore)("next/dynamic css"),a=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},10061:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\editor\pro\page.tsx#default`)},28407:(e,t,s)=>{"use strict";s.d(t,{VY:()=>q,aV:()=>S,fC:()=>P,xz:()=>M});var r=s(17577),i=s(82561),a=s(93095),l=s(15594),n=s(9815),o=s(45226),d=s(17124),c=s(52067),u=s(88957),x=s(10326),m="Tabs",[p,f]=(0,a.b)(m,[l.Pc]),b=(0,l.Pc)(),[h,g]=p(m),v=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:n,activationMode:p="automatic",...f}=e,b=(0,d.gm)(n),[g,v]=(0,c.T)({prop:r,onChange:i,defaultProp:a??"",caller:m});return(0,x.jsx)(h,{scope:s,baseId:(0,u.M)(),value:g,onValueChange:v,orientation:l,dir:b,activationMode:p,children:(0,x.jsx)(o.WV.div,{dir:b,"data-orientation":l,...f,ref:t})})});v.displayName=m;var y="TabsList",j=r.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...i}=e,a=g(y,s),n=b(s);return(0,x.jsx)(l.fC,{asChild:!0,...n,orientation:a.orientation,dir:a.dir,loop:r,children:(0,x.jsx)(o.WV.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});j.displayName=y;var w="TabsTrigger",N=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,disabled:a=!1,...n}=e,d=g(w,s),c=b(s),u=C(d.baseId,r),m=T(d.baseId,r),p=r===d.value;return(0,x.jsx)(l.ck,{asChild:!0,...c,focusable:!a,active:p,children:(0,x.jsx)(o.WV.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u,...n,ref:t,onMouseDown:(0,i.Mj)(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(r)}),onKeyDown:(0,i.Mj)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(r)}),onFocus:(0,i.Mj)(e.onFocus,()=>{let e="manual"!==d.activationMode;p||a||!e||d.onValueChange(r)})})})});N.displayName=w;var k="TabsContent",_=r.forwardRef((e,t)=>{let{__scopeTabs:s,value:i,forceMount:a,children:l,...d}=e,c=g(k,s),u=C(c.baseId,i),m=T(c.baseId,i),p=i===c.value,f=r.useRef(p);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(n.z,{present:a||p,children:({present:s})=>(0,x.jsx)(o.WV.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&l})})});function C(e,t){return`${e}-trigger-${t}`}function T(e,t){return`${e}-content-${t}`}_.displayName=k;var P=v,S=j,M=N,q=_},53405:(e,t,s)=>{"use strict";s.d(t,{D:()=>i});var r=s(17577);function i(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},17370:(e,t,s)=>{"use strict";s.d(t,{U:()=>n});var r=s(17577),i=s(98675);let a=e=>e,l=e=>{let t=(0,i.M)(e),s=e=>(function(e,t=a){let s=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(s),s})(t,e);return Object.assign(s,t),s},n=e=>e?l(e):l},98675:(e,t,s)=>{"use strict";s.d(t,{M:()=>i});let r=e=>{let t;let s=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),s.forEach(s=>s(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:e=>(s.add(e),()=>s.delete(e))},l=t=e(r,i,a);return a},i=e=>e?r(e):r}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,7362,6999,7131,9874],()=>s(30678));module.exports=r})();
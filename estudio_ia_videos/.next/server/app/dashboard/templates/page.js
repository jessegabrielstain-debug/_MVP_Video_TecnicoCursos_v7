(()=>{var e={};e.id=123,e.ids=[123],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},6672:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.Z,__next_app__:()=>m,originalPathname:()=>o,pages:()=>d,routeModule:()=>x,tree:()=>c}),a(6848),a(13321),a(14118),a(26083),a(81754);var t=a(23191),r=a(88716),i=a(48001),l=a(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);a.d(s,n);let c=["",{children:["dashboard",{children:["templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6848)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\templates\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,13321)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],d=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\templates\\page.tsx"],o="/dashboard/templates/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/templates/page",pathname:"/dashboard/templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},16170:(e,s,a)=>{Promise.resolve().then(a.bind(a,11949))},1817:(e,s,a)=>{"use strict";a.d(s,{Cd:()=>d,X:()=>o,bZ:()=>c});var t=a(10326),r=a(17577),i=a(79360),l=a(47405);let n=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef(({className:e,variant:s,...a},r)=>t.jsx("div",{ref:r,role:"alert",className:(0,l.cn)(n({variant:s}),e),...a}));c.displayName="Alert";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("h5",{ref:a,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));d.displayName="AlertTitle";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},80305:(e,s,a)=>{"use strict";a.d(s,{X:()=>z});var t=a(10326),r=a(17577),i=a(48051),l=a(93095),n=a(82561),c=a(52067),d=a(53405),o=a(2566),m=a(9815),x=a(45226),h="Checkbox",[u,p]=(0,l.b)(h),[j,g]=u(h);function v(e){let{__scopeCheckbox:s,checked:a,children:i,defaultChecked:l,disabled:n,form:d,name:o,onCheckedChange:m,required:x,value:u="on",internal_do_not_use_render:p}=e,[g,v]=(0,c.T)({prop:a,defaultProp:l??!1,onChange:m,caller:h}),[N,f]=r.useState(null),[y,b]=r.useState(null),w=r.useRef(!1),k=!N||!!d||!!N.closest("form"),C={checked:g,disabled:n,setChecked:v,control:N,setControl:f,name:o,form:d,value:u,hasConsumerStoppedPropagationRef:w,required:x,defaultChecked:!Z(l)&&l,isFormControl:k,bubbleInput:y,setBubbleInput:b};return(0,t.jsx)(j,{scope:s,...C,children:"function"==typeof p?p(C):i})}var N="CheckboxTrigger",f=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:a,...l},c)=>{let{control:d,value:o,disabled:m,checked:h,required:u,setControl:p,setChecked:j,hasConsumerStoppedPropagationRef:v,isFormControl:f,bubbleInput:y}=g(N,e),b=(0,i.e)(c,p),w=r.useRef(h);return r.useEffect(()=>{let e=d?.form;if(e){let s=()=>j(w.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,j]),(0,t.jsx)(x.WV.button,{type:"button",role:"checkbox","aria-checked":Z(h)?"mixed":h,"aria-required":u,"data-state":R(h),"data-disabled":m?"":void 0,disabled:m,value:o,...l,ref:b,onKeyDown:(0,n.Mj)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.Mj)(a,e=>{j(e=>!!Z(e)||!e),y&&f&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})});f.displayName=N;var y=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:r,checked:i,defaultChecked:l,required:n,disabled:c,value:d,onCheckedChange:o,form:m,...x}=e;return(0,t.jsx)(v,{__scopeCheckbox:a,checked:i,defaultChecked:l,disabled:c,required:n,onCheckedChange:o,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{...x,ref:s,__scopeCheckbox:a}),e&&(0,t.jsx)(C,{__scopeCheckbox:a})]})})});y.displayName=h;var b="CheckboxIndicator",w=r.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:r,...i}=e,l=g(b,a);return(0,t.jsx)(m.z,{present:r||Z(l.checked)||!0===l.checked,children:(0,t.jsx)(x.WV.span,{"data-state":R(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:s,style:{pointerEvents:"none",...e.style}})})});w.displayName=b;var k="CheckboxBubbleInput",C=r.forwardRef(({__scopeCheckbox:e,...s},a)=>{let{control:l,hasConsumerStoppedPropagationRef:n,checked:c,defaultChecked:m,required:h,disabled:u,name:p,value:j,form:v,bubbleInput:N,setBubbleInput:f}=g(k,e),y=(0,i.e)(a,f),b=(0,d.D)(c),w=(0,o.t)(l);r.useEffect(()=>{if(!N)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!n.current;if(b!==c&&e){let a=new Event("click",{bubbles:s});N.indeterminate=Z(c),e.call(N,!Z(c)&&c),N.dispatchEvent(a)}},[N,b,c,n]);let C=r.useRef(!Z(c)&&c);return(0,t.jsx)(x.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??C.current,required:h,disabled:u,name:p,value:j,form:v,...s,tabIndex:-1,ref:y,style:{...s.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Z(e){return"indeterminate"===e}function R(e){return Z(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=k;var S=a(32933),_=a(47405);let z=r.forwardRef(({className:e,...s},a)=>t.jsx(y,{ref:a,className:(0,_.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(w,{className:(0,_.cn)("flex items-center justify-center text-current"),children:t.jsx(S.Z,{className:"h-4 w-4"})})}));z.displayName=y.displayName},30370:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var t=a(10326),r=a(17577),i=a(47405);let l=r.forwardRef(({className:e,value:s,...a},r)=>t.jsx("div",{ref:r,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:t.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));l.displayName="Progress"},6598:(e,s,a)=>{"use strict";a.d(s,{i:()=>n});var t=a(10326),r=a(17577),i=a(87131),l=a(47405);let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsxs)(i.fC,{ref:a,className:(0,l.cn)("relative flex w-full touch-none select-none items-center",e),...s,children:[t.jsx(i.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:t.jsx(i.e6,{className:"absolute h-full bg-primary"})}),t.jsx(i.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));n.displayName=i.fC.displayName},63617:(e,s,a)=>{"use strict";a.d(s,{g:()=>l});var t=a(10326),r=a(17577),i=a(47405);let l=r.forwardRef(({className:e,...s},a)=>t.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));l.displayName="Textarea"},11949:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>eu});var t=a(10326),r=a(17577),i=a(83431),l=a(82610),n=a(64070),c=a(55009),d=a(83855),o=a(63685),m=a(88307),x=a(41137),h=a(924),u=a(29389),p=a(67427),j=a(33734),g=a(98978),v=a(62329),N=a(12714),f=a(48998),y=a(24061),b=a(31540),w=a(15919),k=a(43810),C=a(69508),Z=a(98091),R=a(94893),S=a(7973),_=a(47405);function z({template:e,viewMode:s,onSelect:a,onPreview:r,onFavorite:n,onDuplicate:c,onEdit:d,onDelete:o,onExport:m,isFavorite:x=!1,isSelected:h=!1,showActions:u=!0}){let g=()=>{a?.(e)},z=s=>{s.stopPropagation(),r?.(e)},P=s=>{s.stopPropagation(),n?.(e.id)},q=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=e=>{switch(e){case"beginner":return"B\xe1sico";case"intermediate":return"Intermedi\xe1rio";case"advanced":return"Avan\xe7ado";default:return e}};return"list"===s?t.jsx(i.Zb,{className:(0,_.cn)("cursor-pointer transition-all duration-200 hover:shadow-md",h&&"ring-2 ring-blue-500"),onClick:g,children:t.jsx(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative w-20 h-20 flex-shrink-0",children:[t.jsx("img",{src:e.thumbnail,alt:e.name,className:"w-full h-full object-cover rounded-lg",onError:s=>{s.target.src=`https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=${encodeURIComponent("safety training "+e.category)}&image_size=square`}}),t.jsx(l.z,{size:"sm",variant:"secondary",className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity bg-black/50 text-white border-0",onClick:z,children:t.jsx(N.Z,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-lg truncate",children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(f.Z,{className:"h-4 w-4"}),e.metadata.estimatedDuration,"min"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(y.Z,{className:"h-4 w-4"}),e.metadata.targetAudience.length," p\xfablicos"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(b.Z,{className:"h-4 w-4"}),e.downloads]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(j.Z,{className:"h-4 w-4"}),e.rating.toFixed(1)]})]})]}),u&&(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx(l.z,{size:"sm",variant:"ghost",onClick:P,className:(0,_.cn)("p-2",x&&"text-red-500"),children:t.jsx(p.Z,{className:(0,_.cn)("h-4 w-4",x&&"fill-current")})}),(0,t.jsxs)(S.h_,{children:[t.jsx(S.$F,{asChild:!0,children:t.jsx(l.z,{size:"sm",variant:"ghost",className:"p-2",children:t.jsx(w.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(S.AW,{align:"end",children:[(0,t.jsxs)(S.Xi,{onClick:()=>r?.(e),children:[t.jsx(N.Z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,t.jsxs)(S.Xi,{onClick:()=>c?.(e),children:[t.jsx(k.Z,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),(0,t.jsxs)(S.Xi,{onClick:()=>d?.(e),children:[t.jsx(C.Z,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,t.jsxs)(S.Xi,{onClick:()=>m?.(e),children:[t.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Exportar"]}),t.jsx(S.VD,{}),(0,t.jsxs)(S.Xi,{onClick:()=>o?.(e.id),className:"text-red-600",children:[t.jsx(Z.Z,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[t.jsx(v.C,{variant:"outline",children:e.category}),t.jsx(v.C,{className:q(e.metadata.difficulty),children:M(e.metadata.difficulty)})]})]})})}):(0,t.jsxs)(i.Zb,{className:(0,_.cn)("cursor-pointer transition-all duration-200 hover:shadow-lg group",h&&"ring-2 ring-blue-500"),onClick:g,children:[t.jsx(i.Ol,{className:"p-0",children:(0,t.jsxs)("div",{className:"relative aspect-video overflow-hidden rounded-t-lg",children:[t.jsx("img",{src:e.thumbnail,alt:e.name,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",onError:s=>{s.target.src=`https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=${encodeURIComponent("safety training "+e.category)}&image_size=landscape_16_9`}}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,t.jsxs)(l.z,{size:"sm",variant:"secondary",onClick:z,className:"bg-white/90 text-black hover:bg-white",children:[t.jsx(N.Z,{className:"h-4 w-4 mr-1"}),"Preview"]}),(0,t.jsxs)(l.z,{size:"sm",variant:"secondary",onClick:g,className:"bg-blue-600 text-white hover:bg-blue-700",children:[t.jsx(R.Z,{className:"h-4 w-4 mr-1"}),"Usar"]})]}),u&&t.jsx(l.z,{size:"sm",variant:"ghost",onClick:P,className:(0,_.cn)("absolute top-2 right-2 p-2 bg-white/80 hover:bg-white",x&&"text-red-500"),children:t.jsx(p.Z,{className:(0,_.cn)("h-4 w-4",x&&"fill-current")})}),t.jsx(v.C,{variant:"secondary",className:"absolute top-2 left-2 bg-white/90 text-black",children:e.category})]})}),t.jsx(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[t.jsx(i.ll,{className:"text-lg line-clamp-1",children:e.name}),t.jsx(i.SZ,{className:"line-clamp-2 mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(f.Z,{className:"h-4 w-4"}),e.metadata.estimatedDuration,"min"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(j.Z,{className:"h-4 w-4"}),e.rating.toFixed(1)]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(b.Z,{className:"h-4 w-4"}),e.downloads]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(v.C,{className:q(e.metadata.difficulty),children:M(e.metadata.difficulty)}),u&&(0,t.jsxs)(S.h_,{children:[t.jsx(S.$F,{asChild:!0,children:t.jsx(l.z,{size:"sm",variant:"ghost",className:"p-2",children:t.jsx(w.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(S.AW,{align:"end",children:[(0,t.jsxs)(S.Xi,{onClick:()=>r?.(e),children:[t.jsx(N.Z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,t.jsxs)(S.Xi,{onClick:()=>c?.(e),children:[t.jsx(k.Z,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),(0,t.jsxs)(S.Xi,{onClick:()=>d?.(e),children:[t.jsx(C.Z,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,t.jsxs)(S.Xi,{onClick:()=>m?.(e),children:[t.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Exportar"]}),t.jsx(S.VD,{}),(0,t.jsxs)(S.Xi,{onClick:()=>o?.(e.id),className:"text-red-600",children:[t.jsx(Z.Z,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]}),e.tags.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(e=>t.jsx(v.C,{variant:"outline",className:"text-xs",children:e},e)),e.tags.length>3&&(0,t.jsxs)(v.C,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]})]})})]})}var P=a(57446),q=a(30361),M=a(50949),T=a(69669),F=a(18019),A=a(71059),E=a(6309),V=a(10976),I=a(15128),D=a(69145),O=a(71312),U=a(79635),$=a(37358),X=a(6598);let Q=({template:e,onClose:s,onEdit:a,onUse:n})=>{let[d,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(0),[h,u]=(0,r.useState)(50),[g,N]=(0,r.useState)(!1),[y,w]=(0,r.useState)(0),k=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)),Z=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,S=e=>({"NR-12":"bg-red-100 text-red-800","NR-33":"bg-blue-100 text-blue-800","NR-35":"bg-green-100 text-green-800","NR-10":"bg-yellow-100 text-yellow-800","NR-06":"bg-purple-100 text-purple-800",CUSTOM:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",_=()=>{o(!d)};return t.jsx(P.Vq,{open:!0,onOpenChange:s,children:(0,t.jsxs)(P.cZ,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(P.fK,{children:(0,t.jsxs)(P.$N,{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{children:e.name}),t.jsx(v.C,{className:S(e.category),children:e.category}),e.isCustom&&t.jsx(v.C,{variant:"outline",children:"Personalizado"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(l.z,{variant:"outline",onClick:a,children:[t.jsx(C.Z,{className:"w-4 h-4 mr-2"}),"Editar"]}),(0,t.jsxs)(l.z,{onClick:n,className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(R.Z,{className:"w-4 h-4 mr-2"}),"Usar Template"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-0",children:(0,t.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:[t.jsx("img",{src:e.preview||e.thumbnail||"/api/placeholder/800/450",alt:e.name,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:t.jsx(l.z,{size:"lg",onClick:_,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white border-white",children:d?t.jsx(A.Z,{className:"w-8 h-8"}):t.jsx(R.Z,{className:"w-8 h-8"})})})]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(X.i,{value:[m],onValueChange:e=>{x(e[0])},max:e.content.settings.duration,step:1,className:"w-full"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(l.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:t.jsx(E.Z,{className:"w-4 h-4"})}),t.jsx(l.z,{size:"sm",variant:"ghost",onClick:_,className:"text-white hover:bg-white hover:bg-opacity-20",children:d?t.jsx(A.Z,{className:"w-4 h-4"}):t.jsx(R.Z,{className:"w-4 h-4"})}),t.jsx(l.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:t.jsx(V.Z,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[t.jsx(l.z,{size:"sm",variant:"ghost",onClick:()=>{N(!g)},className:"text-white hover:bg-white hover:bg-opacity-20",children:g?t.jsx(I.Z,{className:"w-4 h-4"}):t.jsx(D.Z,{className:"w-4 h-4"})}),t.jsx(X.i,{value:[g?0:h],onValueChange:e=>{u(e[0]),N(0===e[0])},max:100,step:1,className:"w-20"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-white text-sm",children:[(0,t.jsxs)("span",{children:[Z(m)," / ",Z(e.content.settings.duration)]}),t.jsx(l.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:t.jsx(O.Z,{className:"w-4 h-4"})})]})]})]})})]})})}),t.jsx(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-3",children:["Slides (",e.content.slides.length,")"]}),t.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:e.content.slides.map((e,s)=>t.jsx("div",{className:`flex-shrink-0 w-32 h-20 rounded-lg border-2 cursor-pointer transition-all ${y===s?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>w(s),children:t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Slide ",s+1]})})},e.id))})]})})]}),t.jsx("div",{className:"space-y-4",children:(0,t.jsxs)(c.mQ,{defaultValue:"info",className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-3",children:[t.jsx(c.SP,{value:"info",children:"Info"}),t.jsx(c.SP,{value:"compliance",children:"Compliance"}),t.jsx(c.SP,{value:"settings",children:"Config"})]}),t.jsx(c.nU,{value:"info",className:"space-y-4",children:t.jsx(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[t.jsx(U.Z,{className:"w-4 h-4 mr-2"}),e.author]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[t.jsx($.Z,{className:"w-4 h-4 mr-2"}),k(e.updatedAt)]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[t.jsx(f.Z,{className:"w-4 h-4 mr-2"}),Z(e.content.settings.duration)]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600",children:[t.jsx(b.Z,{className:"w-4 h-4 mr-2"}),e.downloads]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx(j.Z,{className:"w-4 h-4 mr-1 fill-current text-yellow-400"}),t.jsx("span",{className:"text-sm font-medium",children:e.rating.toFixed(1)})]}),(0,t.jsxs)(l.z,{variant:"ghost",size:"sm",className:"text-red-600",children:[t.jsx(p.Z,{className:"w-4 h-4 mr-1"}),"Favoritar"]})]}),e.tags.length>0&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,s)=>t.jsx(v.C,{variant:"outline",className:"text-xs",children:e},s))})]})]})})}),t.jsx(c.nU,{value:"compliance",className:"space-y-4",children:t.jsx(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"compliant":return t.jsx(q.Z,{className:"w-5 h-5 text-green-600"});case"warning":return t.jsx(M.Z,{className:"w-5 h-5 text-yellow-600"});case"non-compliant":return t.jsx(T.Z,{className:"w-5 h-5 text-red-600"});default:return t.jsx(F.Z,{className:"w-5 h-5 text-gray-600"})}})(e.metadata.compliance.status),t.jsx("span",{className:"font-medium",children:"compliant"===e.metadata.compliance.status?"Conforme":"warning"===e.metadata.compliance.status?"Aten\xe7\xe3o":"N\xe3o Conforme"})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Categorias NR"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:e.metadata.compliance.nrCategories.map((e,s)=>t.jsx(v.C,{className:S(e),children:e},s))})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requisitos"}),t.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:e.metadata.compliance.requirements.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start",children:[t.jsx(q.Z,{className:"w-3 h-3 mr-2 mt-0.5 text-green-600 flex-shrink-0"}),e]},s))})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"\xdaltima Auditoria"}),t.jsx("p",{className:"text-sm text-gray-600",children:k(e.metadata.compliance.lastAudit)})]})]})})}),t.jsx(c.nU,{value:"settings",className:"space-y-4",children:t.jsx(i.Zb,{children:(0,t.jsxs)(i.aY,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resolu\xe7\xe3o"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.content.settings.resolution.width," x ",e.content.settings.resolution.height]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Taxa de Quadros"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.content.settings.frameRate," fps"]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Qualidade de Renderiza\xe7\xe3o"}),t.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.content.settings.renderSettings.quality})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Formato"}),t.jsx("p",{className:"text-sm text-gray-600 uppercase",children:e.content.settings.renderSettings.format})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Performance"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tempo de Renderiza\xe7\xe3o:"}),(0,t.jsxs)("span",{children:[e.metadata.performance.renderTime,"s"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tamanho do Arquivo:"}),(0,t.jsxs)("span",{children:[(e.metadata.performance.fileSize/1024/1024).toFixed(1)," MB"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Complexidade:"}),t.jsx("span",{className:"capitalize",children:e.metadata.performance.complexity})]})]})]})]})})})]})})]})]})})};var L=a(63617),Y=a(98268),B=a(70293),J=a(94019),H=a(21608),W=a(31215);let G=({template:e,onClose:s,onSave:a})=>{let[o,m]=(0,r.useState)({name:e?.name||"",description:e?.description||"",category:e?.category||"CUSTOM",tags:e?.tags||[],thumbnail:e?.thumbnail||"",preview:e?.preview||"",content:e?.content||{slides:[],animations:[],assets:[],interactions:[],compliance:{nrCategory:"NR-01",requirements:[],checkpoints:[],certifications:[]},settings:{resolution:{width:1920,height:1080},frameRate:30,duration:60,audioSettings:{enabled:!0,volume:100,fadeIn:0,fadeOut:0},renderSettings:{quality:"high",format:"mp4",codec:"h264",bitrate:5e3}}}}),[x,h]=(0,r.useState)(""),[u,p]=(0,r.useState)("basic"),j=(e,s)=>{m(a=>({...a,[e]:s}))},g=(e,s)=>{m(a=>({...a,content:{...a.content,[e]:s}}))},N=(e,s)=>{m(a=>({...a,content:{...a.content,settings:{...a.content.settings,[e]:s}}}))},f=()=>{x.trim()&&!o.tags.includes(x.trim())&&(j("tags",[...o.tags,x.trim()]),h(""))},y=e=>{j("tags",o.tags.filter(s=>s!==e))},b=e=>{g("slides",o.content.slides.filter(s=>s.id!==e))},w=(e,s,a)=>{g("slides",o.content.slides.map(t=>t.id===e?{...t,[s]:a}:t))};return t.jsx(P.Vq,{open:!0,onOpenChange:s,children:(0,t.jsxs)(P.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[t.jsx(P.fK,{children:t.jsx(P.$N,{children:e?"Editar Template":"Criar Novo Template"})}),(0,t.jsxs)(c.mQ,{value:u,onValueChange:p,className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[t.jsx(c.SP,{value:"basic",children:"B\xe1sico"}),t.jsx(c.SP,{value:"slides",children:"Slides"}),t.jsx(c.SP,{value:"settings",children:"Configura\xe7\xf5es"}),t.jsx(c.SP,{value:"preview",children:"Preview"})]}),t.jsx(c.nU,{value:"basic",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(B._,{htmlFor:"name",children:"Nome do Template"}),t.jsx(n.I,{id:"name",value:o.name,onChange:e=>j("name",e.target.value),placeholder:"Digite o nome do template..."})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{htmlFor:"description",children:"Descri\xe7\xe3o"}),t.jsx(L.g,{id:"description",value:o.description,onChange:e=>j("description",e.target.value),placeholder:"Descreva o template...",rows:3})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{htmlFor:"category",children:"Categoria NR"}),(0,t.jsxs)(Y.Ph,{value:o.category,onValueChange:e=>j("category",e),children:[t.jsx(Y.i4,{children:t.jsx(Y.ki,{placeholder:"Selecione uma categoria..."})}),t.jsx(Y.Bw,{children:["NR-01","NR-02","NR-03","NR-04","NR-05","NR-06","NR-07","NR-08","NR-09","NR-10","NR-11","NR-12","NR-13","NR-14","NR-15","NR-16","NR-17","NR-18","NR-19","NR-20","NR-21","NR-22","NR-23","NR-24","NR-25","NR-26","NR-27","NR-28","NR-29","NR-30","NR-31","NR-32","NR-33","NR-34","NR-35","NR-36","NR-37","CUSTOM"].map(e=>t.jsx(Y.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Tags"}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-2",children:[t.jsx(n.I,{value:x,onChange:e=>h(e.target.value),placeholder:"Adicionar tag...",onKeyPress:e=>"Enter"===e.key&&f()}),t.jsx(l.z,{onClick:f,size:"sm",children:t.jsx(d.Z,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:o.tags.map((e,s)=>(0,t.jsxs)(v.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,t.jsx(J.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>y(e)})]},s))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(B._,{htmlFor:"thumbnail",children:"URL da Thumbnail"}),t.jsx(n.I,{id:"thumbnail",value:o.thumbnail,onChange:e=>j("thumbnail",e.target.value),placeholder:"https://..."})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{htmlFor:"preview",children:"URL do Preview"}),t.jsx(n.I,{id:"preview",value:o.preview,onChange:e=>j("preview",e.target.value),placeholder:"https://..."})]}),o.thumbnail&&(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Preview da Thumbnail"}),t.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:t.jsx("img",{src:o.thumbnail,alt:"Thumbnail preview",className:"w-full h-32 object-cover"})})]})]})]})}),(0,t.jsxs)(c.nU,{value:"slides",className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["Slides (",o.content.slides.length,")"]}),(0,t.jsxs)(l.z,{onClick:()=>{let e={id:`slide-${Date.now()}`,type:"content",layout:"default",title:`Slide ${o.content.slides.length+1}`,content:"",duration:5,background:"#ffffff",elements:[],transitions:[]};g("slides",[...o.content.slides,e])},children:[t.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"Adicionar Slide"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[o.content.slides.map((e,s)=>(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.ll,{className:"text-base",children:["Slide ",s+1]}),t.jsx(l.z,{variant:"ghost",size:"sm",onClick:()=>b(e.id),className:"text-red-600",children:t.jsx(Z.Z,{className:"w-4 h-4"})})]})}),(0,t.jsxs)(i.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"T\xedtulo"}),t.jsx(n.I,{value:e.title,onChange:s=>w(e.id,"title",s.target.value),placeholder:"T\xedtulo do slide..."})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Dura\xe7\xe3o (segundos)"}),t.jsx(n.I,{type:"number",value:e.duration,onChange:s=>w(e.id,"duration",parseInt(s.target.value)||5),min:"1",max:"60"})]})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Conte\xfado"}),t.jsx(L.g,{value:e.content,onChange:s=>w(e.id,"content",s.target.value),placeholder:"Conte\xfado do slide...",rows:3})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Cor de Fundo"}),t.jsx(n.I,{type:"color",value:e.background,onChange:s=>w(e.id,"background",s.target.value),className:"w-20 h-10"})]})]})]},e.id)),0===o.content.slides.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(H.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),t.jsx("p",{children:"Nenhum slide adicionado ainda."}),t.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Slide" para come\xe7ar.'})]})]})]}),t.jsx(c.nU,{value:"settings",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-base",children:"Configura\xe7\xf5es de V\xeddeo"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Largura"}),t.jsx(n.I,{type:"number",value:o.content.settings.resolution.width,onChange:e=>N("resolution",{...o.content.settings.resolution,width:parseInt(e.target.value)||1920})})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Altura"}),t.jsx(n.I,{type:"number",value:o.content.settings.resolution.height,onChange:e=>N("resolution",{...o.content.settings.resolution,height:parseInt(e.target.value)||1080})})]})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Taxa de Quadros (FPS)"}),(0,t.jsxs)(Y.Ph,{value:o.content.settings.frameRate.toString(),onValueChange:e=>N("frameRate",parseInt(e)),children:[t.jsx(Y.i4,{children:t.jsx(Y.ki,{})}),(0,t.jsxs)(Y.Bw,{children:[t.jsx(Y.Ql,{value:"24",children:"24 FPS"}),t.jsx(Y.Ql,{value:"30",children:"30 FPS"}),t.jsx(Y.Ql,{value:"60",children:"60 FPS"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Dura\xe7\xe3o Total (segundos)"}),t.jsx(n.I,{type:"number",value:o.content.settings.duration,onChange:e=>N("duration",parseInt(e.target.value)||60),min:"1"})]})]})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-base",children:"Configura\xe7\xf5es de Renderiza\xe7\xe3o"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Qualidade"}),(0,t.jsxs)(Y.Ph,{value:o.content.settings.renderSettings.quality,onValueChange:e=>N("renderSettings",{...o.content.settings.renderSettings,quality:e}),children:[t.jsx(Y.i4,{children:t.jsx(Y.ki,{})}),(0,t.jsxs)(Y.Bw,{children:[t.jsx(Y.Ql,{value:"low",children:"Baixa"}),t.jsx(Y.Ql,{value:"medium",children:"M\xe9dia"}),t.jsx(Y.Ql,{value:"high",children:"Alta"}),t.jsx(Y.Ql,{value:"ultra",children:"Ultra"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Formato"}),(0,t.jsxs)(Y.Ph,{value:o.content.settings.renderSettings.format,onValueChange:e=>N("renderSettings",{...o.content.settings.renderSettings,format:e}),children:[t.jsx(Y.i4,{children:t.jsx(Y.ki,{})}),(0,t.jsxs)(Y.Bw,{children:[t.jsx(Y.Ql,{value:"mp4",children:"MP4"}),t.jsx(Y.Ql,{value:"webm",children:"WebM"}),t.jsx(Y.Ql,{value:"avi",children:"AVI"}),t.jsx(Y.Ql,{value:"mov",children:"MOV"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(B._,{children:"Bitrate (kbps)"}),t.jsx(n.I,{type:"number",value:o.content.settings.renderSettings.bitrate,onChange:e=>N("renderSettings",{...o.content.settings.renderSettings,bitrate:parseInt(e.target.value)||5e3}),min:"1000",max:"50000"})]})]})]})]})}),(0,t.jsxs)(c.nU,{value:"preview",className:"space-y-4",children:[(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-base",children:"Preview do Template"})}),t.jsx(i.aY,{children:t.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(R.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),t.jsx("p",{className:"text-gray-600",children:"Preview ser\xe1 gerado ap\xf3s salvar"})]})})})]}),(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-base",children:"Resumo do Template"})}),(0,t.jsxs)(i.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Nome:"})," ",o.name||"Sem nome"]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Categoria:"})," ",o.category]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Slides:"})," ",o.content.slides.length]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Dura\xe7\xe3o:"})," ",o.content.settings.duration,"s"]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Resolu\xe7\xe3o:"})," ",o.content.settings.resolution.width,"x",o.content.settings.resolution.height]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"FPS:"})," ",o.content.settings.frameRate]})]}),o.tags.length>0&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium text-sm",children:"Tags:"}),t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:o.tags.map((e,s)=>t.jsx(v.C,{variant:"outline",className:"text-xs",children:e},s))})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[t.jsx(l.z,{variant:"outline",onClick:s,children:"Cancelar"}),(0,t.jsxs)(l.z,{onClick:()=>{a({...o,isCustom:!0,updatedAt:new Date,...e?{}:{id:`template-${Date.now()}`,createdAt:new Date,author:"Usu\xe1rio Atual",version:"1.0.0",downloads:0,rating:0,isFavorite:!1,metadata:{difficulty:"beginner",estimatedDuration:60,targetAudience:["General"],learningObjectives:[],prerequisites:[],language:"pt-BR",accessibility:{screenReader:!0,highContrast:!1,keyboardNavigation:!0,closedCaptions:!1,audioDescription:!1,signLanguage:!1},compliance:{nrCategories:[o.category],requirements:[],certifications:[],lastAudit:new Date,status:"compliant",auditScore:100},performance:{renderTime:0,fileSize:0,complexity:"medium",optimization:85},compatibility:{browsers:["Chrome","Firefox","Safari","Edge"],devices:["Desktop","Mobile","Tablet"],resolutions:["1920x1080","1280x720","3840x2160"],formats:["mp4","webm"]},usage:{views:0,downloads:0,likes:0,shares:0,lastUsed:new Date}}}})},className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(W.Z,{className:"w-4 h-4 mr-2"}),e?"Salvar Altera\xe7\xf5es":"Criar Template"]})]})]})})};var K=a(80305);let ee=({filter:e,onFilterChange:s,onClearFilters:a,categoryStats:r,sort:n,onSortChange:c})=>{let d=[{value:"name",label:"Nome"},{value:"createdAt",label:"Data de Cria\xe7\xe3o"},{value:"updatedAt",label:"\xdaltima Atualiza\xe7\xe3o"},{value:"rating",label:"Avalia\xe7\xe3o"},{value:"downloads",label:"Downloads"},{value:"usage",label:"Uso"}],o=d.map(e=>e.value),m=["asc","desc"],h=e=>o.includes(e),u=e=>m.includes(e),p=(a,t)=>{let r=e.category||[];s({category:t?[...r,a]:r.filter(e=>e!==a)})},j=(a,t)=>{let r=e.tags||[];s({tags:t?[...r,a]:r.filter(e=>e!==a)})};return(0,t.jsxs)(i.Zb,{className:"mb-6",children:[t.jsx(i.Ol,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(i.ll,{className:"text-lg flex items-center",children:[t.jsx(x.Z,{className:"w-5 h-5 mr-2"}),"Filtros"]}),(e.category&&e.category.length>0||e.tags&&e.tags.length>0||e.author||e.rating||void 0!==e.isFavorite||void 0!==e.isCustom)&&(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:a,children:[t.jsx(J.Z,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]})]})}),(0,t.jsxs)(i.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Categorias NR"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:["NR-01","NR-02","NR-03","NR-04","NR-05","NR-06","NR-07","NR-08","NR-09","NR-10","NR-11","NR-12","NR-13","NR-14","NR-15","NR-16","NR-17","NR-18","NR-19","NR-20","NR-21","NR-22","NR-23","NR-24","NR-25","NR-26","NR-27","NR-28","NR-29","NR-30","NR-31","NR-32","NR-33","NR-34","NR-35","NR-36","NR-37","CUSTOM"].map(s=>{let a=r[s]||0;return 0===a?null:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(K.X,{id:`category-${s}`,checked:e.category?.includes(s)||!1,onCheckedChange:e=>p(s,!0===e)}),(0,t.jsxs)("label",{htmlFor:`category-${s}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[s," (",a,")"]})]},s)})})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Tags Populares"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["Seguran\xe7a","Treinamento","EPI","Procedimento","Emerg\xeancia","Preven\xe7\xe3o","Inspe\xe7\xe3o","Manuten\xe7\xe3o","Opera\xe7\xe3o","Compliance","Auditoria","Certifica\xe7\xe3o"].map(s=>t.jsx(v.C,{variant:e.tags?.includes(s)?"default":"outline",className:"cursor-pointer hover:bg-blue-100",onClick:()=>j(s,!e.tags?.includes(s)),children:s},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Avalia\xe7\xe3o M\xednima: ",e.rating||0," estrelas"]}),t.jsx(X.i,{value:[e.rating||0],onValueChange:e=>{s({rating:e[0]})},max:5,min:0,step:.5,className:"w-full"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Tipo"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(K.X,{id:"favorites",checked:!0===e.isFavorite,onCheckedChange:e=>s({isFavorite:!0===e||void 0})}),t.jsx("label",{htmlFor:"favorites",className:"text-sm cursor-pointer",children:"Apenas Favoritos"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(K.X,{id:"custom",checked:!0===e.isCustom,onCheckedChange:e=>s({isCustom:!0===e||void 0})}),t.jsx("label",{htmlFor:"custom",className:"text-sm cursor-pointer",children:"Apenas Personalizados"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ordenar Por"}),(0,t.jsxs)(Y.Ph,{value:n.field,onValueChange:e=>{h(e)&&c({field:e,direction:n.direction})},children:[t.jsx(Y.i4,{children:t.jsx(Y.ki,{placeholder:"Selecione..."})}),t.jsx(Y.Bw,{children:d.map(e=>t.jsx(Y.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ordem"}),(0,t.jsxs)(Y.Ph,{value:n.direction,onValueChange:e=>{u(e)&&c({field:n.field,direction:e})},children:[t.jsx(Y.i4,{children:t.jsx(Y.ki,{placeholder:"Selecione..."})}),(0,t.jsxs)(Y.Bw,{children:[t.jsx(Y.Ql,{value:"asc",children:"Crescente"}),t.jsx(Y.Ql,{value:"desc",children:"Decrescente"})]})]})]})]}),(e.category&&e.category.length>0||e.tags&&e.tags.length>0||e.author||e.rating||void 0!==e.isFavorite||void 0!==e.isCustom)&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Filtros Ativos"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.category?.map(e=>t.jsxs(v.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,t.jsx(J.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>p(e,!1)})]},e)),e.tags?.map(e=>t.jsxs(v.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,t.jsx(J.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>j(e,!1)})]},e)),e.rating&&(0,t.jsxs)(v.C,{variant:"secondary",className:"flex items-center gap-1",children:["â‰¥ ",e.rating," estrelas",t.jsx(J.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>s({rating:void 0})})]}),e.isFavorite&&(0,t.jsxs)(v.C,{variant:"secondary",className:"flex items-center gap-1",children:["Favoritos",t.jsx(J.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>s({isFavorite:void 0})})]}),e.isCustom&&(0,t.jsxs)(v.C,{variant:"secondary",className:"flex items-center gap-1",children:["Personalizados",t.jsx(J.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>s({isCustom:void 0})})]})]})]})]})]})};var es=a(30370),ea=a(1817),et=a(36335);let er=(0,a(62881).Z)("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);var ei=a(40900),el=a(54014),en=a(41291);let ec=({mode:e,template:s,onClose:a,onImport:n,onExport:d})=>{let[m,x]=(0,r.useState)("import"===e?"file":"json"),[h,u]=(0,r.useState)(""),[p,j]=(0,r.useState)("json"),[g,N]=(0,r.useState)(0),[f,y]=(0,r.useState)("idle"),[w,k]=(0,r.useState)(""),[C,Z]=(0,r.useState)([]),R=(0,r.useRef)(null),S=[{id:"json",name:"JSON",description:"Formato padr\xe3o do sistema",icon:et.Z},{id:"xml",name:"XML",description:"Formato XML estruturado",icon:er},{id:"zip",name:"ZIP Package",description:"Pacote completo com assets",icon:ei.Z},{id:"url",name:"Share URL",description:"Link para compartilhamento",icon:el.Z}],_=e=>{try{let s=JSON.parse(e),a=Array.isArray(s)?s:[s],t=0,r=setInterval(()=>{t+=20,N(t),t>=100&&(clearInterval(r),T(a))},200)}catch(e){y("error"),k("JSON inv\xe1lido")}},z=e=>{y("error"),k("Importa\xe7\xe3o XML ainda n\xe3o implementada")},M=e=>{y("error"),k("Importa\xe7\xe3o ZIP ainda n\xe3o implementada")},T=e=>{let s=e.map((e,s)=>{let a=[],t=[];return e.name||a.push("Nome \xe9 obrigat\xf3rio"),e.category||a.push("Categoria \xe9 obrigat\xf3ria"),e.content||a.push("Conte\xfado \xe9 obrigat\xf3rio"),e.content&&!e.content.slides&&t.push("Nenhum slide encontrado"),{index:s,template:e,valid:0===a.length,errors:a,warnings:t}});Z(s);let a=s.filter(e=>e.valid).map(e=>e.template);a.length>0?(y("success"),k(`${a.length} template(s) importado(s) com sucesso`),n?.(a)):(y("error"),k("Nenhum template v\xe1lido encontrado"))},F=()=>{if(!s&&"url"!==p){y("error"),k("Nenhum template selecionado");return}y("processing"),N(0);let e=setInterval(()=>{N(s=>{let a=s+25;return a>=100&&(clearInterval(e),A()),a})},300)},A=()=>{let e;let a="";switch(p){case"json":e=JSON.stringify(s,null,2),a=`${s?.name||"template"}.json`;break;case"xml":e=E(s),a=`${s?.name||"template"}.xml`;break;case"zip":e=V(s),a=`${s?.name||"template"}.zip`;break;case"url":e=I(s),a="share-url.txt"}"url"===p?(navigator.clipboard.writeText(e),y("success"),k("URL copiada para a \xe1rea de transfer\xeancia")):(D(e,a),y("success"),k("Template exportado com sucesso")),d?.(p,e)},E=e=>`<?xml version="1.0" encoding="UTF-8"?>
<template>
  <name>${e?.name||""}</name>
  <description>${e?.description||""}</description>
  <category>${e?.category||""}</category>
</template>`,V=e=>JSON.stringify({template:e,assets:[],metadata:{exportedAt:new Date().toISOString(),version:"1.0.0"}},null,2),I=e=>{let s=btoa(JSON.stringify(e));return`${window.location.origin}/templates/shared?data=${s}`},D=(e,s)=>{let a=new Blob([e],{type:"application/octet-stream"}),t=URL.createObjectURL(a),r=document.createElement("a");r.href=t,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)};return t.jsx(P.Vq,{open:!0,onOpenChange:a,children:(0,t.jsxs)(P.cZ,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[t.jsx(P.fK,{children:t.jsx(P.$N,{className:"flex items-center gap-2",children:"import"===e?(0,t.jsxs)(t.Fragment,{children:[t.jsx(o.Z,{className:"w-5 h-5"}),"Importar Templates"]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(b.Z,{className:"w-5 h-5"}),"Exportar Template"]})})}),"import"===e?(0,t.jsxs)(c.mQ,{value:m,onValueChange:x,className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-2",children:[t.jsx(c.SP,{value:"file",children:"Arquivo"}),t.jsx(c.SP,{value:"text",children:"Texto"})]}),t.jsx(c.nU,{value:"file",className:"space-y-4",children:(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-base",children:"Upload de Arquivo"})}),t.jsx(i.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[t.jsx(o.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),t.jsx("p",{className:"text-lg font-medium mb-2",children:"Arraste um arquivo ou clique para selecionar"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Formatos suportados: JSON, XML, ZIP"}),t.jsx(l.z,{onClick:()=>R.current?.click(),children:"Selecionar Arquivo"}),t.jsx("input",{ref:R,type:"file",accept:".json,.xml,.zip",onChange:e=>{let s=e.target.files?.[0];if(!s)return;y("processing"),N(0);let a=new FileReader;a.onload=e=>{try{let a=e.target?.result;if("application/json"===s.type||s.name.endsWith(".json"))_(a);else if(s.name.endsWith(".xml"))z(a);else if(s.name.endsWith(".zip"))M(s);else throw Error("Formato de arquivo n\xe3o suportado")}catch(e){y("error"),k(`Erro ao processar arquivo: ${e instanceof Error?e.message:"Erro desconhecido"}`)}},a.onerror=()=>{y("error"),k("Erro ao ler o arquivo")},s.name.endsWith(".zip")?a.readAsArrayBuffer(s):a.readAsText(s)},className:"hidden"})]})})]})}),t.jsx(c.nU,{value:"text",className:"space-y-4",children:(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-base",children:"Importar via Texto"})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(B._,{htmlFor:"import-data",children:"Cole o JSON do template:"}),t.jsx(L.g,{id:"import-data",value:h,onChange:e=>u(e.target.value),placeholder:"Cole aqui o conte\xfado JSON do template...",rows:10,className:"font-mono text-sm"})]}),(0,t.jsxs)(l.z,{onClick:()=>{if(!h.trim()){y("error"),k("Cole o conte\xfado do template");return}_(h)},className:"w-full",children:[t.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Importar Template"]})]})]})})]}):(0,t.jsxs)(c.mQ,{value:m,onValueChange:x,className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[t.jsx(c.SP,{value:"json",children:"JSON"}),t.jsx(c.SP,{value:"xml",children:"XML"}),t.jsx(c.SP,{value:"zip",children:"ZIP"}),t.jsx(c.SP,{value:"share",children:"Compartilhar"})]}),S.map(e=>t.jsx(c.nU,{value:e.id,className:"space-y-4",children:(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"text-base flex items-center gap-2",children:[t.jsx(e.icon,{className:"w-5 h-5"}),"Exportar como ",e.name]})}),(0,t.jsxs)(i.aY,{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-gray-600",children:e.description}),s&&(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Template Selecionado:"}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Nome:"})," ",s.name]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Categoria:"})," ",s.category]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Slides:"})," ",s.content.slides.length]})]})]}),(0,t.jsxs)(l.z,{onClick:()=>{j(e.id),F()},className:"w-full",children:[t.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Exportar ",e.name]})]})]})},e.id))]}),"processing"===f&&t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[t.jsx("span",{children:"Processando..."}),(0,t.jsxs)("span",{children:[g,"%"]})]}),t.jsx(es.E,{value:g,className:"w-full"})]})})}),w&&(0,t.jsxs)(ea.bZ,{className:"error"===f?"border-red-200 bg-red-50":"success"===f?"border-green-200 bg-green-50":"",children:["error"===f?t.jsx(en.Z,{className:"h-4 w-4 text-red-600"}):"success"===f?t.jsx(q.Z,{className:"h-4 w-4 text-green-600"}):null,t.jsx(ea.X,{className:"error"===f?"text-red-800":"success"===f?"text-green-800":"",children:w})]}),C.length>0&&(0,t.jsxs)(i.Zb,{children:[t.jsx(i.Ol,{children:t.jsx(i.ll,{className:"text-base",children:"Resultados da Valida\xe7\xe3o"})}),t.jsx(i.aY,{children:t.jsx("div",{className:"space-y-3",children:C.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"font-medium",children:["Template ",s+1,": ",e.template.name||"Sem nome"]}),t.jsx(v.C,{variant:e.valid?"default":"destructive",children:e.valid?"V\xe1lido":"Inv\xe1lido"})]}),e.errors.length>0&&(0,t.jsxs)("div",{className:"text-sm text-red-600 space-y-1",children:[t.jsx("div",{className:"font-medium",children:"Erros:"}),e.errors.map((e,s)=>(0,t.jsxs)("div",{className:"ml-2",children:["â€¢ ",e]},s))]}),e.warnings.length>0&&(0,t.jsxs)("div",{className:"text-sm text-yellow-600 space-y-1 mt-2",children:[t.jsx("div",{className:"font-medium",children:"Avisos:"}),e.warnings.map((e,s)=>(0,t.jsxs)("div",{className:"ml-2",children:["â€¢ ",e]},s))]})]},s))})})]}),t.jsx("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:t.jsx(l.z,{variant:"outline",onClick:a,children:"Fechar"})})]})})};var ed=a(35047),eo=a(87007),em=a(5198);let ex=({className:e})=>{let{templates:s,filteredTemplates:a,favorites:v,isLoading:N,error:f,filter:y,sort:b,setFilter:w,setSort:k,clearFilters:C,searchTemplates:Z,toggleFavorite:R,createTemplate:S,updateTemplate:_,deleteTemplate:z,duplicateTemplate:P,exportTemplate:q,importTemplate:M,getTemplateStats:T}=(0,g.z)(),[F,A]=(0,r.useState)("grid"),[E,V]=(0,r.useState)(!1),[I,D]=(0,r.useState)(!1),[O,U]=(0,r.useState)(!1),[$,X]=(0,r.useState)(null),[L,Y]=(0,r.useState)(""),[B,J]=(0,r.useState)(null),[H,W]=(0,r.useState)(!1),K=(0,ed.useRouter)(),es=(0,eo.eI)(),{toast:ea}=(0,em.pm)(),et=s.filter(e=>e.isCustom),er=T(),ei=async e=>{try{W(!0);let{data:{user:s}}=await es.auth.getUser();if(!s){ea({title:"Authentication required",description:"Please login to create a project",variant:"destructive"});return}let{data:a,error:t}=await es.from("projects").insert({name:`${e.name}`,type:"template-nr",user_id:s.id,status:"draft",thumbnail_url:e.thumbnail,render_settings:{template_id:e.id,template_data:e}}).select().single();if(t)throw t;ea({title:"Project created",description:"Redirecting to editor..."}),K.push(`/editor/timeline/${a.id}`)}catch(e){console.error("Failed to create project:",e),ea({title:"Error",description:"Failed to create project from template",variant:"destructive"})}finally{W(!1)}},el=e=>{Y(e),Z(e)},en=e=>{J(e),V(!0)},ex=e=>{J(e),D(!0)},eu=async e=>{try{await P(e.id)}catch(e){console.error("Failed to duplicate template:",e)}},ep=async e=>{if(window.confirm(`Tem certeza que deseja excluir o template "${e.name}"?`))try{await z(e.id)}catch(e){console.error("Failed to delete template:",e)}},ej=e=>{J(e),X("export")};return N?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f?(0,t.jsxs)("div",{className:"text-center text-red-600 p-4",children:[(0,t.jsxs)("p",{children:["Erro ao carregar templates: ",f]}),t.jsx(l.z,{onClick:()=>window.location.reload(),className:"mt-2",children:"Tentar Novamente"})]}):(0,t.jsxs)("div",{className:`space-y-6 ${e}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Templates"}),t.jsx("p",{className:"text-gray-600",children:"Gerencie e organize seus templates de v\xeddeo"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(l.z,{onClick:()=>{J(null),D(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[t.jsx(d.Z,{className:"w-4 h-4 mr-2"}),"Novo Template"]}),(0,t.jsxs)(l.z,{variant:"outline",onClick:()=>X("import"),children:[t.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Importar/Exportar"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[t.jsx(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),t.jsx(n.I,{placeholder:"Buscar templates...",value:L,onChange:e=>el(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(l.z,{variant:"outline",onClick:()=>U(!O),className:O?"bg-blue-50 border-blue-200":"",children:[t.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Filtros"]}),(0,t.jsxs)("div",{className:"flex items-center border rounded-lg",children:[t.jsx(l.z,{variant:"grid"===F?"default":"ghost",size:"sm",onClick:()=>A("grid"),className:"rounded-r-none",children:t.jsx(h.Z,{className:"w-4 h-4"})}),t.jsx(l.z,{variant:"list"===F?"default":"ghost",size:"sm",onClick:()=>A("list"),className:"rounded-l-none",children:t.jsx(u.Z,{className:"w-4 h-4"})})]})]}),O&&t.jsx(ee,{filter:y,onFilterChange:w,onClearFilters:C,categoryStats:er.byCategory,sort:b,onSortChange:k}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total de Templates"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(h.Z,{className:"w-6 h-6 text-blue-600"})})]})})}),t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Favoritos"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.length})]}),t.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:t.jsx(p.Z,{className:"w-6 h-6 text-red-600"})})]})})}),t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Personalizados"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:et.length})]}),t.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:t.jsx(j.Z,{className:"w-6 h-6 text-green-600"})})]})})}),t.jsx(i.Zb,{children:t.jsx(i.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Filtrados"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),t.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:t.jsx(x.Z,{className:"w-6 h-6 text-purple-600"})})]})})})]}),(0,t.jsxs)(c.mQ,{defaultValue:"all",className:"w-full",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(c.SP,{value:"all",children:["Todos (",s.length,")"]}),(0,t.jsxs)(c.SP,{value:"favorites",children:["Favoritos (",v.length,")"]}),(0,t.jsxs)(c.SP,{value:"custom",children:["Personalizados (",et.length,")"]}),t.jsx(c.SP,{value:"recent",children:"Recentes"})]}),t.jsx(c.nU,{value:"all",className:"mt-6",children:t.jsx(eh,{templates:a,viewMode:F,onSelect:en,onEdit:ex,onDuplicate:eu,onDelete:ep,onExport:ej,onToggleFavorite:R})}),t.jsx(c.nU,{value:"favorites",className:"mt-6",children:t.jsx(eh,{templates:v,viewMode:F,onSelect:en,onEdit:ex,onDuplicate:eu,onDelete:ep,onExport:ej,onToggleFavorite:R})}),t.jsx(c.nU,{value:"custom",className:"mt-6",children:t.jsx(eh,{templates:et,viewMode:F,onSelect:en,onEdit:ex,onDuplicate:eu,onDelete:ep,onExport:ej,onToggleFavorite:R})}),t.jsx(c.nU,{value:"recent",className:"mt-6",children:t.jsx(eh,{templates:s.slice().sort((e,s)=>new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime()).slice(0,20),viewMode:F,onSelect:en,onEdit:ex,onDuplicate:eu,onDelete:ep,onExport:ej,onToggleFavorite:R})})]}),E&&B&&t.jsx(Q,{template:B,onClose:()=>V(!1),onEdit:()=>{V(!1),D(!0)},onUse:()=>ei(B)}),I&&t.jsx(G,{template:B,onClose:()=>D(!1),onSave:async e=>{try{B?await _(B.id,e):await S(e),D(!1)}catch(e){console.error("Failed to save template:",e)}}}),$&&t.jsx(ec,{mode:$,template:"export"===$&&B||void 0,onClose:()=>X(null),onImport:async e=>{for(let s of e)await S(s);X(null)},onExport:(e,s)=>{console.log("Exporting",e,s)}})]})},eh=({templates:e,viewMode:s,onSelect:a,onEdit:r,onDuplicate:i,onDelete:l,onExport:n,onToggleFavorite:c})=>0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:t.jsx(h.Z,{className:"w-8 h-8 text-gray-400"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum template encontrado"}),t.jsx("p",{className:"text-gray-600",children:"Tente ajustar os filtros ou criar um novo template."})]}):t.jsx("div",{className:"grid"===s?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:e.map(e=>t.jsx(z,{template:e,viewMode:s,onSelect:()=>a(e),onEdit:()=>r(e),onDuplicate:()=>i(e),onDelete:()=>l(e),onExport:()=>n(e),onFavorite:()=>c(e.id)},e.id))});function eu(){return t.jsx("div",{className:"p-6",children:t.jsx(ex,{})})}},40900:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},37358:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41291:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},69669:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},43810:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},15919:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},36335:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]])},41137:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},54014:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},924:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},67427:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},18019:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},29389:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},71059:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},31215:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6309:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]])},10976:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]])},69508:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},21608:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},33734:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},98091:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},69145:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},15128:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},6848:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\dashboard\templates\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[8948,7362,6999,266,7131,3539,9874,4715,2741],()=>a(6672));module.exports=t})();
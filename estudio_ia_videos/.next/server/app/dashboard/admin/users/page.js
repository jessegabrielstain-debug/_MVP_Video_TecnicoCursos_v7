(()=>{var e={};e.id=9598,e.ids=[9598,3936],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},65285:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.Z,__next_app__:()=>c,originalPathname:()=>l,pages:()=>d,routeModule:()=>p,tree:()=>u}),t(26327),t(13321),t(14118),t(26083),t(81754);var s=t(23191),i=t(88716),o=t(48001),n=t(95231),a={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>n[e]);t.d(r,a);let u=["",{children:["dashboard",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26327)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\admin\\users\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],d=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\admin\\users\\page.tsx"],l="/dashboard/admin/users/page",c={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/admin/users/page",pathname:"/dashboard/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},35303:()=>{},26327:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,dynamic:()=>o});var s=t(19510);t(71159);var i=t(86047);let o="force-dynamic";async function n(){let e=await fetch("/api/admin/users");return e.ok?(await e.json()).users:[]}async function a(){if(!(0,i.BT)({id:"u1",roles:["admin"]},"users.read"))return s.jsx("div",{className:"p-6 text-sm",children:"Acesso negado."});let e=await n();return(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Administra\xe7\xe3o de Usu\xe1rios"}),(0,s.jsxs)("table",{className:"text-sm w-full border-collapse",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2",children:"ID"}),s.jsx("th",{className:"text-left py-2",children:"Pap\xe9is"})]})}),s.jsx("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b",children:[s.jsx("td",{className:"py-1",children:e.id}),s.jsx("td",{className:"py-1",children:e.roles.join(", ")})]},e.id))})]})]})}},86047:(e,r,t)=>{"use strict";t.d(r,{tA:()=>d,mE:()=>l,BT:()=>u});let s={enableAdvancedAnalytics:!1,enableVideoPreview:!1,enableBetaEditor:!1};function i(e,r=process.env){let t=r[e];if(t){if(["1","true","on","yes"].includes(t.toLowerCase()))return!0;if(["0","false","off","no"].includes(t.toLowerCase()))return!1}}let o=function(e=process.env){return{enableAdvancedAnalytics:i("FLAG_ENABLE_ADVANCED_ANALYTICS",e)??s.enableAdvancedAnalytics,enableVideoPreview:i("FLAG_ENABLE_VIDEO_PREVIEW",e)??s.enableVideoPreview,enableBetaEditor:i("FLAG_ENABLE_BETA_EDITOR",e)??s.enableBetaEditor}}();var n=t(13936);let a={admin:["users.read","users.write","roles.read","roles.write","videos.read","videos.render","admin.dashboard"],editor:["users.read","videos.read","videos.render"],viewer:["users.read","videos.read"]};function u(e,r){if(o.enableAdvancedAnalytics&&"admin.dashboard"===r){var t;if(t="editor",e.roles.includes(t))return!0}return(function(e){let r=new Set;for(let t of e.roles)for(let e of a[t]||[])r.add(e);return r})(e).has(r)}function d(e,r){if(!u(e,r)){let e=Error(`Permiss\xe3o negada: ${r}`);throw e.code="RBAC_DENIED",e}}async function l(e,r,t){let s=e.roles.includes(r)?e:{...e,roles:[...e.roles,r]};try{let s=n.p;await s.from("analytics_events").insert({user_id:t,event_type:"rbac_role_assigned",event_data:{targetUserId:e.id,role:r,previousRoles:e.roles}})}catch(e){console.error("[RBAC] Falha ao auditar assignRole:",e.message)}return s}},13936:(e,r,t)=>{"use strict";t.d(r,{e:()=>n,getSupabaseForRequest:()=>u,p:()=>a});var s=t(67721),i=t(61657),o=t(71615);let n=()=>{let e=(0,o.cookies)();return(0,s.createServerClient)("https://ofhzrdiadxigrvmrhaiz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maHpyZGlhZHhpZ3J2bXJoYWl6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3MTE3NjEsImV4cCI6MjA3NTI4Nzc2MX0.u-F5m9lvYc1lx9aA-MoTZqCAa83QHGVk8uTh-_KPfCQ",{cookies:{get:r=>e.get(r)?.value,set(r,t,s){try{e.set({name:r,value:t,...s})}catch(e){}},remove(r,t){try{e.set({name:r,value:"",...t})}catch(e){}}}})},a=(0,i.eI)("https://ofhzrdiadxigrvmrhaiz.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}});function u(e){let r=e.headers.get("authorization")||e.headers.get("Authorization");return r?(0,i.eI)("https://ofhzrdiadxigrvmrhaiz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maHpyZGlhZHhpZ3J2bXJoYWl6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3MTE3NjEsImV4cCI6MjA3NTI4Nzc2MX0.u-F5m9lvYc1lx9aA-MoTZqCAa83QHGVk8uTh-_KPfCQ",{global:{headers:{Authorization:r}},auth:{persistSession:!1,autoRefreshToken:!1}}):n()}},79925:e=>{"use strict";var r=Object.defineProperty,t=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o={};function n(e){var r;let t=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),s=`${e.name}=${encodeURIComponent(null!=(r=e.value)?r:"")}`;return 0===t.length?s:`${s}; ${t.join("; ")}`}function a(e){let r=new Map;for(let t of e.split(/; */)){if(!t)continue;let e=t.indexOf("=");if(-1===e){r.set(t,"true");continue}let[s,i]=[t.slice(0,e),t.slice(e+1)];try{r.set(s,decodeURIComponent(null!=i?i:"true"))}catch{}}return r}function u(e){var r,t;if(!e)return;let[[s,i],...o]=a(e),{domain:n,expires:u,httponly:c,maxage:p,path:h,samesite:m,secure:f,partitioned:x,priority:_}=Object.fromEntries(o.map(([e,r])=>[e.toLowerCase(),r]));return function(e){let r={};for(let t in e)e[t]&&(r[t]=e[t]);return r}({name:s,value:decodeURIComponent(i),domain:n,...u&&{expires:new Date(u)},...c&&{httpOnly:!0},..."string"==typeof p&&{maxAge:Number(p)},path:h,...m&&{sameSite:d.includes(r=(r=m).toLowerCase())?r:void 0},...f&&{secure:!0},..._&&{priority:l.includes(t=(t=_).toLowerCase())?t:void 0},...x&&{partitioned:!0}})}((e,t)=>{for(var s in t)r(e,s,{get:t[s],enumerable:!0})})(o,{RequestCookies:()=>c,ResponseCookies:()=>p,parseCookie:()=>a,parseSetCookie:()=>u,stringifyCookie:()=>n}),e.exports=((e,o,n,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let n of s(o))i.call(e,n)||void 0===n||r(e,n,{get:()=>o[n],enumerable:!(a=t(o,n))||a.enumerable});return e})(r({},"__esModule",{value:!0}),o);var d=["strict","lax","none"],l=["low","medium","high"],c=class{constructor(e){this._parsed=new Map,this._headers=e;let r=e.get("cookie");if(r)for(let[e,t]of a(r))this._parsed.set(e,{name:e,value:t})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let r="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(r)}getAll(...e){var r;let t=Array.from(this._parsed);if(!e.length)return t.map(([e,r])=>r);let s="string"==typeof e[0]?e[0]:null==(r=e[0])?void 0:r.name;return t.filter(([e])=>e===s).map(([e,r])=>r)}has(e){return this._parsed.has(e)}set(...e){let[r,t]=1===e.length?[e[0].name,e[0].value]:e,s=this._parsed;return s.set(r,{name:r,value:t}),this._headers.set("cookie",Array.from(s).map(([e,r])=>n(r)).join("; ")),this}delete(e){let r=this._parsed,t=Array.isArray(e)?e.map(e=>r.delete(e)):r.delete(e);return this._headers.set("cookie",Array.from(r).map(([e,r])=>n(r)).join("; ")),t}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},p=class{constructor(e){var r,t,s;this._parsed=new Map,this._headers=e;let i=null!=(s=null!=(t=null==(r=e.getSetCookie)?void 0:r.call(e))?t:e.get("set-cookie"))?s:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var r,t,s,i,o,n=[],a=0;function u(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(r=a,o=!1;u();)if(","===(t=e.charAt(a))){for(s=a,a+=1,u(),i=a;a<e.length&&"="!==(t=e.charAt(a))&&";"!==t&&","!==t;)a+=1;a<e.length&&"="===e.charAt(a)?(o=!0,a=i,n.push(e.substring(r,s)),r=a):a=s+1}else a+=1;(!o||a>=e.length)&&n.push(e.substring(r,e.length))}return n}(i)){let r=u(e);r&&this._parsed.set(r.name,r)}}get(...e){let r="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(r)}getAll(...e){var r;let t=Array.from(this._parsed.values());if(!e.length)return t;let s="string"==typeof e[0]?e[0]:null==(r=e[0])?void 0:r.name;return t.filter(e=>e.name===s)}has(e){return this._parsed.has(e)}set(...e){let[r,t,s]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(r,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:r,value:t,...s})),function(e,r){for(let[,t]of(r.delete("set-cookie"),e)){let e=n(t);r.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[r,t,s]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:r,path:t,domain:s,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(n).join("; ")}}},92044:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{RequestCookies:function(){return s.RequestCookies},ResponseCookies:function(){return s.ResponseCookies},stringifyCookie:function(){return s.stringifyCookie}});let s=t(79925)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,1657,7362,9702,6999,3539,9874,4715],()=>t(65285));module.exports=s})();
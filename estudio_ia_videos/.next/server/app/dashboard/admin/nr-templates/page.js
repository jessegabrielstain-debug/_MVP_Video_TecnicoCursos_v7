(()=>{var e={};e.id=6449,e.ids=[6449],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},83030:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>l}),r(64081),r(13321),r(14118),r(26083),r(81754);var s=r(23191),a=r(88716),i=r(48001),o=r(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let l=["",{children:["dashboard",{children:["admin",{children:["nr-templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64081)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\admin\\nr-templates\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13321)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],d=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\admin\\nr-templates\\page.tsx"],c="/dashboard/admin/nr-templates/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/admin/nr-templates/page",pathname:"/dashboard/admin/nr-templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},43501:(e,t,r)=>{Promise.resolve().then(r.bind(r,19917))},62329:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var s=r(10326);r(17577);var a=r(79360),i=r(47405);let o=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...r}){return s.jsx("div",{className:(0,i.cn)(o({variant:t}),e),...r})}},63617:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});var s=r(10326),a=r(17577),i=r(47405);let o=a.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));o.displayName="Textarea"},19917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var s=r(10326),a=r(17577),i=r(82610),o=r(64070),n=r(70293),l=r(63617),d=r(83431),c=r(62329),u=r(57446),p=r(93095),m=r(48051),x=r(98958),h=r(82561),f=r(34214),g="AlertDialog",[j,v]=(0,p.b)(g,[x.p8]),y=(0,x.p8)(),_=e=>{let{__scopeAlertDialog:t,...r}=e,a=y(t);return(0,s.jsx)(x.fC,{...a,...r,modal:!0})};_.displayName=g,a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,i=y(r);return(0,s.jsx)(x.xz,{...i,...a,ref:t})}).displayName="AlertDialogTrigger";var b=e=>{let{__scopeAlertDialog:t,...r}=e,a=y(t);return(0,s.jsx)(x.h_,{...a,...r})};b.displayName="AlertDialogPortal";var N=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,i=y(r);return(0,s.jsx)(x.aV,{...i,...a,ref:t})});N.displayName="AlertDialogOverlay";var q="AlertDialogContent",[w,C]=j(q),k=(0,f.sA)("AlertDialogContent"),P=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:i,...o}=e,n=y(r),l=a.useRef(null),d=(0,m.e)(t,l),c=a.useRef(null);return(0,s.jsx)(x.jm,{contentName:q,titleName:V,docsSlug:"alert-dialog",children:(0,s.jsx)(w,{scope:r,cancelRef:c,children:(0,s.jsxs)(x.VY,{role:"alertdialog",...n,...o,ref:d,onOpenAutoFocus:(0,h.Mj)(o.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,s.jsx)(k,{children:i}),(0,s.jsx)(S,{contentRef:l})]})})})});P.displayName=q;var V="AlertDialogTitle",A=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,i=y(r);return(0,s.jsx)(x.Dx,{...i,...a,ref:t})});A.displayName=V;var D="AlertDialogDescription",E=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,i=y(r);return(0,s.jsx)(x.dk,{...i,...a,ref:t})});E.displayName=D;var R=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,i=y(r);return(0,s.jsx)(x.x8,{...i,...a,ref:t})});R.displayName="AlertDialogAction";var T="AlertDialogCancel",z=a.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...a}=e,{cancelRef:i}=C(T,r),o=y(r),n=(0,m.e)(t,i);return(0,s.jsx)(x.x8,{...o,...a,ref:n})});z.displayName=T;var S=({contentRef:e})=>{let t=`\`${q}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${q}\` by passing a \`${D}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${q}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},M=r(47405);let O=a.forwardRef(({className:e,...t},r)=>s.jsx(N,{className:(0,M.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));O.displayName=N.displayName;let F=a.forwardRef(({className:e,...t},r)=>(0,s.jsxs)(b,{children:[s.jsx(O,{}),s.jsx(P,{ref:r,className:(0,M.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));F.displayName=P.displayName;let Z=({className:e,...t})=>s.jsx("div",{className:(0,M.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});Z.displayName="AlertDialogHeader";let I=({className:e,...t})=>s.jsx("div",{className:(0,M.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});I.displayName="AlertDialogFooter";let $=a.forwardRef(({className:e,...t},r)=>s.jsx(A,{ref:r,className:(0,M.cn)("text-lg font-semibold",e),...t}));$.displayName=A.displayName;let J=a.forwardRef(({className:e,...t},r)=>s.jsx(E,{ref:r,className:(0,M.cn)("text-sm text-muted-foreground",e),...t}));J.displayName=E.displayName;let B=a.forwardRef(({className:e,...t},r)=>s.jsx(R,{ref:r,className:(0,M.cn)((0,i.d)(),e),...t}));B.displayName=R.displayName;let G=a.forwardRef(({className:e,...t},r)=>s.jsx(z,{ref:r,className:(0,M.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));G.displayName=z.displayName;var H=r(6343),Y=r(83855),K=r(88307);let L=(0,r(62881).Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var X=r(98091);function Q(){let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[l,p]=(0,a.useState)(""),[m,x]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[v,y]=(0,a.useState)(!1);async function b(){try{x(!0);let e=await fetch("/api/nr-templates");if(!e.ok)throw Error("Falha ao carregar templates");let r=await e.json();t(r),n(r)}catch(e){console.error("Erro ao carregar templates:",e),alert("Erro ao carregar templates. Verifique o console.")}finally{x(!1)}}async function N(e){try{let t={nr_number:e.get("nr_number"),title:e.get("title"),description:e.get("description"),slide_count:parseInt(e.get("slide_count")),duration_seconds:parseInt(e.get("duration_seconds")),template_config:JSON.parse(e.get("template_config")||"{}")};if(!(await fetch("/api/nr-templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Falha ao criar template");y(!1),b()}catch(e){console.error("Erro ao criar template:",e),alert("Erro ao criar template. Verifique o console.")}}async function q(e){if(h)try{let t={id:h.id,title:e.get("title"),description:e.get("description"),slide_count:parseInt(e.get("slide_count")),duration_seconds:parseInt(e.get("duration_seconds")),template_config:JSON.parse(e.get("template_config")||"{}")};if(!(await fetch("/api/nr-templates",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Falha ao atualizar template");f(null),b()}catch(e){console.error("Erro ao atualizar template:",e),alert("Erro ao atualizar template. Verifique o console.")}}async function w(){if(g)try{if(!(await fetch(`/api/nr-templates?id=${g.id}`,{method:"DELETE"})).ok)throw Error("Falha ao deletar template");j(null),b()}catch(e){console.error("Erro ao deletar template:",e),alert("Erro ao deletar template. Verifique o console.")}}return m?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(H.Z,{className:"w-12 h-12 animate-pulse mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Carregando templates..."})]})}):(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Templates de NRs"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Gerenciar templates de Normas Regulamentadoras"})]}),(0,s.jsxs)(u.Vq,{open:v,onOpenChange:y,children:[s.jsx(u.hg,{asChild:!0,children:(0,s.jsxs)(i.z,{children:[s.jsx(Y.Z,{className:"w-4 h-4 mr-2"}),"Novo Template"]})}),(0,s.jsxs)(u.cZ,{className:"max-w-2xl",children:[(0,s.jsxs)(u.fK,{children:[s.jsx(u.$N,{children:"Criar Novo Template"}),s.jsx(u.Be,{children:"Preencha os dados do novo template de NR"})]}),s.jsx(U,{onSubmit:N})]})]})]}),s.jsx("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(K.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(o.I,{placeholder:"Buscar por NR, t\xedtulo ou descri\xe7\xe3o...",value:l,onChange:e=>p(e.target.value),className:"pl-10"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,s.jsxs)(d.Zb,{children:[(0,s.jsxs)(d.Ol,{children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[s.jsx(c.C,{variant:"outline",children:e.nr_number}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>f(e),children:s.jsx(L,{className:"w-4 h-4"})}),s.jsx(i.z,{variant:"ghost",size:"sm",onClick:()=>j(e),children:s.jsx(X.Z,{className:"w-4 h-4 text-red-600"})})]})]}),s.jsx(d.ll,{className:"text-lg mt-2",children:e.title}),s.jsx(d.SZ,{className:"line-clamp-2",children:e.description||"Sem descri\xe7\xe3o"})]}),s.jsx(d.aY,{children:(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:[e.slide_count," slides"]}),(0,s.jsxs)("span",{children:[Math.floor(e.duration_seconds/60),"min"]})]})})]},e.id))}),0===r.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(H.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum template encontrado"})]}),h&&s.jsx(u.Vq,{open:!!h,onOpenChange:()=>f(null),children:(0,s.jsxs)(u.cZ,{className:"max-w-2xl",children:[(0,s.jsxs)(u.fK,{children:[s.jsx(u.$N,{children:"Editar Template"}),(0,s.jsxs)(u.Be,{children:["Atualize os dados do template ",h.nr_number]})]}),s.jsx(U,{template:h,onSubmit:q})]})}),g&&s.jsx(_,{open:!!g,onOpenChange:()=>j(null),children:(0,s.jsxs)(F,{children:[(0,s.jsxs)(Z,{children:[s.jsx($,{children:"Confirmar Exclus\xe3o"}),(0,s.jsxs)(J,{children:["Tem certeza que deseja deletar o template ",s.jsx("strong",{children:g.nr_number}),"? Esta a\xe7\xe3o n\xe3o pode ser desfeita."]})]}),(0,s.jsxs)(I,{children:[s.jsx(G,{children:"Cancelar"}),s.jsx(B,{onClick:w,className:"bg-red-600",children:"Deletar"})]})]})})]})}function U({template:e,onSubmit:t}){return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(new FormData(e.currentTarget))},className:"space-y-4",children:[!e&&(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"nr_number",children:"N\xfamero da NR *"}),s.jsx(o.I,{id:"nr_number",name:"nr_number",placeholder:"NR-01",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"title",children:"T\xedtulo *"}),s.jsx(o.I,{id:"title",name:"title",defaultValue:e?.title,placeholder:"Nome da Norma Regulamentadora",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"description",children:"Descri\xe7\xe3o"}),s.jsx(l.g,{id:"description",name:"description",defaultValue:e?.description||"",placeholder:"Descri\xe7\xe3o detalhada da NR...",rows:3})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"slide_count",children:"Slides *"}),s.jsx(o.I,{id:"slide_count",name:"slide_count",type:"number",defaultValue:e?.slide_count||5,min:"1",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"duration_seconds",children:"Dura\xe7\xe3o (segundos) *"}),s.jsx(o.I,{id:"duration_seconds",name:"duration_seconds",type:"number",defaultValue:e?.duration_seconds||300,min:"1",required:!0})]})]}),(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"template_config",children:"Configura\xe7\xe3o (JSON)"}),s.jsx(l.g,{id:"template_config",name:"template_config",defaultValue:JSON.stringify(e?.template_config||{},null,2),placeholder:'{"themeColor": "#1e3a8a", "avatarEnabled": true}',rows:6,className:"font-mono text-sm"})]}),s.jsx("div",{className:"flex justify-end gap-2",children:s.jsx(i.z,{type:"submit",children:e?"Atualizar":"Criar"})})]})}},6343:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},98091:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},64081:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\dashboard\admin\nr-templates\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,7362,6999,3539,9874,4715],()=>r(83030));module.exports=s})();
(()=>{var e={};e.id=3171,e.ids=[3171],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},47896:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>l,routeModule:()=>x,tree:()=>n}),t(20103),t(13321),t(14118),t(26083),t(81754);var r=t(23191),i=t(88716),a=t(48001),o=t(95231),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);let n=["",{children:["dashboard",{children:["admin",{children:["queues",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,20103)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\admin\\queues\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],l=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\admin\\queues\\page.tsx"],c="/dashboard/admin/queues/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/admin/queues/page",pathname:"/dashboard/admin/queues",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},31288:(e,s,t)=>{Promise.resolve().then(t.bind(t,94077))},62329:(e,s,t)=>{"use strict";t.d(s,{C:()=>d});var r=t(10326);t(17577);var i=t(79360),a=t(47405);let o=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,...t}){return r.jsx("div",{className:(0,a.cn)(o({variant:s}),e),...t})}},94077:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(10326),i=t(17577),a=t(83431),o=t(62329),d=t(55009),n=t(21405),l=t(48998),c=t(30361),u=t(69669),x=t(71059);function p(){let[e,s]=(0,i.useState)(null),[t,o]=(0,i.useState)(!0),[p,h]=(0,i.useState)(null),j=async()=>{try{o(!0);let e=await fetch("/api/queues");if(!e.ok)throw Error("Failed to fetch queue data");let t=await e.json();s(t),h(null)}catch(e){h(e instanceof Error?e.message:"Unknown error")}finally{o(!1)}};return t&&!e?r.jsx("div",{className:"flex items-center justify-center h-96",children:r.jsx(n.Z,{className:"animate-spin h-8 w-8"})}):p?r.jsx("div",{className:"flex items-center justify-center h-96",children:(0,r.jsxs)("p",{className:"text-red-500",children:["Erro: ",p]})}):e?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Fila de Renderiza\xe7\xe3o"}),r.jsx("p",{className:"text-muted-foreground",children:"Monitore jobs de renderiza\xe7\xe3o de v\xeddeo"})]}),(0,r.jsxs)("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:[r.jsx(n.Z,{className:t?"animate-spin":"",size:16}),"Atualizar"]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Aguardando"}),r.jsx(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(a.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:e.stats.waiting})})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Ativo"}),r.jsx(n.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(a.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:e.stats.active})})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Conclu\xeddo"}),r.jsx(c.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(a.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:e.stats.completed})})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Falhou"}),r.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(a.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:e.stats.failed})})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(a.ll,{className:"text-sm font-medium",children:"Atrasado"}),r.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(a.aY,{children:r.jsx("div",{className:"text-2xl font-bold",children:e.stats.delayed})})]})]}),(0,r.jsxs)(d.mQ,{defaultValue:"active",className:"space-y-4",children:[(0,r.jsxs)(d.dr,{children:[(0,r.jsxs)(d.SP,{value:"active",children:["Ativos (",e.stats.active,")"]}),(0,r.jsxs)(d.SP,{value:"waiting",children:["Aguardando (",e.stats.waiting,")"]}),(0,r.jsxs)(d.SP,{value:"completed",children:["Conclu\xeddos (",e.stats.completed,")"]}),(0,r.jsxs)(d.SP,{value:"failed",children:["Falhos (",e.stats.failed,")"]})]}),r.jsx(d.nU,{value:"active",className:"space-y-4",children:r.jsx(m,{jobs:e.jobs.active,type:"active"})}),r.jsx(d.nU,{value:"waiting",className:"space-y-4",children:r.jsx(m,{jobs:e.jobs.waiting,type:"waiting"})}),r.jsx(d.nU,{value:"completed",className:"space-y-4",children:r.jsx(m,{jobs:e.jobs.completed,type:"completed"})}),r.jsx(d.nU,{value:"failed",className:"space-y-4",children:r.jsx(m,{jobs:e.jobs.failed,type:"failed"})})]})]}):null}function m({jobs:e,type:s}){return 0===e.length?r.jsx(a.Zb,{children:(0,r.jsxs)(a.aY,{className:"pt-6 text-center text-muted-foreground",children:["Nenhum job ","waiting"===s?"aguardando":"active"===s?"ativo":"completed"===s?"conclu\xeddo":"falho"]})}):r.jsx("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(a.ll,{className:"text-base",children:e.name||"Render Job"}),r.jsx(o.C,{variant:"failed"===s?"destructive":"completed"===s?"default":"secondary",children:s})]}),(0,r.jsxs)(a.SZ,{children:["ID: ",e.id]})]}),(0,r.jsxs)(a.aY,{className:"space-y-2",children:[e.progress>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{children:"Progresso"}),(0,r.jsxs)("span",{children:[e.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${e.progress}%`}})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Tentativas:"})," ",e.attemptsMade]}),e.timestamp&&(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Criado:"})," ",new Date(e.timestamp).toLocaleString("pt-BR")]}),e.processedOn&&(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Processado:"})," ",new Date(e.processedOn).toLocaleString("pt-BR")]}),e.finishedOn&&(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Finalizado:"})," ",new Date(e.finishedOn).toLocaleString("pt-BR")]})]}),e.failedReason&&(0,r.jsxs)("div",{className:"mt-2 p-2 bg-destructive/10 rounded text-sm text-destructive",children:[r.jsx("strong",{children:"Erro:"})," ",e.failedReason]}),e.data&&(0,r.jsxs)("details",{className:"mt-2",children:[r.jsx("summary",{className:"cursor-pointer text-sm text-muted-foreground",children:"Dados do Job"}),r.jsx("pre",{className:"mt-2 p-2 bg-muted rounded text-xs overflow-auto",children:JSON.stringify(e.data,null,2)})]})]})]},e.id))})}},69669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},71059:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},20103:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\dashboard\admin\queues\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,7362,6999,3539,9874,4715],()=>t(47896));module.exports=r})();
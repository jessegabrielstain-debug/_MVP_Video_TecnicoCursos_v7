(()=>{var e={};e.id=7083,e.ids=[7083],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},70392:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.Z,__next_app__:()=>u,originalPathname:()=>n,pages:()=>d,routeModule:()=>p,tree:()=>o}),s(85789),s(13321),s(14118),s(26083),s(81754);var r=s(23191),a=s(88716),i=s(48001),c=s(95231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);s.d(t,l);let o=["",{children:["dashboard",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,85789)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\projects\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13321)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],d=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\projects\\page.tsx"],n="/dashboard/projects/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/projects/page",pathname:"/dashboard/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},87638:(e,t,s)=>{Promise.resolve().then(s.bind(s,99943))},62329:(e,t,s)=>{"use strict";s.d(t,{C:()=>l});var r=s(10326);s(17577);var a=s(79360),i=s(47405);let c=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...s}){return r.jsx("div",{className:(0,i.cn)(c({variant:t}),e),...s})}},30370:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var r=s(10326),a=s(17577),i=s(47405);let c=a.forwardRef(({className:e,value:t,...s},a)=>r.jsx("div",{ref:a,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));c.displayName="Progress"},98268:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>p,Ph:()=>d,Ql:()=>x,i4:()=>u,ki:()=>n});var r=s(10326),a=s(17577),i=s(44875),c=s(941),l=s(32933),o=s(47405);let d=i.fC;i.ZA;let n=i.B4,u=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(i.xz,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:[t,r.jsx(i.JO,{asChild:!0,children:r.jsx(c.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let p=a.forwardRef(({className:e,children:t,position:s="popper",...a},c)=>r.jsx(i.h_,{children:r.jsx(i.VY,{ref:c,className:(0,o.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:r.jsx(i.l_,{className:(0,o.cn)("popper"===s&&"p-1",e),children:t})})}));p.displayName=i.VY.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(i.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let x=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(i.ck,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i.wU,{children:r.jsx(l.Z,{className:"h-4 w-4"})})}),r.jsx(i.eT,{children:t})]}));x.displayName=i.ck.displayName,a.forwardRef(({className:e,...t},s)=>r.jsx(i.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},28766:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(10326),a=s(47405);function i({className:e,...t}){return r.jsx("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...t})}},63617:(e,t,s)=>{"use strict";s.d(t,{g:()=>c});var r=s(10326),a=s(17577),i=s(47405);let c=a.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));c.displayName="Textarea"},99943:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>V});var r=s(10326),a=s(17577),i=s(24903),c=s(82610),l=s(83431),o=s(62329),d=s(64070),n=s(70293),u=s(63617),p=s(98268),x=s(57446),m=s(7973),h=s(30370),j=s(28766),f=s(83855),g=s(28932),y=s(17069),v=s(66697),w=s(48998),b=s(24061),N=s(49758),_=s(15919),k=s(69508),C=s(43810),q=s(40900),P=s(98091),Z=s(85999),A=s(97401);let O={draft:"bg-gray-500","in-progress":"bg-blue-500",review:"bg-yellow-500",completed:"bg-green-500",archived:"bg-gray-400",error:"bg-red-500"},Q={low:"text-green-600 bg-green-100",medium:"text-yellow-600 bg-yellow-100",high:"text-red-600 bg-red-100",urgent:"text-red-700 bg-red-200"};function M(){let{projects:e,total:t,isLoading:s,error:M,createProject:V,updateProject:E,deleteProject:S,duplicateProject:z,archiveProject:F,restoreProject:T,refresh:R}=(0,i.Z0)(),[U,D]=(0,a.useState)(!1),[I,Y]=(0,a.useState)(!1),[$,B]=(0,a.useState)(null),[X,G]=(0,a.useState)({name:"",description:"",type:"pptx",metadata:{priority:"medium",tags:[],category:"general"}}),H=async()=>{try{await V(X),D(!1),G({name:"",description:"",type:"pptx",metadata:{priority:"medium",tags:[],category:"general"}}),Z.Am.success("Project created successfully")}catch(e){Z.Am.error("Failed to create project")}},J=async()=>{if($)try{await E($.id,{name:$.name,description:$.description,status:$.status}),Y(!1),Z.Am.success("Project updated successfully")}catch(e){Z.Am.error("Failed to update project")}},K=async e=>{if(confirm("Are you sure you want to delete this project?"))try{await S(e),Z.Am.success("Project deleted successfully")}catch(e){Z.Am.error("Failed to delete project")}},W=async e=>{try{await z(e),Z.Am.success("Project duplicated successfully")}catch(e){Z.Am.error("Failed to duplicate project")}},L=async e=>{try{await F(e),Z.Am.success("Project archived successfully")}catch(e){Z.Am.error("Failed to archive project")}},ee=e=>"completed"===e.status?100:"in-progress"===e.status?60:"review"===e.status?80:"draft"===e.status?20:0;return s?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx(j.O,{className:"h-8 w-48 mb-2"}),r.jsx(j.O,{className:"h-4 w-64"})]}),r.jsx(j.O,{className:"h-10 w-32"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(e=>r.jsx(j.O,{className:"h-32"},e))}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(e=>r.jsx(j.O,{className:"h-64"},e))})]}):M?r.jsx(l.Zb,{children:r.jsx(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center text-red-600",children:[r.jsx("p",{className:"font-semibold",children:"Error loading projects"}),r.jsx("p",{className:"text-sm mt-2",children:M.message}),r.jsx(c.z,{onClick:()=>R(),className:"mt-4",children:"Try Again"})]})})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Projects"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your video projects"})]}),(0,r.jsxs)(x.Vq,{open:U,onOpenChange:D,children:[r.jsx(x.hg,{asChild:!0,children:(0,r.jsxs)(c.z,{children:[r.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"New Project"]})}),(0,r.jsxs)(x.cZ,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(x.fK,{children:[r.jsx(x.$N,{children:"Create New Project"}),r.jsx(x.Be,{children:"Set up a new project with initial configuration"})]}),(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n._,{htmlFor:"project-name",children:"Project Name"}),r.jsx(d.I,{id:"project-name",value:X.name,onChange:e=>G({...X,name:e.target.value}),placeholder:"Enter project name..."})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n._,{htmlFor:"project-description",children:"Description"}),r.jsx(u.g,{id:"project-description",value:X.description,onChange:e=>G({...X,description:e.target.value}),placeholder:"Describe your project...",rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n._,{htmlFor:"project-type",children:"Type"}),(0,r.jsxs)(p.Ph,{value:X.type,onValueChange:e=>G({...X,type:e}),children:[r.jsx(p.i4,{children:r.jsx(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[r.jsx(p.Ql,{value:"pptx",children:"PPTX"}),r.jsx(p.Ql,{value:"template-nr",children:"Template NR"}),r.jsx(p.Ql,{value:"talking-photo",children:"Talking Photo"}),r.jsx(p.Ql,{value:"custom",children:"Custom"}),r.jsx(p.Ql,{value:"ai-generated",children:"AI Generated"})]})]})]})]}),(0,r.jsxs)(x.cN,{children:[r.jsx(c.z,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),r.jsx(c.z,{onClick:H,disabled:!X.name,children:"Create Project"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(l.ll,{className:"text-sm font-medium",children:"Total Projects"}),r.jsx(g.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:t||0}),(0,r.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[r.jsx(y.Z,{className:"mr-1 h-3 w-3 text-green-500"}),"All time"]})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(l.ll,{className:"text-sm font-medium",children:"Active Projects"}),r.jsx(v.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.filter(e=>"in-progress"===e.status).length}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.filter(e=>"completed"===e.status).length," completed"]})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(l.ll,{className:"text-sm font-medium",children:"Draft Projects"}),r.jsx(w.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.filter(e=>"draft"===e.status).length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Waiting to start"})]})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(l.ll,{className:"text-sm font-medium",children:"Collaborators"}),r.jsx(b.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:e.reduce((e,t)=>e+(t.collaborators?.length||0),0)}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"across all projects"})]})]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{let t=ee(e);return(0,r.jsxs)(l.Zb,{className:"group hover:shadow-md transition-shadow",children:[r.jsx(l.Ol,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[r.jsx(N.Z,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx(l.ll,{className:"text-base line-clamp-1",children:e.name}),r.jsx(l.SZ,{className:"line-clamp-2",children:e.description||"No description"})]})]}),(0,r.jsxs)(m.h_,{children:[r.jsx(m.$F,{asChild:!0,children:r.jsx(c.z,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100",children:r.jsx(_.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(m.AW,{align:"end",children:[r.jsx(m.Ju,{children:"Actions"}),(0,r.jsxs)(m.Xi,{onClick:()=>{B(e),Y(!0)},children:[r.jsx(k.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,r.jsxs)(m.Xi,{onClick:()=>W(e.id),children:[r.jsx(C.Z,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),r.jsx(m.VD,{}),(0,r.jsxs)(m.Xi,{onClick:()=>L(e.id),children:[r.jsx(q.Z,{className:"mr-2 h-4 w-4"}),"Archive"]}),(0,r.jsxs)(m.Xi,{onClick:()=>K(e.id),className:"text-red-600",children:[r.jsx(P.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx(o.C,{className:O[e.status]||"bg-gray-500",children:e.status}),r.jsx(o.C,{className:Q[e.metadata?.priority]||"text-gray-600 bg-gray-100",children:e.metadata?.priority||"medium"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Progress"}),(0,r.jsxs)("span",{children:[t,"%"]})]}),r.jsx(h.E,{value:t,className:"h-2"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(w.Z,{className:"h-3 w-3"}),r.jsx("span",{children:(0,A.Q)(new Date(e.updated_at),{addSuffix:!0})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(b.Z,{className:"h-3 w-3"}),r.jsx("span",{children:e.collaborators?.length||0})]})]})]})]},e.id)})}),0===e.length&&r.jsx(l.Zb,{children:r.jsx(l.aY,{className:"p-12",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(g.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),r.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No projects found"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Get started by creating your first project"}),(0,r.jsxs)(c.z,{className:"mt-4",onClick:()=>D(!0),children:[r.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Create Project"]})]})})}),r.jsx(x.Vq,{open:I,onOpenChange:Y,children:(0,r.jsxs)(x.cZ,{className:"sm:max-w-[500px]",children:[(0,r.jsxs)(x.fK,{children:[r.jsx(x.$N,{children:"Edit Project"}),r.jsx(x.Be,{children:"Update project details"})]}),$&&(0,r.jsxs)("div",{className:"space-y-4 py-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n._,{htmlFor:"edit-project-name",children:"Project Name"}),r.jsx(d.I,{id:"edit-project-name",value:$.name,onChange:e=>B({...$,name:e.target.value})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n._,{htmlFor:"edit-project-description",children:"Description"}),r.jsx(u.g,{id:"edit-project-description",value:$.description||"",onChange:e=>B({...$,description:e.target.value}),rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n._,{htmlFor:"edit-project-status",children:"Status"}),(0,r.jsxs)(p.Ph,{value:$.status,onValueChange:e=>B({...$,status:e}),children:[r.jsx(p.i4,{children:r.jsx(p.ki,{})}),(0,r.jsxs)(p.Bw,{children:[r.jsx(p.Ql,{value:"draft",children:"Draft"}),r.jsx(p.Ql,{value:"in-progress",children:"In Progress"}),r.jsx(p.Ql,{value:"review",children:"Review"}),r.jsx(p.Ql,{value:"completed",children:"Completed"}),r.jsx(p.Ql,{value:"archived",children:"Archived"})]})]})]})]}),(0,r.jsxs)(x.cN,{children:[r.jsx(c.z,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),r.jsx(c.z,{onClick:J,children:"Save Changes"})]})]})})]})}function V(){return r.jsx("div",{className:"p-6",children:r.jsx(M,{})})}},24903:(e,t,s)=>{"use strict";s.d(t,{Z0:()=>l});var r=s(17577),a=s(58399),i=s(87007),c=s(85999);function l(e,t){let{page:s=1,limit:l=20,realtime:d=!0}=t||{},n=e?.limit??l,[u,p]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[h,j]=(0,r.useState)(!1),[f,g]=(0,r.useState)([]),y=async()=>{let{data:{user:t}}=await i.OQ.auth.getUser();if(!t)throw Error("User not authenticated");let r=i.OQ.from("projects").select("*").eq("user_id",t.id);e?.type&&(r=r.eq("type",e.type)),e?.status&&(r=r.eq("status",e.status)),e?.search&&(r=r.or(`name.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e?.category&&(r=r.eq("metadata->>category",e.category)),e?.priority&&(r=r.eq("metadata->>priority",e.priority)),e?.dateRange&&(r=r.gte("created_at",e.dateRange.start).lte("created_at",e.dateRange.end));let a=e?.sortBy||"updated_at",c=e?.sortOrder||"desc";r=r.order(a,{ascending:"asc"===c});let l=(s-1)*n;r=r.range(l,l+n-1);let{data:o,error:d,count:u}=await r;if(d)throw d;let p=Array.isArray(o)?o:[];return e?.tags&&e.tags.length>0&&(p=p.filter(t=>{let s=t.metadata?.tags||[];return e.tags.some(e=>s.includes(e))})),{projects:p,total:u||0,page:s,limit:n,hasMore:(u||0)>s*n}},{data:v,error:w,isLoading:b,mutate:N}=(0,a.ZP)(["projects",e,s,n],y,{revalidateOnFocus:!1,revalidateOnReconnect:!0,dedupingInterval:5e3,errorRetryCount:3,errorRetryInterval:1e3}),_=(0,r.useCallback)(async e=>{p(!0);try{let{data:{user:t}}=await i.OQ.auth.getUser();if(!t)throw Error("User not authenticated");let s={tags:[],category:"general",priority:"medium",...e.metadata},{data:r,error:a}=await i.OQ.from("projects").insert({name:e.name,type:e.type,description:e.description,user_id:t.id,owner_id:t.id,status:"draft",metadata:s,current_version:"1.0.0",is_template:e.is_template||!1,is_public:e.is_public||!1,collaboration_enabled:e.collaboration_enabled||!1,render_settings:e.render_settings||{},last_accessed_at:new Date().toISOString()}).select().single();if(a)throw a;return await N(),c.Am.success("Project created successfully"),r}catch(e){throw console.error("Error creating project:",e),c.Am.error("Failed to create project"),e}finally{p(!1)}},[N]),k=(0,r.useCallback)(async(e,t)=>{m(!0);try{let{data:{user:s}}=await i.OQ.auth.getUser();if(!s)throw Error("User not authenticated");let{data:r}=await i.OQ.from("projects").select("*").eq("id",e).single();if(!r)throw Error("Project not found");let a={...r.metadata,...t.metadata},{data:l,error:d}=await i.OQ.from("projects").update({...t,metadata:a,render_settings:t.render_settings,updated_at:new Date().toISOString(),last_accessed_at:new Date().toISOString()}).eq("id",e).select().single();if(d)throw d;if(t.name||t.description||t.metadata){let t=await o(e);await i.OQ.from("projects").update({current_version:t}).eq("id",e)}return await N(),c.Am.success("Project updated successfully"),l}catch(e){throw console.error("Error updating project:",e),c.Am.error("Failed to update project"),e}finally{m(!1)}},[N]),C=(0,r.useCallback)(async e=>{j(!0);try{let{error:t}=await i.OQ.from("projects").delete().eq("id",e);if(t)throw t;await N(),c.Am.success("Project deleted successfully")}catch(e){throw console.error("Error deleting project:",e),c.Am.error("Failed to delete project"),e}finally{j(!1)}},[N]),q=(0,r.useCallback)(async(e,t)=>{try{let{data:{user:s}}=await i.OQ.auth.getUser();if(!s)throw Error("User not authenticated");let{data:r}=await i.OQ.from("projects").select("*").eq("id",e).single();if(!r)throw Error("Project not found");return await _({name:t||`${r.name} (Copy)`,type:r.type,description:r.description||void 0,metadata:r.metadata,is_template:r.is_template,is_public:!1,collaboration_enabled:r.collaboration_enabled,render_settings:r.render_settings||{}})}catch(e){throw console.error("Error duplicating project:",e),c.Am.error("Failed to duplicate project"),e}},[_]),P=(0,r.useCallback)(async e=>{await k(e,{status:"archived"})},[k]),Z=(0,r.useCallback)(async e=>{await k(e,{status:"draft"})},[k]),A=(0,r.useCallback)(async(e,t,s="viewer")=>{try{let{data:{user:r}}=await i.OQ.auth.getUser();if(!r)throw Error("User not authenticated");let{data:a}=await i.OQ.from("users").select("id").eq("email",t).single();if(!a)throw Error("User not found");let{data:l}=await i.OQ.from("projects").select("metadata").eq("id",e).single(),o=l?.metadata||{},d=o.collaborators||[];d.push({user_id:a.id,role:s,invited_by:r.id,joined_at:new Date().toISOString()});let{error:n}=await i.OQ.from("projects").update({metadata:{...o,collaborators:d}}).eq("id",e);if(n)throw n;await N(),c.Am.success("Collaborator added successfully")}catch(e){throw console.error("Error adding collaborator:",e),c.Am.error("Failed to add collaborator"),e}},[N]),O=(0,r.useCallback)(async e=>{try{let{data:t,error:s}=await i.OQ.rpc("get_project_analytics",{project_id:e});if(s)throw s;return t}catch(e){throw console.error("Error getting project analytics:",e),e}},[]);return{projects:Array.isArray(v?.projects)?v.projects:[],total:v?.total||0,hasMore:v?.hasMore||!1,isLoading:b,isCreating:u,isUpdating:x,isDeleting:h,error:w,createProject:_,updateProject:k,deleteProject:C,duplicateProject:q,archiveProject:P,restoreProject:Z,addCollaborator:A,getProjectAnalytics:O,refresh:N}}async function o(e){let t=Date.now();return`1.0.${t%1e3}`}},66697:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},40900:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]])},48998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},43810:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},15919:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},69508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},85789:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\dashboard\projects\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,7362,6999,266,3539,8148,8399,7401,9874,4715],()=>s(70392));module.exports=r})();
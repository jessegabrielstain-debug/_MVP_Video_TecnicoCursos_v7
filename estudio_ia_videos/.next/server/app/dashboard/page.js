(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={572934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},554580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},345869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},220399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},978893:e=>{"use strict";e.exports=require("buffer")},532615:e=>{"use strict";e.exports=require("http")},735240:e=>{"use strict";e.exports=require("https")},768621:e=>{"use strict";e.exports=require("punycode")},276162:e=>{"use strict";e.exports=require("stream")},917360:e=>{"use strict";e.exports=require("url")},671568:e=>{"use strict";e.exports=require("zlib")},950549:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d}),t(924170),t(800635),t(35866);var a=t(723191),r=t(88716),l=t(637922),i=t.n(l),n=t(595231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,924170)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,800635)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\dashboard\\page.tsx"],m="/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},812700:(e,s,t)=>{Promise.resolve().then(t.bind(t,259635))},259635:(e,s,t)=>{"use strict";let a;t.d(s,{DashboardLayout:()=>tO});var r={};t.r(r);var l={};t.r(l);var i=t(210326),n=t(517577),c=t(482610),d=t(483431),o=t(962329),m=t(289427),x=t(215004),h=t(862881);let u=(0,h.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var j=t(328932),p=t(782685),g=t(997622),f=t(303634),v=t(226754),y=t(906507),N=t(794893);let b=(0,h.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),w=(0,h.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);var k=t(202634),C=t(694019);let _=(0,h.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var Z=t(188378);let S=(0,h.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var P=t(388307),A=t(583855),O=t(963062),R=t(841479),F=Object.prototype.hasOwnProperty;let E=new WeakMap,T=()=>{},z=T(),D=Object,I=e=>e===z,M=e=>"function"==typeof e,Q=(e,s)=>({...e,...s}),$=e=>M(e.then),U={},q={},V="undefined"!=typeof document,L=()=>!1,Y=(e,s)=>{let t=E.get(e);return[()=>!I(s)&&e.get(s)||U,a=>{if(!I(s)){let r=e.get(s);s in q||(q[s]=r),t[5](s,Q(r,a),r||U)}},t[6],()=>!I(s)&&s in q?q[s]:!I(s)&&e.get(s)||U]},B=!0,[W,H]=[T,T],X={initFocus:e=>(V&&document.addEventListener("visibilitychange",e),W("focus",e),()=>{V&&document.removeEventListener("visibilitychange",e),H("focus",e)}),initReconnect:e=>{let s=()=>{B=!0,e()},t=()=>{B=!1};return W("online",s),W("offline",t),()=>{H("online",s),H("offline",t)}}},J=!n.useId,K=e=>L()?window.requestAnimationFrame(e):setTimeout(e,1),G=(0,n.useEffect),ee="undefined"!=typeof navigator&&navigator.connection,es=false,et=new WeakMap,ea=e=>D.prototype.toString.call(e),er=(e,s)=>e===`[object ${s}]`,el=0,ei=e=>{let s,t;let a=typeof e,r=ea(e),l=er(r,"Date"),i=er(r,"RegExp"),n=er(r,"Object");if(D(e)!==e||l||i)s=l?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(s=et.get(e))return s;if(s=++el+"~",et.set(e,s),Array.isArray(e)){for(t=0,s="@";t<e.length;t++)s+=ei(e[t])+",";et.set(e,s)}if(n){s="#";let a=D.keys(e).sort();for(;!I(t=a.pop());)I(e[t])||(s+=t+":"+ei(e[t])+",");et.set(e,s)}}return s},en=e=>{if(M(e))try{e=e()}catch(s){e=""}let s=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?ei(e):"",s]},ec=0,ed=()=>++ec;async function eo(...e){let[s,t,a,r]=e,l=Q({populateCache:!0,throwOnError:!0},"boolean"==typeof r?{revalidate:r}:r||{}),i=l.populateCache,n=l.rollbackOnError,c=l.optimisticData,d=e=>"function"==typeof n?n(e):!1!==n,o=l.throwOnError;if(M(t)){let e=[];for(let a of s.keys())!/^\$(inf|sub)\$/.test(a)&&t(s.get(a)._k)&&e.push(a);return Promise.all(e.map(m))}return m(t);async function m(t){let r;let[n]=en(t);if(!n)return;let[m,x]=Y(s,n),[h,u,j,p]=E.get(s),g=()=>{let e=h[n];return(M(l.revalidate)?l.revalidate(m().data,t):!1!==l.revalidate)&&(delete j[n],delete p[n],e&&e[0])?e[0](2).then(()=>m().data):m().data};if(e.length<3)return g();let f=a,v=!1,y=ed();u[n]=[y,0];let N=!I(c),b=m(),w=b.data,k=b._c,C=I(k)?w:k;if(N&&x({data:c=M(c)?c(C,w):c,_c:C}),M(f))try{f=f(C)}catch(e){r=e,v=!0}if(f&&$(f)){if(f=await f.catch(e=>{r=e,v=!0}),y!==u[n][0]){if(v)throw r;return f}v&&N&&d(r)&&(i=!0,x({data:C,_c:z}))}if(i&&!v&&(M(i)?x({data:i(f,C),error:z,_c:z}):x({data:f,error:z,_c:z})),u[n][1]=ed(),Promise.resolve(g()).then(()=>{x({_c:z})}),v){if(o)throw r;return}return f}}let em=(e,s)=>{for(let t in e)e[t][0]&&e[t][0](s)},ex=(e,s)=>{if(!E.has(e)){let t=Q(X,s),a=Object.create(null),r=eo.bind(z,e),l=T,i=Object.create(null),n=(e,s)=>{let t=i[e]||[];return i[e]=t,t.push(s),()=>t.splice(t.indexOf(s),1)},c=(s,t,a)=>{e.set(s,t);let r=i[s];if(r)for(let e of r)e(t,a)},d=()=>{!E.has(e)&&E.set(e,[a,Object.create(null),Object.create(null),Object.create(null),r,c,n])};return d(),[e,r,d,l]}return[e,E.get(e)[4]]},[eh,eu]=ex(new Map),ej=Q({onLoadingSlow:T,onSuccess:T,onError:T,onErrorRetry:(e,s,t,a,r)=>{let l=t.errorRetryCount,i=r.retryCount,n=~~((Math.random()+.5)*(1<<(i<8?i:8)))*t.errorRetryInterval;(I(l)||!(i>l))&&setTimeout(a,n,r)},onDiscarded:T,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:es?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:es?5e3:3e3,compare:function e(s,t){var a,r;if(s===t)return!0;if(s&&t&&(a=s.constructor)===t.constructor){if(a===Date)return s.getTime()===t.getTime();if(a===RegExp)return s.toString()===t.toString();if(a===Array){if((r=s.length)===t.length)for(;r--&&e(s[r],t[r]););return -1===r}if(!a||"object"==typeof s){for(a in r=0,s)if(F.call(s,a)&&++r&&!F.call(t,a)||!(a in t)||!e(s[a],t[a]))return!1;return Object.keys(t).length===r}}return s!=s&&t!=t},isPaused:()=>!1,cache:eh,mutate:eu,fallback:{}},{isOnline:()=>B,isVisible:()=>{let e=V&&document.visibilityState;return I(e)||"hidden"!==e}}),ep=(e,s)=>{let t=Q(e,s);if(s){let{use:a,fallback:r}=e,{use:l,fallback:i}=s;a&&l&&(t.use=a.concat(l)),r&&i&&(t.fallback=Q(r,i))}return t},eg=(0,n.createContext)({}),ef=[],ev=e=>M(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],ey=()=>{let e=(0,n.useContext)(eg);return(0,n.useMemo)(()=>Q(ej,e),[e])},eN=ef.concat(e=>(s,t,a)=>{let r=t&&((...e)=>{let[a]=en(s),[,,,r]=E.get(eh);if(a.startsWith("$inf$"))return t(...e);let l=r[a];return I(l)?t(...e):(delete r[a],l)});return e(s,r,a)}),eb=(e,s,t)=>{let a=s[e]||(s[e]=[]);return a.push(t),()=>{let e=a.indexOf(t);e>=0&&(a[e]=a[a.length-1],a.pop())}},ew=()=>{};ew(),new WeakMap;let ek=n.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(s=>{e.status="fulfilled",e.value=s},s=>{e.status="rejected",e.reason=s}),e}}),eC={dedupe:!0},e_=Promise.resolve(z);D.defineProperty(e=>{let{value:s}=e,t=(0,n.useContext)(eg),a=M(s),r=(0,n.useMemo)(()=>a?s(t):s,[a,t,s]),l=(0,n.useMemo)(()=>a?r:ep(t,r),[a,t,r]),i=r&&r.provider,c=(0,n.useRef)(z);i&&!c.current&&(c.current=ex(i(l.cache||eh),r));let d=c.current;return d&&(l.cache=d[0],l.mutate=d[1]),G(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,n.createElement)(eg.Provider,Q(e,{value:l}))},"defaultValue",{value:ej});let eZ=(a=(e,s,t)=>{let{cache:a,compare:r,suspense:l,fallbackData:i,revalidateOnMount:c,revalidateIfStale:d,refreshInterval:o,refreshWhenHidden:m,refreshWhenOffline:x,keepPreviousData:h}=t,[u,j,p,g]=E.get(a),[f,v]=en(e),y=(0,n.useRef)(!1),N=(0,n.useRef)(!1),b=(0,n.useRef)(f),w=(0,n.useRef)(s),k=(0,n.useRef)(t),C=()=>k.current,_=()=>C().isVisible()&&C().isOnline(),[Z,S,P,A]=Y(a,f),O=(0,n.useRef)({}).current,F=I(i)?I(t.fallback)?z:t.fallback[f]:i,T=(e,s)=>{for(let t in O)if("data"===t){if(!r(e[t],s[t])&&(!I(e[t])||!r(X,s[t])))return!1}else if(s[t]!==e[t])return!1;return!0},D=(0,n.useMemo)(()=>{let e=!!f&&!!s&&(I(c)?!C().isPaused()&&!l&&!1!==d:c),t=s=>{let t=Q(s);return(delete t._k,e)?{isValidating:!0,isLoading:!0,...t}:t},a=Z(),r=A(),i=t(a),n=a===r?i:t(r),o=i;return[()=>{let e=t(Z());return T(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>n]},[a,f]),U=(0,R.useSyncExternalStore)((0,n.useCallback)(e=>P(f,(s,t)=>{T(t,s)||e()}),[a,f]),D[0],D[1]),q=!y.current,V=u[f]&&u[f].length>0,L=U.data,B=I(L)?F&&$(F)?ek(F):F:L,W=U.error,H=(0,n.useRef)(B),X=h?I(L)?I(H.current)?B:H.current:L:B,K=(!V||!!I(W))&&(q&&!I(c)?c:!C().isPaused()&&(l?!I(B)&&d:I(B)||d)),ee=!!(f&&s&&q&&K),es=I(U.isValidating)?ee:U.isValidating,et=I(U.isLoading)?ee:U.isLoading,ea=(0,n.useCallback)(async e=>{let s,a;let l=w.current;if(!f||!l||N.current||C().isPaused())return!1;let i=!0,n=e||{},c=!p[f]||!n.dedupe,d=()=>J?!N.current&&f===b.current&&y.current:f===b.current,o={isValidating:!1,isLoading:!1},m=()=>{S(o)},x=()=>{let e=p[f];e&&e[1]===a&&delete p[f]},h={isValidating:!0};I(Z().data)&&(h.isLoading=!0);try{if(c&&(S(h),t.loadingTimeout&&I(Z().data)&&setTimeout(()=>{i&&d()&&C().onLoadingSlow(f,t)},t.loadingTimeout),p[f]=[l(v),ed()]),[s,a]=p[f],s=await s,c&&setTimeout(x,t.dedupingInterval),!p[f]||p[f][1]!==a)return c&&d()&&C().onDiscarded(f),!1;o.error=z;let e=j[f];if(!I(e)&&(a<=e[0]||a<=e[1]||0===e[1]))return m(),c&&d()&&C().onDiscarded(f),!1;let n=Z().data;o.data=r(n,s)?n:s,c&&d()&&C().onSuccess(s,f,t)}catch(t){x();let e=C(),{shouldRetryOnError:s}=e;!e.isPaused()&&(o.error=t,c&&d()&&(e.onError(t,f,e),(!0===s||M(s)&&s(t))&&(!C().revalidateOnFocus||!C().revalidateOnReconnect||_())&&e.onErrorRetry(t,f,e,e=>{let s=u[f];s&&s[0]&&s[0](3,e)},{retryCount:(n.retryCount||0)+1,dedupe:!0})))}return i=!1,m(),!0},[f,a]),er=(0,n.useCallback)((...e)=>eo(a,b.current,...e),[]);if(G(()=>{w.current=s,k.current=t,I(L)||(H.current=L)}),G(()=>{if(!f)return;let e=ea.bind(z,eC),s=0;C().revalidateOnFocus&&(s=Date.now()+C().focusThrottleInterval);let t=eb(f,u,(t,a={})=>{if(0==t){let t=Date.now();C().revalidateOnFocus&&t>s&&_()&&(s=t+C().focusThrottleInterval,e())}else if(1==t)C().revalidateOnReconnect&&_()&&e();else if(2==t)return ea();else if(3==t)return ea(a)});return N.current=!1,b.current=f,y.current=!0,S({_k:v}),K&&!p[f]&&(I(B),e()),()=>{N.current=!0,t()}},[f]),G(()=>{let e;function s(){let s=M(o)?o(Z().data):o;s&&-1!==e&&(e=setTimeout(t,s))}function t(){!Z().error&&(m||C().isVisible())&&(x||C().isOnline())?ea(eC).then(s):s()}return s(),()=>{e&&(clearTimeout(e),e=-1)}},[o,m,x,f]),(0,n.useDebugValue)(X),l){let e=f&&I(B);if(!J&&e)throw Error("Fallback data is required when using Suspense in SSR.");e&&(w.current=s,k.current=t,N.current=!1);let a=g[f];if(ek(!I(a)&&e?er(a):e_),!I(W)&&e)throw W;let r=e?ea(eC):e_;!I(X)&&e&&(r.status="fulfilled",r.value=!0),ek(r)}return{mutate:er,get data(){return O.data=!0,X},get error(){return O.error=!0,W},get isValidating(){return O.isValidating=!0,es},get isLoading(){return O.isLoading=!0,et}}},function(...e){let s=ey(),[t,r,l]=ev(e),i=ep(s,l),n=a,{use:c}=i,d=(c||[]).concat(eN);for(let e=d.length;e--;)n=d[e](n);return n(t,r||i.fetcher||null,i)});var eS=t(87007),eP=t(674843);async function eA(e){let{data:s}=await eS.OQ.from("project_versions").select("version_number").eq("project_id",e).order("created_at",{ascending:!1}).limit(1).single();if(!s)return"1.0.1";let[t,a,r]=s.version_number.split(".").map(Number);return`${t}.${a}.${r+1}`}var eO=t(464070),eR=t(870293),eF=t(363617),eE=t(281892),eT=t(55009),ez=t(898268),eD=t(757446),eI=t(307973),eM=t(830370),eQ=t(849758),e$=t(256562),eU=t(671709),eq=t(136283),eV=t(63685),eL=t(517069),eY=t(366697),eB=t(124061),eW=t(640900),eH=t(915919),eX=t(112714),eJ=t(769508),eK=t(143810),eG=t(56625),e0=t(331540),e1=t(898091),e2=t(48998),e4=t(733734),e3=t(280354),e6=t(454689),e5=t(797401);let e8={draft:"bg-gray-500",active:"bg-blue-500",completed:"bg-green-500",archived:"bg-yellow-500",cancelled:"bg-red-500"},e7={low:"text-green-600 bg-green-100",medium:"text-yellow-600 bg-yellow-100",high:"text-red-600 bg-red-100"},e9={video:eQ.Z,audio:e$.Z,image:eU.Z,document:eq.Z,presentation:eq.Z,other:j.Z};function se(){let{projects:e,currentProject:s,projectVersions:t,projectStats:a,isLoading:r,error:l,createProject:h,updateProject:u,deleteProject:p,duplicateProject:g,archiveProject:f,restoreProject:v,setCurrentProject:y,createVersion:N,restoreVersion:b,deleteVersion:w,addCollaborator:k,removeCollaborator:C,updatePermissions:_,exportProject:Z,importProject:S,searchProjects:O,getProjectAnalytics:R}=function(e,s){let{page:t=1,limit:a=20,realtime:r=!0}={},[l,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[o,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)([]),u=async()=>{let{data:{user:s}}=await eS.OQ.auth.getUser();if(!s)throw Error("User not authenticated");let r=eS.OQ.from("projects").select(`
        *,
        versions:project_versions(*),
        collaborators:project_collaborators(
          *,
          user:users(id, email, name)
        )
      `).eq("user_id",s.id);0&&(r=r.eq("status",e.status)),e?.search&&(r=r.or(`name.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e?.category&&(r=r.eq("metadata->>category",e.category)),e?.priority&&(r=r.eq("metadata->>priority",e.priority)),e?.dateRange&&(r=r.gte("created_at",e.dateRange.start).lte("created_at",e.dateRange.end));let l=e?.sortBy||"updated_at",i=e?.sortOrder||"desc";r=r.order(l,{ascending:"asc"===i});let n=(t-1)*a;r=r.range(n,n+a-1);let{data:c,error:d,count:o}=await r;if(d)throw d;let m=c||[];return e?.tags&&e.tags.length>0&&(m=m.filter(s=>{let t=s.metadata?.tags||[];return e.tags.some(e=>t.includes(e))})),{projects:m,total:o||0,page:t,limit:a,hasMore:(o||0)>t*a}},{data:j,error:p,isLoading:g,mutate:f}=eZ(["projects",e,t,a],u,{revalidateOnFocus:!1,revalidateOnReconnect:!0,dedupingInterval:5e3,errorRetryCount:3,errorRetryInterval:1e3}),v=(0,n.useCallback)(async e=>{i(!0);try{let{data:{user:s}}=await eS.OQ.auth.getUser();if(!s)throw Error("User not authenticated");let t={tags:[],category:"general",priority:"medium",...e.metadata},{data:a,error:r}=await eS.OQ.from("projects").insert({name:e.name,type:e.type,description:e.description,user_id:s.id,status:"draft",metadata:t,current_version:"1.0.0",is_template:e.is_template||!1,is_public:e.is_public||!1,collaboration_enabled:e.collaboration_enabled||!1,render_settings:e.render_settings||{},last_accessed_at:new Date().toISOString()}).select().single();if(r)throw r;return await eS.OQ.from("project_versions").insert({project_id:a.id,version_number:"1.0.0",name:e.name,description:"Initial version",changes_summary:"Project created",created_by:s.id,metadata:t}),await f(),eP.Am.success("Project created successfully"),a}catch(e){throw console.error("Error creating project:",e),eP.Am.error("Failed to create project"),e}finally{i(!1)}},[f]),y=(0,n.useCallback)(async(e,s)=>{d(!0);try{let{data:{user:t}}=await eS.OQ.auth.getUser();if(!t)throw Error("User not authenticated");let{data:a}=await eS.OQ.from("projects").select("*").eq("id",e).single();if(!a)throw Error("Project not found");let r={...a.metadata,...s.metadata},{data:l,error:i}=await eS.OQ.from("projects").update({...s,metadata:r,updated_at:new Date().toISOString(),last_accessed_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;if(s.name||s.description||s.metadata){let l=await eA(e);await eS.OQ.from("project_versions").insert({project_id:e,version_number:l,name:s.name||a.name,description:s.description||a.description,changes_summary:function(e,s){let t=[];return s.name&&s.name!==e.name&&t.push(`Name changed from "${e.name}" to "${s.name}"`),s.description&&s.description!==e.description&&t.push("Description updated"),s.status&&s.status!==e.status&&t.push(`Status changed to ${s.status}`),s.metadata&&t.push("Metadata updated"),t.join(", ")||"Minor updates"}(a,s),created_by:t.id,metadata:r}),await eS.OQ.from("projects").update({current_version:l}).eq("id",e)}return await f(),eP.Am.success("Project updated successfully"),l}catch(e){throw console.error("Error updating project:",e),eP.Am.error("Failed to update project"),e}finally{d(!1)}},[f]),N=(0,n.useCallback)(async e=>{m(!0);try{let{error:s}=await eS.OQ.from("projects").delete().eq("id",e);if(s)throw s;await f(),eP.Am.success("Project deleted successfully")}catch(e){throw console.error("Error deleting project:",e),eP.Am.error("Failed to delete project"),e}finally{m(!1)}},[f]),b=(0,n.useCallback)(async(e,s)=>{try{let{data:{user:t}}=await eS.OQ.auth.getUser();if(!t)throw Error("User not authenticated");let{data:a}=await eS.OQ.from("projects").select("*").eq("id",e).single();if(!a)throw Error("Project not found");return await v({name:s||`${a.name} (Copy)`,type:a.type,description:a.description,metadata:a.metadata,is_template:a.is_template,is_public:!1,collaboration_enabled:a.collaboration_enabled,render_settings:a.render_settings})}catch(e){throw console.error("Error duplicating project:",e),eP.Am.error("Failed to duplicate project"),e}},[v]),w=(0,n.useCallback)(async e=>{await y(e,{status:"archived"})},[y]),k=(0,n.useCallback)(async e=>{await y(e,{status:"draft"})},[y]),C=(0,n.useCallback)(async(e,s,t="viewer")=>{try{let{data:{user:a}}=await eS.OQ.auth.getUser();if(!a)throw Error("User not authenticated");let{data:r}=await eS.OQ.from("users").select("id").eq("email",s).single();if(!r)throw Error("User not found");let{error:l}=await eS.OQ.from("project_collaborators").insert({project_id:e,user_id:r.id,role:t,permissions:function(e){switch(e){case"owner":return["read","write","delete","manage_collaborators","manage_settings"];case"editor":return["read","write"];default:return["read"]}}(t),invited_by:a.id});if(l)throw l;await f(),eP.Am.success("Collaborator added successfully")}catch(e){throw console.error("Error adding collaborator:",e),eP.Am.error("Failed to add collaborator"),e}},[f]),_=(0,n.useCallback)(async e=>{try{let{data:s,error:t}=await eS.OQ.rpc("get_project_analytics",{project_id:e});if(t)throw t;return s}catch(e){throw console.error("Error getting project analytics:",e),e}},[]);return{projects:j?.projects||[],total:j?.total||0,hasMore:j?.hasMore||!1,isLoading:g,isCreating:l,isUpdating:c,isDeleting:o,error:p,createProject:v,updateProject:y,deleteProject:N,duplicateProject:b,archiveProject:w,restoreProject:k,addCollaborator:C,getProjectAnalytics:_,refresh:f}}(),[F,E]=(0,n.useState)("all"),[T,z]=(0,n.useState)(!1),[D,I]=(0,n.useState)(!1),[M,Q]=(0,n.useState)(!1),[$,U]=(0,n.useState)(!1),[q,V]=(0,n.useState)(null),[L,Y]=(0,n.useState)(""),[B,W]=(0,n.useState)("all"),[H,X]=(0,n.useState)("all"),[J,K]=(0,n.useState)("updated_at"),[G,ee]=(0,n.useState)("grid"),[es,et]=(0,n.useState)({name:"",description:"",type:"video",priority:"medium",tags:"",is_public:!1}),[ea,er]=(0,n.useState)({name:"",description:"",changes:""}),[el,ei]=(0,n.useState)({email:"",role:"viewer"}),en=async()=>{try{let e={...es,tags:es.tags.split(",").map(e=>e.trim()).filter(Boolean),metadata:{created_via:"dashboard",initial_version:"1.0.0"}};await h(e),z(!1),et({name:"",description:"",type:"video",priority:"medium",tags:"",is_public:!1}),eP.Am.success("Project created successfully")}catch(e){eP.Am.error("Failed to create project")}},ec=async()=>{if(q)try{await u(q.id,q),I(!1),eP.Am.success("Project updated successfully")}catch(e){eP.Am.error("Failed to update project")}},ed=async e=>{try{await p(e),eP.Am.success("Project deleted successfully")}catch(e){eP.Am.error("Failed to delete project")}},eo=async e=>{try{await g(e),eP.Am.success("Project duplicated successfully")}catch(e){eP.Am.error("Failed to duplicate project")}},em=async e=>{try{await f(e),eP.Am.success("Project archived successfully")}catch(e){eP.Am.error("Failed to archive project")}},ex=async()=>{if(q)try{await N(q.id,ea),Q(!1),er({name:"",description:"",changes:""}),eP.Am.success("Version created successfully")}catch(e){eP.Am.error("Failed to create version")}},eh=async()=>{if(q)try{await k(q.id,el.email,el.role),U(!1),ei({email:"",role:"viewer"}),eP.Am.success("Collaborator added successfully")}catch(e){eP.Am.error("Failed to add collaborator")}},eu=async e=>{try{await Z(e),eP.Am.success("Project exported successfully")}catch(e){eP.Am.error("Failed to export project")}},ej=(e?.filter(e=>{let s=e.name.toLowerCase().includes(L.toLowerCase())||e.description?.toLowerCase().includes(L.toLowerCase()),t="all"===B||e.status===B,a="all"===H||e.type===H,r="all"===F||"starred"===F&&e.is_starred||"recent"===F&&new Date(e.updated_at)>new Date(Date.now()-7*24*60*60*1e3)||"shared"===F&&e.collaborators?.length>0;return s&&t&&a&&r})||[]).sort((e,s)=>{switch(J){case"name":return e.name.localeCompare(s.name);case"created_at":return new Date(s.created_at).getTime()-new Date(e.created_at).getTime();case"updated_at":return new Date(s.updated_at).getTime()-new Date(e.updated_at).getTime();case"priority":let t={high:3,medium:2,low:1};return t[s.priority]-t[e.priority];default:return 0}}),ep=e=>"completed"===e.status?100:"active"===e.status?60:"draft"===e.status?20:0;return l?i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"text-center text-red-600",children:["Error loading projects: ",l.message]})})}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Project Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Create, manage, and collaborate on your video projects"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{variant:"outline",children:[i.jsx(eV.Z,{className:"mr-2 h-4 w-4"}),"Import"]}),i.jsx(eD.Vq,{open:T,onOpenChange:z,children:i.jsx(eD.hg,{asChild:!0,children:(0,i.jsxs)(c.z,{children:[i.jsx(A.Z,{className:"mr-2 h-4 w-4"}),"New Project"]})})})]})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Total Projects"}),i.jsx(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a?.total||0}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(eL.Z,{className:"mr-1 h-3 w-3 text-green-500"}),"+",a?.created_this_month||0," this month"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Active Projects"}),i.jsx(eY.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a?.active||0}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a?.completed||0," completed"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Collaborators"}),i.jsx(eB.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a?.total_collaborators||0}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"across all projects"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Storage Used"}),i.jsx(eW.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a?.storage_used||"0 GB"}),i.jsx(eM.E,{value:a?.storage_percentage||0,className:"mt-2 h-2"})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[i.jsx(eT.mQ,{value:F,onValueChange:E,className:"w-full md:w-auto",children:(0,i.jsxs)(eT.dr,{children:[i.jsx(eT.SP,{value:"all",children:"All Projects"}),i.jsx(eT.SP,{value:"starred",children:"Starred"}),i.jsx(eT.SP,{value:"recent",children:"Recent"}),i.jsx(eT.SP,{value:"shared",children:"Shared"})]})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)("div",{className:"relative",children:[i.jsx(P.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(eO.I,{placeholder:"Search projects...",value:L,onChange:e=>Y(e.target.value),className:"pl-8 w-[200px]"})]}),(0,i.jsxs)(ez.Ph,{value:B,onValueChange:W,children:[i.jsx(ez.i4,{className:"w-[120px]",children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"all",children:"All Status"}),i.jsx(ez.Ql,{value:"draft",children:"Draft"}),i.jsx(ez.Ql,{value:"active",children:"Active"}),i.jsx(ez.Ql,{value:"completed",children:"Completed"}),i.jsx(ez.Ql,{value:"archived",children:"Archived"})]})]}),(0,i.jsxs)(ez.Ph,{value:H,onValueChange:X,children:[i.jsx(ez.i4,{className:"w-[120px]",children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"all",children:"All Types"}),i.jsx(ez.Ql,{value:"video",children:"Video"}),i.jsx(ez.Ql,{value:"audio",children:"Audio"}),i.jsx(ez.Ql,{value:"image",children:"Image"}),i.jsx(ez.Ql,{value:"document",children:"Document"})]})]}),(0,i.jsxs)(ez.Ph,{value:J,onValueChange:K,children:[i.jsx(ez.i4,{className:"w-[140px]",children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"updated_at",children:"Last Updated"}),i.jsx(ez.Ql,{value:"created_at",children:"Date Created"}),i.jsx(ez.Ql,{value:"name",children:"Name"}),i.jsx(ez.Ql,{value:"priority",children:"Priority"})]})]})]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ej.map(e=>{let s=e9[e.type]||j.Z,t=ep(e);return(0,i.jsxs)(d.Zb,{className:"group hover:shadow-md transition-shadow",children:[i.jsx(d.Ol,{className:"pb-3",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(s,{className:"h-5 w-5 text-muted-foreground"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx(d.ll,{className:"text-base line-clamp-1",children:e.name}),i.jsx(d.SZ,{className:"line-clamp-2",children:e.description||"No description"})]})]}),(0,i.jsxs)(eI.h_,{children:[i.jsx(eI.$F,{asChild:!0,children:i.jsx(c.z,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100",children:i.jsx(eH.Z,{className:"h-4 w-4"})})}),(0,i.jsxs)(eI.AW,{align:"end",children:[i.jsx(eI.DropdownMenuLabel,{children:"Actions"}),(0,i.jsxs)(eI.Xi,{onClick:()=>y(e.id),children:[i.jsx(eX.Z,{className:"mr-2 h-4 w-4"}),"Open"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>{V(e),I(!0)},children:[i.jsx(eJ.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>eo(e.id),children:[i.jsx(eK.Z,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),i.jsx(eI.VD,{}),(0,i.jsxs)(eI.Xi,{onClick:()=>{V(e),Q(!0)},children:[i.jsx(eG.Z,{className:"mr-2 h-4 w-4"}),"Versions"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>{V(e),U(!0)},children:[i.jsx(eB.Z,{className:"mr-2 h-4 w-4"}),"Collaborators"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>eu(e.id),children:[i.jsx(e0.Z,{className:"mr-2 h-4 w-4"}),"Export"]}),i.jsx(eI.VD,{}),(0,i.jsxs)(eI.Xi,{onClick:()=>em(e.id),children:[i.jsx(eW.Z,{className:"mr-2 h-4 w-4"}),"Archive"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>ed(e.id),className:"text-red-600",children:[i.jsx(e1.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(o.C,{className:e8[e.status],children:e.status}),i.jsx(o.C,{className:e7[e.priority],children:e.priority})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Progress"}),(0,i.jsxs)("span",{children:[t,"%"]})]}),i.jsx(eM.E,{value:t,className:"h-2"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx(e2.Z,{className:"h-3 w-3"}),i.jsx("span",{children:(0,e5.Q)(new Date(e.updated_at),{addSuffix:!0})})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx(eB.Z,{className:"h-3 w-3"}),i.jsx("span",{children:e.collaborators?.length||0})]})]}),e.tags&&e.tags.length>0&&(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map((e,s)=>i.jsx(o.C,{variant:"outline",className:"text-xs",children:e},s)),e.tags.length>3&&(0,i.jsxs)(o.C,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex -space-x-2",children:[e.collaborators?.slice(0,3).map((e,s)=>i.jsxs(x.qE,{className:"h-6 w-6 border-2 border-background",children:[i.jsx(x.F$,{src:e.avatar}),i.jsx(x.Q5,{className:"text-xs",children:e.name?.charAt(0)||e.email?.charAt(0)})]},s)),(e.collaborators?.length||0)>3&&(0,i.jsxs)("div",{className:"h-6 w-6 rounded-full bg-muted border-2 border-background flex items-center justify-center text-xs",children:["+",(e.collaborators?.length||0)-3]})]}),i.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>{u(e.id,{is_starred:!e.is_starred})},children:e.is_starred?i.jsx(e4.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}):i.jsx(e3.Z,{className:"h-4 w-4"})})]})]})]},e.id)})}),0===ej.length&&i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-12",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(j.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No projects found"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:L||"all"!==B||"all"!==H?"Try adjusting your search or filters":"Get started by creating your first project"}),!L&&"all"===B&&"all"===H&&(0,i.jsxs)(c.z,{className:"mt-4",onClick:()=>z(!0),children:[i.jsx(A.Z,{className:"mr-2 h-4 w-4"}),"Create Project"]})]})})}),i.jsx(eD.Vq,{open:T,onOpenChange:z,children:(0,i.jsxs)(eD.cZ,{className:"sm:max-w-[500px]",children:[(0,i.jsxs)(eD.fK,{children:[i.jsx(eD.$N,{children:"Create New Project"}),i.jsx(eD.Be,{children:"Set up a new project with initial configuration"})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"project-name",children:"Project Name"}),i.jsx(eO.I,{id:"project-name",value:es.name,onChange:e=>et({...es,name:e.target.value}),placeholder:"Enter project name..."})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"project-description",children:"Description"}),i.jsx(eF.g,{id:"project-description",value:es.description,onChange:e=>et({...es,description:e.target.value}),placeholder:"Describe your project...",rows:3})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"project-type",children:"Type"}),(0,i.jsxs)(ez.Ph,{value:es.type,onValueChange:e=>et({...es,type:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"video",children:"Video"}),i.jsx(ez.Ql,{value:"audio",children:"Audio"}),i.jsx(ez.Ql,{value:"image",children:"Image"}),i.jsx(ez.Ql,{value:"document",children:"Document"}),i.jsx(ez.Ql,{value:"presentation",children:"Presentation"}),i.jsx(ez.Ql,{value:"other",children:"Other"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"project-priority",children:"Priority"}),(0,i.jsxs)(ez.Ph,{value:es.priority,onValueChange:e=>et({...es,priority:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"low",children:"Low"}),i.jsx(ez.Ql,{value:"medium",children:"Medium"}),i.jsx(ez.Ql,{value:"high",children:"High"})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"project-tags",children:"Tags"}),i.jsx(eO.I,{id:"project-tags",value:es.tags,onChange:e=>et({...es,tags:e.target.value}),placeholder:"Enter tags separated by commas..."})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(eE.r,{id:"project-public",checked:es.is_public,onCheckedChange:e=>et({...es,is_public:e})}),i.jsx(eR._,{htmlFor:"project-public",children:"Make project public"})]})]}),(0,i.jsxs)(eD.cN,{children:[i.jsx(c.z,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),i.jsx(c.z,{onClick:en,disabled:!es.name,children:"Create Project"})]})]})}),i.jsx(eD.Vq,{open:D,onOpenChange:I,children:(0,i.jsxs)(eD.cZ,{className:"sm:max-w-[500px]",children:[(0,i.jsxs)(eD.fK,{children:[i.jsx(eD.$N,{children:"Edit Project"}),i.jsx(eD.Be,{children:"Update project details and settings"})]}),q&&(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"edit-project-name",children:"Project Name"}),i.jsx(eO.I,{id:"edit-project-name",value:q.name,onChange:e=>V({...q,name:e.target.value})})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"edit-project-description",children:"Description"}),i.jsx(eF.g,{id:"edit-project-description",value:q.description||"",onChange:e=>V({...q,description:e.target.value}),rows:3})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"edit-project-status",children:"Status"}),(0,i.jsxs)(ez.Ph,{value:q.status,onValueChange:e=>V({...q,status:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"draft",children:"Draft"}),i.jsx(ez.Ql,{value:"active",children:"Active"}),i.jsx(ez.Ql,{value:"completed",children:"Completed"}),i.jsx(ez.Ql,{value:"archived",children:"Archived"}),i.jsx(ez.Ql,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"edit-project-priority",children:"Priority"}),(0,i.jsxs)(ez.Ph,{value:q.priority,onValueChange:e=>V({...q,priority:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"low",children:"Low"}),i.jsx(ez.Ql,{value:"medium",children:"Medium"}),i.jsx(ez.Ql,{value:"high",children:"High"})]})]})]})]})]}),(0,i.jsxs)(eD.cN,{children:[i.jsx(c.z,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),i.jsx(c.z,{onClick:ec,children:"Save Changes"})]})]})}),i.jsx(eD.Vq,{open:M,onOpenChange:Q,children:(0,i.jsxs)(eD.cZ,{className:"sm:max-w-[600px]",children:[(0,i.jsxs)(eD.fK,{children:[i.jsx(eD.$N,{children:"Project Versions"}),i.jsx(eD.Be,{children:"Manage project versions and restore previous states"})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:"Create New Version"}),(0,i.jsxs)(c.z,{size:"sm",onClick:ex,children:[i.jsx(A.Z,{className:"mr-2 h-4 w-4"}),"Create Version"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"version-name",children:"Version Name"}),i.jsx(eO.I,{id:"version-name",value:ea.name,onChange:e=>er({...ea,name:e.target.value}),placeholder:"v1.1.0"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"version-description",children:"Description"}),i.jsx(eO.I,{id:"version-description",value:ea.description,onChange:e=>er({...ea,description:e.target.value}),placeholder:"Bug fixes and improvements"})]})]})]}),(0,i.jsxs)("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Version History"}),i.jsx(m.x,{className:"h-[200px]",children:i.jsx("div",{className:"space-y-2",children:t?.map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e.description}),i.jsx("div",{className:"text-xs text-muted-foreground",children:e5.Q(new Date(e.created_at),{addSuffix:!0})})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(c.z,{size:"sm",variant:"outline",children:[i.jsx(e6.Z,{className:"mr-2 h-4 w-4"}),"Restore"]}),i.jsx(c.z,{size:"sm",variant:"outline",children:i.jsx(e1.Z,{className:"h-4 w-4"})})]})]},e.id))})})]})]})]})}),i.jsx(eD.Vq,{open:$,onOpenChange:U,children:(0,i.jsxs)(eD.cZ,{className:"sm:max-w-[500px]",children:[(0,i.jsxs)(eD.fK,{children:[i.jsx(eD.$N,{children:"Project Collaborators"}),i.jsx(eD.Be,{children:"Manage project access and permissions"})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:"Add Collaborator"}),(0,i.jsxs)(c.z,{size:"sm",onClick:eh,children:[i.jsx(A.Z,{className:"mr-2 h-4 w-4"}),"Add"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"collaborator-email",children:"Email"}),i.jsx(eO.I,{id:"collaborator-email",value:el.email,onChange:e=>ei({...el,email:e.target.value}),placeholder:"user@example.com"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"collaborator-role",children:"Role"}),(0,i.jsxs)(ez.Ph,{value:el.role,onValueChange:e=>ei({...el,role:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"viewer",children:"Viewer"}),i.jsx(ez.Ql,{value:"editor",children:"Editor"}),i.jsx(ez.Ql,{value:"admin",children:"Admin"})]})]})]})]})]}),(0,i.jsxs)("div",{className:"border-t pt-4",children:[i.jsx("h4",{className:"font-medium mb-4",children:"Current Collaborators"}),i.jsx("div",{className:"space-y-2",children:q?.collaborators?.map(e=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(x.qE,{className:"h-8 w-8",children:[i.jsx(x.F$,{src:e.avatar}),i.jsx(x.Q5,{children:e.name?.charAt(0)||e.email?.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.name||e.email}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e.email})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(o.C,{variant:"outline",children:e.role}),i.jsx(c.z,{size:"sm",variant:"outline",children:i.jsx(e1.Z,{className:"h-4 w-4"})})]})]},e.id))})]})]})]})})]})}function ss(e){let{url:s,autoConnect:t=!0,reconnectAttempts:a=3,reconnectInterval:r=3e3,onConnect:l,onDisconnect:i,onMessage:c,onError:d}=e,[o,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),[u,j]=(0,n.useState)(!1),[p,g]=(0,n.useState)(null),[f,v]=(0,n.useState)("disconnected");(0,n.useRef)(0);let y=(0,n.useRef)(),N=(0,n.useRef)(new Map),b=(0,n.useCallback)(()=>{},[s,a,r,l,i,c,d,o]),w=(0,n.useCallback)(()=>{y.current&&clearTimeout(y.current),o&&(o.close(),m(null),h(!1),v("disconnected"))},[o]),k=(0,n.useCallback)((e,s)=>{if(o?.readyState===WebSocket.OPEN){let t={type:e,data:s,timestamp:Date.now()};o.send(JSON.stringify(t))}},[o]);return{socket:o,isConnected:x,isConnecting:u,lastMessage:p,connectionState:f,connect:b,disconnect:w,sendMessage:k,subscribe:(0,n.useCallback)((e,s)=>(N.current.has(e)||N.current.set(e,new Set),N.current.get(e).add(s),()=>{let t=N.current.get(e);t&&(t.delete(s),0===t.size&&N.current.delete(e))}),[])}}let st=async e=>{let s=await fetch(e,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`}});if(!s.ok)throw Error(`Analytics API error: ${s.statusText}`);return s.json()};var sa=t(230660),sr=t(510669),sl=t(918423),si=t(762637),sn=t(909997),sc=t(289495),sd=t(841449),so=t(780679),sm=t(814958),sx=t(472462),sh=t(714141),su=t(397651),sj=t(999630),sp=t(49844),sg=t(542419),sf=t(321405),sv=t(29163),sy=t(193892),sN=t(471208),sb=t(188319),sw=t(255002),sk=t(345091);let sC=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function s_(){let{systemMetrics:e,userMetrics:s,renderStats:t,performanceData:a,usageData:r,isLoading:l,error:m,refreshData:x,exportData:h,timeRange:u,setTimeRange:j}=function(e={timeRange:"24h"}){(0,n.useMemo)(()=>(0,eS.eI)(),[]);let[s,t]=(0,n.useState)(null),[a,r]=(0,n.useState)(!1),[l,i]=(0,n.useState)([]);(0,n.useRef)([]);let c=new URLSearchParams({timeRange:e.timeRange,...e.projectType&&{projectType:e.projectType},...e.status&&{status:e.status},...e.userId&&{userId:e.userId}}).toString(),{data:d,error:o,mutate:m,isLoading:x}=eZ(s?`/api/analytics/system-metrics?${c}`:null,st,{refreshInterval:3e4,revalidateOnFocus:!0,errorRetryCount:3,errorRetryInterval:5e3}),{data:h,error:u,mutate:j,isLoading:p}=eZ(s?`/api/analytics/user-metrics?${c}`:null,st,{refreshInterval:6e4,revalidateOnFocus:!0,errorRetryCount:3}),{data:g,error:f,mutate:v,isLoading:y}=eZ(s?`/api/analytics/render-stats?${c}`:null,st,{refreshInterval:15e3,revalidateOnFocus:!0,errorRetryCount:3}),{isConnected:N,sendMessage:b,lastMessage:w}=ss("/api/websocket/analytics",{onOpen:()=>{console.log("\uD83D\uDCCA Analytics WebSocket connected"),r(!0),b({type:"subscribe",channel:"analytics",filters:e})},onClose:()=>{console.log("\uD83D\uDCCA Analytics WebSocket disconnected"),r(!1)},onError:e=>{console.error("\uD83D\uDCCA Analytics WebSocket error:",e),r(!1)}}),k=(0,n.useCallback)(async(e,s,t={},a)=>{try{let r=await fetch("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`},body:JSON.stringify({category:e,action:s,metadata:t,project_id:a,timestamp:new Date().toISOString()})});if(!r.ok)throw Error(`Failed to track event: ${r.statusText}`);return await r.json()}catch(e){return console.error("Error tracking analytics event:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[]),C=(0,n.useCallback)((e,s,t={})=>k("project",e,t,s),[k]),_=(0,n.useCallback)((e,s,t={})=>k("render",e,t,s),[k]),Z=(0,n.useCallback)((e,s={})=>k("user",e,s),[k]),S=(0,n.useCallback)(()=>({system:d?.data,user:h?.data,render:g?.data,realTimeEvents:l.slice(0,20),isLoading:x||p||y,hasError:!!(o||u||f),errors:{system:o,user:u,render:f}}),[d,h,g,l,x,p,y,o,u,f]),P=(0,n.useCallback)(async(e,s="json")=>{try{let t=await fetch(`/api/analytics/export?type=${e}&format=${s}&${c}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`}});if(!t.ok)throw Error(`Export failed: ${t.statusText}`);let a=await t.blob(),r=window.URL.createObjectURL(a),l=document.createElement("a");return l.href=r,l.download=`analytics-${e}-${new Date().toISOString().split("T")[0]}.${s}`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),document.body.removeChild(l),{success:!0}}catch(e){return console.error("Error exporting analytics data:",e),{success:!1,error:e instanceof Error?e.message:"Export failed"}}},[c]),A=(0,n.useCallback)(()=>{m(),j(),v()},[m,j,v]),O=(0,n.useCallback)(s=>{a&&b({type:"subscribe_events",eventTypes:s,filters:e})},[a,b,e]);return{systemMetrics:d?.data,userMetrics:h?.data,renderStats:g?.data,realTimeEvents:l,isLoading:{system:x,user:p,render:y,combined:x||p||y},errors:{system:o,user:u,render:f,combined:!!(o||u||f)},isConnected:a&&N,trackEvent:k,trackProjectEvent:C,trackRenderEvent:_,trackUserEvent:Z,refreshAll:A,exportData:P,subscribeToEvents:O,getAggregatedData:S,refreshSystemMetrics:m,refreshUserMetrics:j,refreshRenderStats:v}}(),[p,g]=(0,n.useState)("overview"),f=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),v=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][s]},y=e=>{let s=Math.floor(e/3600),t=Math.floor(e%3600/60),a=e%60;return s>0?`${s}h ${t}m ${a}s`:t>0?`${t}m ${a}s`:`${a}s`};return m?i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"text-center text-red-600",children:["Error loading analytics: ",m.message]})})}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Real-time insights into system performance, user activity, and render statistics"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(ez.Ph,{value:u,onValueChange:j,children:[i.jsx(ez.i4,{className:"w-[140px]",children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"1h",children:"Last Hour"}),i.jsx(ez.Ql,{value:"24h",children:"Last 24 Hours"}),i.jsx(ez.Ql,{value:"7d",children:"Last 7 Days"}),i.jsx(ez.Ql,{value:"30d",children:"Last 30 Days"}),i.jsx(ez.Ql,{value:"90d",children:"Last 90 Days"})]})]}),(0,i.jsxs)(c.z,{variant:"outline",onClick:x,disabled:l,children:[i.jsx(sf.Z,{className:`mr-2 h-4 w-4 ${l?"animate-spin":""}`}),"Refresh"]}),(0,i.jsxs)(c.z,{variant:"outline",onClick:h,children:[i.jsx(e0.Z,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),(0,i.jsxs)(eT.mQ,{value:p,onValueChange:g,className:"space-y-4",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-4",children:[i.jsx(eT.SP,{value:"overview",children:"Overview"}),i.jsx(eT.SP,{value:"system",children:"System"}),i.jsx(eT.SP,{value:"users",children:"Users"}),i.jsx(eT.SP,{value:"renders",children:"Renders"})]}),(0,i.jsxs)(eT.nU,{value:"overview",className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Total Users"}),i.jsx(eB.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f(s?.total_users||0)}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[s?.user_growth_rate&&s.user_growth_rate>0?i.jsx(eL.Z,{className:"mr-1 h-3 w-3 text-green-500"}):i.jsx(sv.Z,{className:"mr-1 h-3 w-3 text-red-500"}),Math.abs(s?.user_growth_rate||0).toFixed(1),"% from last period"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Active Projects"}),i.jsx(eQ.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f(e?.active_projects||0)}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(eY.Z,{className:"mr-1 h-3 w-3"}),e?.projects_created_today||0," created today"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Render Queue"}),i.jsx(e2.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t?.queue_length||0}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(e2.Z,{className:"mr-1 h-3 w-3"}),"~",y(t?.avg_wait_time||0)," avg wait"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"System Load"}),i.jsx(sy.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[(e?.cpu_usage||0).toFixed(1),"%"]}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(sN.Z,{className:"mr-1 h-3 w-3"}),"CPU Usage"]})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"System Performance"}),i.jsx(d.SZ,{children:"Real-time system metrics"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"CPU Usage"}),(0,i.jsxs)("span",{children:[(e?.cpu_usage||0).toFixed(1),"%"]})]}),i.jsx(eM.E,{value:e?.cpu_usage||0,className:"h-2"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Memory Usage"}),(0,i.jsxs)("span",{children:[(e?.memory_usage||0).toFixed(1),"%"]})]}),i.jsx(eM.E,{value:e?.memory_usage||0,className:"h-2"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Disk Usage"}),(0,i.jsxs)("span",{children:[(e?.disk_usage||0).toFixed(1),"%"]})]}),i.jsx(eM.E,{value:e?.disk_usage||0,className:"h-2"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Network I/O"}),(0,i.jsxs)("span",{children:[v(e?.network_io||0),"/s"]})]}),i.jsx(eM.E,{value:Math.min((e?.network_io||0)/1e6*100,100),className:"h-2"})]})]})})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Render Statistics"}),i.jsx(d.SZ,{children:"Current render pipeline status"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:t?.completed_today||0}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed Today"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t?.in_progress||0}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"In Progress"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t?.queue_length||0}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"In Queue"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:t?.failed_today||0}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed Today"})]})]}),(0,i.jsxs)("div",{className:"pt-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Success Rate"}),(0,i.jsxs)("span",{children:[(t?.success_rate||0).toFixed(1),"%"]})]}),i.jsx(eM.E,{value:t?.success_rate||0,className:"h-2"})]})]})})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Usage Trends"}),i.jsx(d.SZ,{children:"User activity and system usage over time"})]}),i.jsx(d.aY,{children:i.jsx(sa.h,{width:"100%",height:300,children:(0,i.jsxs)(sr.T,{data:r,children:[i.jsx(sl.q,{strokeDasharray:"3 3"}),i.jsx(si.K,{dataKey:"timestamp"}),i.jsx(sn.B,{}),i.jsx(sc.u,{}),i.jsx(sd.D,{}),i.jsx(so.uN,{type:"monotone",dataKey:"active_users",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),i.jsx(so.uN,{type:"monotone",dataKey:"renders_completed",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d"})]})})})]})]}),(0,i.jsxs)(eT.nU,{value:"system",className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"CPU Usage"}),i.jsx(sN.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[(e?.cpu_usage||0).toFixed(1),"%"]}),i.jsx(eM.E,{value:e?.cpu_usage||0,className:"mt-2 h-2"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Memory"}),i.jsx(sb.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:v(e?.memory_used||0)}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["of ",v(e?.memory_total||0)]}),i.jsx(eM.E,{value:e?.memory_usage||0,className:"mt-2 h-2"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Disk Space"}),i.jsx(sw.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:v(e?.disk_used||0)}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["of ",v(e?.disk_total||0)]}),i.jsx(eM.E,{value:e?.disk_usage||0,className:"mt-2 h-2"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Network I/O"}),i.jsx(sk.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[v(e?.network_io||0),"/s"]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:[" ",v(e?.network_out||0),"/s  ",v(e?.network_in||0),"/s"]})]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"System Performance Over Time"}),i.jsx(d.SZ,{children:"Historical system metrics"})]}),i.jsx(d.aY,{children:i.jsx(sa.h,{width:"100%",height:400,children:(0,i.jsxs)(sm.w,{data:a,children:[i.jsx(sl.q,{strokeDasharray:"3 3"}),i.jsx(si.K,{dataKey:"timestamp"}),i.jsx(sn.B,{}),i.jsx(sc.u,{}),i.jsx(sd.D,{}),i.jsx(sx.x,{type:"monotone",dataKey:"cpu_usage",stroke:"#8884d8",strokeWidth:2}),i.jsx(sx.x,{type:"monotone",dataKey:"memory_usage",stroke:"#82ca9d",strokeWidth:2}),i.jsx(sx.x,{type:"monotone",dataKey:"disk_usage",stroke:"#ffc658",strokeWidth:2})]})})})]})]}),(0,i.jsxs)(eT.nU,{value:"users",className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Total Users"}),i.jsx(eB.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f(s?.total_users||0)}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(eL.Z,{className:"mr-1 h-3 w-3 text-green-500"}),"+",s?.new_users_today||0," today"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Active Users"}),i.jsx(eY.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f(s?.active_users||0)}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:[((s?.active_users||0)/(s?.total_users||1)*100).toFixed(1),"% of total"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Avg Session"}),i.jsx(e2.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:y(s?.avg_session_duration||0)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Per user session"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Retention Rate"}),i.jsx(eL.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[(s?.retention_rate||0).toFixed(1),"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"7-day retention"})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"User Activity"}),i.jsx(d.SZ,{children:"Daily active users over time"})]}),i.jsx(d.aY,{children:i.jsx(sa.h,{width:"100%",height:300,children:(0,i.jsxs)(sr.T,{data:r,children:[i.jsx(sl.q,{strokeDasharray:"3 3"}),i.jsx(si.K,{dataKey:"timestamp"}),i.jsx(sn.B,{}),i.jsx(sc.u,{}),i.jsx(so.uN,{type:"monotone",dataKey:"active_users",stroke:"#8884d8",fill:"#8884d8"})]})})})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"User Distribution"}),i.jsx(d.SZ,{children:"Users by subscription tier"})]}),i.jsx(d.aY,{children:i.jsx(sa.h,{width:"100%",height:300,children:(0,i.jsxs)(sh.u,{children:[i.jsx(su.b,{data:s?.user_distribution||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(s?.user_distribution||[]).map((e,s)=>i.jsx(sj.b,{fill:sC[s%sC.length]},`cell-${s}`))}),i.jsx(sc.u,{})]})})})]})]})]}),(0,i.jsxs)(eT.nU,{value:"renders",className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Total Renders"}),i.jsx(eQ.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:f(t?.total_renders||0)}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["+",t?.renders_today||0," today"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(eL.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[(t?.success_rate||0).toFixed(1),"%"]}),i.jsx(eM.E,{value:t?.success_rate||0,className:"mt-2 h-2"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Avg Duration"}),i.jsx(e2.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:y(t?.avg_render_time||0)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Per render job"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Queue Length"}),i.jsx(eY.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t?.queue_length||0}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["~",y(t?.avg_wait_time||0)," wait"]})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Render Performance"}),i.jsx(d.SZ,{children:"Render completion over time"})]}),i.jsx(d.aY,{children:i.jsx(sa.h,{width:"100%",height:300,children:(0,i.jsxs)(sp.v,{data:r,children:[i.jsx(sl.q,{strokeDasharray:"3 3"}),i.jsx(si.K,{dataKey:"timestamp"}),i.jsx(sn.B,{}),i.jsx(sc.u,{}),i.jsx(sg.$,{dataKey:"renders_completed",fill:"#8884d8"})]})})})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Render Status Distribution"}),i.jsx(d.SZ,{children:"Current render job statuses"})]}),i.jsx(d.aY,{children:i.jsx(sa.h,{width:"100%",height:300,children:(0,i.jsxs)(sh.u,{children:[i.jsx(su.b,{data:t?.status_distribution||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(t?.status_distribution||[]).map((e,s)=>i.jsx(sj.b,{fill:sC[s%sC.length]},`cell-${s}`))}),i.jsx(sc.u,{})]})})})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Render Queue History"}),i.jsx(d.SZ,{children:"Recent render jobs and their status"})]}),i.jsx(d.aY,{children:i.jsx("div",{className:"space-y-4",children:t?.recent_jobs?.map((e,s)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(o.C,{className:"completed"===e.status?"bg-green-500":"failed"===e.status?"bg-red-500":"processing"===e.status?"bg-blue-500":"bg-yellow-500",children:e.status})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:e.project_title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.render_type,"  ",y(e.duration||0)]})]})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]},s))||i.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No recent render jobs"})})})]})]})]})]})}let sZ=async e=>{let s=await fetch(e,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`}});if(!s.ok)throw Error(`Notifications API error: ${s.statusText}`);return s.json()};var sS=t(16013),sP=t(18019),sA=t(630361),sO=t(341291),sR=t(469669),sF=t(579635),sE=t(940617);let sT=(0,h.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var sz=t(605932),sD=t(583495),sI=t(269145),sM=t(641137),sQ=t(732933);let s$={info:sP.Z,success:sA.Z,warning:sO.Z,error:sR.Z,system:sy.Z,user:sF.Z,render:eQ.Z,message:sE.Z},sU={info:"text-blue-500",success:"text-green-500",warning:"text-yellow-500",error:"text-red-500",system:"text-gray-500",user:"text-purple-500",render:"text-indigo-500",message:"text-cyan-500"};function sq(){let{notifications:e,unreadCount:s,preferences:t,isLoading:a,error:r,markAsRead:l,markAllAsRead:x,deleteNotification:h,deleteAllRead:u,updatePreferences:j,testNotification:p,filters:g,setFilters:f}=function(e={}){(0,n.useMemo)(()=>(0,eS.eI)(),[]);let[s,t]=(0,n.useState)(null),[a,r]=(0,n.useState)(!1),[l,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(0);(0,n.useRef)([]);let o=(0,n.useRef)(!0),m=new URLSearchParams({...e.type&&{type:e.type.join(",")},...e.category&&{category:e.category},...e.priority&&{priority:e.priority.join(",")},...e.status&&{status:e.status},...e.timeRange&&{timeRange:e.timeRange},...e.projectId&&{projectId:e.projectId},...e.limit&&{limit:e.limit.toString()},...e.offset&&{offset:e.offset.toString()}}).toString(),{data:x,error:h,mutate:u,isLoading:j}=eZ(s?`/api/notifications?${m}`:null,sZ,{refreshInterval:3e4,revalidateOnFocus:!0,errorRetryCount:3,onSuccess:e=>{e.success&&d(e.stats.unread)}}),{data:p,error:g,mutate:f,isLoading:v}=eZ(s?"/api/notifications/preferences":null,sZ,{revalidateOnFocus:!1,errorRetryCount:2}),{isConnected:y,sendMessage:N,lastMessage:b}=ss("/api/websocket/notifications",{onOpen:()=>{console.log("\uD83D\uDD14 Notifications WebSocket connected"),r(!0),s?.id&&N({type:"subscribe",channel:"notifications",userId:s.id})},onClose:()=>{console.log("\uD83D\uDD14 Notifications WebSocket disconnected"),r(!1)},onError:e=>{console.error("\uD83D\uDD14 Notifications WebSocket error:",e),r(!1)}});(0,n.useCallback)(e=>{i(s=>[e,...s.slice(0,49)]),d(e=>e+1);let s=p?.data;if(s?.in_app_notifications){let t=e.type;!1!==s.notification_types[t]&&(w(e),o.current&&"low"!==e.priority&&k(e.priority))}u()},[p,u]);let w=(0,n.useCallback)(e=>{let s={duration:"urgent"===e.priority?1e4:"high"===e.priority?6e3:4e3,action:e.actions?.[0]?{label:e.actions[0].label,onClick:()=>P(e.id,e.actions[0])}:void 0};switch(e.type){case"success":eP.Am.success(e.title,{description:e.message,...s});break;case"error":eP.Am.error(e.title,{description:e.message,...s});break;case"warning":eP.Am.warning(e.title,{description:e.message,...s});break;default:(0,eP.Am)(e.title,{description:e.message,...s})}},[]),k=(0,n.useCallback)(e=>{try{let s=new Audio;switch(s.volume=.3,e){case"urgent":s.src="/sounds/urgent-notification.mp3";break;case"high":s.src="/sounds/high-notification.mp3";break;default:s.src="/sounds/default-notification.mp3"}s.play().catch(e=>{console.warn("Could not play notification sound:",e)})}catch(e){console.warn("Notification sound not available:",e)}},[]),C=(0,n.useCallback)(async e=>{try{let s=await fetch(`/api/notifications/${e}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`}});if(!s.ok)throw Error(`Failed to mark notification as read: ${s.statusText}`);return d(e=>Math.max(0,e-1)),u(),{success:!0}}catch(e){return console.error("Error marking notification as read:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[u]),_=(0,n.useCallback)(async()=>{try{let e=await fetch("/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`}});if(!e.ok)throw Error(`Failed to mark all notifications as read: ${e.statusText}`);return d(0),u(),{success:!0}}catch(e){return console.error("Error marking all notifications as read:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[u]),Z=(0,n.useCallback)(async e=>{try{let s=await fetch(`/api/notifications/${e}/archive`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`}});if(!s.ok)throw Error(`Failed to archive notification: ${s.statusText}`);return u(),{success:!0}}catch(e){return console.error("Error archiving notification:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[u]),S=(0,n.useCallback)(async e=>{try{let s=await fetch(`/api/notifications/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`}});if(!s.ok)throw Error(`Failed to delete notification: ${s.statusText}`);return u(),{success:!0}}catch(e){return console.error("Error deleting notification:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[u]),P=(0,n.useCallback)(async(e,s)=>{try{if("link"===s.type&&s.url)window.open(s.url,"_blank");else if("button"===s.type){let t=await fetch(`/api/notifications/${e}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`},body:JSON.stringify({action:s.action})});if(!t.ok)throw Error(`Failed to execute notification action: ${t.statusText}`)}return await C(e),{success:!0}}catch(e){return console.error("Error handling notification action:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[C]),A=(0,n.useCallback)(async e=>{try{let s=await fetch("/api/notifications/preferences",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`},body:JSON.stringify(e)});if(!s.ok)throw Error(`Failed to update preferences: ${s.statusText}`);return f(),{success:!0}}catch(e){return console.error("Error updating notification preferences:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[f]),O=(0,n.useCallback)(async e=>{try{let s=await fetch("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`},body:JSON.stringify(e)});if(!s.ok)throw Error(`Failed to create notification: ${s.statusText}`);let t=await s.json();return u(),{success:!0,data:t.data}}catch(e){return console.error("Error creating notification:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}},[u]),R=(0,n.useCallback)(e=>{o.current=e},[]),F=(0,n.useCallback)(async()=>"Notification"in window&&"granted"===await Notification.requestPermission(),[]);return{notifications:x?.data||[],realTimeNotifications:l,preferences:p?.data,stats:x?.stats,unreadCount:c,isLoading:{notifications:j,preferences:v,combined:j||v},errors:{notifications:h,preferences:g,combined:!!(h||g)},isConnected:a&&y,markAsRead:C,markAllAsRead:_,archiveNotification:Z,deleteNotification:S,handleNotificationAction:P,updatePreferences:A,createNotification:O,toggleSound:R,requestPermission:F,refreshNotifications:u,refreshPreferences:f}}(),[v,N]=(0,n.useState)("all"),[b,w]=(0,n.useState)(!1),[k,C]=(0,n.useState)(""),[_,S]=(0,n.useState)("all"),[A,O]=(0,n.useState)("all"),R=e?.filter(e=>!!(("unread"!==v||!e.read)&&("read"!==v||e.read)&&(!k||e.title.toLowerCase().includes(k.toLowerCase())||e.message.toLowerCase().includes(k.toLowerCase())))&&("all"===_||e.type===_)&&("all"===A||e.priority===A))||[],F=async e=>{try{await l(e)}catch(e){eP.Am.error("Failed to mark notification as read")}},E=async()=>{try{await x(),eP.Am.success("All notifications marked as read")}catch(e){eP.Am.error("Failed to mark all notifications as read")}},T=async e=>{try{await h(e),eP.Am.success("Notification deleted")}catch(e){eP.Am.error("Failed to delete notification")}},z=async()=>{try{await u(),eP.Am.success("All read notifications deleted")}catch(e){eP.Am.error("Failed to delete read notifications")}},D=async e=>{try{await j(e),eP.Am.success("Notification preferences updated")}catch(e){eP.Am.error("Failed to update preferences")}},I=async e=>{try{await p(e),eP.Am.success("Test notification sent")}catch(e){eP.Am.error("Failed to send test notification")}},M=e=>{let s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/1e3);return a<60?"Just now":a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:a<604800?`${Math.floor(a/86400)}d ago`:t.toLocaleDateString()},Q=e=>{switch(e){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}};return r?i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"text-center text-red-600",children:["Error loading notifications: ",r.message]})})}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Notification Center"}),i.jsx("p",{className:"text-muted-foreground",children:"Stay updated with smart alerts and system notifications"})]}),s>0&&(0,i.jsxs)(o.C,{variant:"destructive",className:"ml-2",children:[s," unread"]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{variant:"outline",onClick:E,disabled:0===s,children:[i.jsx(sT,{className:"mr-2 h-4 w-4"}),"Mark All Read"]}),(0,i.jsxs)(c.z,{variant:"outline",onClick:z,children:[i.jsx(e1.Z,{className:"mr-2 h-4 w-4"}),"Clear Read"]}),(0,i.jsxs)(eD.Vq,{open:b,onOpenChange:w,children:[i.jsx(eD.hg,{asChild:!0,children:(0,i.jsxs)(c.z,{variant:"outline",children:[i.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(0,i.jsxs)(eD.cZ,{className:"sm:max-w-[500px]",children:[(0,i.jsxs)(eD.fK,{children:[i.jsx(eD.$N,{children:"Notification Preferences"}),i.jsx(eD.Be,{children:"Configure how and when you receive notifications"})]}),(0,i.jsxs)("div",{className:"space-y-6 py-4",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Email Notifications"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sz.Z,{className:"h-4 w-4"}),i.jsx(eR._,{htmlFor:"email-enabled",children:"Enable email notifications"})]}),i.jsx(eE.r,{id:"email-enabled",checked:t?.email_enabled||!1,onCheckedChange:e=>D({...t,email_enabled:e})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(eR._,{htmlFor:"email-digest",children:"Daily digest"}),i.jsx(eE.r,{id:"email-digest",checked:t?.email_digest||!1,onCheckedChange:e=>D({...t,email_digest:e})})]})]})]}),i.jsx(sS.Z,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Push Notifications"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sD.Z,{className:"h-4 w-4"}),i.jsx(eR._,{htmlFor:"push-enabled",children:"Enable push notifications"})]}),i.jsx(eE.r,{id:"push-enabled",checked:t?.push_enabled||!1,onCheckedChange:e=>D({...t,push_enabled:e})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sI.Z,{className:"h-4 w-4"}),i.jsx(eR._,{htmlFor:"sound-enabled",children:"Sound alerts"})]}),i.jsx(eE.r,{id:"sound-enabled",checked:t?.sound_enabled||!1,onCheckedChange:e=>D({...t,sound_enabled:e})})]})]})]}),i.jsx(sS.Z,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Notification Types"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(eR._,{htmlFor:"render-notifications",children:"Render completion"}),i.jsx(eE.r,{id:"render-notifications",checked:t?.render_notifications||!1,onCheckedChange:e=>D({...t,render_notifications:e})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(eR._,{htmlFor:"system-notifications",children:"System alerts"}),i.jsx(eE.r,{id:"system-notifications",checked:t?.system_notifications||!1,onCheckedChange:e=>D({...t,system_notifications:e})})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(eR._,{htmlFor:"collaboration-notifications",children:"Collaboration updates"}),i.jsx(eE.r,{id:"collaboration-notifications",checked:t?.collaboration_notifications||!1,onCheckedChange:e=>D({...t,collaboration_notifications:e})})]})]})]}),i.jsx(sS.Z,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-medium",children:"Test Notifications"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2",children:[i.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>I("info"),children:"Test Info"}),i.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>I("success"),children:"Test Success"}),i.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>I("warning"),children:"Test Warning"}),i.jsx(c.z,{size:"sm",variant:"outline",onClick:()=>I("error"),children:"Test Error"})]})]})]}),i.jsx(eD.cN,{children:i.jsx(c.z,{onClick:()=>w(!1),children:"Close"})})]})]})]})]}),i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[i.jsx(P.Z,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("input",{type:"text",placeholder:"Search notifications...",value:k,onChange:e=>C(e.target.value),className:"flex-1 bg-transparent border-none outline-none placeholder:text-muted-foreground"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sM.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,i.jsxs)(ez.Ph,{value:_,onValueChange:S,children:[i.jsx(ez.i4,{className:"w-[120px]",children:i.jsx(ez.ki,{placeholder:"Type"})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"all",children:"All Types"}),i.jsx(ez.Ql,{value:"info",children:"Info"}),i.jsx(ez.Ql,{value:"success",children:"Success"}),i.jsx(ez.Ql,{value:"warning",children:"Warning"}),i.jsx(ez.Ql,{value:"error",children:"Error"}),i.jsx(ez.Ql,{value:"system",children:"System"}),i.jsx(ez.Ql,{value:"render",children:"Render"})]})]}),(0,i.jsxs)(ez.Ph,{value:A,onValueChange:O,children:[i.jsx(ez.i4,{className:"w-[120px]",children:i.jsx(ez.ki,{placeholder:"Priority"})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"all",children:"All Priority"}),i.jsx(ez.Ql,{value:"high",children:"High"}),i.jsx(ez.Ql,{value:"medium",children:"Medium"}),i.jsx(ez.Ql,{value:"low",children:"Low"})]})]})]})]})})}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(eT.mQ,{value:v,onValueChange:N,children:(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-3",children:[(0,i.jsxs)(eT.SP,{value:"all",children:["All (",e?.length||0,")"]}),(0,i.jsxs)(eT.SP,{value:"unread",children:["Unread (",s,")"]}),(0,i.jsxs)(eT.SP,{value:"read",children:["Read (",(e?.length||0)-s,")"]})]})})}),i.jsx(d.aY,{className:"p-0",children:i.jsx(m.x,{className:"h-[600px]",children:a?i.jsx("div",{className:"space-y-4 p-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,i.jsxs)("div",{className:"flex items-start space-x-4 p-4 animate-pulse",children:[i.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),(0,i.jsxs)("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))}):0===R.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[i.jsx(y.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No notifications"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:k||"all"!==_||"all"!==A?"No notifications match your filters":"You're all caught up!"})]}):i.jsx("div",{className:"divide-y",children:R.map(e=>{let s=s$[e.type]||sP.Z,t=sU[e.type]||"text-gray-500";return(0,i.jsxs)("div",{className:`flex items-start space-x-4 p-4 hover:bg-muted/50 transition-colors ${e.read?"":"bg-blue-50/50 border-l-4 border-l-blue-500"}`,children:[i.jsx("div",{className:`flex-shrink-0 ${t}`,children:i.jsx(s,{className:"h-5 w-5"})}),i.jsx("div",{className:"flex-1 min-w-0",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("h4",{className:`text-sm font-medium ${e.read?"":"font-semibold"}`,children:e.title}),i.jsx(o.C,{className:`${Q(e.priority)} text-white text-xs`,variant:"secondary",children:e.priority}),!e.read&&i.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:e.message}),(0,i.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[i.jsx(e2.Z,{className:"h-3 w-3"}),i.jsx("span",{children:M(e.created_at)})]}),e.action_url&&i.jsx(c.z,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>window.open(e.action_url,"_blank"),children:"View Details"})]})]}),(0,i.jsxs)(eI.h_,{children:[i.jsx(eI.$F,{asChild:!0,children:i.jsx(c.z,{variant:"ghost",className:"h-8 w-8 p-0",children:i.jsx(eH.Z,{className:"h-4 w-4"})})}),(0,i.jsxs)(eI.AW,{align:"end",children:[i.jsx(eI.DropdownMenuLabel,{children:"Actions"}),e.read?(0,i.jsxs)(eI.Xi,{onClick:()=>F(e.id),children:[i.jsx(eX.Z,{className:"mr-2 h-4 w-4"}),"Mark as unread"]}):(0,i.jsxs)(eI.Xi,{onClick:()=>F(e.id),children:[i.jsx(sQ.Z,{className:"mr-2 h-4 w-4"}),"Mark as read"]}),i.jsx(eI.VD,{}),(0,i.jsxs)(eI.Xi,{onClick:()=>T(e.id),className:"text-red-600",children:[i.jsx(e1.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},e.id)})})})})]})]})}let sV={reconnectAttempts:5,reconnectInterval:3e3,heartbeatInterval:3e4,debug:!1},sL=e=>{let s=(0,n.useRef)({...sV,...e}),[t,a]=(0,n.useState)({socket:null,isConnected:!1,isConnecting:!1,isReconnecting:!1,lastMessage:null,connectionAttempts:0,error:null}),r=(0,n.useRef)(null),l=(0,n.useRef)(null),i=(0,n.useRef)(0),c=(0,n.useCallback)((e,...t)=>{s.current.debug&&console.log(`[WebSocket] ${e}`,...t)},[]),d=(0,n.useCallback)(()=>`msg_${Date.now()}_${++i.current}`,[]),o=(0,n.useCallback)(()=>{l.current&&clearInterval(l.current),s.current.heartbeatInterval&&s.current.heartbeatInterval>0&&(l.current=setInterval(()=>{if(t.socket&&t.socket.readyState===WebSocket.OPEN){let e={type:"heartbeat",data:{timestamp:Date.now()},timestamp:Date.now(),id:d()};try{t.socket.send(JSON.stringify(e)),c("Heartbeat sent")}catch(e){c("Failed to send heartbeat:",e)}}},s.current.heartbeatInterval))},[t.socket,c,d]),m=(0,n.useCallback)(()=>{l.current&&(clearInterval(l.current),l.current=null)},[]),x=(0,n.useCallback)(()=>{r.current&&clearTimeout(r.current),t.connectionAttempts<(s.current.reconnectAttempts||5)?(a(e=>({...e,isReconnecting:!0})),r.current=setTimeout(()=>{c(`Attempting to reconnect... (${t.connectionAttempts+1}/${s.current.reconnectAttempts})`),h()},s.current.reconnectInterval||3e3)):(c("Max reconnection attempts reached"),a(e=>({...e,isReconnecting:!1,error:"Failed to connect after maximum attempts"})),eP.Am.error("Conex\xe3o WebSocket perdida. Verifique sua conex\xe3o."))},[t.connectionAttempts]),h=(0,n.useCallback)(()=>{if(t.socket?.readyState===WebSocket.OPEN){c("Already connected");return}a(e=>({...e,isConnecting:!0,error:null,connectionAttempts:e.isReconnecting?e.connectionAttempts+1:0}));try{c(`Connecting to ${s.current.url}`);let e=new WebSocket(s.current.url,s.current.protocols);e.onopen=r=>{c("Connected"),a(s=>({...s,socket:e,isConnected:!0,isConnecting:!1,isReconnecting:!1,connectionAttempts:0,error:null})),o(),s.current.onOpen?.(r),t.connectionAttempts>0&&eP.Am.success("Conex\xe3o WebSocket restabelecida")},e.onmessage=e=>{try{let t=JSON.parse(e.data),r={type:t.type||"message",data:t.data||t,timestamp:t.timestamp||Date.now(),id:t.id||d()};c("Message received:",r),a(e=>({...e,lastMessage:r})),s.current.onMessage?.(r)}catch(r){c("Failed to parse message:",r);let t={type:"raw",data:e.data,timestamp:Date.now(),id:d()};a(e=>({...e,lastMessage:t})),s.current.onMessage?.(t)}},e.onerror=e=>{c("Error:",e),a(e=>({...e,error:"WebSocket error occurred",isConnecting:!1})),s.current.onError?.(e)},e.onclose=e=>{c("Connection closed:",e.code,e.reason),a(s=>({...s,socket:null,isConnected:!1,isConnecting:!1,error:1e3!==e.code?`Connection closed: ${e.reason||"Unknown reason"}`:null})),m(),s.current.onClose?.(e),1e3!==e.code&&1001!==e.code&&x()}}catch(s){let e=s instanceof Error?s.message:String(s);c("Failed to create WebSocket:",s),a(s=>({...s,isConnecting:!1,error:`Failed to connect: ${e}`}))}},[t.socket,t.connectionAttempts,o,m,x,c,d]),u=(0,n.useCallback)(()=>{c("Disconnecting..."),r.current&&(clearTimeout(r.current),r.current=null),m(),t.socket&&t.socket.close(1e3,"Client disconnected"),a(e=>({...e,socket:null,isConnected:!1,isConnecting:!1,isReconnecting:!1,connectionAttempts:0,error:null}))},[t.socket,m,c]),j=(0,n.useCallback)(e=>{if(!t.socket||t.socket.readyState!==WebSocket.OPEN)return c("Cannot send message: not connected"),!1;try{let s="string"==typeof e?e:JSON.stringify(e);return t.socket.send(s),c("Message sent:",e),!0}catch(e){return c("Failed to send message:",e),!1}},[t.socket,c]),p=(0,n.useCallback)((e,s)=>j({type:e,data:s,timestamp:Date.now(),id:d()}),[j,d]),g=(0,n.useCallback)(()=>{c("Manual reconnect requested"),u(),setTimeout(()=>h(),100)},[u,h,c]);return(0,n.useEffect)(()=>{s.current={...sV,...e}},[e]),(0,n.useEffect)(()=>()=>{r.current&&clearTimeout(r.current),m(),t.socket&&t.socket.close(1e3,"Component unmounted")},[t.socket,m]),{socket:t.socket,isConnected:t.isConnected,isConnecting:t.isConnecting,isReconnecting:t.isReconnecting,lastMessage:t.lastMessage,connectionAttempts:t.connectionAttempts,error:t.error,connect:h,disconnect:u,send:j,sendMessage:p,reconnect:g}},sY=async e=>{let s=await fetch(e);if(!s.ok)throw Error("Failed to fetch render data");return s.json()},sB=(0,h.Z)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);var sW=t(821608),sH=t(871059),sX=t(350949),sJ=t(337358);let sK={pending:e2.Z,processing:sB,completed:sA.Z,failed:sR.Z,cancelled:sW.Z,paused:sH.Z},sG={pending:"text-yellow-500 bg-yellow-100",processing:"text-blue-500 bg-blue-100",completed:"text-green-500 bg-green-100",failed:"text-red-500 bg-red-100",cancelled:"text-gray-500 bg-gray-100",paused:"text-orange-500 bg-orange-100"},s0={low:"bg-green-500",medium:"bg-yellow-500",high:"bg-red-500",urgent:"bg-purple-500"};function s1(){let{renderJobs:e,queueStats:s,systemResources:t,isLoading:a,error:r,createRenderJob:l,updateRenderJob:x,cancelRenderJob:h,retryRenderJob:u,deleteRenderJob:j,pauseQueue:p,resumeQueue:g,clearQueue:v,optimizeQueue:y,exportQueue:b,filters:w,setFilters:k}=function(){(0,n.useMemo)(()=>(0,eS.eI)(),[]);let[e,s]=(0,n.useState)(null),[t,a]=(0,n.useState)({}),[r,l]=(0,n.useState)({auto_retry:!0,max_retries:3,priority_boost:!1,quality_preset:"standard",notifications:{on_completion:!0,on_failure:!0,on_queue_position:!1},resource_limits:{max_cpu_usage:80,max_memory_usage:70,max_duration:3600}}),i=(0,n.useCallback)((e={})=>{let s=new URLSearchParams;return t.status?.length&&s.append("status",t.status.join(",")),t.type?.length&&s.append("type",t.type.join(",")),t.priority?.length&&s.append("priority",t.priority.join(",")),t.project_id&&s.append("project_id",t.project_id),t.search&&s.append("search",t.search),t.date_range&&(s.append("start_date",t.date_range.start),s.append("end_date",t.date_range.end)),Object.entries(e).forEach(([e,t])=>{null!=t&&s.append(e,String(t))}),s.toString()},[t]),{data:c,error:d,mutate:o,isLoading:m}=eZ(e?`/api/render/queue?${i()}`:null,sY,{refreshInterval:5e3,revalidateOnFocus:!0}),{data:x,error:h,mutate:u,isLoading:j}=eZ(e?`/api/render/stats?${i()}`:null,sY,{refreshInterval:3e4,revalidateOnFocus:!0}),{data:p,error:g,mutate:f}=eZ(e?"/api/render/settings":null,sY),{isConnected:v,sendMessage:y}=sL({onMessage:(0,n.useCallback)(e=>{switch(e.type){case"render_job_updated":o(),"completed"===e.data.status?r.notifications.on_completion&&eP.Am.success(`Render completed: ${e.data.id}`):"failed"===e.data.status&&r.notifications.on_failure&&eP.Am.error(`Render failed: ${e.data.error_message}`);break;case"render_queue_updated":o();break;case"render_stats_updated":u();break;case"render_progress_updated":o(),r.notifications.on_queue_position&&e.data.queue_position&&eP.Am.info(`Your render is #${e.data.queue_position} in queue`)}},[o,u,r.notifications]),channels:["render_pipeline"]}),N=(0,n.useCallback)(async e=>{try{let s=await fetch("/api/render/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to create render job");let t=await s.json();return o(),eP.Am.success("Render job created successfully"),t.data}catch(e){throw eP.Am.error("Failed to create render job"),e}},[o]),b=(0,n.useCallback)(async e=>{try{if(!(await fetch(`/api/render/jobs/${e}/cancel`,{method:"PATCH"})).ok)throw Error("Failed to cancel render job");o(),eP.Am.success("Render job cancelled")}catch(e){throw eP.Am.error("Failed to cancel render job"),e}},[o]),w=(0,n.useCallback)(async e=>{try{if(!(await fetch(`/api/render/jobs/${e}/retry`,{method:"PATCH"})).ok)throw Error("Failed to retry render job");o(),eP.Am.success("Render job queued for retry")}catch(e){throw eP.Am.error("Failed to retry render job"),e}},[o]),k=(0,n.useCallback)(async(e,s)=>{try{if(!(await fetch(`/api/render/jobs/${e}/priority`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({priority:s})})).ok)throw Error("Failed to update job priority");o(),eP.Am.success("Job priority updated")}catch(e){throw eP.Am.error("Failed to update job priority"),e}},[o]),C=(0,n.useCallback)(async e=>{try{if(!(await fetch(`/api/render/jobs/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete render job");o(),eP.Am.success("Render job deleted")}catch(e){throw eP.Am.error("Failed to delete render job"),e}},[o]),_=(0,n.useCallback)(async e=>{try{if(!(await fetch("/api/render/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to update render settings");let s={...r,...e};l(s),f(),eP.Am.success("Render settings updated")}catch(e){throw eP.Am.error("Failed to update render settings"),e}},[r,f]),Z=(0,n.useCallback)(async()=>{try{if(!(await fetch("/api/render/queue/clear-completed",{method:"DELETE"})).ok)throw Error("Failed to clear completed jobs");o(),eP.Am.success("Completed jobs cleared")}catch(e){throw eP.Am.error("Failed to clear completed jobs"),e}},[o]),S=(0,n.useCallback)(async()=>{try{if(!(await fetch("/api/render/queue/pause",{method:"PATCH"})).ok)throw Error("Failed to pause queue");o(),eP.Am.success("Render queue paused")}catch(e){throw eP.Am.error("Failed to pause queue"),e}},[o]),P=(0,n.useCallback)(async()=>{try{if(!(await fetch("/api/render/queue/resume",{method:"PATCH"})).ok)throw Error("Failed to resume queue");o(),eP.Am.success("Render queue resumed")}catch(e){throw eP.Am.error("Failed to resume queue"),e}},[o]),A=(0,n.useCallback)(e=>{if(c)return[...c.pending,...c.processing,...c.completed,...c.failed].find(s=>s.id===e)},[c]),O=(0,n.useCallback)(e=>c?[...c.pending,...c.processing,...c.completed,...c.failed].filter(s=>s.project_id===e):[],[c]);return{renderQueue:c,renderStats:x,settings:r,isLoading:m||j,isLoadingQueue:m,isLoadingStats:j,error:d||h||g,queueError:d,statsError:h,settingsError:g,isConnected:v,filters:t,setFilters:a,createRenderJob:N,cancelRenderJob:b,retryRenderJob:w,updateJobPriority:k,deleteRenderJob:C,updateSettings:_,clearCompletedJobs:Z,pauseQueue:S,resumeQueue:P,getJobById:A,getJobsByProject:O,refreshData:(0,n.useCallback)(()=>{o(),u(),f()},[o,u,f])}}(),[C,_]=(0,n.useState)("queue"),[Z,S]=(0,n.useState)(!1),[A,O]=(0,n.useState)(!1),[R,F]=(0,n.useState)(""),[E,T]=(0,n.useState)("all"),[z,D]=(0,n.useState)("all"),[I,M]=(0,n.useState)({project_id:"",render_type:"video",quality_preset:"high",priority:"medium",settings:{}}),Q=e?.filter(e=>{let s=e.project_title?.toLowerCase().includes(R.toLowerCase())||e.id.toLowerCase().includes(R.toLowerCase()),t="all"===E||e.status===E,a="all"===z||e.priority===z;return s&&t&&a})||[],$=async()=>{try{await l(I),S(!1),M({project_id:"",render_type:"video",quality_preset:"high",priority:"medium",settings:{}}),eP.Am.success("Render job created successfully")}catch(e){eP.Am.error("Failed to create render job")}},U=async e=>{try{await h(e),eP.Am.success("Render job cancelled")}catch(e){eP.Am.error("Failed to cancel render job")}},q=async e=>{try{await u(e),eP.Am.success("Render job restarted")}catch(e){eP.Am.error("Failed to retry render job")}},V=async e=>{try{await j(e),eP.Am.success("Render job deleted")}catch(e){eP.Am.error("Failed to delete render job")}},L=async()=>{try{await p(),eP.Am.success("Render queue paused")}catch(e){eP.Am.error("Failed to pause queue")}},Y=async()=>{try{await g(),eP.Am.success("Render queue resumed")}catch(e){eP.Am.error("Failed to resume queue")}},B=async()=>{try{await y(),eP.Am.success("Queue optimized successfully")}catch(e){eP.Am.error("Failed to optimize queue")}},W=async()=>{try{await v(),eP.Am.success("Queue cleared successfully")}catch(e){eP.Am.error("Failed to clear queue")}},H=e=>{let s=Math.floor(e/3600),t=Math.floor(e%3600/60),a=e%60;return s>0?`${s}h ${t}m ${a}s`:t>0?`${t}m ${a}s`:`${a}s`},X=e=>e.estimated_duration?H(e.estimated_duration):"Calculating...";return r?i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"text-center text-red-600",children:["Error loading render pipeline: ",r.message]})})}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Render Pipeline"}),i.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage video rendering with real-time queue optimization"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(c.z,{variant:"outline",onClick:s?.is_paused?Y:L,children:s?.is_paused?(0,i.jsxs)(i.Fragment,{children:[i.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Resume Queue"]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(sH.Z,{className:"mr-2 h-4 w-4"}),"Pause Queue"]})}),(0,i.jsxs)(c.z,{variant:"outline",onClick:B,children:[i.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Optimize"]}),(0,i.jsxs)(eD.Vq,{open:Z,onOpenChange:S,children:[i.jsx(eD.hg,{asChild:!0,children:(0,i.jsxs)(c.z,{children:[i.jsx(eV.Z,{className:"mr-2 h-4 w-4"}),"New Render Job"]})}),(0,i.jsxs)(eD.cZ,{className:"sm:max-w-[425px]",children:[(0,i.jsxs)(eD.fK,{children:[i.jsx(eD.$N,{children:"Create Render Job"}),i.jsx(eD.Be,{children:"Add a new video render job to the queue"})]}),(0,i.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[i.jsx(eR._,{htmlFor:"project-id",children:"Project ID"}),i.jsx(eO.I,{id:"project-id",value:I.project_id,onChange:e=>M({...I,project_id:e.target.value}),placeholder:"Enter project ID"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[i.jsx(eR._,{htmlFor:"render-type",children:"Render Type"}),(0,i.jsxs)(ez.Ph,{value:I.render_type,onValueChange:e=>M({...I,render_type:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"video",children:"Video"}),i.jsx(ez.Ql,{value:"audio",children:"Audio"}),i.jsx(ez.Ql,{value:"preview",children:"Preview"}),i.jsx(ez.Ql,{value:"thumbnail",children:"Thumbnail"})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[i.jsx(eR._,{htmlFor:"quality",children:"Quality"}),(0,i.jsxs)(ez.Ph,{value:I.quality_preset,onValueChange:e=>M({...I,quality_preset:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"low",children:"Low"}),i.jsx(ez.Ql,{value:"medium",children:"Medium"}),i.jsx(ez.Ql,{value:"high",children:"High"}),i.jsx(ez.Ql,{value:"ultra",children:"Ultra"})]})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[i.jsx(eR._,{htmlFor:"priority",children:"Priority"}),(0,i.jsxs)(ez.Ph,{value:I.priority,onValueChange:e=>M({...I,priority:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"low",children:"Low"}),i.jsx(ez.Ql,{value:"medium",children:"Medium"}),i.jsx(ez.Ql,{value:"high",children:"High"}),i.jsx(ez.Ql,{value:"urgent",children:"Urgent"})]})]})]})]}),(0,i.jsxs)(eD.cN,{children:[i.jsx(c.z,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),i.jsx(c.z,{onClick:$,disabled:!I.project_id,children:"Create Job"})]})]})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Queue Length"}),i.jsx(e2.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:s?.total_jobs||0}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(eY.Z,{className:"mr-1 h-3 w-3"}),s?.processing_jobs||0," processing"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Avg Wait Time"}),i.jsx(e2.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:H(s?.avg_wait_time||0)}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[s?.wait_time_trend==="up"?i.jsx(eL.Z,{className:"mr-1 h-3 w-3 text-red-500"}):i.jsx(sv.Z,{className:"mr-1 h-3 w-3 text-green-500"}),s?.wait_time_change||0,"% from yesterday"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(sA.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[(s?.success_rate||0).toFixed(1),"%"]}),i.jsx(eM.E,{value:s?.success_rate||0,className:"mt-2 h-2"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"System Load"}),i.jsx(sN.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[(t?.cpu_usage||0).toFixed(1),"%"]}),i.jsx(eM.E,{value:t?.cpu_usage||0,className:"mt-2 h-2"})]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"System Resources"}),i.jsx(d.SZ,{children:"Real-time resource monitoring"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsxs)("span",{className:"flex items-center",children:[i.jsx(sN.Z,{className:"mr-2 h-4 w-4"}),"CPU Usage"]}),(0,i.jsxs)("span",{children:[(t?.cpu_usage||0).toFixed(1),"%"]})]}),i.jsx(eM.E,{value:t?.cpu_usage||0,className:"h-2"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsxs)("span",{className:"flex items-center",children:[i.jsx(sy.Z,{className:"mr-2 h-4 w-4"}),"Memory"]}),(0,i.jsxs)("span",{children:[(t?.memory_usage||0).toFixed(1),"%"]})]}),i.jsx(eM.E,{value:t?.memory_usage||0,className:"h-2"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,i.jsxs)("span",{className:"flex items-center",children:[i.jsx(sw.Z,{className:"mr-2 h-4 w-4"}),"Disk I/O"]}),(0,i.jsxs)("span",{children:[(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][s]})(t?.disk_io||0),"/s"]})]}),i.jsx(eM.E,{value:Math.min((t?.disk_io||0)/1e6*100,100),className:"h-2"})]})]})})]}),(0,i.jsxs)(eT.mQ,{value:C,onValueChange:_,className:"space-y-4",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-3",children:[(0,i.jsxs)(eT.SP,{value:"queue",children:["Queue (",e?.length||0,")"]}),i.jsx(eT.SP,{value:"history",children:"History"}),i.jsx(eT.SP,{value:"analytics",children:"Analytics"})]}),(0,i.jsxs)(eT.nU,{value:"queue",className:"space-y-4",children:[i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,i.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[i.jsx(P.Z,{className:"h-4 w-4 text-muted-foreground"}),i.jsx(eO.I,{placeholder:"Search render jobs...",value:R,onChange:e=>F(e.target.value),className:"max-w-sm"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(sM.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,i.jsxs)(ez.Ph,{value:E,onValueChange:T,children:[i.jsx(ez.i4,{className:"w-[120px]",children:i.jsx(ez.ki,{placeholder:"Status"})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"all",children:"All Status"}),i.jsx(ez.Ql,{value:"pending",children:"Pending"}),i.jsx(ez.Ql,{value:"processing",children:"Processing"}),i.jsx(ez.Ql,{value:"completed",children:"Completed"}),i.jsx(ez.Ql,{value:"failed",children:"Failed"}),i.jsx(ez.Ql,{value:"cancelled",children:"Cancelled"})]})]}),(0,i.jsxs)(ez.Ph,{value:z,onValueChange:D,children:[i.jsx(ez.i4,{className:"w-[120px]",children:i.jsx(ez.ki,{placeholder:"Priority"})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"all",children:"All Priority"}),i.jsx(ez.Ql,{value:"low",children:"Low"}),i.jsx(ez.Ql,{value:"medium",children:"Medium"}),i.jsx(ez.Ql,{value:"high",children:"High"}),i.jsx(ez.Ql,{value:"urgent",children:"Urgent"})]})]})]})]})})}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(d.ll,{children:"Render Queue"}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{variant:"outline",size:"sm",onClick:B,children:[i.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Optimize"]}),(0,i.jsxs)(c.z,{variant:"outline",size:"sm",onClick:W,children:[i.jsx(e1.Z,{className:"mr-2 h-4 w-4"}),"Clear Completed"]})]})]})}),i.jsx(d.aY,{className:"p-0",children:i.jsx(m.x,{className:"h-[500px]",children:a?i.jsx("div",{className:"space-y-4 p-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,i.jsxs)("div",{className:"flex items-center space-x-4 p-4 animate-pulse",children:[i.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded"}),(0,i.jsxs)("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},s))}):0===Q.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[i.jsx(eQ.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"No render jobs"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:R||"all"!==E||"all"!==z?"No jobs match your filters":"Create your first render job to get started"})]}):i.jsx("div",{className:"divide-y",children:Q.map(e=>{let s=sK[e.status]||e2.Z,t=sG[e.status]||"text-gray-500 bg-gray-100";return(0,i.jsxs)("div",{className:"flex items-center space-x-4 p-4 hover:bg-muted/50",children:[i.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${t}`,children:i.jsx(s,{className:"h-4 w-4"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium",children:e.project_title||e.id}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsx(o.C,{variant:"outline",children:e.render_type}),i.jsx(o.C,{variant:"outline",children:e.quality_preset}),i.jsx(o.C,{className:`${s0[e.priority]} text-white`,children:e.priority})]})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"text-sm text-muted-foreground",children:"processing"===e.status&&void 0!==e.progress?(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{children:[e.progress,"% complete"]}),i.jsx(eM.E,{value:e.progress,className:"w-24 h-2"})]}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:["ETA: ",X(e)]}),(0,i.jsxs)("div",{className:"text-xs",children:["Created: ",new Date(e.created_at).toLocaleString()]})]})})})]}),e.error_message&&(0,i.jsxs)("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-600",children:[i.jsx(sX.Z,{className:"inline mr-1 h-3 w-3"}),e.error_message]})]}),(0,i.jsxs)(eI.h_,{children:[i.jsx(eI.$F,{asChild:!0,children:i.jsx(c.z,{variant:"ghost",className:"h-8 w-8 p-0",children:i.jsx(eH.Z,{className:"h-4 w-4"})})}),(0,i.jsxs)(eI.AW,{align:"end",children:[i.jsx(eI.DropdownMenuLabel,{children:"Actions"}),(0,i.jsxs)(eI.Xi,{children:[i.jsx(eX.Z,{className:"mr-2 h-4 w-4"}),"View Details"]}),"processing"===e.status&&(0,i.jsxs)(eI.Xi,{onClick:()=>U(e.id),children:[i.jsx(sW.Z,{className:"mr-2 h-4 w-4"}),"Cancel"]}),("failed"===e.status||"cancelled"===e.status)&&(0,i.jsxs)(eI.Xi,{onClick:()=>q(e.id),children:[i.jsx(e6.Z,{className:"mr-2 h-4 w-4"}),"Retry"]}),"completed"===e.status&&(0,i.jsxs)(eI.Xi,{children:[i.jsx(e0.Z,{className:"mr-2 h-4 w-4"}),"Download"]}),i.jsx(eI.VD,{}),(0,i.jsxs)(eI.Xi,{onClick:()=>V(e.id),className:"text-red-600",children:[i.jsx(e1.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},e.id)})})})})]})]}),i.jsx(eT.nU,{value:"history",className:"space-y-4",children:(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Render History"}),i.jsx(d.SZ,{children:"Complete history of all render jobs"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(sJ.Z,{className:"mx-auto h-12 w-12"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Render History"}),i.jsx("p",{className:"mt-2",children:"Historical render data will be displayed here"})]})})]})}),i.jsx(eT.nU,{value:"analytics",className:"space-y-4",children:(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Render Analytics"}),i.jsx(d.SZ,{children:"Performance metrics and insights"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(eY.Z,{className:"mx-auto h-12 w-12"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Render Analytics"}),i.jsx("p",{className:"mt-2",children:"Performance analytics and insights will be displayed here"})]})})]})})]})]})}let s2=async e=>{let s=await fetch(e);if(!s.ok)throw Error("Failed to fetch external API data");return s.json()};var s4=t(754014),s3=t(258775),s6=t(71821),s5=t(758038);let s8={azure:s4.Z,google:s4.Z,openai:f.Z,elevenlabs:s3.Z,unsplash:eU.Z,pexels:eU.Z,pixabay:eU.Z,shutterstock:eU.Z},s7={active:"text-green-500 bg-green-100",inactive:"text-gray-500 bg-gray-100",error:"text-red-500 bg-red-100",warning:"text-yellow-500 bg-yellow-100"};function s9(){let{ttsProviders:e,mediaProviders:s,complianceServices:t,usageStats:a,isLoading:r,error:l,generateTTS:m,searchMedia:x,downloadMedia:h,checkCompliance:u,updateProviderConfig:j,testProvider:p,getUsageHistory:g,exportUsageData:f}=function(){(0,n.useMemo)(()=>(0,eS.eI)(),[]);let[e,s]=(0,n.useState)(null),[t,a]=(0,n.useState)(!1),{data:r,error:l,mutate:i,isLoading:c}=eZ(e?"/api/external/tts/providers":null,s2),{data:d,error:o,mutate:m,isLoading:x}=eZ(e?"/api/external/media/providers":null,s2),{data:h,error:u,mutate:j,isLoading:p}=eZ(e?"/api/external/compliance/providers":null,s2),g=(0,n.useCallback)(async e=>{a(!0);try{let s=await fetch("/api/external/tts/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to generate TTS");let t=await s.json();return eP.Am.success("TTS generated successfully"),t.data}catch(e){throw eP.Am.error("Failed to generate TTS"),e}finally{a(!1)}},[]),f=(0,n.useCallback)(async(e,s)=>{try{let t=new URLSearchParams({provider:e});s&&t.append("language",s);let a=await fetch(`/api/external/tts/voices?${t}`);if(!a.ok)throw Error("Failed to fetch voices");return(await a.json()).data}catch(e){throw eP.Am.error("Failed to fetch voices"),e}},[]),v=(0,n.useCallback)(async(e="30d")=>{try{let s=await fetch(`/api/external/tts/usage?time_range=${e}`);if(!s.ok)throw Error("Failed to fetch TTS usage");return(await s.json()).data}catch(e){throw eP.Am.error("Failed to fetch TTS usage"),e}},[]),y=(0,n.useCallback)(async e=>{a(!0);try{let s=await fetch("/api/external/media/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to search media");return(await s.json()).data}catch(e){throw eP.Am.error("Failed to search media"),e}finally{a(!1)}},[]),N=(0,n.useCallback)(async(e,s)=>{a(!0);try{let t=await fetch("/api/external/media/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({media_id:e,provider:s})});if(!t.ok)throw Error("Failed to download media");let a=await t.json();return eP.Am.success("Media downloaded successfully"),a.data}catch(e){throw eP.Am.error("Failed to download media"),e}finally{a(!1)}},[]),b=(0,n.useCallback)(async(e="30d")=>{try{let s=await fetch(`/api/external/media/usage?time_range=${e}`);if(!s.ok)throw Error("Failed to fetch media usage");return(await s.json()).data}catch(e){throw eP.Am.error("Failed to fetch media usage"),e}},[]),w=(0,n.useCallback)(async e=>{a(!0);try{let s=await fetch("/api/external/compliance/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to check compliance");let t=await s.json();return"failed"===t.data.status?eP.Am.warning("Compliance check failed - review recommendations"):"warning"===t.data.status?eP.Am.warning("Compliance check has warnings"):eP.Am.success("Compliance check passed"),t.data}catch(e){throw eP.Am.error("Failed to check compliance"),e}finally{a(!1)}},[]),k=(0,n.useCallback)(async(e="30d")=>{try{let s=await fetch(`/api/external/compliance/history?time_range=${e}`);if(!s.ok)throw Error("Failed to fetch compliance history");return(await s.json()).data}catch(e){throw eP.Am.error("Failed to fetch compliance history"),e}},[]),C=(0,n.useCallback)(async(e,s)=>{try{if(!(await fetch(`/api/external/tts/providers/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to update TTS provider");i(),eP.Am.success("TTS provider updated successfully")}catch(e){throw eP.Am.error("Failed to update TTS provider"),e}},[i]),_=(0,n.useCallback)(async(e,s)=>{try{if(!(await fetch(`/api/external/media/providers/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to update media provider");m(),eP.Am.success("Media provider updated successfully")}catch(e){throw eP.Am.error("Failed to update media provider"),e}},[m]),Z=(0,n.useCallback)(async(e,s)=>{try{if(!(await fetch(`/api/external/compliance/providers/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to update compliance provider");j(),eP.Am.success("Compliance provider updated successfully")}catch(e){throw eP.Am.error("Failed to update compliance provider"),e}},[j]),S=(0,n.useCallback)(()=>r?.filter(e=>e.enabled)||[],[r]),P=(0,n.useCallback)(()=>d?.filter(e=>e.enabled)||[],[d]),A=(0,n.useCallback)(()=>h?.filter(e=>e.enabled)||[],[h]);return{ttsProviders:r,mediaProviders:d,complianceProviders:h,isLoading:c||x||p,isLoadingTTS:c,isLoadingMedia:x,isLoadingCompliance:p,isProcessing:t,error:l||o||u,ttsError:l,mediaError:o,complianceError:u,generateTTS:g,getVoices:f,getTTSUsage:v,searchMedia:y,downloadMedia:N,getMediaUsage:b,checkCompliance:w,getComplianceHistory:k,updateTTSProvider:C,updateMediaProvider:_,updateComplianceProvider:Z,getEnabledTTSProviders:S,getEnabledMediaProviders:P,getEnabledComplianceProviders:A,refreshProviders:(0,n.useCallback)(()=>{i(),m(),j()},[i,m,j])}}(),[y,b]=(0,n.useState)("tts"),[w,k]=(0,n.useState)(!1),[C,_]=(0,n.useState)(!1),[S,A]=(0,n.useState)(null),[O,R]=(0,n.useState)(""),[F,E]=(0,n.useState)(""),[T,z]=(0,n.useState)([]),[D,I]=(0,n.useState)(null),M=async(e,s)=>{try{await j(e,s),k(!1),eP.Am.success("Provider configuration updated")}catch(e){eP.Am.error("Failed to update configuration")}},Q=async(e,s,t)=>{try{let a=await m({provider:e,text:s,voice:t});return eP.Am.success("TTS generated successfully"),a}catch(e){eP.Am.error("Failed to generate TTS")}},$=async(e,s,t)=>{try{let a=await x({provider:e,query:s,type:t});z(a.results||[]),eP.Am.success(`Found ${a.results?.length||0} results`)}catch(e){eP.Am.error("Failed to search media")}},U=async(e,s)=>{try{let t=await h({provider:e,media_id:s});return eP.Am.success("Media downloaded successfully"),t}catch(e){eP.Am.error("Failed to download media")}},q=async(e,s)=>{try{let t=await u({content:e,checks:s});I(t),eP.Am.success("Compliance check completed")}catch(e){eP.Am.error("Failed to check compliance")}},V=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),L=e=>e.api_key?e.last_error?"error":e.rate_limit_exceeded?"warning":"active":"inactive";return l?i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-6",children:(0,i.jsxs)("div",{className:"text-center text-red-600",children:["Error loading external APIs: ",l.message]})})}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"External APIs"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage integrations with TTS providers, media libraries, and compliance services"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{variant:"outline",onClick:f,children:[i.jsx(e0.Z,{className:"mr-2 h-4 w-4"}),"Export Usage"]}),(0,i.jsxs)(c.z,{variant:"outline",onClick:()=>window.location.reload(),children:[i.jsx(sf.Z,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Total API Calls"}),i.jsx(eY.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a?.total_calls||0}),(0,i.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[i.jsx(eL.Z,{className:"mr-1 h-3 w-3 text-green-500"}),"+",a?.calls_today||0," today"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Total Cost"}),i.jsx(s6.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:V(a?.total_cost||0)}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:[V(a?.cost_today||0)," today"]})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Success Rate"}),i.jsx(sA.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[(0,i.jsxs)("div",{className:"text-2xl font-bold",children:[(a?.success_rate||0).toFixed(1),"%"]}),i.jsx(eM.E,{value:a?.success_rate||0,className:"mt-2 h-2"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Active Providers"}),i.jsx(s4.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:a?.active_providers||0}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["of ",a?.total_providers||0," configured"]})]})]})]}),(0,i.jsxs)(eT.mQ,{value:y,onValueChange:b,className:"space-y-4",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-4",children:[i.jsx(eT.SP,{value:"tts",children:"TTS Providers"}),i.jsx(eT.SP,{value:"media",children:"Media Libraries"}),i.jsx(eT.SP,{value:"compliance",children:"Compliance"}),i.jsx(eT.SP,{value:"usage",children:"Usage Analytics"})]}),i.jsx(eT.nU,{value:"tts",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e?.map(e=>{let s=s8[e.provider_name]||s4.Z,t=L(e),a=s7[t];return i.jsxs(d.Zb,{children:[i.jsxs(d.Ol,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(s,{className:"h-5 w-5"}),i.jsx(d.ll,{className:"capitalize",children:e.provider_name})]}),i.jsx(o.C,{className:a,children:t})]}),i.jsx(d.SZ,{children:e.description||`${e.provider_name} TTS service integration`})]}),i.jsx(d.aY,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"API Calls Today"}),i.jsx("div",{className:"text-muted-foreground",children:e.usage_today||0})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Cost Today"}),i.jsx("div",{className:"text-muted-foreground",children:V(e.cost_today||0)})]})]}),e.rate_limit&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Rate Limit"}),i.jsxs("span",{children:[e.usage_today||0," / ",e.rate_limit]})]}),i.jsx(eM.E,{value:(e.usage_today||0)/e.rate_limit*100,className:"h-2"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(eD.Vq,{children:[i.jsx(eD.hg,{asChild:!0,children:i.jsxs(c.z,{variant:"outline",size:"sm",className:"flex-1",children:[i.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Test"]})}),i.jsxs(eD.cZ,{children:[i.jsxs(eD.fK,{children:[i.jsxs(eD.$N,{children:["Test ",e.provider_name," TTS"]}),i.jsx(eD.Be,{children:"Generate a test audio to verify the provider configuration"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"test-text",children:"Text to Speech"}),i.jsx(eF.g,{id:"test-text",value:O,onChange:e=>R(e.target.value),placeholder:"Enter text to convert to speech...",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"voice",children:"Voice"}),i.jsxs(ez.Ph,{defaultValue:"default",children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),i.jsxs(ez.Bw,{children:[i.jsx(ez.Ql,{value:"default",children:"Default Voice"}),i.jsx(ez.Ql,{value:"male",children:"Male Voice"}),i.jsx(ez.Ql,{value:"female",children:"Female Voice"})]})]})]})]}),i.jsx(eD.cN,{children:i.jsx(c.z,{onClick:()=>Q(e.provider_name,O,"default"),disabled:!O,children:"Generate TTS"})})]})]}),i.jsxs(c.z,{variant:"outline",size:"sm",onClick:()=>{A(e),k(!0)},children:[i.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),"Configure"]})]}),e.last_error&&i.jsxs("div",{className:"p-2 bg-red-50 border border-red-200 rounded text-sm text-red-600",children:[i.jsx(sX.Z,{className:"inline mr-1 h-3 w-3"}),e.last_error]})]})})]},e.id)})})}),(0,i.jsxs)(eT.nU,{value:"media",className:"space-y-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Media Search"}),i.jsx(d.SZ,{children:"Search and download media from integrated libraries"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex space-x-2",children:[i.jsx(eO.I,{placeholder:"Search for images, videos, or audio...",value:F,onChange:e=>E(e.target.value),className:"flex-1"}),(0,i.jsxs)(ez.Ph,{defaultValue:"unsplash",children:[i.jsx(ez.i4,{className:"w-[140px]",children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"unsplash",children:"Unsplash"}),i.jsx(ez.Ql,{value:"pexels",children:"Pexels"}),i.jsx(ez.Ql,{value:"pixabay",children:"Pixabay"}),i.jsx(ez.Ql,{value:"shutterstock",children:"Shutterstock"})]})]}),(0,i.jsxs)(c.z,{onClick:()=>$("unsplash",F,"image"),children:[i.jsx(P.Z,{className:"mr-2 h-4 w-4"}),"Search"]})]}),T.length>0&&i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:T.slice(0,6).map((e,s)=>i.jsx(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-4",children:[i.jsx("div",{className:"aspect-video bg-muted rounded mb-2 flex items-center justify-center",children:i.jsx(eU.Z,{className:"h-8 w-8 text-muted-foreground"})}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-medium line-clamp-1",children:e.title||"Untitled"}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:e.author||"Unknown"}),i.jsx("span",{children:e.size||"N/A"})]}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsxs)(c.z,{size:"sm",variant:"outline",className:"flex-1",children:[i.jsx(eX.Z,{className:"mr-1 h-3 w-3"}),"Preview"]}),(0,i.jsxs)(c.z,{size:"sm",className:"flex-1",onClick:()=>U("unsplash",e.id),children:[i.jsx(e0.Z,{className:"mr-1 h-3 w-3"}),"Download"]})]})]})]})},s))})]})})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s?.map(e=>{let s=s8[e.provider_name]||eU.Z,t=L(e),a=s7[t];return i.jsxs(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(s,{className:"h-5 w-5"}),i.jsx(d.ll,{className:"capitalize",children:e.provider_name})]}),i.jsx(o.C,{className:a,children:t})]})}),i.jsx(d.aY,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Downloads Today"}),i.jsx("div",{className:"text-muted-foreground",children:e.downloads_today||0})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Cost Today"}),i.jsx("div",{className:"text-muted-foreground",children:V(e.cost_today||0)})]})]}),i.jsxs(c.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{A(e),k(!0)},children:[i.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),"Configure"]})]})})]},e.id)})})]}),i.jsx(eT.nU,{value:"compliance",className:"space-y-4",children:(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Content Compliance Check"}),i.jsx(d.SZ,{children:"Verify content against accessibility, rating, and copyright standards"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"compliance-content",children:"Content to Check"}),i.jsx(eF.g,{id:"compliance-content",placeholder:"Enter content text, URL, or upload file...",rows:4})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{children:"Compliance Checks"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(eE.r,{id:"accessibility",defaultChecked:!0}),i.jsx(eR._,{htmlFor:"accessibility",children:"Accessibility"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(eE.r,{id:"content-rating",defaultChecked:!0}),i.jsx(eR._,{htmlFor:"content-rating",children:"Content Rating"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(eE.r,{id:"copyright",defaultChecked:!0}),i.jsx(eR._,{htmlFor:"copyright",children:"Copyright"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(eE.r,{id:"privacy",defaultChecked:!0}),i.jsx(eR._,{htmlFor:"privacy",children:"Privacy"})]})]})]}),(0,i.jsxs)(c.z,{onClick:()=>q({},["accessibility","content_rating","copyright","privacy"]),children:[i.jsx(s5.Z,{className:"mr-2 h-4 w-4"}),"Run Compliance Check"]}),D&&(0,i.jsxs)("div",{className:"space-y-4 mt-6",children:[i.jsx("h4",{className:"font-medium",children:"Compliance Results"}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(D.checks||{}).map(([e,s])=>i.jsx(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h5",{className:"font-medium capitalize",children:e.replace("_"," ")}),i.jsx(o.C,{className:s.passed?"bg-green-500":"bg-red-500",children:s.passed?"Passed":"Failed"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Score"}),(0,i.jsxs)("span",{children:[s.score,"/100"]})]}),i.jsx(eM.E,{value:s.score,className:"h-2"}),s.issues?.length>0&&(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:[i.jsx("div",{className:"font-medium",children:"Issues:"}),i.jsx("ul",{className:"list-disc list-inside",children:s.issues.slice(0,2).map((e,s)=>i.jsx("li",{children:e},s))})]})]})]})},e))})]})]})})]})}),i.jsx(eT.nU,{value:"usage",className:"space-y-4",children:(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"API Usage Analytics"}),i.jsx(d.SZ,{children:"Detailed usage statistics and cost breakdown"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[i.jsx(v.Z,{className:"mx-auto h-12 w-12"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:"Usage Analytics"}),i.jsx("p",{className:"mt-2",children:"Detailed usage charts and analytics will be displayed here"})]})})]})})]}),i.jsx(eD.Vq,{open:w,onOpenChange:k,children:(0,i.jsxs)(eD.cZ,{className:"sm:max-w-[500px]",children:[(0,i.jsxs)(eD.fK,{children:[(0,i.jsxs)(eD.$N,{children:["Configure ",S?.provider_name]}),i.jsx(eD.Be,{children:"Update API keys and configuration settings"})]}),(0,i.jsxs)("div",{className:"space-y-4 py-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"api-key",children:"API Key"}),i.jsx(eO.I,{id:"api-key",type:"password",placeholder:"Enter API key...",defaultValue:S?.api_key})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"endpoint",children:"Endpoint URL"}),i.jsx(eO.I,{id:"endpoint",placeholder:"https://api.example.com",defaultValue:S?.endpoint_url})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(eR._,{htmlFor:"rate-limit",children:"Rate Limit (per day)"}),i.jsx(eO.I,{id:"rate-limit",type:"number",placeholder:"1000",defaultValue:S?.rate_limit})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(eE.r,{id:"enabled",defaultChecked:S?.enabled}),i.jsx(eR._,{htmlFor:"enabled",children:"Enable this provider"})]})]}),(0,i.jsxs)(eD.cN,{children:[i.jsx(c.z,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),i.jsx(c.z,{onClick:()=>M(S?.id,{}),children:"Save Configuration"})]})]})})]})}var te=t(100924),ts=t(729389),tt=t(167427),ta=t(498978),tr=t(747405);function tl({template:e,viewMode:s,onSelect:t,onPreview:a,onFavorite:r,onDuplicate:l,onEdit:n,onDelete:m,onExport:x,isFavorite:h=!1,isSelected:u=!1,showActions:j=!0}){let p=()=>{t?.(e)},g=s=>{s.stopPropagation(),a?.(e)},f=s=>{s.stopPropagation(),r?.(e.id)},v=e=>{switch(e){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=e=>{switch(e){case"beginner":return"B\xe1sico";case"intermediate":return"Intermedi\xe1rio";case"advanced":return"Avan\xe7ado";default:return e}};return"list"===s?i.jsx(d.Zb,{className:(0,tr.cn)("cursor-pointer transition-all duration-200 hover:shadow-md",u&&"ring-2 ring-blue-500"),onClick:p,children:i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"relative w-20 h-20 flex-shrink-0",children:[i.jsx("img",{src:e.thumbnail,alt:e.name,className:"w-full h-full object-cover rounded-lg",onError:s=>{s.target.src=`https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=${encodeURIComponent("safety training "+e.category)}&image_size=square`}}),i.jsx(c.z,{size:"sm",variant:"secondary",className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity bg-black/50 text-white border-0",onClick:g,children:i.jsx(eX.Z,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 min-w-0",children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-lg truncate",children:e.name}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description}),(0,i.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(e2.Z,{className:"h-4 w-4"}),e.metadata.estimatedDuration,"min"]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(eB.Z,{className:"h-4 w-4"}),e.metadata.targetAudience.length," p\xfablicos"]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(e0.Z,{className:"h-4 w-4"}),e.downloads]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(e4.Z,{className:"h-4 w-4"}),e.rating.toFixed(1)]})]})]}),j&&(0,i.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx(c.z,{size:"sm",variant:"ghost",onClick:f,className:(0,tr.cn)("p-2",h&&"text-red-500"),children:i.jsx(tt.Z,{className:(0,tr.cn)("h-4 w-4",h&&"fill-current")})}),(0,i.jsxs)(eI.h_,{children:[i.jsx(eI.$F,{asChild:!0,children:i.jsx(c.z,{size:"sm",variant:"ghost",className:"p-2",children:i.jsx(eH.Z,{className:"h-4 w-4"})})}),(0,i.jsxs)(eI.AW,{align:"end",children:[(0,i.jsxs)(eI.Xi,{onClick:()=>a?.(e),children:[i.jsx(eX.Z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>l?.(e),children:[i.jsx(eK.Z,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>n?.(e),children:[i.jsx(eJ.Z,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>x?.(e),children:[i.jsx(e0.Z,{className:"h-4 w-4 mr-2"}),"Exportar"]}),i.jsx(eI.VD,{}),(0,i.jsxs)(eI.Xi,{onClick:()=>m?.(e.id),className:"text-red-600",children:[i.jsx(e1.Z,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})]})}),(0,i.jsxs)("div",{className:"flex flex-col gap-2 items-end",children:[i.jsx(o.C,{variant:"outline",children:e.category}),i.jsx(o.C,{className:v(e.metadata.difficulty),children:y(e.metadata.difficulty)})]})]})})}):(0,i.jsxs)(d.Zb,{className:(0,tr.cn)("cursor-pointer transition-all duration-200 hover:shadow-lg group",u&&"ring-2 ring-blue-500"),onClick:p,children:[i.jsx(d.Ol,{className:"p-0",children:(0,i.jsxs)("div",{className:"relative aspect-video overflow-hidden rounded-t-lg",children:[i.jsx("img",{src:e.thumbnail,alt:e.name,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",onError:s=>{s.target.src=`https://trae-api-us.mchost.guru/api/ide/v1/text_to_image?prompt=${encodeURIComponent("safety training "+e.category)}&image_size=landscape_16_9`}}),(0,i.jsxs)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,i.jsxs)(c.z,{size:"sm",variant:"secondary",onClick:g,className:"bg-white/90 text-black hover:bg-white",children:[i.jsx(eX.Z,{className:"h-4 w-4 mr-1"}),"Preview"]}),(0,i.jsxs)(c.z,{size:"sm",variant:"secondary",onClick:p,className:"bg-blue-600 text-white hover:bg-blue-700",children:[i.jsx(N.Z,{className:"h-4 w-4 mr-1"}),"Usar"]})]}),j&&i.jsx(c.z,{size:"sm",variant:"ghost",onClick:f,className:(0,tr.cn)("absolute top-2 right-2 p-2 bg-white/80 hover:bg-white",h&&"text-red-500"),children:i.jsx(tt.Z,{className:(0,tr.cn)("h-4 w-4",h&&"fill-current")})}),i.jsx(o.C,{variant:"secondary",className:"absolute top-2 left-2 bg-white/90 text-black",children:e.category})]})}),i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[i.jsx(d.ll,{className:"text-lg line-clamp-1",children:e.name}),i.jsx(d.SZ,{className:"line-clamp-2 mt-1",children:e.description})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(e2.Z,{className:"h-4 w-4"}),e.metadata.estimatedDuration,"min"]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(e4.Z,{className:"h-4 w-4"}),e.rating.toFixed(1)]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(e0.Z,{className:"h-4 w-4"}),e.downloads]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx(o.C,{className:v(e.metadata.difficulty),children:y(e.metadata.difficulty)}),j&&(0,i.jsxs)(eI.h_,{children:[i.jsx(eI.$F,{asChild:!0,children:i.jsx(c.z,{size:"sm",variant:"ghost",className:"p-2",children:i.jsx(eH.Z,{className:"h-4 w-4"})})}),(0,i.jsxs)(eI.AW,{align:"end",children:[(0,i.jsxs)(eI.Xi,{onClick:()=>a?.(e),children:[i.jsx(eX.Z,{className:"h-4 w-4 mr-2"}),"Preview"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>l?.(e),children:[i.jsx(eK.Z,{className:"h-4 w-4 mr-2"}),"Duplicar"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>n?.(e),children:[i.jsx(eJ.Z,{className:"h-4 w-4 mr-2"}),"Editar"]}),(0,i.jsxs)(eI.Xi,{onClick:()=>x?.(e),children:[i.jsx(e0.Z,{className:"h-4 w-4 mr-2"}),"Exportar"]}),i.jsx(eI.VD,{}),(0,i.jsxs)(eI.Xi,{onClick:()=>m?.(e.id),className:"text-red-600",children:[i.jsx(e1.Z,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]}),e.tags.length>0&&(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(e=>i.jsx(o.C,{variant:"outline",className:"text-xs",children:e},e)),e.tags.length>3&&(0,i.jsxs)(o.C,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]})]})})]})}var ti=t(6309),tn=t(110976),tc=t(15128),td=t(971312),to=t(506598);let tm=({template:e,onClose:s,onEdit:t,onUse:a})=>{let[r,l]=(0,n.useState)(!1),[m,x]=(0,n.useState)(0),[h,u]=(0,n.useState)(50),[j,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)(0),v=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)),y=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,b=e=>({"NR-12":"bg-red-100 text-red-800","NR-33":"bg-blue-100 text-blue-800","NR-35":"bg-green-100 text-green-800","NR-10":"bg-yellow-100 text-yellow-800","NR-06":"bg-purple-100 text-purple-800",CUSTOM:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",w=()=>{l(!r)};return i.jsx(eD.Vq,{open:!0,onOpenChange:s,children:(0,i.jsxs)(eD.cZ,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsx(eD.fK,{children:(0,i.jsxs)(eD.$N,{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{children:e.name}),i.jsx(o.C,{className:b(e.category),children:e.category}),e.isCustom&&i.jsx(o.C,{variant:"outline",children:"Personalizado"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{variant:"outline",onClick:t,children:[i.jsx(eJ.Z,{className:"w-4 h-4 mr-2"}),"Editar"]}),(0,i.jsxs)(c.z,{onClick:a,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Usar Template"]})]})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-0",children:(0,i.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:[i.jsx("img",{src:e.preview||e.thumbnail||"/api/placeholder/800/450",alt:e.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:i.jsx(c.z,{size:"lg",onClick:w,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white border-white",children:r?i.jsx(sH.Z,{className:"w-8 h-8"}):i.jsx(N.Z,{className:"w-8 h-8"})})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(to.i,{value:[m],onValueChange:e=>{x(e[0])},max:e.content.settings.duration,step:1,className:"w-full"}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(c.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:i.jsx(ti.Z,{className:"w-4 h-4"})}),i.jsx(c.z,{size:"sm",variant:"ghost",onClick:w,className:"text-white hover:bg-white hover:bg-opacity-20",children:r?i.jsx(sH.Z,{className:"w-4 h-4"}):i.jsx(N.Z,{className:"w-4 h-4"})}),i.jsx(c.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:i.jsx(tn.Z,{className:"w-4 h-4"})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[i.jsx(c.z,{size:"sm",variant:"ghost",onClick:()=>{p(!j)},className:"text-white hover:bg-white hover:bg-opacity-20",children:j?i.jsx(tc.Z,{className:"w-4 h-4"}):i.jsx(sI.Z,{className:"w-4 h-4"})}),i.jsx(to.i,{value:[j?0:h],onValueChange:e=>{u(e[0]),p(0===e[0])},max:100,step:1,className:"w-20"})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2 text-white text-sm",children:[(0,i.jsxs)("span",{children:[y(m)," / ",y(e.content.settings.duration)]}),i.jsx(c.z,{size:"sm",variant:"ghost",className:"text-white hover:bg-white hover:bg-opacity-20",children:i.jsx(td.Z,{className:"w-4 h-4"})})]})]})]})})]})})}),i.jsx(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-4",children:[(0,i.jsxs)("h3",{className:"font-semibold mb-3",children:["Slides (",e.content.slides.length,")"]}),i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:e.content.slides.map((e,s)=>i.jsx("div",{className:`flex-shrink-0 w-32 h-20 rounded-lg border-2 cursor-pointer transition-all ${g===s?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>f(s),children:i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center",children:(0,i.jsxs)("span",{className:"text-xs font-medium text-gray-600",children:["Slide ",s+1]})})},e.id))})]})})]}),i.jsx("div",{className:"space-y-4",children:(0,i.jsxs)(eT.mQ,{defaultValue:"info",className:"w-full",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-3",children:[i.jsx(eT.SP,{value:"info",children:"Info"}),i.jsx(eT.SP,{value:"compliance",children:"Compliance"}),i.jsx(eT.SP,{value:"settings",children:"Config"})]}),i.jsx(eT.nU,{value:"info",className:"space-y-4",children:i.jsx(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-4 space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{className:"flex items-center text-gray-600",children:[i.jsx(sF.Z,{className:"w-4 h-4 mr-2"}),e.author]}),(0,i.jsxs)("div",{className:"flex items-center text-gray-600",children:[i.jsx(sJ.Z,{className:"w-4 h-4 mr-2"}),v(e.updatedAt)]}),(0,i.jsxs)("div",{className:"flex items-center text-gray-600",children:[i.jsx(e2.Z,{className:"w-4 h-4 mr-2"}),y(e.content.settings.duration)]}),(0,i.jsxs)("div",{className:"flex items-center text-gray-600",children:[i.jsx(e0.Z,{className:"w-4 h-4 mr-2"}),e.downloads]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(e4.Z,{className:"w-4 h-4 mr-1 fill-current text-yellow-400"}),i.jsx("span",{className:"text-sm font-medium",children:e.rating.toFixed(1)})]}),(0,i.jsxs)(c.z,{variant:"ghost",size:"sm",className:"text-red-600",children:[i.jsx(tt.Z,{className:"w-4 h-4 mr-1"}),"Favoritar"]})]}),e.tags.length>0&&(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((e,s)=>i.jsx(o.C,{variant:"outline",className:"text-xs",children:e},s))})]})]})})}),i.jsx(eT.nU,{value:"compliance",className:"space-y-4",children:i.jsx(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-4 space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"compliant":return i.jsx(sA.Z,{className:"w-5 h-5 text-green-600"});case"warning":return i.jsx(sX.Z,{className:"w-5 h-5 text-yellow-600"});case"non-compliant":return i.jsx(sR.Z,{className:"w-5 h-5 text-red-600"});default:return i.jsx(sP.Z,{className:"w-5 h-5 text-gray-600"})}})(e.metadata.compliance.status),i.jsx("span",{className:"font-medium",children:"compliant"===e.metadata.compliance.status?"Conforme":"warning"===e.metadata.compliance.status?"Aten\xe7\xe3o":"N\xe3o Conforme"})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Categorias NR"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.metadata.compliance.nrCategories.map((e,s)=>i.jsx(o.C,{className:b(e),children:e},s))})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Requisitos"}),i.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:e.metadata.compliance.requirements.map((e,s)=>(0,i.jsxs)("li",{className:"flex items-start",children:[i.jsx(sA.Z,{className:"w-3 h-3 mr-2 mt-0.5 text-green-600 flex-shrink-0"}),e]},s))})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"\xdaltima Auditoria"}),i.jsx("p",{className:"text-sm text-gray-600",children:v(e.metadata.compliance.lastAudit)})]})]})})}),i.jsx(eT.nU,{value:"settings",className:"space-y-4",children:i.jsx(d.Zb,{children:(0,i.jsxs)(d.aY,{className:"p-4 space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resolu\xe7\xe3o"}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:[e.content.settings.resolution.width," x ",e.content.settings.resolution.height]})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Taxa de Quadros"}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:[e.content.settings.frameRate," fps"]})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Qualidade de Renderiza\xe7\xe3o"}),i.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.content.settings.renderSettings.quality})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Formato"}),i.jsx("p",{className:"text-sm text-gray-600 uppercase",children:e.content.settings.renderSettings.format})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Performance"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Tempo de Renderiza\xe7\xe3o:"}),(0,i.jsxs)("span",{children:[e.metadata.performance.renderTime,"s"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Tamanho do Arquivo:"}),(0,i.jsxs)("span",{children:[(e.metadata.performance.fileSize/1024/1024).toFixed(1)," MB"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Complexidade:"}),i.jsx("span",{className:"capitalize",children:e.metadata.performance.complexity})]})]})]})]})})})]})})]})]})})};var tx=t(31215);let th=({template:e,onClose:s,onSave:t})=>{let[a,r]=(0,n.useState)({name:e?.name||"",description:e?.description||"",category:e?.category||"CUSTOM",tags:e?.tags||[],thumbnail:e?.thumbnail||"",preview:e?.preview||"",content:e?.content||{slides:[],animations:[],assets:[],settings:{resolution:{width:1920,height:1080},frameRate:30,duration:60,audioSettings:{enabled:!0,volume:100,fadeIn:0,fadeOut:0},renderSettings:{quality:"high",format:"mp4",codec:"h264",bitrate:5e3}}}}),[l,m]=(0,n.useState)(""),[x,h]=(0,n.useState)("basic"),u=(e,s)=>{r(t=>({...t,[e]:s}))},j=(e,s)=>{r(t=>({...t,content:{...t.content,[e]:s}}))},p=(e,s)=>{r(t=>({...t,content:{...t.content,settings:{...t.content.settings,[e]:s}}}))},g=()=>{l.trim()&&!a.tags.includes(l.trim())&&(u("tags",[...a.tags,l.trim()]),m(""))},f=e=>{u("tags",a.tags.filter(s=>s!==e))},v=e=>{j("slides",a.content.slides.filter(s=>s.id!==e))},y=(e,s,t)=>{j("slides",a.content.slides.map(a=>a.id===e?{...a,[s]:t}:a))};return i.jsx(eD.Vq,{open:!0,onOpenChange:s,children:(0,i.jsxs)(eD.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(eD.fK,{children:i.jsx(eD.$N,{children:e?"Editar Template":"Criar Novo Template"})}),(0,i.jsxs)(eT.mQ,{value:x,onValueChange:h,className:"w-full",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-4",children:[i.jsx(eT.SP,{value:"basic",children:"B\xe1sico"}),i.jsx(eT.SP,{value:"slides",children:"Slides"}),i.jsx(eT.SP,{value:"settings",children:"Configura\xe7\xf5es"}),i.jsx(eT.SP,{value:"preview",children:"Preview"})]}),i.jsx(eT.nU,{value:"basic",className:"space-y-4",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{htmlFor:"name",children:"Nome do Template"}),i.jsx(eO.I,{id:"name",value:a.name,onChange:e=>u("name",e.target.value),placeholder:"Digite o nome do template..."})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{htmlFor:"description",children:"Descri\xe7\xe3o"}),i.jsx(eF.g,{id:"description",value:a.description,onChange:e=>u("description",e.target.value),placeholder:"Descreva o template...",rows:3})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{htmlFor:"category",children:"Categoria NR"}),(0,i.jsxs)(ez.Ph,{value:a.category,onValueChange:e=>u("category",e),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{placeholder:"Selecione uma categoria..."})}),i.jsx(ez.Bw,{children:["NR-01","NR-02","NR-03","NR-04","NR-05","NR-06","NR-07","NR-08","NR-09","NR-10","NR-11","NR-12","NR-13","NR-14","NR-15","NR-16","NR-17","NR-18","NR-19","NR-20","NR-21","NR-22","NR-23","NR-24","NR-25","NR-26","NR-27","NR-28","NR-29","NR-30","NR-31","NR-32","NR-33","NR-34","NR-35","NR-36","NR-37","CUSTOM"].map(e=>i.jsx(ez.Ql,{value:e,children:e},e))})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Tags"}),(0,i.jsxs)("div",{className:"flex space-x-2 mb-2",children:[i.jsx(eO.I,{value:l,onChange:e=>m(e.target.value),placeholder:"Adicionar tag...",onKeyPress:e=>"Enter"===e.key&&g()}),i.jsx(c.z,{onClick:g,size:"sm",children:i.jsx(A.Z,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:a.tags.map((e,s)=>(0,i.jsxs)(o.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,i.jsx(C.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>f(e)})]},s))})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{htmlFor:"thumbnail",children:"URL da Thumbnail"}),i.jsx(eO.I,{id:"thumbnail",value:a.thumbnail,onChange:e=>u("thumbnail",e.target.value),placeholder:"https://..."})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{htmlFor:"preview",children:"URL do Preview"}),i.jsx(eO.I,{id:"preview",value:a.preview,onChange:e=>u("preview",e.target.value),placeholder:"https://..."})]}),a.thumbnail&&(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Preview da Thumbnail"}),i.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:i.jsx("img",{src:a.thumbnail,alt:"Thumbnail preview",className:"w-full h-32 object-cover"})})]})]})]})}),(0,i.jsxs)(eT.nU,{value:"slides",className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold",children:["Slides (",a.content.slides.length,")"]}),(0,i.jsxs)(c.z,{onClick:()=>{let e={id:`slide-${Date.now()}`,title:`Slide ${a.content.slides.length+1}`,content:"",duration:5,background:"#ffffff",elements:[],transitions:[]};j("slides",[...a.content.slides,e])},children:[i.jsx(A.Z,{className:"w-4 h-4 mr-2"}),"Adicionar Slide"]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[a.content.slides.map((e,s)=>(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)(d.ll,{className:"text-base",children:["Slide ",s+1]}),i.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>v(e.id),className:"text-red-600",children:i.jsx(e1.Z,{className:"w-4 h-4"})})]})}),(0,i.jsxs)(d.aY,{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"T\xedtulo"}),i.jsx(eO.I,{value:e.title,onChange:s=>y(e.id,"title",s.target.value),placeholder:"T\xedtulo do slide..."})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Dura\xe7\xe3o (segundos)"}),i.jsx(eO.I,{type:"number",value:e.duration,onChange:s=>y(e.id,"duration",parseInt(s.target.value)||5),min:"1",max:"60"})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Conte\xfado"}),i.jsx(eF.g,{value:e.content,onChange:s=>y(e.id,"content",s.target.value),placeholder:"Conte\xfado do slide...",rows:3})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Cor de Fundo"}),i.jsx(eO.I,{type:"color",value:e.background,onChange:s=>y(e.id,"background",s.target.value),className:"w-20 h-10"})]})]})]},e.id)),0===a.content.slides.length&&(0,i.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(sW.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),i.jsx("p",{children:"Nenhum slide adicionado ainda."}),i.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Slide" para come\xe7ar.'})]})]})]}),i.jsx(eT.nU,{value:"settings",className:"space-y-4",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-base",children:"Configura\xe7\xf5es de V\xeddeo"})}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Largura"}),i.jsx(eO.I,{type:"number",value:a.content.settings.resolution.width,onChange:e=>p("resolution",{...a.content.settings.resolution,width:parseInt(e.target.value)||1920})})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Altura"}),i.jsx(eO.I,{type:"number",value:a.content.settings.resolution.height,onChange:e=>p("resolution",{...a.content.settings.resolution,height:parseInt(e.target.value)||1080})})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Taxa de Quadros (FPS)"}),(0,i.jsxs)(ez.Ph,{value:a.content.settings.frameRate.toString(),onValueChange:e=>p("frameRate",parseInt(e)),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"24",children:"24 FPS"}),i.jsx(ez.Ql,{value:"30",children:"30 FPS"}),i.jsx(ez.Ql,{value:"60",children:"60 FPS"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Dura\xe7\xe3o Total (segundos)"}),i.jsx(eO.I,{type:"number",value:a.content.settings.duration,onChange:e=>p("duration",parseInt(e.target.value)||60),min:"1"})]})]})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-base",children:"Configura\xe7\xf5es de Renderiza\xe7\xe3o"})}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Qualidade"}),(0,i.jsxs)(ez.Ph,{value:a.content.settings.renderSettings.quality,onValueChange:e=>p("renderSettings",{...a.content.settings.renderSettings,quality:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"low",children:"Baixa"}),i.jsx(ez.Ql,{value:"medium",children:"M\xe9dia"}),i.jsx(ez.Ql,{value:"high",children:"Alta"}),i.jsx(ez.Ql,{value:"ultra",children:"Ultra"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Formato"}),(0,i.jsxs)(ez.Ph,{value:a.content.settings.renderSettings.format,onValueChange:e=>p("renderSettings",{...a.content.settings.renderSettings,format:e}),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"mp4",children:"MP4"}),i.jsx(ez.Ql,{value:"webm",children:"WebM"}),i.jsx(ez.Ql,{value:"avi",children:"AVI"}),i.jsx(ez.Ql,{value:"mov",children:"MOV"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Bitrate (kbps)"}),i.jsx(eO.I,{type:"number",value:a.content.settings.renderSettings.bitrate,onChange:e=>p("renderSettings",{...a.content.settings.renderSettings,bitrate:parseInt(e.target.value)||5e3}),min:"1000",max:"50000"})]})]})]})]})}),(0,i.jsxs)(eT.nU,{value:"preview",className:"space-y-4",children:[(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-base",children:"Preview do Template"})}),i.jsx(d.aY,{children:i.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(N.Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-gray-600",children:"Preview ser\xe1 gerado ap\xf3s salvar"})]})})})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-base",children:"Resumo do Template"})}),(0,i.jsxs)(d.aY,{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Nome:"})," ",a.name||"Sem nome"]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Categoria:"})," ",a.category]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Slides:"})," ",a.content.slides.length]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Dura\xe7\xe3o:"})," ",a.content.settings.duration,"s"]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Resolu\xe7\xe3o:"})," ",a.content.settings.resolution.width,"x",a.content.settings.resolution.height]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"FPS:"})," ",a.content.settings.frameRate]})]}),a.tags.length>0&&(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium text-sm",children:"Tags:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.tags.map((e,s)=>i.jsx(o.C,{variant:"outline",className:"text-xs",children:e},s))})]})]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:[i.jsx(c.z,{variant:"outline",onClick:s,children:"Cancelar"}),(0,i.jsxs)(c.z,{onClick:()=>{t({...a,isCustom:!0,updatedAt:new Date,...e?{}:{id:`template-${Date.now()}`,createdAt:new Date,author:"Usu\xe1rio Atual",version:"1.0.0",downloads:0,rating:0,isFavorite:!1,metadata:{compliance:{nrCategories:[a.category],requirements:[],certifications:[],lastAudit:new Date,status:"compliant"},performance:{renderTime:0,fileSize:0,complexity:"medium",optimization:85},compatibility:{browsers:["Chrome","Firefox","Safari","Edge"],devices:["Desktop","Mobile","Tablet"],resolutions:["1920x1080","1280x720","3840x2160"],formats:["mp4","webm"]},usage:{views:0,downloads:0,likes:0,shares:0,lastUsed:new Date}}}})},className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(tx.Z,{className:"w-4 h-4 mr-2"}),e?"Salvar Altera\xe7\xf5es":"Criar Template"]})]})]})})};var tu=t(780305);let tj=({filter:e,onFilterChange:s,onClearFilters:t,categoryStats:a,sort:r,onSortChange:l})=>{let n=[{value:"name",label:"Nome"},{value:"createdAt",label:"Data de Cria\xe7\xe3o"},{value:"updatedAt",label:"\xdaltima Atualiza\xe7\xe3o"},{value:"rating",label:"Avalia\xe7\xe3o"},{value:"downloads",label:"Downloads"},{value:"usage",label:"Uso"}],m=n.map(e=>e.value),x=["asc","desc"],h=e=>m.includes(e),u=e=>x.includes(e),j=(t,a)=>{let r=e.category||[];s({category:a?[...r,t]:r.filter(e=>e!==t)})},p=(t,a)=>{let r=e.tags||[];s({tags:a?[...r,t]:r.filter(e=>e!==t)})};return(0,i.jsxs)(d.Zb,{className:"mb-6",children:[i.jsx(d.Ol,{className:"pb-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)(d.ll,{className:"text-lg flex items-center",children:[i.jsx(sM.Z,{className:"w-5 h-5 mr-2"}),"Filtros"]}),(e.category&&e.category.length>0||e.tags&&e.tags.length>0||e.author||e.rating||void 0!==e.isFavorite||void 0!==e.isCustom)&&(0,i.jsxs)(c.z,{variant:"outline",size:"sm",onClick:t,children:[i.jsx(C.Z,{className:"w-4 h-4 mr-2"}),"Limpar Filtros"]})]})}),(0,i.jsxs)(d.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Categorias NR"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:["NR-01","NR-02","NR-03","NR-04","NR-05","NR-06","NR-07","NR-08","NR-09","NR-10","NR-11","NR-12","NR-13","NR-14","NR-15","NR-16","NR-17","NR-18","NR-19","NR-20","NR-21","NR-22","NR-23","NR-24","NR-25","NR-26","NR-27","NR-28","NR-29","NR-30","NR-31","NR-32","NR-33","NR-34","NR-35","NR-36","NR-37","CUSTOM"].map(s=>{let t=a[s]||0;return 0===t?null:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(tu.X,{id:`category-${s}`,checked:e.category?.includes(s)||!1,onCheckedChange:e=>j(s,!0===e)}),(0,i.jsxs)("label",{htmlFor:`category-${s}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:[s," (",t,")"]})]},s)})})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Tags Populares"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Seguran\xe7a","Treinamento","EPI","Procedimento","Emerg\xeancia","Preven\xe7\xe3o","Inspe\xe7\xe3o","Manuten\xe7\xe3o","Opera\xe7\xe3o","Compliance","Auditoria","Certifica\xe7\xe3o"].map(s=>i.jsx(o.C,{variant:e.tags?.includes(s)?"default":"outline",className:"cursor-pointer hover:bg-blue-100",onClick:()=>p(s,!e.tags?.includes(s)),children:s},s))})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Avalia\xe7\xe3o M\xednima: ",e.rating||0," estrelas"]}),i.jsx(to.i,{value:[e.rating||0],onValueChange:e=>{s({rating:e[0]})},max:5,min:0,step:.5,className:"w-full"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Tipo"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(tu.X,{id:"favorites",checked:!0===e.isFavorite,onCheckedChange:e=>s({isFavorite:!0===e||void 0})}),i.jsx("label",{htmlFor:"favorites",className:"text-sm cursor-pointer",children:"Apenas Favoritos"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(tu.X,{id:"custom",checked:!0===e.isCustom,onCheckedChange:e=>s({isCustom:!0===e||void 0})}),i.jsx("label",{htmlFor:"custom",className:"text-sm cursor-pointer",children:"Apenas Personalizados"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ordenar Por"}),(0,i.jsxs)(ez.Ph,{value:r.field,onValueChange:e=>{h(e)&&l({field:e,direction:r.direction})},children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{placeholder:"Selecione..."})}),i.jsx(ez.Bw,{children:n.map(e=>i.jsx(ez.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ordem"}),(0,i.jsxs)(ez.Ph,{value:r.direction,onValueChange:e=>{u(e)&&l({field:r.field,direction:e})},children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{placeholder:"Selecione..."})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"asc",children:"Crescente"}),i.jsx(ez.Ql,{value:"desc",children:"Decrescente"})]})]})]})]}),(e.category&&e.category.length>0||e.tags&&e.tags.length>0||e.author||e.rating||void 0!==e.isFavorite||void 0!==e.isCustom)&&(0,i.jsxs)("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Filtros Ativos"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.category?.map(e=>i.jsxs(o.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,i.jsx(C.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>j(e,!1)})]},e)),e.tags?.map(e=>i.jsxs(o.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,i.jsx(C.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>p(e,!1)})]},e)),e.rating&&(0,i.jsxs)(o.C,{variant:"secondary",className:"flex items-center gap-1",children:[" ",e.rating," estrelas",i.jsx(C.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>s({rating:void 0})})]}),e.isFavorite&&(0,i.jsxs)(o.C,{variant:"secondary",className:"flex items-center gap-1",children:["Favoritos",i.jsx(C.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>s({isFavorite:void 0})})]}),e.isCustom&&(0,i.jsxs)(o.C,{variant:"secondary",className:"flex items-center gap-1",children:["Personalizados",i.jsx(C.Z,{className:"w-3 h-3 cursor-pointer",onClick:()=>s({isCustom:void 0})})]})]})]})]})]})};var tp=t(1817),tg=t(136335),tf=t(625880);let tv=({mode:e,template:s,onClose:t,onImport:a,onExport:r})=>{let[l,m]=(0,n.useState)("import"===e?"file":"json"),[x,h]=(0,n.useState)(""),[u,j]=(0,n.useState)("json"),[p,g]=(0,n.useState)(0),[f,v]=(0,n.useState)("idle"),[y,N]=(0,n.useState)(""),[b,w]=(0,n.useState)([]),k=(0,n.useRef)(null),C=[{id:"json",name:"JSON",description:"Formato padr\xe3o do sistema",icon:tg.Z},{id:"xml",name:"XML",description:"Formato XML estruturado",icon:tf.Z},{id:"zip",name:"ZIP Package",description:"Pacote completo com assets",icon:eW.Z},{id:"url",name:"Share URL",description:"Link para compartilhamento",icon:s4.Z}],_=e=>{try{let s=JSON.parse(e),t=Array.isArray(s)?s:[s],a=0,r=setInterval(()=>{a+=20,g(a),a>=100&&(clearInterval(r),P(t))},200)}catch(e){v("error"),N("JSON inv\xe1lido")}},Z=e=>{v("error"),N("Importa\xe7\xe3o XML ainda n\xe3o implementada")},S=e=>{v("error"),N("Importa\xe7\xe3o ZIP ainda n\xe3o implementada")},P=e=>{let s=e.map((e,s)=>{let t=[],a=[];return e.name||t.push("Nome \xe9 obrigat\xf3rio"),e.category||t.push("Categoria \xe9 obrigat\xf3ria"),e.content||t.push("Conte\xfado \xe9 obrigat\xf3rio"),e.content&&!e.content.slides&&a.push("Nenhum slide encontrado"),{index:s,template:e,valid:0===t.length,errors:t,warnings:a}});w(s);let t=s.filter(e=>e.valid).map(e=>e.template);t.length>0?(v("success"),N(`${t.length} template(s) importado(s) com sucesso`),a?.(t)):(v("error"),N("Nenhum template v\xe1lido encontrado"))},A=()=>{if(!s&&"url"!==u){v("error"),N("Nenhum template selecionado");return}v("processing"),g(0);let e=setInterval(()=>{g(s=>{let t=s+25;return t>=100&&(clearInterval(e),O()),t})},300)},O=()=>{let e;let t="";switch(u){case"json":e=JSON.stringify(s,null,2),t=`${s?.name||"template"}.json`;break;case"xml":e=R(s),t=`${s?.name||"template"}.xml`;break;case"zip":e=F(s),t=`${s?.name||"template"}.zip`;break;case"url":e=E(s),t="share-url.txt"}"url"===u?(navigator.clipboard.writeText(e),v("success"),N("URL copiada para a \xe1rea de transfer\xeancia")):(T(e,t),v("success"),N("Template exportado com sucesso")),r?.(u,e)},R=e=>`<?xml version="1.0" encoding="UTF-8"?>
<template>
  <name>${e?.name||""}</name>
  <description>${e?.description||""}</description>
  <category>${e?.category||""}</category>
</template>`,F=e=>JSON.stringify({template:e,assets:[],metadata:{exportedAt:new Date().toISOString(),version:"1.0.0"}},null,2),E=e=>{let s=btoa(JSON.stringify(e));return`${window.location.origin}/templates/shared?data=${s}`},T=(e,s)=>{let t=new Blob([e],{type:"application/octet-stream"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)};return i.jsx(eD.Vq,{open:!0,onOpenChange:t,children:(0,i.jsxs)(eD.cZ,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsx(eD.fK,{children:i.jsx(eD.$N,{className:"flex items-center gap-2",children:"import"===e?(0,i.jsxs)(i.Fragment,{children:[i.jsx(eV.Z,{className:"w-5 h-5"}),"Importar Templates"]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(e0.Z,{className:"w-5 h-5"}),"Exportar Template"]})})}),"import"===e?(0,i.jsxs)(eT.mQ,{value:l,onValueChange:m,className:"w-full",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-2",children:[i.jsx(eT.SP,{value:"file",children:"Arquivo"}),i.jsx(eT.SP,{value:"text",children:"Texto"})]}),i.jsx(eT.nU,{value:"file",className:"space-y-4",children:(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-base",children:"Upload de Arquivo"})}),i.jsx(d.aY,{className:"space-y-4",children:(0,i.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[i.jsx(eV.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{className:"text-lg font-medium mb-2",children:"Arraste um arquivo ou clique para selecionar"}),i.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Formatos suportados: JSON, XML, ZIP"}),i.jsx(c.z,{onClick:()=>k.current?.click(),children:"Selecionar Arquivo"}),i.jsx("input",{ref:k,type:"file",accept:".json,.xml,.zip",onChange:e=>{let s=e.target.files?.[0];if(!s)return;v("processing"),g(0);let t=new FileReader;t.onload=e=>{try{let t=e.target?.result;if("application/json"===s.type||s.name.endsWith(".json"))_(t);else if(s.name.endsWith(".xml"))Z(t);else if(s.name.endsWith(".zip"))S(s);else throw Error("Formato de arquivo n\xe3o suportado")}catch(e){v("error"),N(`Erro ao processar arquivo: ${e instanceof Error?e.message:"Erro desconhecido"}`)}},t.onerror=()=>{v("error"),N("Erro ao ler o arquivo")},s.name.endsWith(".zip")?t.readAsArrayBuffer(s):t.readAsText(s)},className:"hidden"})]})})]})}),i.jsx(eT.nU,{value:"text",className:"space-y-4",children:(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-base",children:"Importar via Texto"})}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{htmlFor:"import-data",children:"Cole o JSON do template:"}),i.jsx(eF.g,{id:"import-data",value:x,onChange:e=>h(e.target.value),placeholder:"Cole aqui o conte\xfado JSON do template...",rows:10,className:"font-mono text-sm"})]}),(0,i.jsxs)(c.z,{onClick:()=>{if(!x.trim()){v("error"),N("Cole o conte\xfado do template");return}_(x)},className:"w-full",children:[i.jsx(eV.Z,{className:"w-4 h-4 mr-2"}),"Importar Template"]})]})]})})]}):(0,i.jsxs)(eT.mQ,{value:l,onValueChange:m,className:"w-full",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-4",children:[i.jsx(eT.SP,{value:"json",children:"JSON"}),i.jsx(eT.SP,{value:"xml",children:"XML"}),i.jsx(eT.SP,{value:"zip",children:"ZIP"}),i.jsx(eT.SP,{value:"share",children:"Compartilhar"})]}),C.map(e=>i.jsx(eT.nU,{value:e.id,className:"space-y-4",children:(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"text-base flex items-center gap-2",children:[i.jsx(e.icon,{className:"w-5 h-5"}),"Exportar como ",e.name]})}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:e.description}),s&&(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium mb-2",children:"Template Selecionado:"}),(0,i.jsxs)("div",{className:"text-sm space-y-1",children:[(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Nome:"})," ",s.name]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Categoria:"})," ",s.category]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"font-medium",children:"Slides:"})," ",s.content.slides.length]})]})]}),(0,i.jsxs)(c.z,{onClick:()=>{j(e.id),A()},className:"w-full",children:[i.jsx(e0.Z,{className:"w-4 h-4 mr-2"}),"Exportar ",e.name]})]})]})},e.id))]}),"processing"===f&&i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"pt-6",children:(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:"Processando..."}),(0,i.jsxs)("span",{children:[p,"%"]})]}),i.jsx(eM.E,{value:p,className:"w-full"})]})})}),y&&(0,i.jsxs)(tp.bZ,{className:"error"===f?"border-red-200 bg-red-50":"success"===f?"border-green-200 bg-green-50":"",children:["error"===f?i.jsx(sO.Z,{className:"h-4 w-4 text-red-600"}):"success"===f?i.jsx(sA.Z,{className:"h-4 w-4 text-green-600"}):null,i.jsx(tp.X,{className:"error"===f?"text-red-800":"success"===f?"text-green-800":"",children:y})]}),b.length>0&&(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{className:"text-base",children:"Resultados da Valida\xe7\xe3o"})}),i.jsx(d.aY,{children:i.jsx("div",{className:"space-y-3",children:b.map((e,s)=>(0,i.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("span",{className:"font-medium",children:["Template ",s+1,": ",e.template.name||"Sem nome"]}),i.jsx(o.C,{variant:e.valid?"default":"destructive",children:e.valid?"V\xe1lido":"Inv\xe1lido"})]}),e.errors.length>0&&(0,i.jsxs)("div",{className:"text-sm text-red-600 space-y-1",children:[i.jsx("div",{className:"font-medium",children:"Erros:"}),e.errors.map((e,s)=>(0,i.jsxs)("div",{className:"ml-2",children:[" ",e]},s))]}),e.warnings.length>0&&(0,i.jsxs)("div",{className:"text-sm text-yellow-600 space-y-1 mt-2",children:[i.jsx("div",{className:"font-medium",children:"Avisos:"}),e.warnings.map((e,s)=>(0,i.jsxs)("div",{className:"ml-2",children:[" ",e]},s))]})]},s))})})]}),i.jsx("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t",children:i.jsx(c.z,{variant:"outline",onClick:t,children:"Fechar"})})]})})},ty=({className:e})=>{let{templates:s,filteredTemplates:t,favorites:a,customTemplates:r,loading:l,error:o,filter:m,selectedTemplate:x,setFilter:h,clearFilter:u,searchTemplates:j,toggleFavorite:p,createTemplate:g,updateTemplate:f,deleteTemplate:v,duplicateTemplate:y,selectTemplate:N,getCategoryStats:b,exportTemplate:w,importTemplate:k}=(0,ta.z)(),[C,_]=(0,n.useState)("grid"),[Z,S]=(0,n.useState)(!1),[O,R]=(0,n.useState)(!1),[F,E]=(0,n.useState)(!1),[T,z]=(0,n.useState)(!1),[D,I]=(0,n.useState)(""),M=b(),Q=e=>{I(e),j(e)},$=e=>{N(e),S(!0)},U=e=>{N(e),R(!0)},q=async e=>{try{await y(e.id)}catch(e){console.error("Failed to duplicate template:",e)}},V=async e=>{if(window.confirm(`Tem certeza que deseja excluir o template "${e.name}"?`))try{await v(e.id)}catch(e){console.error("Failed to delete template:",e)}},L=async e=>{try{let s=await w(e.id,{format:"json",includeAssets:!0,compression:!0}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`${e.name}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}catch(e){console.error("Failed to export template:",e)}};return l?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?(0,i.jsxs)("div",{className:"text-center text-red-600 p-4",children:[(0,i.jsxs)("p",{children:["Erro ao carregar templates: ",o]}),i.jsx(c.z,{onClick:()=>window.location.reload(),className:"mt-2",children:"Tentar Novamente"})]}):(0,i.jsxs)("div",{className:`space-y-6 ${e}`,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Templates"}),i.jsx("p",{className:"text-gray-600",children:"Gerencie e organize seus templates de v\xeddeo"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{onClick:()=>{N(null),R(!0)},className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(A.Z,{className:"w-4 h-4 mr-2"}),"Novo Template"]}),(0,i.jsxs)(c.z,{variant:"outline",onClick:()=>z(!0),children:[i.jsx(eV.Z,{className:"w-4 h-4 mr-2"}),"Importar/Exportar"]})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsxs)("div",{className:"flex-1 relative",children:[i.jsx(P.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(eO.I,{placeholder:"Buscar templates...",value:D,onChange:e=>Q(e.target.value),className:"pl-10"})]}),(0,i.jsxs)(c.z,{variant:"outline",onClick:()=>E(!F),className:F?"bg-blue-50 border-blue-200":"",children:[i.jsx(sM.Z,{className:"w-4 h-4 mr-2"}),"Filtros"]}),(0,i.jsxs)("div",{className:"flex items-center border rounded-lg",children:[i.jsx(c.z,{variant:"grid"===C?"default":"ghost",size:"sm",onClick:()=>_("grid"),className:"rounded-r-none",children:i.jsx(te.Z,{className:"w-4 h-4"})}),i.jsx(c.z,{variant:"list"===C?"default":"ghost",size:"sm",onClick:()=>_("list"),className:"rounded-l-none",children:i.jsx(ts.Z,{className:"w-4 h-4"})})]})]}),F&&i.jsx(tj,{filter:m,onFilterChange:h,onClearFilters:u,categoryStats:M,sort:sort,onSortChange:setSort}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total de Templates"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]}),i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(te.Z,{className:"w-6 h-6 text-blue-600"})})]})})}),i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Favoritos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),i.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:i.jsx(tt.Z,{className:"w-6 h-6 text-red-600"})})]})})}),i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Personalizados"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]}),i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(e4.Z,{className:"w-6 h-6 text-green-600"})})]})})}),i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Filtrados"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx(sM.Z,{className:"w-6 h-6 text-purple-600"})})]})})})]}),(0,i.jsxs)(eT.mQ,{defaultValue:"all",className:"w-full",children:[(0,i.jsxs)(eT.dr,{className:"grid w-full grid-cols-4",children:[(0,i.jsxs)(eT.SP,{value:"all",children:["Todos (",s.length,")"]}),(0,i.jsxs)(eT.SP,{value:"favorites",children:["Favoritos (",a.length,")"]}),(0,i.jsxs)(eT.SP,{value:"custom",children:["Personalizados (",r.length,")"]}),i.jsx(eT.SP,{value:"recent",children:"Recentes"})]}),i.jsx(eT.nU,{value:"all",className:"mt-6",children:i.jsx(tN,{templates:t,viewMode:C,onSelect:$,onEdit:U,onDuplicate:q,onDelete:V,onExport:L,onToggleFavorite:p})}),i.jsx(eT.nU,{value:"favorites",className:"mt-6",children:i.jsx(tN,{templates:a,viewMode:C,onSelect:$,onEdit:U,onDuplicate:q,onDelete:V,onExport:L,onToggleFavorite:p})}),i.jsx(eT.nU,{value:"custom",className:"mt-6",children:i.jsx(tN,{templates:r,viewMode:C,onSelect:$,onEdit:U,onDuplicate:q,onDelete:V,onExport:L,onToggleFavorite:p})}),i.jsx(eT.nU,{value:"recent",className:"mt-6",children:i.jsx(tN,{templates:s.slice().sort((e,s)=>new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime()).slice(0,20),viewMode:C,onSelect:$,onEdit:U,onDuplicate:q,onDelete:V,onExport:L,onToggleFavorite:p})})]}),Z&&x&&i.jsx(tm,{template:x,onClose:()=>S(!1),onEdit:()=>{S(!1),R(!0)},onUse:()=>{console.log("Using template:",x)}}),O&&i.jsx(th,{template:x,onClose:()=>R(!1),onSave:async e=>{try{x?await f(x.id,e):await g(e),R(!1)}catch(e){console.error("Failed to save template:",e)}}}),T&&i.jsx(tv,{onClose:()=>z(!1),onImport:k,onExport:w})]})},tN=({templates:e,viewMode:s,onSelect:t,onEdit:a,onDuplicate:r,onDelete:l,onExport:n,onToggleFavorite:c})=>0===e.length?(0,i.jsxs)("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx(te.Z,{className:"w-8 h-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum template encontrado"}),i.jsx("p",{className:"text-gray-600",children:"Tente ajustar os filtros ou criar um novo template."})]}):i.jsx("div",{className:"grid"===s?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:e.map(e=>i.jsx(tl,{template:e,viewMode:s,onSelect:()=>t(e),onEdit:()=>a(e),onDuplicate:()=>r(e),onDelete:()=>l(e),onExport:()=>n(e),onToggleFavorite:()=>c(e.id)},e.id))});var tb=t(878674);!function(){var e=Error("Cannot find module '@/app/hooks/useTimeline'");throw e.code="MODULE_NOT_FOUND",e}();var tw=t(701572),tk=t(677506),tC=t(486755),t_=t(549163),tZ=t(161182),tS=t(5198);function tP({onProjectCreate:e,onProjectUpdate:s,initialProject:t}){let{toast:a}=(0,tS.pm)(),{tracks:r,setTracks:l,addKeyframe:x,removeKeyframe:h,updateKeyframe:u,getValuesAtTime:j,createTrack:p,ADVANCED_EASING:v}=Object(function(){var e=Error("Cannot find module '@/app/hooks/useAdvancedKeyframes'");throw e.code="MODULE_NOT_FOUND",e}())(),[y,b]=(0,n.useState)(t||{id:`motionity-${Date.now()}`,name:"Novo Projeto Motionity",description:"Projeto criado com integra\xe7\xe3o Motionity PoC",version:"1.0.0",settings:{width:1920,height:1080,fps:30,duration:60,quality:"preview",codec:"h264"},timeline:{currentTime:0,zoom:1,isPlaying:!1},elements:[],status:"editing"}),[w,k]=(0,n.useState)([]),[C,_]=(0,n.useState)("overview"),[S,P]=(0,n.useState)(!1),[O,R]=(0,n.useState)(0),F=(0,n.useRef)(null),E=(0,n.useCallback)(()=>{y.timeline.isPlaying?(F.current&&clearInterval(F.current),b(e=>({...e,timeline:{...e.timeline,isPlaying:!1}}))):(b(e=>({...e,timeline:{...e.timeline,isPlaying:!0}})),F.current=setInterval(()=>{b(e=>{if(!e.timeline.isPlaying)return e;let s=e.timeline.currentTime+1/e.settings.fps;return s>=e.settings.duration?(F.current&&clearInterval(F.current),{...e,timeline:{...e.timeline,currentTime:e.settings.duration,isPlaying:!1}}):{...e,timeline:{...e.timeline,currentTime:s}}})},1e3/y.settings.fps))},[y.timeline.isPlaying,y.settings.fps]),T=(0,n.useCallback)(e=>{b(s=>({...s,timeline:{...s.timeline,currentTime:Math.max(0,Math.min(e,s.settings.duration))}}))},[]),z=(0,n.useCallback)(()=>{F.current&&clearInterval(F.current),b(e=>({...e,timeline:{...e.timeline,currentTime:0,isPlaying:!1}}))},[]),D=(0,n.useCallback)(e=>{let s={id:`element-${Date.now()}`,type:e,name:`Novo ${e}`,layer:y.elements.length+1,duration:5,startTime:y.timeline.currentTime,locked:!1,visible:!0,properties:{x:y.settings.width/2,y:y.settings.height/2,scaleX:1,scaleY:1,rotation:0,opacity:1,..."text"===e&&{text:"Novo Texto",fontSize:32,fontWeight:400,color:"#ffffff"},..."shape"===e&&{shape:"rectangle",width:200,height:200,color:"#3b82f6",borderRadius:0}},animations:{}};b(e=>({...e,elements:[...e.elements,s]})),a({title:"Elemento criado",description:`${e} adicionado ao projeto`})},[y.elements.length,y.timeline.currentTime,y.settings,a]),I=(0,n.useCallback)(async()=>{P(!0),R(0);try{let e=["Validando elementos...","Processando anima\xe7\xf5es...","Otimizando keyframes...","Gerando preview...","Finalizando..."];for(let s=0;s<e.length;s++)await new Promise(e=>setTimeout(e,1e3)),R((s+1)/e.length*100),a({title:"Processando",description:e[s]});b(e=>({...e,status:"complete"})),a({title:"Processamento conclu\xeddo",description:"Projeto processado com sucesso!"}),s&&s(y)}catch(e){b(e=>({...e,status:"error"})),a({title:"Erro no processamento",description:"Falha ao processar o projeto",variant:"destructive"})}finally{P(!1),R(0)}},[y,s,a]),M=(0,n.useCallback)(()=>{let e=new Blob([JSON.stringify({...y,exportDate:new Date().toISOString(),motionityVersion:"1.0.0-poc"},null,2)],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=`${y.name.replace(/\s+/g,"_")}_motionity.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s),a({title:"Projeto exportado",description:"Arquivo JSON salvo com sucesso"})},[y,a]);return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,i.jsxs)("div",{className:"bg-gray-800 border-b border-gray-700 p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(tw.Z,{className:"h-8 w-8 text-yellow-400"}),(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:y.name}),i.jsx("p",{className:"text-gray-400",children:y.description})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(o.C,{variant:"secondary",className:"bg-yellow-500/20 text-yellow-300",children:[i.jsx(f.Z,{className:"mr-1 h-3 w-3"}),"Motionity PoC"]}),(0,i.jsxs)(o.C,{variant:"outline",className:"editing"===y.status?"border-blue-500 text-blue-400":"rendering"===y.status?"border-orange-500 text-orange-400":"complete"===y.status?"border-green-500 text-green-400":"border-red-500 text-red-400",children:["editing"===y.status&&i.jsx(Z.Z,{className:"mr-1 h-3 w-3"}),"rendering"===y.status&&i.jsx(tk.Z,{className:"mr-1 h-3 w-3 animate-spin"}),"complete"===y.status&&i.jsx(sA.Z,{className:"mr-1 h-3 w-3"}),"error"===y.status&&i.jsx(sX.Z,{className:"mr-1 h-3 w-3"}),y.status]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(c.z,{variant:"outline",onClick:M,children:[i.jsx(e0.Z,{className:"mr-2 h-4 w-4"}),"Exportar"]}),i.jsx(c.z,{onClick:I,disabled:S,className:"bg-yellow-600 hover:bg-yellow-700",children:S?(0,i.jsxs)(i.Fragment,{children:[i.jsx(tk.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Processar"]})})]})]}),S&&(0,i.jsxs)("div",{className:"mt-4",children:[i.jsx(eM.E,{value:O,className:"h-2"}),(0,i.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Processando projeto... ",Math.round(O),"%"]})]})]}),i.jsx("div",{className:"flex-1",children:(0,i.jsxs)(eT.mQ,{value:C,onValueChange:e=>_(e),className:"h-full",children:[i.jsx("div",{className:"bg-gray-800 border-b border-gray-700 px-6",children:(0,i.jsxs)(eT.dr,{className:"bg-gray-700",children:[(0,i.jsxs)(eT.SP,{value:"overview",className:"flex items-center gap-2",children:[i.jsx(eX.Z,{className:"h-4 w-4"}),"Overview"]}),(0,i.jsxs)(eT.SP,{value:"timeline",className:"flex items-center gap-2",children:[i.jsx(g.Z,{className:"h-4 w-4"}),"Timeline"]}),(0,i.jsxs)(eT.SP,{value:"keyframes",className:"flex items-center gap-2",children:[i.jsx(eL.Z,{className:"h-4 w-4"}),"Keyframes"]}),(0,i.jsxs)(eT.SP,{value:"settings",className:"flex items-center gap-2",children:[i.jsx(Z.Z,{className:"h-4 w-4"}),"Configura\xe7\xf5es"]})]})}),(0,i.jsxs)(eT.nU,{value:"overview",className:"p-6 space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700",children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center gap-2",children:[i.jsx(tC.Z,{className:"h-5 w-5"}),"Informa\xe7\xf5es do Projeto"]})}),(0,i.jsxs)(d.aY,{className:"space-y-3",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{className:"text-xs text-gray-400",children:"Nome"}),i.jsx("p",{className:"font-medium",children:y.name})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{className:"text-xs text-gray-400",children:"Resolu\xe7\xe3o"}),(0,i.jsxs)("p",{className:"font-medium",children:[y.settings.width,"x",y.settings.height]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{className:"text-xs text-gray-400",children:"FPS"}),i.jsx("p",{className:"font-medium",children:y.settings.fps})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{className:"text-xs text-gray-400",children:"Dura\xe7\xe3o"}),(0,i.jsxs)("p",{className:"font-medium",children:[y.settings.duration,"s"]})]})]})]}),(0,i.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700",children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center gap-2",children:[i.jsx(t_.Z,{className:"h-5 w-5"}),"Elementos (",y.elements.length,")"]})}),i.jsx(d.aY,{children:i.jsx(m.x,{className:"h-40",children:i.jsx("div",{className:"space-y-2",children:y.elements.map(e=>(0,i.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded bg-gray-700 cursor-pointer hover:bg-gray-600",onClick:()=>k([e.id]),children:["text"===e.type&&i.jsx(tZ.Z,{className:"h-4 w-4 text-green-400"}),"image"===e.type&&i.jsx(eU.Z,{className:"h-4 w-4 text-blue-400"}),"video"===e.type&&i.jsx(g.Z,{className:"h-4 w-4 text-purple-400"}),"audio"===e.type&&i.jsx(e$.Z,{className:"h-4 w-4 text-orange-400"}),"shape"===e.type&&i.jsx(sW.Z,{className:"h-4 w-4 text-pink-400"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:e.name}),(0,i.jsxs)("p",{className:"text-xs text-gray-400",children:[e.startTime,"s - ",e.startTime+e.duration,"s"]})]}),Object.keys(e.animations).length>0&&(0,i.jsxs)(o.C,{variant:"secondary",className:"text-xs bg-yellow-500/20 text-yellow-300",children:[i.jsx(f.Z,{className:"h-2 w-2 mr-1"}),Object.keys(e.animations).length]})]},e.id))})})})]}),(0,i.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700",children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center gap-2",children:[i.jsx(A.Z,{className:"h-5 w-5"}),"Adicionar Elemento"]})}),(0,i.jsxs)(d.aY,{className:"space-y-2",children:[(0,i.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>D("text"),children:[i.jsx(tZ.Z,{className:"mr-2 h-4 w-4"}),"Texto"]}),(0,i.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>D("shape"),children:[i.jsx(sW.Z,{className:"mr-2 h-4 w-4"}),"Forma"]}),(0,i.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>D("image"),children:[i.jsx(eU.Z,{className:"mr-2 h-4 w-4"}),"Imagem"]}),(0,i.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>D("video"),children:[i.jsx(g.Z,{className:"mr-2 h-4 w-4"}),"V\xeddeo"]})]})]})]}),(0,i.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700",children:[i.jsx(d.Ol,{children:(0,i.jsxs)(d.ll,{className:"flex items-center gap-2",children:[i.jsx(N.Z,{className:"h-5 w-5"}),"Controles de Reprodu\xe7\xe3o"]})}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(c.z,{variant:"outline",size:"sm",onClick:z,children:i.jsx(ti.Z,{className:"h-4 w-4"})}),i.jsx(c.z,{variant:y.timeline.isPlaying?"default":"outline",size:"sm",onClick:E,className:y.timeline.isPlaying?"bg-green-600 hover:bg-green-700":"",children:y.timeline.isPlaying?i.jsx(sH.Z,{className:"h-4 w-4"}):i.jsx(N.Z,{className:"h-4 w-4"})}),i.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>T(y.settings.duration),children:i.jsx(tn.Z,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"range",min:"0",max:y.settings.duration,step:"0.1",value:y.timeline.currentTime,onChange:e=>T(parseFloat(e.target.value)),className:"w-full"})}),(0,i.jsxs)("div",{className:"text-sm font-mono bg-gray-700 px-3 py-1 rounded",children:[y.timeline.currentTime.toFixed(1),"s / ",y.settings.duration,"s"]})]})})]})]}),i.jsx(eT.nU,{value:"timeline",className:"m-0 h-full",children:(0,i.jsxs)("div",{className:"text-center py-20 text-gray-400",children:[i.jsx(g.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Timeline Avan\xe7ada"}),i.jsx("p",{children:"Interface de timeline profissional ser\xe1 renderizada aqui"}),i.jsx("p",{className:"text-sm mt-2",children:"Use o componente AdvancedTimelineEditor para visualiza\xe7\xe3o completa"})]})}),i.jsx(eT.nU,{value:"keyframes",className:"m-0 h-full",children:(0,i.jsxs)("div",{className:"text-center py-20 text-gray-400",children:[i.jsx(eL.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Editor de Keyframes"}),i.jsx("p",{children:"Sistema avan\xe7ado de keyframes em desenvolvimento"}),(0,i.jsxs)("div",{className:"mt-4 text-left max-w-md mx-auto text-sm",children:[i.jsx("p",{className:"font-medium mb-2",children:"Recursos dispon\xedveis:"}),(0,i.jsxs)("ul",{className:"space-y-1 text-gray-300",children:[i.jsx("li",{children:" Interpola\xe7\xe3o Bezier"}),i.jsx("li",{children:" Easing avan\xe7ado (bounce, elastic, spring)"}),i.jsx("li",{children:" M\xfaltiplas propriedades anim\xe1veis"}),i.jsx("li",{children:" Copy/paste de keyframes"}),i.jsx("li",{children:" Otimiza\xe7\xe3o autom\xe1tica"})]})]})]})}),i.jsx(eT.nU,{value:"settings",className:"p-6",children:(0,i.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,i.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700",children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Configura\xe7\xf5es do Projeto"}),i.jsx(d.SZ,{children:"Defina as configura\xe7\xf5es b\xe1sicas do seu projeto Motionity"})]}),(0,i.jsxs)(d.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Largura"}),i.jsx(eO.I,{type:"number",value:y.settings.width,onChange:e=>b(s=>({...s,settings:{...s.settings,width:parseInt(e.target.value)}}))})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Altura"}),i.jsx(eO.I,{type:"number",value:y.settings.height,onChange:e=>b(s=>({...s,settings:{...s.settings,height:parseInt(e.target.value)}}))})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"FPS"}),(0,i.jsxs)(ez.Ph,{value:y.settings.fps.toString(),onValueChange:e=>b(s=>({...s,settings:{...s.settings,fps:parseInt(e)}})),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"24",children:"24 FPS"}),i.jsx(ez.Ql,{value:"30",children:"30 FPS"}),i.jsx(ez.Ql,{value:"60",children:"60 FPS"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Dura\xe7\xe3o (segundos)"}),i.jsx(eO.I,{type:"number",value:y.settings.duration,onChange:e=>b(s=>({...s,settings:{...s.settings,duration:parseInt(e.target.value)}}))})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Qualidade"}),(0,i.jsxs)(ez.Ph,{value:y.settings.quality,onValueChange:e=>b(s=>({...s,settings:{...s.settings,quality:e}})),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"draft",children:"Rascunho"}),i.jsx(ez.Ql,{value:"preview",children:"Preview"}),i.jsx(ez.Ql,{value:"final",children:"Final"})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx(eR._,{children:"Codec"}),(0,i.jsxs)(ez.Ph,{value:y.settings.codec,onValueChange:e=>b(s=>({...s,settings:{...s.settings,codec:e}})),children:[i.jsx(ez.i4,{children:i.jsx(ez.ki,{})}),(0,i.jsxs)(ez.Bw,{children:[i.jsx(ez.Ql,{value:"h264",children:"H.264"}),i.jsx(ez.Ql,{value:"h265",children:"H.265"}),i.jsx(ez.Ql,{value:"vp9",children:"VP9"}),i.jsx(ez.Ql,{value:"av1",children:"AV1"})]})]})]})]})]})]}),(0,i.jsxs)(d.Zb,{className:"bg-gray-800 border-gray-700",children:[i.jsx(d.Ol,{children:i.jsx(d.ll,{children:"Informa\xe7\xf5es da Integra\xe7\xe3o"})}),i.jsx(d.aY,{children:(0,i.jsxs)(tp.bZ,{children:[i.jsx(tw.Z,{className:"h-4 w-4"}),i.jsx(tp.X,{children:"Esta \xe9 uma Prova de Conceito (PoC) da integra\xe7\xe3o com Motionity. O sistema demonstra recursos avan\xe7ados de timeline, keyframes e anima\xe7\xf5es profissionais para edi\xe7\xe3o de v\xeddeo."})]})})]})]})})]})})]})}!function(){var e=Error("Cannot find module '@/app/hooks/useAdvancedKeyframes'");throw e.code="MODULE_NOT_FOUND",e}();let tA=[{id:"overview",label:"Overview",icon:u,description:"Dashboard overview and quick stats"},{id:"projects",label:"Projects",icon:j.Z,description:"Manage your video projects"},{id:"templates",label:"Templates",icon:r.FileTemplate,description:"Browse and manage video templates"},{id:"editor",label:"Editor",icon:p.Z,description:"WYSIWYG content editor with timeline and 3D preview"},{id:"timeline",label:"Timeline Editor",icon:g.Z,description:"Professional timeline editor for video production"},{id:"motionity",label:"Motionity PoC",icon:f.Z,description:"Advanced Motionity integration with keyframes and animations"},{id:"analytics",label:"Analytics",icon:v.Z,description:"System and user analytics"},{id:"notifications",label:"Notifications",icon:y.Z,description:"Alerts and notification center"},{id:"render",label:"Render Pipeline",icon:N.Z,description:"Render queue and monitoring"},{id:"apis",label:"External APIs",icon:f.Z,description:"TTS, media, and compliance integrations"}];function tO({children:e,defaultTab:s="overview"}){let[t,a]=(0,n.useState)(s),[r,h]=(0,n.useState)(!0),[p,g]=(0,n.useState)("system"),v=(()=>{switch(p){case"light":return b;case"dark":return w;default:return k.Z}})();return(0,i.jsxs)("div",{className:"flex h-screen bg-background",children:[(0,i.jsxs)("div",{className:(0,tr.cn)("flex flex-col border-r bg-card transition-all duration-300",r?"w-64":"w-16"),children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[r&&(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-8 w-8 bg-primary rounded-lg flex items-center justify-center",children:i.jsx(u,{className:"h-4 w-4 text-primary-foreground"})}),(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"font-semibold text-sm",children:"Video Studio"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Dashboard"})]})]}),i.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>{h(!r)},className:"h-8 w-8 p-0",children:r?i.jsx(C.Z,{className:"h-4 w-4"}):i.jsx(_,{className:"h-4 w-4"})})]}),i.jsx(m.x,{className:"flex-1 px-3 py-4",children:i.jsx("nav",{className:"space-y-2",children:tA.map(e=>{let s=e.icon,l=t===e.id;return(0,i.jsxs)(c.z,{variant:l?"secondary":"ghost",className:(0,tr.cn)("w-full justify-start",!r&&"px-2"),onClick:()=>a(e.id),children:[i.jsx(s,{className:(0,tr.cn)("h-4 w-4",r&&"mr-2")}),r&&i.jsx("span",{className:"truncate",children:e.label})]},e.id)})})}),(0,i.jsxs)("div",{className:"border-t p-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,i.jsxs)(x.qE,{className:"h-8 w-8",children:[i.jsx(x.F$,{src:"/placeholder-avatar.jpg"}),i.jsx(x.Q5,{children:"U"})]}),r&&(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:"User Name"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"user@example.com"})]})]}),r&&(0,i.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[i.jsx(c.z,{variant:"ghost",size:"sm",onClick:()=>{let e=["light","dark","system"],s=e.indexOf(p);g(e[(s+1)%e.length])},children:i.jsx(v,{className:"h-4 w-4"})}),i.jsx(c.z,{variant:"ghost",size:"sm",children:i.jsx(Z.Z,{className:"h-4 w-4"})}),i.jsx(c.z,{variant:"ghost",size:"sm",children:i.jsx(S,{className:"h-4 w-4"})})]})]})]}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-card",children:[i.jsx("div",{className:"flex items-center space-x-4",children:(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",children:tA.find(e=>e.id===t)?.label||"Dashboard"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:tA.find(e=>e.id===t)?.description||"Welcome to your dashboard"})]})}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)(c.z,{variant:"outline",size:"sm",children:[i.jsx(P.Z,{className:"mr-2 h-4 w-4"}),"Search"]}),(0,i.jsxs)(c.z,{variant:"outline",size:"sm",children:[i.jsx(A.Z,{className:"mr-2 h-4 w-4"}),"New"]}),i.jsx(c.z,{variant:"outline",size:"sm",children:i.jsx(O.Z,{className:"h-4 w-4"})})]})]}),(0,i.jsxs)(m.x,{className:"flex-1 p-6",children:["overview"===t&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Total Projects"}),i.jsx(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"24"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"+3 from last month"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Active Renders"}),i.jsx(N.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"7"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"2 in queue"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"API Calls Today"}),i.jsx(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"1,234"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from yesterday"})]})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(d.ll,{className:"text-sm font-medium",children:"Notifications"}),i.jsx(y.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,i.jsxs)(d.aY,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"5"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"3 unread"})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"Recent Projects"}),i.jsx(d.SZ,{children:"Your latest video projects"})]}),i.jsx(d.aY,{children:i.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"h-10 w-10 bg-muted rounded-lg flex items-center justify-center",children:i.jsx(j.Z,{className:"h-4 w-4"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("p",{className:"text-sm font-medium",children:["Project ",e]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Updated 2 hours ago"})]}),i.jsx(o.C,{variant:"outline",children:"Active"})]},e))})})]}),(0,i.jsxs)(d.Zb,{children:[(0,i.jsxs)(d.Ol,{children:[i.jsx(d.ll,{children:"System Status"}),i.jsx(d.SZ,{children:"Current system health and performance"})]}),i.jsx(d.aY,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Render Queue"}),i.jsx(o.C,{className:"bg-green-500",children:"Healthy"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"API Services"}),i.jsx(o.C,{className:"bg-green-500",children:"Online"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Database"}),i.jsx(o.C,{className:"bg-green-500",children:"Connected"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm",children:"Storage"}),i.jsx(o.C,{className:"bg-yellow-500",children:"75% Used"})]})]})})]})]})]}),"projects"===t&&i.jsx(se,{}),"templates"===t&&i.jsx(ty,{}),"editor"===t&&i.jsx(tb.r,{}),"timeline"===t&&i.jsx(l.default,{}),"motionity"===t&&i.jsx(tP,{}),"analytics"===t&&i.jsx(s_,{}),"notifications"===t&&i.jsx(sq,{}),"render"===t&&i.jsx(s1,{}),"apis"===t&&i.jsx(s9,{}),e]})]})]})}},1817:(e,s,t)=>{"use strict";t.d(s,{Cd:()=>d,X:()=>o,bZ:()=>c});var a=t(210326),r=t(517577),l=t(630542),i=t(747405);let n=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef(({className:e,variant:s,...t},r)=>a.jsx("div",{ref:r,role:"alert",className:(0,i.cn)(n({variant:s}),e),...t}));c.displayName="Alert";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...s}));d.displayName="AlertTitle";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},215004:(e,s,t)=>{"use strict";t.d(s,{F$:()=>n,Q5:()=>c,qE:()=>i});var a=t(210326),r=t(517577),l=t(747405);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));i.displayName="Avatar";let n=r.forwardRef(({className:e,...s},t)=>a.jsx("img",{ref:t,className:(0,l.cn)("aspect-square h-full w-full",e),...s}));n.displayName="AvatarImage";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));c.displayName="AvatarFallback"},780305:(e,s,t)=>{"use strict";t.d(s,{X:()=>A});var a=t(210326),r=t(517577),l=t(748051),i=t(393095),n=t(782561),c=t(152067),d=t(853405),o=t(602566),m=t(9815),x=t(545226),h="Checkbox",[u,j]=(0,i.b)(h),[p,g]=u(h);function f(e){let{__scopeCheckbox:s,checked:t,children:l,defaultChecked:i,disabled:n,form:d,name:o,onCheckedChange:m,required:x,value:u="on",internal_do_not_use_render:j}=e,[g,f]=(0,c.T)({prop:t,defaultProp:i??!1,onChange:m,caller:h}),[v,y]=r.useState(null),[N,b]=r.useState(null),w=r.useRef(!1),k=!v||!!d||!!v.closest("form"),C={checked:g,disabled:n,setChecked:f,control:v,setControl:y,name:o,form:d,value:u,hasConsumerStoppedPropagationRef:w,required:x,defaultChecked:!_(i)&&i,isFormControl:k,bubbleInput:N,setBubbleInput:b};return(0,a.jsx)(p,{scope:s,...C,children:"function"==typeof j?j(C):l})}var v="CheckboxTrigger",y=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:t,...i},c)=>{let{control:d,value:o,disabled:m,checked:h,required:u,setControl:j,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:y,bubbleInput:N}=g(v,e),b=(0,l.e)(c,j),w=r.useRef(h);return r.useEffect(()=>{let e=d?.form;if(e){let s=()=>p(w.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,p]),(0,a.jsx)(x.WV.button,{type:"button",role:"checkbox","aria-checked":_(h)?"mixed":h,"aria-required":u,"data-state":Z(h),"data-disabled":m?"":void 0,disabled:m,value:o,...i,ref:b,onKeyDown:(0,n.Mj)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.Mj)(t,e=>{p(e=>!!_(e)||!e),N&&y&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});y.displayName=v;var N=r.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:r,checked:l,defaultChecked:i,required:n,disabled:c,value:d,onCheckedChange:o,form:m,...x}=e;return(0,a.jsx)(f,{__scopeCheckbox:t,checked:l,defaultChecked:i,disabled:c,required:n,onCheckedChange:o,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{...x,ref:s,__scopeCheckbox:t}),e&&(0,a.jsx)(C,{__scopeCheckbox:t})]})})});N.displayName=h;var b="CheckboxIndicator",w=r.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:r,...l}=e,i=g(b,t);return(0,a.jsx)(m.z,{present:r||_(i.checked)||!0===i.checked,children:(0,a.jsx)(x.WV.span,{"data-state":Z(i.checked),"data-disabled":i.disabled?"":void 0,...l,ref:s,style:{pointerEvents:"none",...e.style}})})});w.displayName=b;var k="CheckboxBubbleInput",C=r.forwardRef(({__scopeCheckbox:e,...s},t)=>{let{control:i,hasConsumerStoppedPropagationRef:n,checked:c,defaultChecked:m,required:h,disabled:u,name:j,value:p,form:f,bubbleInput:v,setBubbleInput:y}=g(k,e),N=(0,l.e)(t,y),b=(0,d.D)(c),w=(0,o.t)(i);r.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!n.current;if(b!==c&&e){let t=new Event("click",{bubbles:s});v.indeterminate=_(c),e.call(v,!_(c)&&c),v.dispatchEvent(t)}},[v,b,c,n]);let C=r.useRef(!_(c)&&c);return(0,a.jsx)(x.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??C.current,required:h,disabled:u,name:j,value:p,form:f,...s,tabIndex:-1,ref:N,style:{...s.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function _(e){return"indeterminate"===e}function Z(e){return _(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=k;var S=t(732933),P=t(747405);let A=r.forwardRef(({className:e,...s},t)=>a.jsx(N,{ref:t,className:(0,P.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:a.jsx(w,{className:(0,P.cn)("flex items-center justify-center text-current"),children:a.jsx(S.Z,{className:"h-4 w-4"})})}));A.displayName=N.displayName},307973:(e,s,t)=>{"use strict";t.d(s,{$F:()=>d,AW:()=>o,VD:()=>x,Xi:()=>m,h_:()=>c});var a=t(210326),r=t(517577),l=t(750269),i=t(839183),n=t(747405);let c=l.fC,d=l.xz;l.ZA,l.Uv,l.Tr,l.Ee,r.forwardRef(({className:e,inset:s,children:t,...r},c)=>(0,a.jsxs)(l.fF,{ref:c,className:(0,n.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...r,children:[t,a.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=l.fF.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(l.tu,{ref:t,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})).displayName=l.tu.displayName;let o=r.forwardRef(({className:e,sideOffset:s=4,...t},r)=>a.jsx(l.Uv,{children:a.jsx(l.VY,{ref:r,sideOffset:s,className:(0,n.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));o.displayName=l.VY.displayName;let m=r.forwardRef(({className:e,inset:s,...t},r)=>a.jsx(l.ck,{ref:r,className:(0,n.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t}));m.displayName=l.ck.displayName;let x=r.forwardRef(({className:e,...s},t)=>a.jsx(l.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));x.displayName=l.Z0.displayName},870293:(e,s,t)=>{"use strict";t.d(s,{_:()=>d});var a=t(210326),r=t(517577),l=t(490621),i=t(630542),n=t(747405);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...s},t)=>a.jsx(l.f,{ref:t,className:(0,n.cn)(c(),e),...s}));d.displayName=l.f.displayName},289427:(e,s,t)=>{"use strict";t.d(s,{x:()=>n});var a=t(210326),r=t(517577),l=t(416999),i=t(747405);let n=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(l.fC,{ref:r,className:(0,i.cn)("relative overflow-hidden",e),...t,children:[a.jsx(l.l_,{className:"h-full w-full rounded-[inherit]",children:s}),a.jsx(c,{}),a.jsx(l.Ns,{})]}));n.displayName=l.fC.displayName;let c=r.forwardRef(({className:e,orientation:s="vertical",...t},r)=>a.jsx(l.gb,{ref:r,orientation:s,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 border-t border-t-transparent p-[1px]",e),...t,children:a.jsx(l.q4,{className:"relative flex-1 rounded-full bg-border"})}));c.displayName=l.gb.displayName},16013:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(210326),r=t(517577),l=t(390220),i=t(747405);let n=r.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...r},n)=>a.jsx(l.f,{ref:n,decorative:t,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));n.displayName=l.f.displayName},281892:(e,s,t)=>{"use strict";t.d(s,{r:()=>n});var a=t(210326),r=t(517577),l=t(141959),i=t(747405);let n=r.forwardRef(({className:e,...s},t)=>a.jsx(l.fC,{className:(0,i.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(l.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));n.displayName=l.fC.displayName},363617:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var a=t(210326),r=t(517577),l=t(747405);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"},359037:(e,s,t)=>{"use strict";var a=t(517577),r="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},l=a.useState,i=a.useEffect,n=a.useLayoutEffect,c=a.useDebugValue;function d(e){var s=e.getSnapshot;e=e.value;try{var t=s();return!r(e,t)}catch(e){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var t=s(),a=l({inst:{value:t,getSnapshot:s}}),r=a[0].inst,o=a[1];return n(function(){r.value=t,r.getSnapshot=s,d(r)&&o({inst:r})},[e,t,s]),i(function(){return d(r)&&o({inst:r}),e(function(){d(r)&&o({inst:r})})},[e]),c(t),t};s.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:o},841479:(e,s,t)=>{"use strict";e.exports=t(359037)},337358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},341291:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},963062:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},469669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},71821:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},136335:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]])},56625:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},18019:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},605932:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},940617:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},782685:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},29163:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},15128:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(862881).Z)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},841449:(e,s,t)=>{"use strict";t.d(s,{D:()=>A});var a=t(517577),r=t(260962),l=t(762607),i=t(241135),n=t(500671),c=t(919884),d=t(450522);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}function m(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function x(e,s,t){var a;return(s="symbol"==typeof(a=function(e,s){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,s||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?a:a+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}class h extends a.PureComponent{renderIcon(e,s){var{inactiveColor:t}=this.props,r=32/6,l=32/3,i=e.inactive?t:e.color,n=null!=s?s:e.type;if("none"===n)return null;if("plainline"===n)return a.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===n)return a.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(16,"h").concat(l,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*l,",").concat(16,"\n            H").concat(32,"M").concat(2*l,",").concat(16,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(l,",").concat(16),className:"recharts-legend-icon"});if("rect"===n)return a.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(a.isValidElement(e.legendIcon)){var d=function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?m(Object(t),!0).forEach(function(s){x(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}({},e);return delete d.legendIcon,a.cloneElement(e.legendIcon,d)}return a.createElement(c.v,{fill:i,cx:16,cy:16,size:32,sizeType:"diameter",type:n})}renderItems(){var{payload:e,iconSize:s,layout:t,formatter:r,inactiveColor:l,iconType:c}=this.props,m={x:0,y:0,width:32,height:32},x={display:"horizontal"===t?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((e,t)=>{var u=e.formatter||r,j=(0,i.W)({"recharts-legend-item":!0,["legend-item-".concat(t)]:!0,inactive:e.inactive});if("none"===e.type)return null;var p=e.inactive?l:e.color,g=u?u(e.value,e,t):e.value;return a.createElement("li",o({className:j,style:x,key:"legend-item-".concat(t)},(0,d.bw)(this.props,e,t)),a.createElement(n.T,{width:s,height:s,viewBox:m,style:h,"aria-label":"".concat(g," legend icon")},this.renderIcon(e,c)),a.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}render(){var{payload:e,layout:s,align:t}=this.props;return e&&e.length?a.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===s?t:"left"}},this.renderItems()):null}}x(h,"displayName","Legend"),x(h,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var u=t(302645),j=t(223819),p=t(911832),g=t(722466),f=t(109876),v=t(24477),y=["contextPayload"];function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(null,arguments)}function b(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function w(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?b(Object(t),!0).forEach(function(s){k(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function k(e,s,t){var a;return(s="symbol"==typeof(a=function(e,s){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,s||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(e)}(s,"string"))?a:a+"")in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function C(e){return e.value}function _(e){var{contextPayload:s}=e,t=function(e,s){if(null==e)return{};var t,a,r=function(e,s){if(null==e)return{};var t={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==s.indexOf(a))continue;t[a]=e[a]}return t}(e,s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],-1===s.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}(e,y),r=(0,j.z)(s,e.payloadUniqBy,C),l=w(w({},t),{},{payload:r});return a.isValidElement(e.content)?a.cloneElement(e.content,l):"function"==typeof e.content?a.createElement(e.content,l):a.createElement(h,l)}function Z(e){return(0,p.T)(),null}function S(e){return(0,p.T)(),null}function P(e){var s=(0,p.C)(g.E$),t=(0,l.l)(),i=(0,v.h)(),{width:n,height:c,wrapperStyle:d,portal:o}=e,[m,x]=(0,f.B)([s]),h=(0,v.zn)(),u=(0,v.Mw)();if(null==h||null==u)return null;var j=h-(i.left||0)-(i.right||0),y=A.getWidthOrHeight(e.layout,c,n,j),b=o?d:w(w({position:"absolute",width:(null==y?void 0:y.width)||n||"auto",height:(null==y?void 0:y.height)||c||"auto"},function(e,s,t,a,r,l){var i,n,{layout:c,align:d,verticalAlign:o}=s;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(i="center"===d&&"vertical"===c?{left:((a||0)-l.width)/2}:"right"===d?{right:t&&t.right||0}:{left:t&&t.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((r||0)-l.height)/2}:"bottom"===o?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),w(w({},i),n)}(d,e,i,h,u,m)),d),k=null!=o?o:t;if(null==k)return null;var C=a.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:x},a.createElement(Z,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),a.createElement(S,{width:m.width,height:m.height}),a.createElement(_,N({},e,y,{margin:i,chartWidth:h,chartHeight:u,contextPayload:s})));return(0,r.createPortal)(C,k)}class A extends a.PureComponent{static getWidthOrHeight(e,s,t,a){return"vertical"===e&&(0,u.hj)(s)?{height:s}:"horizontal"===e?{width:t||a}:null}render(){return a.createElement(P,this.props)}}k(A,"displayName","Legend"),k(A,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"})},924170:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(919510);let r=(0,t(768570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\components\dashboard\dashboard-layout.tsx#DashboardLayout`);function l(){return a.jsx(r,{})}},390220:(e,s,t)=>{"use strict";t.d(s,{f:()=>d});var a=t(517577),r=t(545226),l=t(210326),i="horizontal",n=["horizontal","vertical"],c=a.forwardRef((e,s)=>{let{decorative:t,orientation:a=i,...c}=e,d=n.includes(a)?a:i;return(0,l.jsx)(r.WV.div,{"data-orientation":d,...t?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:s})});c.displayName="Separator";var d=c}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,605,9648,4843,7131,489,266,6999,7394,7331,8148,7384,2034,5493,787,9673,4374,6430,244,5129,3282],()=>t(950549));module.exports=a})();
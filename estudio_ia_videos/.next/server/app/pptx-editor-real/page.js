(()=>{var e={};e.id=2301,e.ids=[2301],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},88816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.Z,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>h,tree:()=>l}),r(52026),r(14118),r(26083),r(81754);var s=r(23191),a=r(88716),i=r(48001),n=r(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let l=["",{children:["pptx-editor-real",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,52026)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\pptx-editor-real\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],c=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\pptx-editor-real\\page.tsx"],d="/pptx-editor-real/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/pptx-editor-real/page",pathname:"/pptx-editor-real",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},99313:(e,t,r)=>{Promise.resolve().then(r.bind(r,53995))},53995:(e,t,r)=>{"use strict";r.d(t,{ProfessionalPPTXStudio:()=>tX});var s,a={};r.r(a),r.d(a,{FILE:()=>tt,HTML:()=>ta,TEXT:()=>ts,URL:()=>tr});var i=r(10326),n=r(17577),o=r(83431),l=r(82610),c=r(55009),d=r(62329),u=r(52316),h=r(40381),g=r(77506),p=r(30361),m=r(41291),f=r(63685),x=r(89392),v=r(97622),b=r(69145),y=r(31540),j=r(88319),N=r(3634),w=r(94893),S=r(35047),D=r(99447),C=r(68089),T=r(30370),O=r(1817),k=r(88378),I=r(36283),E=r(48998),P=r(71709);function R({onProcessComplete:e,onCancel:t}){let r=(0,S.useRouter)(),[s,a]=(0,n.useState)({status:"idle",progress:0}),[c,d]=(0,n.useState)([]),u=e=>{console.log(`ðŸ“‹ UPLOAD LOG: ${e}`),d(t=>[...t.slice(-4),`${new Date().toLocaleTimeString()}: ${e}`])},x=(0,n.useCallback)(async t=>{let r=t[0];if(r){a({status:"uploading",progress:0,file:r}),d([]),u(`Iniciando upload: ${r.name} (${(r.size/1024/1024).toFixed(2)} MB)`);try{u("\uD83D\uDCE4 Enviando arquivo para S3...");let t=new FormData;t.append("file",r);let s=await fetch("/api/v1/pptx/upload-production",{method:"POST",body:t});if(!s.ok){let e=await s.json();throw Error(e.error||"Erro no upload")}let i=await s.json();u(`âœ… Upload conclu\xeddo! Projeto criado: ${i.project.id}`),a(e=>({...e,progress:50,projectId:i.project.id})),u("\uD83D\uDD27 Iniciando processamento do PPTX..."),a(e=>({...e,status:"processing",progress:60}));let n=await fetch("/api/v1/pptx/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({s3Key:i.job.s3Key,projectId:i.project.id})});if(!n.ok){let e=await n.json();throw Error(e.error||"Erro no processamento")}let o=await n.json();u(`âœ… Processamento conclu\xeddo! ${o.extractedContent?.slides?.length||0} slides extra\xeddos`);let l={slides:o.extractedContent?.slides?.length||0,duration:Math.round(o.extractedContent?.timeline?.totalDuration||0),assets:o.extractedContent?.assets?.images?.length||0,timeline:o.extractedContent?.timeline,s3Key:i.job.s3Key,fileName:r.name,processingTime:0,projectId:i.project.id};a({status:"complete",progress:100,file:r,result:l,projectId:i.project.id}),u("\uD83C\uDF89 Processo completo! Dados salvos no banco de dados."),h.Am.success("âœ… Upload e processamento conclu\xeddos!"),e&&e(l)}catch(e){console.error("âŒ Upload/Processing Error:",e),u(`âŒ Erro: ${e instanceof Error?e.message:"Erro desconhecido"}`),a({status:"error",progress:0,file:r,error:e instanceof Error?e.message:"Erro desconhecido"}),h.Am.error("âŒ Erro no upload/processamento")}}},[e]),{getRootProps:v,getInputProps:b,isDragActive:y}=(0,D.uI)({onDrop:x,accept:{"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]},maxFiles:1,disabled:"uploading"===s.status||"processing"===s.status});return(0,i.jsxs)(o.Zb,{className:"w-full max-w-4xl mx-auto",children:[i.jsx(o.Ol,{className:"text-center",children:(0,i.jsxs)(o.ll,{className:"flex items-center justify-center gap-2",children:[i.jsx(f.Z,{className:"h-6 w-6"}),"Upload PPTX Real - Produ\xe7\xe3o"]})}),(0,i.jsxs)(o.aY,{className:"space-y-6",children:[(0,i.jsxs)("div",{...v(),className:`
            border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all
            ${y?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}
            ${"uploading"===s.status||"processing"===s.status?"opacity-50 cursor-not-allowed":""}
          `,children:[i.jsx("input",{...b()}),i.jsx(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:y?"Solte o arquivo aqui...":"Arraste um arquivo PPTX ou clique para selecionar"}),i.jsx("p",{className:"text-gray-500",children:"Apenas arquivos .pptx s\xe3o aceitos (m\xe1x. 100MB)"})]}),"idle"!==s.status&&i.jsx(o.Zb,{children:(0,i.jsxs)(o.aY,{className:"pt-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:["uploading"===s.status&&i.jsx(g.Z,{className:"h-5 w-5 animate-spin text-blue-500"}),"processing"===s.status&&i.jsx(k.Z,{className:"h-5 w-5 animate-spin text-orange-500"}),"complete"===s.status&&i.jsx(p.Z,{className:"h-5 w-5 text-green-500"}),"error"===s.status&&i.jsx(m.Z,{className:"h-5 w-5 text-red-500"}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium",children:s.file?.name}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["uploading"===s.status&&"Enviando para S3...","processing"===s.status&&"Processando conte\xfado...","complete"===s.status&&"Processamento conclu\xeddo","error"===s.status&&"Erro no processamento"]})]})]}),"error"!==s.status&&i.jsx("div",{className:"w-16 h-16",children:i.jsx(C.Ip,{value:s.progress,text:`${s.progress}%`,styles:(0,C.y3)({textSize:"20px",pathColor:"complete"===s.status?"#10B981":"#3B82F6",textColor:"complete"===s.status?"#10B981":"#3B82F6"})})})]}),i.jsx(T.E,{value:s.progress,className:"mb-4"}),s.projectId&&(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(j.Z,{className:"h-4 w-4 text-blue-500"}),(0,i.jsxs)("span",{className:"text-sm font-mono",children:["Projeto ID: ",s.projectId]})]})]})}),"complete"===s.status&&s.result&&i.jsx(o.Zb,{className:"bg-green-50 border-green-200",children:(0,i.jsxs)(o.aY,{className:"pt-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(p.Z,{className:"h-5 w-5 text-green-600"}),i.jsx("h3",{className:"font-semibold text-green-800",children:"Processamento Conclu\xeddo!"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(I.Z,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),i.jsx("div",{className:"font-bold text-xl",children:s.result.slides}),i.jsx("div",{className:"text-sm text-gray-600",children:"Slides"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(E.Z,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),(0,i.jsxs)("div",{className:"font-bold text-xl",children:[s.result.duration,"s"]}),i.jsx("div",{className:"text-sm text-gray-600",children:"Dura\xe7\xe3o"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(P.Z,{className:"h-8 w-8 text-orange-500 mx-auto mb-2"}),i.jsx("div",{className:"font-bold text-xl",children:s.result.assets}),i.jsx("div",{className:"text-sm text-gray-600",children:"Assets"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(j.Z,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),i.jsx("div",{className:"font-bold text-xl",children:"âœ“"}),i.jsx("div",{className:"text-sm text-gray-600",children:"Salvo no DB"})]})]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)(l.z,{onClick:()=>{s.projectId?(u(`ðŸ”— Redirecionando para editor com projeto: ${s.projectId}`),r.push(`/pptx-editor-real?projectId=${s.projectId}`)):h.Am.error("ID do projeto n\xe3o dispon\xedvel")},className:"flex-1",children:[i.jsx(w.Z,{className:"h-4 w-4 mr-2"}),"Ir para Editor"]}),i.jsx(l.z,{variant:"outline",onClick:()=>a({status:"idle",progress:0}),children:"Novo Upload"})]})]})}),"error"===s.status&&s.error&&(0,i.jsxs)(O.bZ,{className:"border-red-200 bg-red-50",children:[i.jsx(m.Z,{className:"h-4 w-4 text-red-600"}),i.jsx(O.X,{className:"text-red-800",children:s.error})]}),c.length>0&&(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:i.jsx(o.ll,{className:"text-sm",children:"Logs de Processamento"})}),i.jsx(o.aY,{children:i.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded font-mono text-xs space-y-1 max-h-32 overflow-y-auto",children:c.map((e,t)=>i.jsx("div",{children:e},t))})})]})]})]})}r(94230);var M=r(6598),Z=r(64070),_=r(70293),z=r(62881);let A=(0,z.Z)("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);var L=r(21608),q=r(53982),U=r(61182),$=r(49163),F=r(12714),H=r(91216),V=r(9015),B=r(43426),G=r(98091),X=r(99832);function W({width:e=800,height:t=600,onCanvasUpdate:r,initialData:s,projectName:a="Projeto Canvas"}){let g=(0,n.useRef)(null),p=(0,n.useRef)(null),m=(0,n.useRef)(null),[f,x]=(0,n.useState)("select"),[v,b]=(0,n.useState)([]),[j,N]=(0,n.useState)([]),[w,S]=(0,n.useState)([100]),[D,C]=(0,n.useState)(!1),[T,O]=(0,n.useState)(20),{fabric:E}=(0,X.h6)(),R=[{id:"select",label:"Selecionar",icon:A},{id:"rect",label:"Ret\xe2ngulo",icon:L.Z},{id:"circle",label:"C\xedrculo",icon:q.Z},{id:"text",label:"Texto",icon:U.Z},{id:"image",label:"Imagem",icon:P.Z}],z=e=>{b(e.getObjects().map((e,t)=>({id:e.id||`object-${t}`,type:e.type||"unknown",name:e.name||`${e.type||"Object"} ${t+1}`,visible:!1!==e.visible,locked:!1===e.selectable,fabricObject:e}))),r&&r(e.toJSON())},W=()=>{p.current},Y=()=>{p.current},K=()=>{p.current},J=()=>{m.current?.click()},Q=e=>{let t=p.current;if(!t)return;let r=t.getObjects().find(t=>t.id===e);r&&(r.visible=!r.visible,t.renderAll(),z(t))},ee=e=>{let t=p.current;if(!t)return;let r=t.getObjects().find(t=>t.id===e);r&&(r.selectable=!r.selectable,r.evented=r.selectable,t.renderAll(),z(t))},et=e=>{let t=p.current;if(!t)return;let r=e[0]/100;S(e),t.setZoom(r),t.renderAll()},er=e=>{let t=p.current;if(t)switch(e){case"png":es(t.toDataURL({multiplier:1,format:"png",quality:1}),`${a}.png`);break;case"jpg":es(t.toDataURL({multiplier:1,format:"jpeg",quality:.9}),`${a}.jpg`);break;case"json":let r=JSON.stringify(t.toJSON(),null,2);es(`data:application/json;charset=utf-8,${encodeURIComponent(r)}`,`${a}.json`)}},es=(e,t)=>{let r=document.createElement("a");r.href=e,r.download=t,r.click(),h.Am.success(`${t} exportado com sucesso!`)},ea=e=>{switch(x(e),e){case"rect":W();break;case"circle":Y();break;case"text":K();break;case"image":J()}};return E?(0,i.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[(0,i.jsxs)("div",{className:"w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,i.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Canvas Editor"}),i.jsx(d.C,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Production Ready"})]}),i.jsx(Z.I,{value:a,className:"text-sm",placeholder:"Nome do projeto",readOnly:!0})]}),(0,i.jsxs)(c.mQ,{defaultValue:"tools",className:"flex-1 flex flex-col",children:[(0,i.jsxs)(c.dr,{className:"grid w-full grid-cols-3 mx-4 mt-4",children:[i.jsx(c.SP,{value:"tools",children:"Ferramentas"}),i.jsx(c.SP,{value:"layers",children:"Layers"}),i.jsx(c.SP,{value:"export",children:"Export"})]}),(0,i.jsxs)(c.nU,{value:"tools",className:"flex-1 p-4 space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx(_._,{className:"text-sm font-medium mb-2 block",children:"Ferramentas"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.map(e=>{let t=e.icon;return(0,i.jsxs)(l.z,{variant:f===e.id?"default":"outline",size:"sm",onClick:()=>ea(e.id),className:"flex items-center gap-2 text-xs",children:[i.jsx(t,{className:"h-4 w-4"}),e.label]},e.id)})})]}),i.jsx(u.Z,{}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)(_._,{className:"text-sm font-medium mb-2 block",children:["Zoom (",w[0],"%)"]}),i.jsx(M.i,{value:w,onValueChange:et,min:10,max:500,step:10,className:"w-full"}),i.jsx("div",{className:"flex gap-2 mt-2",children:i.jsx(l.z,{size:"sm",variant:"outline",onClick:()=>et([100]),children:"100%"})})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"snapToGrid",checked:D,onChange:e=>C(e.target.checked),className:"rounded"}),i.jsx(_._,{htmlFor:"snapToGrid",className:"text-sm",children:"Snap to Grid"})]})]})]}),i.jsx(c.nU,{value:"layers",className:"flex-1 p-4",children:(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,i.jsxs)(_._,{className:"text-sm font-medium",children:["Layers (",v.length,")"]})}),0===v.length?(0,i.jsxs)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx($.Z,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Nenhum objeto no canvas"})]}):i.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:v.map((e,t)=>i.jsx(o.Zb,{className:"p-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded ${"rect"===e.type?"bg-blue-500":"circle"===e.type?"bg-green-500":"text"===e.type?"bg-purple-500":"image"===e.type?"bg-orange-500":"bg-gray-500"}`}),i.jsx("span",{className:"text-xs font-medium truncate max-w-24",children:e.name})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[i.jsx(l.z,{size:"sm",variant:"ghost",onClick:()=>Q(e.id),className:"h-6 w-6 p-0",children:e.visible?i.jsx(F.Z,{className:"h-3 w-3"}):i.jsx(H.Z,{className:"h-3 w-3"})}),i.jsx(l.z,{size:"sm",variant:"ghost",onClick:()=>ee(e.id),className:"h-6 w-6 p-0",children:e.locked?i.jsx(V.Z,{className:"h-3 w-3"}):i.jsx(B.Z,{className:"h-3 w-3"})})]})]})},e.id))})]})}),i.jsx(c.nU,{value:"export",className:"flex-1 p-4",children:(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx(_._,{className:"text-sm font-medium",children:"Exportar Canvas"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>er("png"),className:"flex items-center gap-2",children:[i.jsx(y.Z,{className:"h-4 w-4"}),"PNG"]}),(0,i.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>er("jpg"),className:"flex items-center gap-2",children:[i.jsx(y.Z,{className:"h-4 w-4"}),"JPG"]}),(0,i.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>er("json"),className:"flex items-center gap-2",children:[i.jsx(I.Z,{className:"h-4 w-4"}),"JSON"]})]}),i.jsx(u.Z,{}),(0,i.jsxs)("div",{children:[i.jsx(_._,{className:"text-sm font-medium mb-2 block",children:"Canvas Info"}),(0,i.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:[(0,i.jsxs)("p",{children:["Tamanho: ",e,"\xd7",t,"px"]}),(0,i.jsxs)("p",{children:["Objetos: ",v.length]}),(0,i.jsxs)("p",{children:["Zoom: ",w[0],"%"]}),(0,i.jsxs)("p",{children:["Grade: ",D?`${T}px`:"Desabilitada"]})]})]})]})})]})]}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:(0,i.jsxs)(l.z,{size:"sm",variant:"destructive",onClick:()=>{let e=p.current;if(!e)return;let t=e.getActiveObjects();t.length>0&&(e.remove(...t),e.discardActiveObject(),z(e),h.Am.success(`${t.length} objeto(s) removido(s)`))},disabled:0===j.length,className:"flex items-center gap-1",children:[i.jsx(G.Z,{className:"h-4 w-4"}),"Excluir"]})}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(d.C,{variant:"secondary",className:"text-xs",children:[j.length," selecionado(s)"]}),(0,i.jsxs)(l.z,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[i.jsx(k.Z,{className:"h-4 w-4"}),"Config"]})]})]})}),i.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 dark:bg-gray-900 p-8",children:i.jsx("div",{className:"flex justify-center",children:(0,i.jsxs)("div",{className:"relative bg-white shadow-lg",children:[i.jsx("canvas",{ref:g,className:"border border-gray-300 dark:border-gray-600"}),D&&i.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",style:{backgroundImage:`
                      linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                      linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)
                    `,backgroundSize:`${T}px ${T}px`}})]})})}),i.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 px-4 py-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("span",{children:["Canvas: ",e,"\xd7",t,"px"]}),(0,i.jsxs)("span",{children:["Zoom: ",w[0],"%"]}),(0,i.jsxs)("span",{children:["Objetos: ",v.length]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("span",{children:["Tool: ",R.find(e=>e.id===f)?.label]}),(0,i.jsxs)("span",{children:["Snap: ",D?"ON":"OFF"]})]})]})})]}),i.jsx("input",{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:e=>{e.target.files?.[0]&&p.current}})]}):i.jsx("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),i.jsx("h2",{className:"text-xl font-semibold",children:"Carregando Canvas Editor..."}),i.jsx("p",{className:"text-muted-foreground",children:"Inicializando Fabric.js"})]})})}function Y(e,t,...r){if("undefined"!=typeof process&&void 0===t)throw Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;(e=Error(t.replace(/%s/g,function(){return r[s++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}var K=r(98813);let J="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function Q(e,t,r){return function(e,t,r){let[s,a]=function(e,t,r){let[s,a]=(0,n.useState)(()=>t(e)),i=(0,n.useCallback)(()=>{let i=t(e);!K(s,i)&&(a(i),r&&r())},[s,e,r]);return J(i),[s,i]}(e,t,r);return J(function(){let t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(a,{handlerIds:[t]})},[e,a]),s}(t,e||(()=>({})),()=>r.reconnect())}function ee(e,t){let r=[...t||[]];return null==t&&"function"!=typeof e&&r.push(e),(0,n.useMemo)(()=>"function"==typeof e?e():e,r)}function et(e,t,r,s){let a=r?r.call(s,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;let i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;let o=Object.prototype.hasOwnProperty.bind(t);for(let n=0;n<i.length;n++){let l=i[n];if(!o(l))return!1;let c=e[l],d=t[l];if(!1===(a=r?r.call(s,c,d,l):void 0)||void 0===a&&c!==d)return!1}return!0}function er(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function es(e){let t={};return Object.keys(e).forEach(r=>{let s=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{let e=(e=null,t=null)=>(0,n.isValidElement)(e)?(function(e){if("string"==typeof e.type)return;let t=e.type.displayName||e.type.name||"the component";throw Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(e),function(e,t){let r=e.ref;return(Y("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r)?(0,n.cloneElement)(e,{ref:e=>{ea(r,e),ea(t,e)}}):(0,n.cloneElement)(e,{ref:t})}(e,t?e=>s(e,t):s)):(s(e,t),e);t[r]=()=>e}}),t}function ea(e,t){"function"==typeof e?e(t):e.current=t}class ei{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){let e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){let e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e),t}reconnectDragPreview(e=!1){let t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!et(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!et(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=es({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,er(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,er(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}let en=(0,n.createContext)({dragDropManager:void 0});function eo(){let{dragDropManager:e}=(0,n.useContext)(en);return Y(null!=e,"Expected drag drop context"),e}let el=!1,ec=!1;class ed{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Y(!el,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return el=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{el=!1}}isDragging(){if(!this.sourceId)return!1;Y(!ec,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ec=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ec=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class eu{beginDrag(){let e=this.spec,t=this.monitor,r=null;return null!=(r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{})?r:null}canDrag(){let e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){let r=this.spec,s=this.monitor,{isDragging:a}=r;return a?a(s):t===e.getSourceId()}endDrag(){let e=this.spec,t=this.monitor,r=this.connector,{end:s}=e;s&&s(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}class eh{get connectTarget(){return this.dropTarget}reconnect(){let e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();let t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!et(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=es({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,er(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let eg=!1;class ep{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;Y(!eg,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return eg=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{eg=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class em{canDrop(){let e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){let e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){let e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function ef(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ex="function"==typeof Symbol&&Symbol.observable||"@@observable",ev=function(){return Math.random().toString(36).substring(7).split("").join(".")},eb={INIT:"@@redux/INIT"+ev(),REPLACE:"@@redux/REPLACE"+ev(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ev()}};function ey(e){return"object"==typeof e}let ej="dnd-core/INIT_COORDS",eN="dnd-core/BEGIN_DRAG",ew="dnd-core/PUBLISH_DRAG_SOURCE",eS="dnd-core/HOVER",eD="dnd-core/DROP",eC="dnd-core/END_DRAG";function eT(e,t){return{type:ej,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}let eO={type:ej,payload:{clientOffset:null,sourceClientOffset:null}};function ek(e,t){return null===t?null===e:Array.isArray(e)?e.some(e=>e===t):e===t}class eI{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){var e,t,r,s,a;let i=this,{dispatch:n}=this.store,o={beginDrag:(e=this,function(t=[],r={publishSource:!0}){let{publishSource:s=!0,clientOffset:a,getSourceClientOffset:i}=r,n=e.getMonitor(),o=e.getRegistry();e.dispatch(eT(a)),Y(!n.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(e){Y(o.getSource(e),"Expected sourceIds to be registered.")});let l=function(e,t){let r=null;for(let s=e.length-1;s>=0;s--)if(t.canDragSource(e[s])){r=e[s];break}return r}(t,n);if(null==l){e.dispatch(eO);return}let c=null;if(a){if(!i)throw Error("getSourceClientOffset must be defined");Y("function"==typeof i,"When clientOffset is provided, getSourceClientOffset must be a function."),c=i(l)}e.dispatch(eT(a,c));let d=o.getSource(l).beginDrag(n,l);if(null!=d)return Y(ey(d),"Item must be an object."),o.pinSource(l),{type:eN,payload:{itemType:o.getSourceType(l),item:d,sourceId:l,clientOffset:a||null,sourceClientOffset:c||null,isSourcePublic:!!s}}}),publishDragSource:(t=this,function(){if(t.getMonitor().isDragging())return{type:ew}}),hover:(r=this,function(e,{clientOffset:t}={}){Y(Array.isArray(e),"Expected targetIds to be an array.");let s=e.slice(0),a=r.getMonitor(),i=r.getRegistry();return function(e,t,r){for(let s=e.length-1;s>=0;s--){let a=e[s];ek(t.getTargetType(a),r)||e.splice(s,1)}}(s,i,a.getItemType()),function(e,t,r){Y(t.isDragging(),"Cannot call hover while not dragging."),Y(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){let s=e[t];Y(e.lastIndexOf(s)===t,"Expected targetIds to be unique in the passed array."),Y(r.getTarget(s),"Expected targetIds to be registered.")}}(s,a,i),function(e,t,r){e.forEach(function(e){r.getTarget(e).hover(t,e)})}(s,a,i),{type:eS,payload:{targetIds:s,clientOffset:t||null}}}),drop:(s=this,function(e={}){let t=s.getMonitor(),r=s.getRegistry();Y(t.isDragging(),"Cannot call drop while not dragging."),Y(!t.didDrop(),"Cannot call drop twice during one drag operation."),(function(e){let t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t})(t).forEach((a,i)=>{let n={type:eD,payload:{dropResult:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},e,function(e,t,r,s){var a;let i=r.getTarget(e),n=i?i.drop(s,e):void 0;return Y(void 0===(a=n)||ey(a),"Drop result must either be an object or undefined."),void 0===n&&(n=0===t?{}:s.getDropResult()),n}(a,i,r,t))}};s.dispatch(n)})}),endDrag:(a=this,function(){let e=a.getMonitor(),t=a.getRegistry();Y(e.isDragging(),"Cannot call endDrag while not dragging.");let r=e.getSourceId();return null!=r&&(t.getSource(r,!0).endDrag(e,r),t.unpinSource()),{type:eC}})};return Object.keys(o).reduce((e,t)=>{let r=o[t];return e[t]=(...e)=>{let t=r.apply(i,e);void 0!==t&&n(t)},e},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{let e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function eE(e,t){return{x:e.x-t.x,y:e.y-t.y}}let eP=[],eR=[];eP.__IS_NONE__=!0,eR.__IS_ALL__=!0;class eM{subscribeToStateChange(e,t={}){let{handlerIds:r}=t;Y("function"==typeof e,"listener must be a function."),Y(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;return this.store.subscribe(()=>{let t=this.store.getState(),a=t.stateId;try{var i,n;a!==s&&(a!==s+1||(i=t.dirtyHandlerIds,n=r,i!==eP&&(i===eR||void 0===n||n.filter(e=>i.indexOf(e)>-1).length>0)))&&e()}finally{s=a}})}subscribeToOffsetChange(e){Y("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe(()=>{let r=this.store.getState().dragOffset;r!==t&&(t=r,e())})}canDragSource(e){if(!e)return!1;let t=this.registry.getSource(e);return Y(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let t=this.registry.getTarget(e);return Y(t,`Expected to find a valid target. targetId=${e}`),!(!this.isDragging()||this.didDrop())&&ek(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;let t=this.registry.getSource(e,!0);return Y(t,`Expected to find a valid source. sourceId=${e}`),!!(this.isDragging()&&this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;let{shallow:r}=t;if(!this.isDragging())return!1;let s=this.registry.getTargetType(e),a=this.getItemType();if(a&&!ek(s,a))return!1;let i=this.getTargetIds();if(!i.length)return!1;let n=i.indexOf(e);return r?n===i.length-1:n>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){let{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:s}=e;return t&&r&&s?eE({x:t.x+s.x,y:t.y+s.y},r):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){let{clientOffset:t,initialClientOffset:r}=e;return t&&r?eE(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}let eZ="undefined"!=typeof global?global:self,e_=eZ.MutationObserver||eZ.WebKitMutationObserver;function ez(e){return function(){let t=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(t),clearInterval(r),e()}}}let eA="function"==typeof e_?function(e){let t=1,r=new e_(e),s=document.createTextNode("");return r.observe(s,{characterData:!0}),function(){t=-t,s.data=t}}:ez;class eL{enqueueTask(e){let{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=eA(this.flush),this.requestErrorThrow=ez(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class eq{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class eU{create(e){let t=this.freeTasks,r=t.length?t.pop():new eq(this.onError,e=>t[t.length]=e);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}let e$=new eL,eF=new eU(e$.registerPendingError),eH="dnd-core/ADD_SOURCE",eV="dnd-core/ADD_TARGET",eB="dnd-core/REMOVE_SOURCE",eG="dnd-core/REMOVE_TARGET";function eX(e,t){if(t&&Array.isArray(e)){e.forEach(e=>eX(e,!1));return}Y("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(s||(s={}));let eW=0;function eY(e){switch(e[0]){case"S":return s.SOURCE;case"T":return s.TARGET;default:throw Error(`Cannot parse handler ID: ${e}`)}}function eK(e,t){let r=e.entries(),s=!1;do{let{done:e,value:[,a]}=r.next();if(a===t)return!0;s=!!e}while(!s);return!1}class eJ{addSource(e,t){eX(e),Y("function"==typeof t.canDrag,"Expected canDrag to be a function."),Y("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),Y("function"==typeof t.endDrag,"Expected endDrag to be a function.");let r=this.addHandler(s.SOURCE,e,t);return this.store.dispatch({type:eH,payload:{sourceId:r}}),r}addTarget(e,t){eX(e,!0),Y("function"==typeof t.canDrop,"Expected canDrop to be a function."),Y("function"==typeof t.hover,"Expected hover to be a function."),Y("function"==typeof t.drop,"Expected beginDrag to be a function.");let r=this.addHandler(s.TARGET,e,t);return this.store.dispatch({type:eV,payload:{targetId:r}}),r}containsHandler(e){return eK(this.dragSources,e)||eK(this.dropTargets,e)}getSource(e,t=!1){return Y(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Y(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Y(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Y(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return eY(e)===s.SOURCE}isTargetId(e){return eY(e)===s.TARGET}removeSource(e){var t;Y(this.getSource(e),"Expected an existing source."),this.store.dispatch({type:eB,payload:{sourceId:e}}),t=()=>{this.dragSources.delete(e),this.types.delete(e)},e$.enqueueTask(eF.create(t))}removeTarget(e){Y(this.getTarget(e),"Expected an existing target."),this.store.dispatch({type:eG,payload:{targetId:e}}),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let t=this.getSource(e);Y(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){Y(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){let a=function(e){let t=(eW++).toString();switch(e){case s.SOURCE:return`S${t}`;case s.TARGET:return`T${t}`;default:throw Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(a,t),e===s.SOURCE?this.dragSources.set(a,r):e===s.TARGET&&this.dropTargets.set(a,r),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}let eQ=(e,t)=>e===t,e0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function e1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}let e2={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function e4(e={},t){var r;return{dirtyHandlerIds:function(e=eP,t){switch(t.type){case eS:break;case eH:case eV:case eG:case eB:return eP;default:return eR}let{targetIds:r=[],prevTargetIds:s=[]}=t.payload,a=function(e,t){let r=new Map,s=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(s),t.forEach(s);let a=[];return r.forEach((e,t)=>{1===e&&a.push(t)}),a}(r,s);if(!(a.length>0||!function(e,t,r=eQ){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(!r(e[s],t[s]))return!1;return!0}(r,s)))return eP;let i=s[s.length-1],n=r[r.length-1];return i!==n&&(i&&a.push(i),n&&a.push(n)),a}(e.dirtyHandlerIds,{type:t.type,payload:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},t.payload,{prevTargetIds:(r=[],"dragOperation.targetIds".split(".").reduce((e,t)=>e&&e[t]?e[t]:r||null,e))})}),dragOffset:function(e=e0,t){let{payload:r}=t;switch(t.type){case ej:case eN:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case eS:var s,a;if(s=e.clientOffset,a=r.clientOffset,!s&&!a||s&&a&&s.x===a.x&&s.y===a.y)return e;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}({},e,{clientOffset:r.clientOffset});case eC:case eD:return e0;default:return e}}(e.dragOffset,t),refCount:function(e=0,t){switch(t.type){case eH:case eV:return e+1;case eB:case eG:return e-1;default:return e}}(e.refCount,t),dragOperation:function(e=e2,t){let{payload:r}=t;switch(t.type){case eN:return e1({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case ew:return e1({},e,{isSourcePublic:!0});case eS:return e1({},e,{targetIds:r.targetIds});case eG:var s,a;if(-1===e.targetIds.indexOf(r.targetId))return e;return e1({},e,{targetIds:(s=e.targetIds,a=r.targetId,s.filter(e=>e!==a))});case eD:return e1({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case eC:return e1({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}(e.dragOperation,t),stateId:function(e=0){return e+1}(e.stateId)}}let e5=0,e6=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var e3=(0,n.memo)(function(e){var t,{children:r}=e;let[s,a]="manager"in(t=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)r=i[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["children"]))?[{dragDropManager:t.manager},!1]:[function(e,t=e8(),r,s){return t[e6]||(t[e6]={dragDropManager:function(e,t,r={},s=!1){let a=function(e){let t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return function e(t,r,s){if("function"==typeof r&&"function"==typeof s||"function"==typeof s&&"function"==typeof arguments[3])throw Error(ef(0));if("function"==typeof r&&void 0===s&&(s=r,r=void 0),void 0!==s){if("function"!=typeof s)throw Error(ef(1));return s(e)(t,r)}if("function"!=typeof t)throw Error(ef(2));var a,i=t,n=r,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw Error(ef(3));return n}function h(e){if("function"!=typeof e)throw Error(ef(4));if(c)throw Error(ef(5));var t=!0;return d(),l.push(e),function(){if(t){if(c)throw Error(ef(6));t=!1,d();var r=l.indexOf(e);l.splice(r,1),o=null}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(ef(7));if(void 0===e.type)throw Error(ef(8));if(c)throw Error(ef(9));try{c=!0,n=i(n,e)}finally{c=!1}for(var t=o=l,r=0;r<t.length;r++)(0,t[r])();return e}return g({type:eb.INIT}),(a={dispatch:g,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw Error(ef(10));i=e,g({type:eb.REPLACE})}})[ex]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(ef(11));function t(){e.next&&e.next(u())}return t(),{unsubscribe:h(t)}}})[ex]=function(){return this},e},a}(e4,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(s),i=new eM(a,new eJ(a)),n=new eI(a,i),o=e(n,t,r);return n.receiveBackend(o),n}(e,t,r,s)}),t[e6]}(t.backend,t.context,t.options,t.debugMode),!t.context];return(0,n.useEffect)(()=>{if(a){let e=e8();return++e5,()=>{0==--e5&&(e[e6]=null)}}},[]),(0,i.jsx)(en.Provider,{value:s,children:r})});function e8(){return"undefined"!=typeof global?global:window}function e7(e){let t=null;return()=>(null==t&&(t=e()),t)}class e9{enter(e){let t=this.entered.length;return this.entered=function(e,t){let r=new Set,s=e=>r.add(e);e.forEach(s),t.forEach(s);let a=[];return r.forEach(e=>a.push(e)),a}(this.entered.filter(t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e))),[e]),0===t&&this.entered.length>0}leave(e){let t=this.entered.length;return this.entered=this.entered.filter(this.isNodeInDocument).filter(t=>t!==e),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class te{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})})}loadDataTransfer(e){if(e){let t={};Object.keys(this.config.exposeProperties).forEach(r=>{let s=this.config.exposeProperties[r];null!=s&&(t[r]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}let tt="__NATIVE_FILE__",tr="__NATIVE_URL__",ts="__NATIVE_TEXT__",ta="__NATIVE_HTML__";function ti(e,t,r){let s=t.reduce((t,r)=>t||e.getData(r),"");return null!=s?s:r}let tn={[tt]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[ta]:{exposeProperties:{html:(e,t)=>ti(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[tr]:{exposeProperties:{urls:(e,t)=>ti(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[ts]:{exposeProperties:{text:(e,t)=>ti(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function to(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(tn).filter(e=>{let r=tn[e];return null!=r&&!!r.matchesTypes&&r.matchesTypes.some(e=>t.indexOf(e)>-1)})[0]||null}let tl=e7(()=>/firefox/i.test(navigator.userAgent)),tc=e7(()=>!!window.safari);class td{interpolate(e){let t;let{xs:r,ys:s,c1s:a,c2s:i,c3s:n}=this,o=r.length-1;if(e===r[o])return s[o];let l=0,c=n.length-1;for(;l<=c;){let a=r[t=Math.floor(.5*(l+c))];if(a<e)l=t+1;else{if(!(a>e))return s[t];c=t-1}}let d=e-r[o=Math.max(0,c)],u=d*d;return s[o]+a[o]*d+i[o]*u+n[o]*d*u}constructor(e,t){let r,s,a;let{length:i}=e,n=[];for(let e=0;e<i;e++)n.push(e);n.sort((t,r)=>e[t]<e[r]?-1:1);let o=[],l=[],c=[];for(let a=0;a<i-1;a++)r=e[a+1]-e[a],s=t[a+1]-t[a],l.push(r),o.push(s),c.push(s/r);let d=[c[0]];for(let e=0;e<l.length-1;e++){let t=c[e],s=c[e+1];if(t*s<=0)d.push(0);else{r=l[e];let a=l[e+1],i=r+a;d.push(3*i/((i+a)/t+(i+r)/s))}}d.push(c[c.length-1]);let u=[],h=[];for(let e=0;e<d.length-1;e++){a=c[e];let t=d[e],r=1/l[e],s=t+d[e+1]-a-a;u.push((a-t-s)*r),h.push(s*r*r)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=u,this.c3s=h}}function tu(e){let t=1===e.nodeType?e:e.parentElement;if(!t)return null;let{top:r,left:s}=t.getBoundingClientRect();return{x:s,y:r}}function th(e){return{x:e.clientX,y:e.clientY}}class tg{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function tp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),s.forEach(function(t){var s;s=r[t],t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s})}return e}class tm{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);let s=t=>this.handleDragStart(t,e),a=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",s),t.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",s),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}connectDropTarget(e,t){let r=t=>this.handleDragEnter(t,e),s=t=>this.handleDragOver(t,e),a=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",s),t.addEventListener("drop",a),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",s),t.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return tp({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId();return tp({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(a).some(t=>a[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){let r=tn[e];if(!r)throw Error(`native type ${e} has no configuration`);let s=new te(r);return s.loadDataTransfer(t),s}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{let t=this.sourceNodes.get(e);return t&&tu(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>!!(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{let e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;let{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;let r=th(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});let{dataTransfer:s}=e,a=to(s);if(this.monitor.isDragging()){if(s&&"function"==typeof s.setDragImage){let e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),a=this.sourcePreviewNodes.get(e)||t;if(a){let{anchorX:e,anchorY:i,offsetX:n,offsetY:o}=this.getCurrentSourcePreviewNodeOptions(),l=function(e,t,r,s,a){var i;let n,o,l;let c="IMG"===t.nodeName&&(tl()||!(null===(i=document.documentElement)||void 0===i?void 0:i.contains(t))),d=tu(c?e:t),u={x:r.x-d.x,y:r.y-d.y},{offsetWidth:h,offsetHeight:g}=e,{anchorX:p,anchorY:m}=s,{dragPreviewWidth:f,dragPreviewHeight:x}=(n=c?t.width:h,o=c?t.height:g,tc()&&c&&(o/=window.devicePixelRatio,n/=window.devicePixelRatio),{dragPreviewWidth:n,dragPreviewHeight:o}),{offsetX:v,offsetY:b}=a;return{x:0===v||v?v:new td([0,.5,1],[u.x,u.x/h*f,u.x+f-h]).interpolate(p),y:0===b||b?b:(l=new td([0,.5,1],[u.y,u.y/g*x,u.y+x-g]).interpolate(m),tc()&&c&&(l+=(window.devicePixelRatio-1)*x),l)}}(t,a,r,{anchorX:e,anchorY:i},{offsetX:n,offsetY:o});s.setDragImage(a,l.x,l.y)}}try{null==s||s.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);let{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(a)this.beginDragNativeItem(a);else{if(s&&!s.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var t;null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;let{dataTransfer:r}=e,s=to(r);s&&this.beginDragNativeItem(s,r)},this.handleTopDragEnter=e=>{let{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:th(e)}),t.some(e=>this.monitor.canDropOnTarget(e))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var t;null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}},this.handleTopDragOver=e=>{let{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}this.altKeyPressed=e.altKey,this.lastClientOffset=th(e),this.scheduleHover(t),(t||[]).some(e=>this.monitor.canDropOnTarget(e))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=e=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var t;e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}else to(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{let{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:th(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{let t=e.target;"function"!=typeof t.dragDrop||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())},this.options=new tg(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new e9(this.isNodeInDocument)}}let tf=function(e,t,r){return new tm(e,t,r)};var tx=r(89427),tv=r(63902),tb=r(1572),ty=r(49758),tj=r(58775),tN=r(81538),tw=r(6309);let tS=(0,z.Z)("Rewind",[["polygon",{points:"11 19 2 12 11 5 11 19",key:"14yba5"}],["polygon",{points:"22 19 13 12 22 5 22 19",key:"1pi1cj"}]]);var tD=r(71059);let tC=(0,z.Z)("FastForward",[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]]);var tT=r(10976),tO=r(11962),tk=r(7937),tI=r(54689),tE=r(81178),tP=r(53468),tR=r(83855),tM=r(43810),tZ=r(47405),t_=r(95466),tz=r(85999);let tA=["low","medium","high"],tL=e=>tA.some(t=>t===e),tq={TIMELINE_ITEM:"timeline_item"},tU=({item:e,track:t,zoom:r,onSelect:s,onMove:a,onResize:o,selected:l,snapToGrid:c,gridSize:d})=>{let u;let[{isDragging:h},g]=function(e,t){let r=ee(e,void 0);Y(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");let s=function(){let e=eo();return(0,n.useMemo)(()=>new ed(e),[e])}(),a=function(e,t){let r=eo(),s=(0,n.useMemo)(()=>new ei(r.getBackend()),[r]);return J(()=>(s.dragSourceOptions=e||null,s.reconnect(),()=>s.disconnectDragSource()),[s,e]),J(()=>(s.dragPreviewOptions=t||null,s.reconnect(),()=>s.disconnectDragPreview()),[s,t]),s}(r.options,r.previewOptions);return function(e,t,r){let s=eo(),a=function(e,t,r){let s=(0,n.useMemo)(()=>new eu(e,t,r),[t,r]);return(0,n.useEffect)(()=>{s.spec=e},[e]),s}(e,t,r),i=(0,n.useMemo)(()=>{let t=e.type;return Y(null!=t,"spec.type must be defined"),t},[e]);J(function(){if(null!=i){let[e,n]=function(e,t,r){let s=r.getRegistry(),a=s.addSource(e,t);return[a,()=>s.removeSource(a)]}(i,a,s);return t.receiveHandlerId(e),r.receiveHandlerId(e),n}},[s,t,r,a,i])}(r,s,a),[Q(r.collect,s,a),(0,n.useMemo)(()=>a.hooks.dragSource(),[a]),(0,n.useMemo)(()=>a.hooks.dragPreview(),[a])]}({type:tq.TIMELINE_ITEM,item:{id:e.id,trackId:t.id,type:"move"},collect:e=>({isDragging:e.isDragging()})}),[p,m]=(0,n.useState)(!1);(0,n.useRef)(null);let f=(0,n.useCallback)(t=>{2!==t.detail&&s(e.id,t.ctrlKey||t.metaKey)},[e.id,s]),x=(0,n.useCallback)(s=>{s.stopPropagation(),m(!0);let a=s.clientX,i=e.duration,n=s=>{let n=i+(s.clientX-a)/(50*r);c&&(n=Math.round(n/d)*d),n=Math.max(.1,n),o(t.id,e.id,n)},l=()=>{m(!1),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",l)},[e.duration,e.id,t.id,r,o,c,d]);return i.jsx("div",{ref:g,className:(0,tZ.cn)("absolute top-2 rounded-lg border-2 transition-all duration-200 cursor-pointer group","hover:shadow-lg hover:scale-105",l?"border-blue-400 bg-blue-600/20 shadow-blue-400/50":"border-transparent",h&&"opacity-50",t.locked&&"cursor-not-allowed opacity-60"),style:{left:50*e.start*r,width:Math.max(50*e.duration*r,60),height:64,backgroundColor:t.color+"80",minWidth:60},onMouseDown:f,children:(0,i.jsxs)("div",{className:"h-full flex flex-col justify-between p-2 relative",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-xs font-semibold text-white truncate",children:e.content}),e.keyframes&&e.keyframes.length>0&&i.jsx(tb.Z,{className:"w-3 h-3 text-yellow-400"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-xs text-gray-200",children:(u=e.duration,`${Math.floor(u/60).toString().padStart(2,"0")}:${Math.floor(u%60).toString().padStart(2,"0")}`)}),e.effects&&e.effects.length>0&&i.jsx(N.Z,{className:"w-3 h-3 text-purple-400"})]}),i.jsx("div",{className:"absolute right-0 top-0 w-2 h-full cursor-ew-resize bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity",onMouseDown:x}),e.keyframes?.map(t=>i.jsx("div",{className:"absolute top-0 w-1 h-full bg-yellow-400",style:{left:(t.time-e.start)*50*r}},t.id))]})})},t$=({track:e,zoom:t,duration:r,selectedItems:s,onItemSelect:a,onItemMove:o,onItemResize:l,snapToGrid:c,gridSize:d})=>{let[{isOver:u},h]=function(e,t){let r=ee(e,void 0),s=function(){let e=eo();return(0,n.useMemo)(()=>new ep(e),[e])}(),a=function(e){let t=eo(),r=(0,n.useMemo)(()=>new eh(t.getBackend()),[t]);return J(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}(r.options);return function(e,t,r){let s=eo(),a=function(e,t){let r=(0,n.useMemo)(()=>new em(e,t),[t]);return(0,n.useEffect)(()=>{r.spec=e},[e]),r}(e,t),i=function(e){let{accept:t}=e;return(0,n.useMemo)(()=>(Y(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}(e);J(function(){let[e,n]=function(e,t,r){let s=r.getRegistry(),a=s.addTarget(e,t);return[a,()=>s.removeTarget(a)]}(i,a,s);return t.receiveHandlerId(e),r.receiveHandlerId(e),n},[s,t,a,r,i.map(e=>e.toString()).join("|")])}(r,s,a),[Q(r.collect,s,a),(0,n.useMemo)(()=>a.hooks.dropTarget(),[a])]}({accept:tq.TIMELINE_ITEM,drop:(r,s)=>{let a=s.getClientOffset();if(!a)return;let i=document.getElementById(`track-${e.id}`);if(!i)return;let n=i.getBoundingClientRect(),l=(a.x-n.left)/(50*t);c&&(l=Math.round(l/d)*d),l=Math.max(0,l),o(e.id,r.id,l)},collect:e=>({isOver:e.isOver()})});return(0,i.jsxs)("div",{ref:h,id:`track-${e.id}`,className:(0,tZ.cn)("relative border-b border-gray-700 transition-colors",!e.visible&&"opacity-50",u&&"bg-blue-500/10"),style:{height:e.height||80,width:50*r*t},children:[c&&Array.from({length:Math.ceil(r/d)},(e,r)=>i.jsx("div",{className:"absolute top-0 h-full w-px bg-gray-600/30",style:{left:r*d*50*t}},r)),e.items.map(r=>i.jsx(tU,{item:r,track:e,zoom:t,onSelect:a,onMove:o,onResize:l,selected:s.includes(r.id),snapToGrid:c,gridSize:d},r.id))]})};function tF(){let[e,t]=(0,n.useState)({currentTime:0,duration:300,playing:!1,zoom:1,playbackSpeed:1,snapToGrid:!0,gridSize:1,previewQuality:"medium",tracks:[{id:"video-1",type:"video",name:"V\xeddeo Principal",color:"#3B82F6",visible:!0,locked:!1,height:80,items:[{id:"v1",start:0,duration:120,content:"Intro.mp4",keyframes:[{id:"kf1",time:0,properties:{opacity:0},easing:"ease-in"},{id:"kf2",time:2,properties:{opacity:1},easing:"ease-out"}]},{id:"v2",start:130,duration:80,content:"Conteudo.mp4"}]},{id:"audio-1",type:"audio",name:"Narra\xe7\xe3o TTS",color:"#10B981",visible:!0,locked:!1,volume:80,height:80,items:[{id:"a1",start:0,duration:200,content:"Narra\xe7\xe3o completa"}]},{id:"audio-2",type:"audio",name:"M\xfasica de Fundo",color:"#8B5CF6",visible:!0,locked:!1,volume:30,height:80,items:[{id:"a2",start:0,duration:300,content:"Background.mp3"}]},{id:"text-1",type:"text",name:"Legendas",color:"#F59E0B",visible:!0,locked:!1,height:80,items:[{id:"t1",start:10,duration:30,content:"Introdu\xe7\xe3o ao tema"},{id:"t2",start:50,duration:40,content:"Conceitos principais"}]},{id:"effect-1",type:"effect",name:"Transi\xe7\xf5es",color:"#EF4444",visible:!0,locked:!1,height:80,items:[{id:"e1",start:120,duration:3,content:"Fade In",effects:[{id:"fx1",type:"fade",parameters:{direction:"in"},enabled:!0}]},{id:"e2",start:207,duration:3,content:"Fade Out"}]}],selectedItems:[],renderSettings:{resolution:"1080p",fps:30,format:"mp4",quality:"high",audioSampleRate:48e3,audioBitrate:256}}),[r,s]=(0,n.useState)([]),[a,c]=(0,n.useState)(-1),[h,g]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1),f=(0,n.useRef)(null),x=(0,n.useRef)(null),v=(0,n.useCallback)((e,t)=>{let r={action:e,timestamp:Date.now(),state:t};s(e=>{let t=e.slice(0,a+1);return t.push(r),t.slice(-50)}),c(e=>Math.min(e+1,49))},[a]),j=(0,n.useCallback)(()=>{if(a>0){let e=r[a-1];t(t=>({...t,...e.state})),c(e=>e-1),tz.Am.success(`Desfez: ${e.action}`)}},[r,a]),S=(0,n.useCallback)(()=>{if(a<r.length-1){let e=r[a+1];t(t=>({...t,...e.state})),c(e=>e+1),tz.Am.success(`Refez: ${e.action}`)}},[r,a]),D=(0,n.useCallback)(()=>{let r=!e.playing;t(e=>({...e,playing:r})),r?x.current=setInterval(()=>{t(e=>{let t=e.currentTime+.1*e.playbackSpeed;return t>=e.duration?(x.current&&clearInterval(x.current),{...e,playing:!1,currentTime:e.duration}):{...e,currentTime:t}})},100):x.current&&clearInterval(x.current)},[e.playing]),C=(0,n.useCallback)(e=>{t(t=>({...t,currentTime:Math.max(0,Math.min(e,t.duration))}))},[]),T=(0,n.useCallback)(e=>{let r=Math.max(.1,Math.min(10,e));t(e=>({...e,zoom:r})),v("Zoom alterado",{zoom:r})},[v]),O=(0,n.useCallback)(e=>{t(t=>({...t,playbackSpeed:e}))},[]),I=(0,n.useCallback)(e=>{t(t=>({...t,tracks:t.tracks.map(t=>t.id===e?{...t,visible:!t.visible}:t)})),v("Visibilidade da track alterada",{})},[v]),R=(0,n.useCallback)(e=>{t(t=>({...t,tracks:t.tracks.map(t=>t.id===e?{...t,locked:!t.locked}:t)})),v("Lock da track alterado",{})},[v]),Z=(0,n.useCallback)((e,r)=>{t(t=>({...t,tracks:t.tracks.map(t=>t.id===e?{...t,volume:r}:t)}))},[]),z=(0,n.useCallback)((e,r=!1)=>{t(t=>({...t,selectedItems:r?t.selectedItems.includes(e)?t.selectedItems.filter(t=>t!==e):[...t.selectedItems,e]:[e]}))},[]),A=(0,n.useCallback)((e,r,s)=>{t(t=>({...t,tracks:t.tracks.map(t=>t.id===e?{...t,items:t.items.map(e=>e.id===r?{...e,start:Math.max(0,s)}:e)}:t)})),v("Item movido",{})},[v]),L=(0,n.useCallback)((e,r,s)=>{t(t=>({...t,tracks:t.tracks.map(t=>t.id===e?{...t,items:t.items.map(e=>e.id===r?{...e,duration:Math.max(.1,s)}:e)}:t)})),v("Item redimensionado",{})},[v]),q=(0,n.useCallback)(()=>{t(e=>{let t=e.tracks.map(t=>{let r=[...t.items];return t.items.forEach(t=>{if(e.selectedItems.includes(t.id)){let e={...t,id:`${t.id}-copy-${Date.now()}`,start:t.start+t.duration+1};r.push(e)}}),{...t,items:r}});return{...e,tracks:t,selectedItems:[]}}),v("Itens duplicados",{}),tz.Am.success("Itens duplicados com sucesso")},[v]),X=(0,n.useCallback)(()=>{t(e=>({...e,tracks:e.tracks.map(t=>({...t,items:t.items.filter(t=>!e.selectedItems.includes(t.id))})),selectedItems:[]})),v("Itens deletados",{}),tz.Am.success("Itens deletados com sucesso")},[v]),W=(0,n.useCallback)(()=>{let t=new Blob([JSON.stringify({version:"2.0",metadata:{name:"Timeline Professional Export",duration:e.duration,fps:e.renderSettings.fps,resolution:e.renderSettings.resolution,exported:new Date().toISOString(),totalTracks:e.tracks.length,totalItems:e.tracks.reduce((e,t)=>e+t.items.length,0)},renderSettings:e.renderSettings,tracks:e.tracks.map(e=>({...e,items:e.items.map(t=>({...t,absoluteStart:t.start,absoluteEnd:t.start+t.duration,trackType:e.type,renderProperties:{visible:e.visible,volume:e.volume||100,effects:t.effects||[],keyframes:t.keyframes||[]}}))})),timeline:{currentTime:e.currentTime,zoom:e.zoom,snapToGrid:e.snapToGrid,gridSize:e.gridSize}},null,2)],{type:"application/json"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`timeline-professional-${(0,t_.WU)(new Date,"yyyy-MM-dd-HH-mm-ss")}.json`,s.click(),URL.revokeObjectURL(r),tz.Am.success("Timeline exportada com sucesso!")},[e]),Y=(0,n.useCallback)(t=>{let r=Math.floor(t%1*e.renderSettings.fps);return`${Math.floor(t/60).toString().padStart(2,"0")}:${Math.floor(t%60).toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},[e.renderSettings.fps]),K=e=>{switch(e){case"video":return i.jsx(ty.Z,{className:"w-4 h-4"});case"audio":return i.jsx(tj.Z,{className:"w-4 h-4"});case"text":return i.jsx(U.Z,{className:"w-4 h-4"});case"image":return i.jsx(P.Z,{className:"w-4 h-4"});case"effect":return i.jsx(N.Z,{className:"w-4 h-4"});default:return i.jsx($.Z,{className:"w-4 h-4"})}},J=(0,n.useMemo)(()=>{let t=[],r=e.gridSize;for(let s=0;s<=e.duration;s+=r)t.push(i.jsx("div",{className:"absolute border-l border-gray-600",style:{left:`${50*s*e.zoom}px`,height:"100%"},children:i.jsx("span",{className:"absolute top-1 left-1 text-xs text-gray-400",children:Y(s)})},s));return t},[e.duration,e.zoom,e.gridSize,Y]);return i.jsx(e3,{backend:tf,children:(0,i.jsxs)("div",{className:"flex flex-col h-screen bg-gray-900 text-white",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-800 border-b border-gray-700",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Timeline Professional"}),i.jsx(d.C,{variant:"secondary",className:"bg-blue-600",children:"v5.0 - FASE 5"}),(0,i.jsxs)(d.C,{variant:"outline",className:"text-green-400 border-green-400",children:[i.jsx(tN.Z,{className:"w-3 h-3 mr-1"}),"Real-time Sync"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>C(0),className:"text-white hover:bg-gray-700",children:i.jsx(tw.Z,{className:"w-4 h-4"})}),i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>C(Math.max(0,e.currentTime-10)),className:"text-white hover:bg-gray-700",children:i.jsx(tS,{className:"w-4 h-4"})}),i.jsx(l.z,{variant:"ghost",size:"icon",onClick:D,className:"text-white hover:bg-gray-700 bg-blue-600",children:e.playing?i.jsx(tD.Z,{className:"w-4 h-4"}):i.jsx(w.Z,{className:"w-4 h-4"})}),i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>C(Math.min(e.duration,e.currentTime+10)),className:"text-white hover:bg-gray-700",children:i.jsx(tC,{className:"w-4 h-4"})}),i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>C(e.duration),className:"text-white hover:bg-gray-700",children:i.jsx(tT.Z,{className:"w-4 h-4"})}),i.jsx(u.Z,{orientation:"vertical",className:"h-6"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(_._,{className:"text-xs",children:"Speed"}),(0,i.jsxs)("select",{value:e.playbackSpeed,onChange:e=>O(Number(e.target.value)),className:"bg-gray-700 text-white text-xs rounded px-2 py-1",children:[i.jsx("option",{value:.25,children:"0.25x"}),i.jsx("option",{value:.5,children:"0.5x"}),i.jsx("option",{value:1,children:"1x"}),i.jsx("option",{value:1.5,children:"1.5x"}),i.jsx("option",{value:2,children:"2x"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"text-sm font-mono bg-gray-700 px-3 py-1 rounded",children:[Y(e.currentTime)," / ",Y(e.duration)]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>T(e.zoom-.2),className:"text-white hover:bg-gray-700",children:i.jsx(tO.Z,{className:"w-4 h-4"})}),i.jsx(M.i,{min:.1,max:10,step:.1,value:[e.zoom],onValueChange:([e])=>T(e),className:"w-20"}),i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>T(e.zoom+.2),className:"text-white hover:bg-gray-700",children:i.jsx(tk.Z,{className:"w-4 h-4"})}),(0,i.jsxs)("span",{className:"text-xs text-gray-400 min-w-[40px]",children:[Math.round(100*e.zoom),"%"]})]}),i.jsx(u.Z,{orientation:"vertical",className:"h-6"}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(l.z,{variant:"ghost",size:"icon",onClick:j,disabled:a<=0,className:"text-white hover:bg-gray-700",children:i.jsx(tI.Z,{className:"w-4 h-4"})}),i.jsx(l.z,{variant:"ghost",size:"icon",onClick:S,disabled:a>=r.length-1,className:"text-white hover:bg-gray-700",children:i.jsx(tE.Z,{className:"w-4 h-4"})})]}),i.jsx(u.Z,{orientation:"vertical",className:"h-6"}),(0,i.jsxs)(l.z,{onClick:()=>m(!0),variant:"ghost",className:"text-white hover:bg-gray-700",children:[i.jsx(k.Z,{className:"w-4 h-4 mr-2"}),"Render"]}),(0,i.jsxs)(l.z,{onClick:W,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Exportar"]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-800/50 border-b border-gray-700",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(tv.r,{checked:e.snapToGrid,onCheckedChange:e=>t(t=>({...t,snapToGrid:e}))}),i.jsx(_._,{className:"text-xs",children:"Snap to Grid"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(_._,{className:"text-xs",children:"Grid"}),(0,i.jsxs)("select",{value:e.gridSize,onChange:e=>t(t=>({...t,gridSize:Number(e.target.value)})),className:"bg-gray-700 text-white text-xs rounded px-2 py-1",children:[i.jsx("option",{value:.1,children:"0.1s"}),i.jsx("option",{value:.5,children:"0.5s"}),i.jsx("option",{value:1,children:"1s"}),i.jsx("option",{value:5,children:"5s"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(_._,{className:"text-xs",children:"Preview"}),(0,i.jsxs)("select",{value:e.previewQuality,onChange:e=>t(t=>tL(e.target.value)?{...t,previewQuality:e.target.value}:t),className:"bg-gray-700 text-white text-xs rounded px-2 py-1",children:[i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(d.C,{variant:"outline",className:"text-blue-400 border-blue-400",children:[i.jsx(tP.Z,{className:"w-3 h-3 mr-1"}),e.selectedItems.length," selecionados"]}),(0,i.jsxs)(d.C,{variant:"outline",className:"text-green-400 border-green-400",children:[i.jsx($.Z,{className:"w-3 h-3 mr-1"}),e.tracks.length," tracks"]})]})]}),(0,i.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,i.jsxs)("div",{className:"w-80 bg-gray-800 border-r border-gray-700 flex flex-col",children:[(0,i.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold",children:"Tracks"}),(0,i.jsxs)(l.z,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(tR.Z,{className:"w-4 h-4 mr-2"}),"Add Track"]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(l.z,{size:"sm",variant:"outline",onClick:q,children:[i.jsx(tM.Z,{className:"w-4 h-4 mr-1"}),"Duplicate"]}),(0,i.jsxs)(l.z,{size:"sm",variant:"outline",onClick:X,children:[i.jsx(G.Z,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]}),i.jsx(tx.x,{className:"flex-1",children:i.jsx("div",{className:"p-2",children:e.tracks.map((t,r)=>i.jsx(o.Zb,{className:"mb-2 bg-gray-700 border-gray-600",children:(0,i.jsxs)(o.aY,{className:"p-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[K(t.type),i.jsx("span",{className:"text-sm font-medium",children:t.name})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>I(t.id),className:"w-6 h-6",children:t.visible?i.jsx(F.Z,{className:"w-3 h-3"}):i.jsx(H.Z,{className:"w-3 h-3"})}),i.jsx(l.z,{variant:"ghost",size:"icon",onClick:()=>R(t.id),className:"w-6 h-6",children:t.locked?i.jsx(V.Z,{className:"w-3 h-3"}):i.jsx(B.Z,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"w-full h-2 rounded mb-2",style:{backgroundColor:t.color+"40"},children:i.jsx("div",{className:"h-full rounded transition-all duration-300",style:{backgroundColor:t.color,width:`${t.items.reduce((e,t)=>e+t.duration,0)/e.duration*100}%`}})}),(0,i.jsxs)("div",{className:"text-xs text-gray-400 mb-2",children:[t.items.length," items â€¢ ",Math.round(t.items.reduce((e,t)=>e+t.duration,0)),"s"]}),"audio"===t.type&&(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(b.Z,{className:"w-3 h-3"}),i.jsx(M.i,{min:0,max:100,value:[t.volume||80],onValueChange:([e])=>Z(t.id,e),className:"flex-1"}),(0,i.jsxs)("span",{className:"text-xs text-gray-400 min-w-[30px]",children:[t.volume||80,"%"]})]})]})},t.id))})})]}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,i.jsxs)("div",{className:"h-16 bg-gray-800 border-b border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0",children:J}),(0,i.jsxs)("div",{className:"absolute top-0 w-0.5 h-full bg-red-500 z-20 cursor-pointer shadow-lg",style:{left:`${50*e.currentTime*e.zoom}px`,transform:"translateX(-1px)",boxShadow:"0 0 10px rgba(239, 68, 68, 0.5)"},onClick:t=>{let r=t.currentTarget.parentElement.getBoundingClientRect();C((t.clientX-r.left)/(50*e.zoom))},children:[i.jsx("div",{className:"w-3 h-4 bg-red-500 -translate-x-1 rounded-b-sm shadow-lg"}),i.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white text-xs px-1 rounded whitespace-nowrap",children:Y(e.currentTime)})]})]}),i.jsx(tx.x,{className:"flex-1",children:(0,i.jsxs)("div",{ref:f,className:"relative bg-gray-900",style:{width:`${50*e.duration*e.zoom}px`,minHeight:`${80*e.tracks.length}px`},children:[e.tracks.map((t,r)=>i.jsx(t$,{track:t,zoom:e.zoom,duration:e.duration,selectedItems:e.selectedItems,onItemSelect:z,onItemMove:A,onItemResize:L,snapToGrid:e.snapToGrid,gridSize:e.gridSize},t.id)),i.jsx("div",{className:"absolute top-0 w-0.5 bg-red-500 z-10 pointer-events-none",style:{left:`${50*e.currentTime*e.zoom}px`,height:`${80*e.tracks.length}px`,transform:"translateX(-1px)",boxShadow:"0 0 5px rgba(239, 68, 68, 0.3)"}})]})})]})]}),(0,i.jsxs)("div",{className:"h-10 bg-gray-800 border-t border-gray-700 flex items-center justify-between px-4 text-xs text-gray-400",children:[(0,i.jsxs)("div",{className:"flex items-center gap-6",children:[(0,i.jsxs)("span",{children:["Items selecionados: ",e.selectedItems.length]}),(0,i.jsxs)("span",{children:["Tracks: ",e.tracks.length]}),(0,i.jsxs)("span",{children:["Dura\xe7\xe3o total: ",Y(e.duration)]}),(0,i.jsxs)("span",{children:["FPS: ",e.renderSettings.fps]}),(0,i.jsxs)("span",{children:["Resolu\xe7\xe3o: ",e.renderSettings.resolution]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-6",children:[(0,i.jsxs)("span",{children:["Zoom: ",Math.round(100*e.zoom),"%"]}),(0,i.jsxs)("span",{children:["Grid: ",e.gridSize,"s"]}),(0,i.jsxs)("span",{children:["Speed: ",e.playbackSpeed,"x"]}),(0,i.jsxs)(d.C,{variant:"outline",className:"text-green-400 border-green-400",children:[i.jsx(E.Z,{className:"w-3 h-3 mr-1"}),"Sync Active"]})]})]})]})})}var tH=r(63617),tV=r(24061),tB=r(54014);function tG({onVoiceSelect:e,onAudioGenerate:t,defaultText:r="Ol\xe1! Este \xe9 um exemplo de como minha voz soar\xe1 no seu projeto de treinamento em seguran\xe7a do trabalho."}){let[s,a]=(0,n.useState)([]),[c,u]=(0,n.useState)(null),[p,m]=(0,n.useState)(!0),[f,x]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null),[j,S]=(0,n.useState)(r),[D,C]=(0,n.useState)(""),[T,O]=(0,n.useState)("all"),[I,E]=(0,n.useState)({stability:.5,similarityBoost:.8,style:0,useSpeakerBoost:!0}),P=t=>{u(t),e?.(t)},R=async()=>{if(!c||!j.trim()){h.Am.error("Selecione uma voz e digite o texto");return}try{x(!0),h.Am.loading("\uD83C\uDF99ï¸ Gerando \xe1udio...",{id:"tts"});let e=await fetch("/api/v1/tts/elevenlabs/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:j,voiceId:c.id,settings:{stability:I.stability,similarityBoost:I.similarityBoost,style:I.style,useSpeakerBoost:I.useSpeakerBoost}})}),r=await e.json();if(r.success){h.Am.success("âœ… \xc1udio gerado!",{id:"tts"});let e=new Blob([Uint8Array.from(atob(r.audioBase64),e=>e.charCodeAt(0))],{type:"audio/mpeg"}),s=URL.createObjectURL(e);new Audio(s).play(),t?.(r)}else throw Error(r.error||"Erro na gera\xe7\xe3o")}catch(t){let e=t instanceof Error?t.message:"Erro desconhecido";h.Am.error("âŒ Erro: "+e,{id:"tts"})}finally{x(!1)}},_=s.filter(e=>{let t=e.name.toLowerCase().includes(D.toLowerCase())||e.description.toLowerCase().includes(D.toLowerCase()),r="all"===T||e.category===T;return t&&r}),z=[{value:"all",label:"Todas",count:s.length},{value:"premade",label:"Padr\xe3o",count:s.filter(e=>"premade"===e.category).length},{value:"cloned",label:"Clonadas",count:s.filter(e=>"cloned"===e.category).length},{value:"professional",label:"Premium",count:s.filter(e=>"professional"===e.category).length}];return(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:(0,i.jsxs)(o.Zb,{children:[(0,i.jsxs)(o.Ol,{children:[(0,i.jsxs)(o.ll,{className:"flex items-center space-x-2",children:[i.jsx(b.Z,{className:"h-6 w-6"}),i.jsx("span",{children:"Biblioteca ElevenLabs"}),(0,i.jsxs)(d.C,{variant:"secondary",children:[s.length," vozes"]})]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[i.jsx(Z.I,{placeholder:"Buscar vozes...",value:D,onChange:e=>C(e.target.value),className:"flex-1"}),i.jsx("div",{className:"flex space-x-2",children:z.map(e=>(0,i.jsxs)(l.z,{variant:T===e.value?"default":"outline",size:"sm",onClick:()=>O(e.value),children:[e.label," (",e.count,")"]},e.value))})]})]}),i.jsx(o.aY,{className:"max-h-96 overflow-y-auto",children:p?(0,i.jsxs)("div",{className:"flex items-center justify-center py-8",children:[i.jsx(g.Z,{className:"h-6 w-6 animate-spin mr-2"}),i.jsx("span",{children:"Carregando vozes..."})]}):(0,i.jsxs)("div",{className:"grid gap-3",children:[_.map(e=>i.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${c?.id===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>P(e),children:(0,i.jsxs)("div",{className:"flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("h4",{className:"font-semibold",children:e.name}),i.jsx("p",{className:"text-sm text-gray-600",children:e.description}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,i.jsxs)(d.C,{variant:"outline",className:"text-xs",children:[i.jsx(tV.Z,{className:"h-3 w-3 mr-1"}),e.gender]}),(0,i.jsxs)(d.C,{variant:"outline",className:"text-xs",children:[i.jsx(tB.Z,{className:"h-3 w-3 mr-1"}),e.accent]}),i.jsx(d.C,{variant:"outline",className:"text-xs",children:e.category})]})]}),e.previewUrl&&i.jsx(l.z,{size:"sm",variant:"outline",onClick:t=>{t.stopPropagation(),new Audio(e.previewUrl).play()},children:i.jsx(w.Z,{className:"h-4 w-4"})})]})},e.id)),0===_.length&&!p&&i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma voz encontrada com os filtros selecionados"})]})})]})}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:i.jsx(o.ll,{className:"text-lg",children:"Voz Selecionada"})}),i.jsx(o.aY,{children:c?(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("h3",{className:"font-semibold text-lg",children:c.name}),i.jsx("p",{className:"text-sm text-gray-600",children:c.description})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,i.jsxs)("div",{children:["G\xeanero: ",c.gender]}),(0,i.jsxs)("div",{children:["Idade: ",c.age]}),(0,i.jsxs)("div",{children:["Sotaque: ",c.accent]}),(0,i.jsxs)("div",{children:["Idioma: ",c.language]})]})]}):i.jsx("div",{className:"text-center py-4 text-gray-500",children:"Selecione uma voz"})})]}),c&&(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:(0,i.jsxs)(o.ll,{className:"flex items-center text-lg",children:[i.jsx(k.Z,{className:"h-5 w-5 mr-2"}),"Configura\xe7\xf5es"]})}),(0,i.jsxs)(o.aY,{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"text-sm font-medium",children:["Estabilidade: ",I.stability]}),i.jsx(M.i,{value:[I.stability],onValueChange:e=>E(t=>({...t,stability:e[0]})),min:0,max:1,step:.1,className:"mt-2"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"text-sm font-medium",children:["Similaridade: ",I.similarityBoost]}),i.jsx(M.i,{value:[I.similarityBoost],onValueChange:e=>E(t=>({...t,similarityBoost:e[0]})),min:0,max:1,step:.1,className:"mt-2"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"text-sm font-medium",children:["Estilo: ",I.style]}),i.jsx(M.i,{value:[I.style],onValueChange:e=>E(t=>({...t,style:e[0]})),min:0,max:1,step:.1,className:"mt-2"})]})]})]}),c&&(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:(0,i.jsxs)(o.ll,{className:"flex items-center text-lg",children:[i.jsx(tj.Z,{className:"h-5 w-5 mr-2"}),"Testar Voz"]})}),(0,i.jsxs)(o.aY,{className:"space-y-4",children:[i.jsx(tH.g,{placeholder:"Digite o texto para testar a voz...",value:j,onChange:e=>S(e.target.value),rows:3}),(0,i.jsxs)(l.z,{onClick:R,disabled:f||!j.trim(),className:"w-full",children:[f?i.jsx(g.Z,{className:"h-4 w-4 animate-spin mr-2"}):i.jsx(N.Z,{className:"h-4 w-4 mr-2"}),f?"Gerando...":"Gerar Teste"]})]})]})]})]})}function tX(){let e=(0,S.useSearchParams)(),t=e?.get("projectId"),[r,s]=(0,n.useState)({step:"upload",loading:!1,data:{}}),[a,D]=(0,n.useState)("upload"),[C,T]=(0,n.useState)([]),[O,k]=(0,n.useState)(!1),[I,E]=(0,n.useState)(!1),[P,M]=(0,n.useState)(null),Z=e=>{console.log(`ðŸŽ¬ STUDIO LOG: ${e}`),T(t=>[...t.slice(-9),`${new Date().toLocaleTimeString()}: ${e}`])},_=async e=>{try{Z(`ðŸ“‹ Carregando dados do projeto: ${e}`),s(e=>({...e,loading:!0}));let t=await fetch(`/api/projects/${e}`);if(!t.ok)throw Error("Projeto n\xe3o encontrado");let r=await t.json();if(!r.success)throw Error(r.error||"Erro ao carregar projeto");let a=r.data;Z(`âœ… Projeto carregado: ${a.name} (${a.totalSlides} slides)`);let i="upload",n="upload";"COMPLETED"===a.status&&a.slidesData?(i="edit",n="edit",Z("\uD83D\uDCDD Projeto completo - iniciando no editor")):"PROCESSING"===a.status?(i="upload",n="upload",Z("â³ Projeto em processamento")):"ERROR"===a.status&&Z(`âŒ Projeto com erro: ${a.errorMessage}`),s({step:i,loading:!1,data:{uploadResult:a.slidesData?{slides:a.totalSlides,duration:a.duration,assets:a.slidesData.assets?.images?.length||0,timeline:a.slidesData.timeline,s3Key:a.pptxUrl,fileName:a.originalFileName,projectId:a.id}:void 0},project:a}),D(n),"COMPLETED"===a.status&&h.Am.success("âœ… Projeto carregado - dados dispon\xedveis para edi\xe7\xe3o!")}catch(e){console.error("âŒ Error loading project:",e),Z(`âŒ Erro ao carregar projeto: ${e instanceof Error?e.message:"Erro desconhecido"}`),s(e=>({...e,loading:!1})),h.Am.error("âŒ Erro ao carregar projeto")}},z=async()=>{if(r.project?.id)try{k(!0),Z("\uD83C\uDF99ï¸ Iniciando gera\xe7\xe3o de narra\xe7\xe3o em massa..."),h.Am.loading("Gerando narra\xe7\xf5es para todos os slides...",{id:"batch-tts"});let e=await fetch("/api/v1/pptx/auto-narrate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:r.project.id,options:{provider:"elevenlabs",voice:"21m00Tcm4TlvDq8ikWAM"}})}),t=await e.json();if(!e.ok)throw Error(t.error||"Erro na gera\xe7\xe3o em massa");Z(`âœ… Narra\xe7\xe3o conclu\xedda: ${t.narrations.length} slides processados`),h.Am.success("Narra\xe7\xf5es geradas com sucesso!",{id:"batch-tts"}),_(r.project.id)}catch(e){console.error("Error generating narrations:",e),Z(`âŒ Erro na narra\xe7\xe3o: ${e instanceof Error?e.message:"Erro desconhecido"}`),h.Am.error("Erro ao gerar narra\xe7\xf5es",{id:"batch-tts"})}finally{k(!1)}},A=async()=>{if(r.project?.id)try{E(!0),Z("\uD83C\uDFAC Iniciando exporta\xe7\xe3o do v\xeddeo..."),h.Am.loading("Iniciando renderiza\xe7\xe3o do v\xeddeo...",{id:"export-video"});let e=await fetch("/api/v1/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:r.project.id,settings:{resolution:"1080p",quality:"high"}})}),t=await e.json();if(!e.ok)throw Error(t.error||"Erro ao iniciar exporta\xe7\xe3o");M(t.jobId),Z(`âœ… Job de renderiza\xe7\xe3o criado: ${t.jobId}`),h.Am.success("Renderiza\xe7\xe3o iniciada! O v\xeddeo estar\xe1 dispon\xedvel em breve.",{id:"export-video"})}catch(e){console.error("Error exporting video:",e),Z(`âŒ Erro na exporta\xe7\xe3o: ${e instanceof Error?e.message:"Erro desconhecido"}`),h.Am.error("Erro ao iniciar exporta\xe7\xe3o",{id:"export-video"})}finally{E(!1)}};return r.loading?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx(o.Zb,{className:"w-full max-w-md",children:i.jsx(o.aY,{className:"pt-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(g.Z,{className:"h-8 w-8 animate-spin text-blue-500"}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium",children:"Carregando projeto..."}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",t]})]})]})})})}):(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Est\xfadio PPTX Professional"}),(0,i.jsxs)("p",{className:"text-gray-600",children:[r.project?.name||"Novo Projeto",r.project&&i.jsx(d.C,{className:"ml-2",variant:"COMPLETED"===r.project.status?"default":"PROCESSING"===r.project.status?"secondary":"ERROR"===r.project.status?"destructive":"outline",children:r.project.status})]})]}),i.jsx("div",{className:"flex items-center gap-3",children:r.project&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"text-right text-sm text-gray-500",children:[(0,i.jsxs)("div",{children:[r.project.totalSlides," slides"]}),(0,i.jsxs)("div",{children:[r.project.duration,"s"]})]}),"COMPLETED"===r.project.status&&i.jsx(p.Z,{className:"h-6 w-6 text-green-500"}),"PROCESSING"===r.project.status&&i.jsx(g.Z,{className:"h-6 w-6 animate-spin text-blue-500"}),"ERROR"===r.project.status&&i.jsx(m.Z,{className:"h-6 w-6 text-red-500"})]})})]})})}),(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,i.jsxs)(c.mQ,{value:a,onValueChange:D,className:"space-y-6",children:[(0,i.jsxs)(c.dr,{className:"grid w-full grid-cols-5",children:[(0,i.jsxs)(c.SP,{value:"upload",className:"flex items-center gap-2",children:[i.jsx(f.Z,{className:"h-4 w-4"}),"Upload"]}),(0,i.jsxs)(c.SP,{value:"edit",className:"flex items-center gap-2",disabled:!r.data.uploadResult,children:[i.jsx(x.Z,{className:"h-4 w-4"}),"Editor"]}),(0,i.jsxs)(c.SP,{value:"timeline",className:"flex items-center gap-2",disabled:!r.data.uploadResult,children:[i.jsx(v.Z,{className:"h-4 w-4"}),"Timeline"]}),(0,i.jsxs)(c.SP,{value:"tts",className:"flex items-center gap-2",disabled:!r.data.uploadResult,children:[i.jsx(b.Z,{className:"h-4 w-4"}),"TTS/\xc1udio"]}),(0,i.jsxs)(c.SP,{value:"export",className:"flex items-center gap-2",disabled:!r.data.uploadResult,children:[i.jsx(y.Z,{className:"h-4 w-4"}),"Exportar"]})]}),i.jsx(c.nU,{value:"upload",className:"space-y-6",children:i.jsx(R,{onProcessComplete:e=>{Z(`âœ… Upload conclu\xeddo: Projeto ${e.projectId}`),s(t=>({...t,step:"edit",data:{...t.data,uploadResult:e}})),D("edit"),h.Am.success("âœ… Upload conclu\xeddo! Agora voc\xea pode editar o canvas."),e.projectId&&setTimeout(()=>_(e.projectId),1e3)}})}),i.jsx(c.nU,{value:"edit",className:"space-y-6",children:(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:(0,i.jsxs)(o.ll,{className:"flex items-center gap-2",children:[i.jsx(x.Z,{className:"h-5 w-5"}),"Canvas Editor",r.project?.slidesData&&i.jsx(d.C,{className:"ml-2",children:"Dados Reais Carregados"})]})}),i.jsx(o.aY,{children:r.project?.slidesData?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"bg-blue-50 p-4 rounded border border-blue-200",children:[i.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"\uD83D\uDCCA Dados Carregados do Banco"}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Slides:"})," ",r.project.totalSlides]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Dura\xe7\xe3o:"})," ",r.project.duration,"s"]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Status:"})," ",r.project.status]})]}),!!r.project.slidesData?.slides&&(0,i.jsxs)("details",{className:"mt-3",children:[i.jsx("summary",{className:"cursor-pointer font-medium text-blue-700",children:"Ver dados dos slides (JSON)"}),i.jsx("pre",{className:"mt-2 bg-gray-100 p-2 rounded text-xs overflow-auto max-h-40",children:JSON.stringify(r.project.slidesData.slides.slice(0,2),null,2)})]})]}),i.jsx(W,{})]}):(0,i.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(j.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Nenhum dado carregado. Fa\xe7a o upload primeiro."})]})})]})}),i.jsx(c.nU,{value:"timeline",className:"space-y-6",children:(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:(0,i.jsxs)(o.ll,{className:"flex items-center gap-2",children:[i.jsx(v.Z,{className:"h-5 w-5"}),"Timeline Editor"]})}),i.jsx(o.aY,{children:r.project?.slidesData?.timeline?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"bg-green-50 p-4 rounded border border-green-200",children:[i.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"\uD83C\uDFAC Timeline Carregada"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Cenas:"})," ",r.project.slidesData.timeline?.scenes?.length||0]}),(0,i.jsxs)("div",{children:[i.jsx("strong",{children:"Dura\xe7\xe3o Total:"})," ",Math.round(r.project.slidesData.timeline?.totalDuration||0),"s"]})]})]}),i.jsx(tF,{})]}):(0,i.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(v.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Timeline n\xe3o dispon\xedvel. Processe um PPTX primeiro."})]})})]})}),i.jsx(c.nU,{value:"tts",className:"space-y-6",children:(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:(0,i.jsxs)(o.ll,{className:"flex items-center gap-2",children:[i.jsx(b.Z,{className:"h-5 w-5"}),"Text-to-Speech"]})}),i.jsx(o.aY,{children:r.project?.slides&&r.project.slides.length>0?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"bg-purple-50 p-4 rounded border border-purple-200",children:[i.jsx("h3",{className:"font-medium text-purple-800 mb-2",children:"\uD83C\uDFA4 Slides para TTS"}),(0,i.jsxs)("div",{className:"text-sm",children:[i.jsx("strong",{children:"Slides dispon\xedveis:"})," ",r.project.slides.length]}),(0,i.jsxs)("div",{className:"mt-2 space-y-1",children:[r.project.slides.slice(0,3).map((e,t)=>(0,i.jsxs)("div",{className:"text-xs bg-white p-2 rounded",children:[(0,i.jsxs)("strong",{children:["Slide ",String(e.slideNumber),":"]})," ",String(e.title)]},t)),r.project.slides.length>3&&(0,i.jsxs)("div",{className:"text-xs text-purple-600",children:["...e mais ",r.project.slides.length-3," slides"]})]})]}),i.jsx(tG,{}),i.jsx(u.Z,{className:"my-4"}),i.jsx("div",{className:"flex justify-end",children:i.jsx(l.z,{onClick:z,disabled:O,className:"bg-gradient-to-r from-purple-600 to-blue-600",children:O?(0,i.jsxs)(i.Fragment,{children:[i.jsx(g.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando Narra\xe7\xf5es..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(N.Z,{className:"mr-2 h-4 w-4"}),"Gerar Narra\xe7\xe3o para Todos os Slides"]})})})]}):(0,i.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(b.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Nenhum slide dispon\xedvel para TTS. Processe um PPTX primeiro."})]})})]})}),i.jsx(c.nU,{value:"export",className:"space-y-6",children:(0,i.jsxs)(o.Zb,{children:[i.jsx(o.Ol,{children:(0,i.jsxs)(o.ll,{className:"flex items-center gap-2",children:[i.jsx(y.Z,{className:"h-5 w-5"}),"Exportar V\xeddeo"]})}),i.jsx(o.aY,{children:i.jsx("div",{className:"text-center py-12",children:r.project?.videoUrl?(0,i.jsxs)("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"relative w-full max-w-2xl aspect-video bg-black rounded-lg overflow-hidden shadow-lg",children:i.jsx("video",{src:r.project.videoUrl,controls:!0,className:"w-full h-full",poster:r.project.thumbnailUrl})})}),(0,i.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,i.jsxs)(l.z,{variant:"outline",onClick:()=>window.open(r.project.videoUrl,"_blank"),children:[i.jsx(w.Z,{className:"h-4 w-4 mr-2"}),"Abrir em Nova Aba"]}),(0,i.jsxs)(l.z,{onClick:()=>{let e=document.createElement("a");e.href=r.project.videoUrl,e.download=`${r.project.name||"video"}.mp4`,document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"bg-green-600 hover:bg-green-700",children:[i.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Baixar MP4"]})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["Renderizado em: ",new Date(r.project.updatedAt).toLocaleString()]})]}):P?(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(g.Z,{className:"h-16 w-16 animate-spin text-blue-500"})}),i.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Renderizando seu v\xeddeo..."}),(0,i.jsxs)("p",{className:"text-gray-500",children:["Job ID: ",P]}),i.jsx("p",{className:"text-sm text-gray-400",children:"Isso pode levar alguns minutos. Voc\xea pode fechar esta janela e voltar mais tarde."})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(v.Z,{className:"h-16 w-16 text-blue-500 mx-auto mb-6"}),i.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-3",children:"Pronto para Renderizar"}),(0,i.jsxs)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:["Seu projeto tem ",r.project?.totalSlides," slides e dura\xe7\xe3o estimada de ",r.project?.duration,"s. Clique abaixo para iniciar a renderiza\xe7\xe3o final em 1080p."]}),i.jsx(l.z,{onClick:A,disabled:I,size:"lg",className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:I?(0,i.jsxs)(i.Fragment,{children:[i.jsx(g.Z,{className:"h-5 w-5 mr-2 animate-spin"}),"Iniciando Render..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(y.Z,{className:"h-5 w-5 mr-2"}),"Renderizar V\xeddeo Final (MP4)"]})})]})})})]})})]}),C.length>0&&(0,i.jsxs)(o.Zb,{className:"mt-6",children:[i.jsx(o.Ol,{children:(0,i.jsxs)(o.ll,{className:"text-sm flex items-center gap-2",children:[i.jsx(j.Z,{className:"h-4 w-4"}),"Debug Logs"]})}),i.jsx(o.aY,{children:i.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded font-mono text-xs space-y-1 max-h-32 overflow-y-auto",children:C.map((e,t)=>i.jsx("div",{children:e},t))})})]})]})]})}},1817:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>c,X:()=>d,bZ:()=>l});var s=r(10326),a=r(17577),i=r(79360),n=r(47405);let o=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:(0,n.cn)(o({variant:t}),e),...r}));l.displayName="Alert";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));c.displayName="AlertTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));d.displayName="AlertDescription"},62329:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var s=r(10326);r(17577);var a=r(79360),i=r(47405);let n=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return s.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...r})}},64070:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(10326),a=r(17577),i=r(47405);let n=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));n.displayName="Input"},70293:(e,t,r)=>{"use strict";r.d(t,{_:()=>c});var s=r(10326),a=r(17577),i=r(34478),n=r(79360),o=r(47405);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...t},r)=>s.jsx(i.f,{ref:r,className:(0,o.cn)(l(),e),...t}));c.displayName=i.f.displayName},30370:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(10326),a=r(17577),i=r(47405);let n=a.forwardRef(({className:e,value:t,...r},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));n.displayName="Progress"},89427:(e,t,r)=>{"use strict";r.d(t,{B:()=>l,x:()=>o});var s=r(10326),a=r(17577),i=r(16999),n=r(47405);let o=a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(i.fC,{ref:a,className:(0,n.cn)("relative overflow-hidden",e),...r,children:[s.jsx(i.l_,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(l,{}),s.jsx(i.Ns,{})]}));o.displayName=i.fC.displayName;let l=a.forwardRef(({className:e,orientation:t="vertical",...r},a)=>s.jsx(i.gb,{ref:a,orientation:t,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(i.q4,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=i.gb.displayName},52316:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(10326),a=r(17577),i=r(45226),n="horizontal",o=["horizontal","vertical"],l=a.forwardRef((e,t)=>{let{decorative:r,orientation:a=n,...l}=e,c=o.includes(a)?a:n;return(0,s.jsx)(i.WV.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...l,ref:t})});l.displayName="Separator";var c=r(47405);let d=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},i)=>s.jsx(l,{ref:i,decorative:r,orientation:t,className:(0,c.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));d.displayName=l.displayName},6598:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});var s=r(10326),a=r(17577),i=r(87131),n=r(47405);let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsxs)(i.fC,{ref:r,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(i.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:s.jsx(i.e6,{className:"absolute h-full bg-primary"})}),s.jsx(i.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));o.displayName=i.fC.displayName},63902:(e,t,r)=>{"use strict";r.d(t,{r:()=>w});var s=r(10326),a=r(17577),i=r(82561),n=r(48051),o=r(93095),l=r(52067),c=r(53405),d=r(2566),u=r(45226),h="Switch",[g,p]=(0,o.b)(h),[m,f]=g(h),x=a.forwardRef((e,t)=>{let{__scopeSwitch:r,name:o,checked:c,defaultChecked:d,required:g,disabled:p,value:f="on",onCheckedChange:x,form:v,...b}=e,[N,w]=a.useState(null),S=(0,n.e)(t,e=>w(e)),D=a.useRef(!1),C=!N||v||!!N.closest("form"),[T,O]=(0,l.T)({prop:c,defaultProp:d??!1,onChange:x,caller:h});return(0,s.jsxs)(m,{scope:r,checked:T,disabled:p,children:[(0,s.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":T,"aria-required":g,"data-state":j(T),"data-disabled":p?"":void 0,disabled:p,value:f,...b,ref:S,onClick:(0,i.Mj)(e.onClick,e=>{O(e=>!e),C&&(D.current=e.isPropagationStopped(),D.current||e.stopPropagation())})}),C&&(0,s.jsx)(y,{control:N,bubbles:!D.current,name:o,value:f,checked:T,required:g,disabled:p,form:v,style:{transform:"translateX(-100%)"}})]})});x.displayName=h;var v="SwitchThumb",b=a.forwardRef((e,t)=>{let{__scopeSwitch:r,...a}=e,i=f(v,r);return(0,s.jsx)(u.WV.span,{"data-state":j(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})});b.displayName=v;var y=a.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:i=!0,...o},l)=>{let u=a.useRef(null),h=(0,n.e)(u,l),g=(0,c.D)(r),p=(0,d.t)(t);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(g!==r&&t){let s=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(s)}},[g,r,i]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:h,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function j(e){return e?"checked":"unchecked"}y.displayName="SwitchBubbleInput";var N=r(47405);let w=a.forwardRef(({className:e,...t},r)=>s.jsx(x,{className:(0,N.cn)("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(b,{className:(0,N.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=x.displayName},55009:(e,t,r)=>{"use strict";r.d(t,{SP:()=>c,dr:()=>l,mQ:()=>o,nU:()=>d});var s=r(10326),a=r(17577),i=r(28407),n=r(47405);let o=i.fC,l=a.forwardRef(({className:e,...t},r)=>s.jsx(i.aV,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));l.displayName=i.aV.displayName;let c=a.forwardRef(({className:e,...t},r)=>s.jsx(i.xz,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=i.xz.displayName;let d=a.forwardRef(({className:e,...t},r)=>s.jsx(i.VY,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=i.VY.displayName},63617:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(10326),a=r(17577),i=r(47405);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Textarea"},99832:(e,t,r)=>{"use strict";r.d(t,{h6:()=>o});var s=r(73865);let a=null;function i(){return a||(a=s),a}i();let n={getInstance:i,createCanvas:function(e,t){return new(i()).Canvas(e,t)},createStaticCanvas:function(e,t){return new(i()).StaticCanvas(e,t)}},o=()=>({fabric:i(),FabricManager:n})},98813:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((s=t.length)!=r.length)return!1;for(a=s;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((s=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=s;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=s;0!=a--;){var s,a,i,n=i[a];if(!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}},41291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},88319:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},97622:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]])},54014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},49163:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},58775:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},89392:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},83855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},54689:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},81178:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},53468:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},81538:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]])},24061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},68089:(e,t,r)=>{"use strict";r.d(t,{Ip:()=>n,y3:()=>o});var s=r(17577),a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e){var t,r,a,i,n,o,l,c=e.className,d=e.counterClockwise,u=e.dashRatio,h=e.pathRadius,g=e.strokeWidth,p=e.style;return(0,s.createElement)("path",{className:c,style:Object.assign({},p,(r=(t={pathRadius:h,dashRatio:u,counterClockwise:d}).counterClockwise,i=(1-t.dashRatio)*(a=2*Math.PI*t.pathRadius),{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(r?-i:i)+"px"})),d:"\n      M 50,50\n      m 0,-"+(o=(n={pathRadius:h,counterClockwise:d}).pathRadius)+"\n      a "+o+","+o+" "+(l=n.counterClockwise?1:0)+" 1 1 0,"+2*o+"\n      a "+o+","+o+" "+l+" 1 1 0,-"+2*o+"\n    ",strokeWidth:g,fillOpacity:0})}var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,r=e.minValue,s=e.maxValue;return(Math.min(Math.max(t,r),s)-r)/(s-r)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,r=e.className,a=e.classes,n=e.counterClockwise,o=e.styles,l=e.strokeWidth,c=e.text,d=this.getPathRadius(),u=this.getPathRatio();return(0,s.createElement)("svg",{className:a.root+" "+r,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,s.createElement)("circle",{className:a.background,style:o.background,cx:50,cy:50,r:50}):null,(0,s.createElement)(i,{className:a.trail,counterClockwise:n,dashRatio:t,pathRadius:d,strokeWidth:l,style:o.trail}),(0,s.createElement)(i,{className:a.path,counterClockwise:n,dashRatio:u*t,pathRadius:d,strokeWidth:l,style:o.path}),c?(0,s.createElement)("text",{className:a.text,style:o.text,x:50,y:50},c):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(s.Component);function o(e){var t=e.rotation,r=e.strokeLinecap,s=e.textColor,a=e.textSize,i=e.pathColor,n=e.pathTransition,o=e.pathTransitionDuration,c=e.trailColor,d=e.backgroundColor,u=null==t?void 0:"rotate("+t+"turn)",h=null==t?void 0:"center center";return{root:{},path:l({stroke:i,strokeLinecap:r,transform:u,transformOrigin:h,transition:n,transitionDuration:null==o?void 0:o+"s"}),trail:l({stroke:c,strokeLinecap:r,transform:u,transformOrigin:h}),text:l({fill:s,fontSize:a}),background:l({fill:d})}}function l(e){return Object.keys(e).forEach(function(t){null==e[t]&&delete e[t]}),e}},52026:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>i,metadata:()=>n});var s=r(19510);let a=(0,r(68570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\components\pptx\professional-pptx-studio.tsx#ProfessionalPPTXStudio`),i="force-dynamic",n={title:"Editor PPTX Professional | Est\xfadio IA de V\xeddeos",description:"Editor profissional de PPTX com Canvas Fabric.js, Timeline cinematogr\xe1fico e TTS ElevenLabs"};function o(){return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx(a,{})})}},94230:()=>{},34478:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var s=r(17577),a=r(45226),i=r(10326),n=s.forwardRef((e,t)=>(0,i.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var o=n}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,7362,6999,7131,8148,2510,5466,9271,9874],()=>r(88816));module.exports=s})();
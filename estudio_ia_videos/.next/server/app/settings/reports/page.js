(()=>{var e={};e.id=6318,e.ids=[6318],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},82033:e=>{"use strict";e.exports=require("node:module")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},6547:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.Z,__next_app__:()=>u,originalPathname:()=>c,pages:()=>n,routeModule:()=>p,tree:()=>d}),t(22907),t(14118),t(26083),t(81754);var r=t(23191),a=t(88716),i=t(48001),o=t(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["settings",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,22907)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\settings\\reports\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,14118)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,26083)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,81754)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\not-found.tsx"]}],n=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\settings\\reports\\page.tsx"],c="/settings/reports/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/reports/page",pathname:"/settings/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},53958:(e,s,t)=>{Promise.resolve().then(t.bind(t,12094))},64070:(e,s,t)=>{"use strict";t.d(s,{I:()=>o});var r=t(10326),a=t(17577),i=t(47405);let o=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));o.displayName="Input"},98268:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>p,Ph:()=>n,Ql:()=>m,i4:()=>u,ki:()=>c});var r=t(10326),a=t(17577),i=t(44875),o=t(941),l=t(32933),d=t(47405);let n=i.fC;i.ZA;let c=i.B4,u=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(i.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:[s,r.jsx(i.JO,{asChild:!0,children:r.jsx(o.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let p=a.forwardRef(({className:e,children:s,position:t="popper",...a},o)=>r.jsx(i.h_,{children:r.jsx(i.VY,{ref:o,className:(0,d.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:r.jsx(i.l_,{className:(0,d.cn)("popper"===t&&"p-1",e),children:s})})}));p.displayName=i.VY.displayName,a.forwardRef(({className:e,...s},t)=>r.jsx(i.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let m=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(i.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i.wU,{children:r.jsx(l.Z,{className:"h-4 w-4"})})}),r.jsx(i.eT,{children:s})]}));m.displayName=i.ck.displayName,a.forwardRef(({className:e,...s},t)=>r.jsx(i.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},12094:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(10326),a=t(17577),i=t(83431),o=t(82610),l=t(98268),d=t(64070),n=t(17069),c=t(36283);let u=(0,t(62881).Z)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);var p=t(37358),m=t(31540),x=t(87007);let h=[{value:"analytics",label:"Analytics",description:"Projetos, renders, TTS, uploads e usu\xe1rios ativos",icon:n.Z},{value:"security",label:"Seguran\xe7a",description:"Logins, alertas de seguran\xe7a e uso de SSO",icon:c.Z},{value:"audit_logs",label:"Auditoria",description:"Hist\xf3rico completo de eventos e a\xe7\xf5es",icon:u},{value:"billing",label:"Financeiro",description:"Pagamentos, receita e ticket m\xe9dio",icon:c.Z},{value:"usage",label:"Uso de Recursos",description:"Membros, projetos e armazenamento",icon:u},{value:"sso",label:"SSO",description:"Uso de SSO por provedor",icon:c.Z},{value:"members",label:"Membros",description:"Lista de membros ativos por role",icon:u}];function g(){(0,a.useMemo)(()=>(0,x.eI)(),[]);let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)("analytics"),[g,f]=(0,a.useState)("pdf"),[b,v]=(0,a.useState)(""),[j,y]=(0,a.useState)(""),[N,_]=(0,a.useState)(!1),w=e?.user_metadata?.currentOrgId,q=async()=>{if(!w||!b||!j){alert("Por favor, preencha todos os campos obrigat\xf3rios");return}if(new Date(b)>new Date(j)){alert("Data inicial deve ser anterior \xe0 data final");return}_(!0);try{let e=await fetch(`/api/org/${w}/reports/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,startDate:b,endDate:j,format:g})});if(!e.ok){let s=await e.json();throw Error(s.error||"Erro ao gerar relat\xf3rio")}let s=await e.blob(),r=window.URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`report-${t}-${new Date().toISOString().split("T")[0]}.${"pdf"===g?"html":"csv"}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),alert("Relat\xf3rio gerado com sucesso!")}catch(e){console.error("Erro ao gerar relat\xf3rio:",e),alert(e instanceof Error?e.message:"Erro ao gerar relat\xf3rio")}finally{_(!1)}};if(!e)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("p",{children:"Fa\xe7a login para acessar o gerador de relat\xf3rios."})});let k=h.find(e=>e.value===t);return(0,r.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCCA Gerador de Relat\xf3rios"}),r.jsx("p",{className:"text-muted-foreground",children:"Crie relat\xf3rios personalizados em PDF ou CSV"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Tipos de Relat\xf3rio"})}),r.jsx(i.aY,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(e=>{let s=e.icon;return r.jsx("button",{onClick:()=>n(e.value),className:`p-4 rounded-lg border-2 text-left transition-all ${t===e.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(s,{className:`h-6 w-6 ${t===e.value?"text-blue-600":"text-gray-600"}`}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:e.label}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})},e.value)})})})]})}),r.jsx("div",{children:(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Configura\xe7\xe3o"})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[k&&(()=>{let e=k.icon;return(0,r.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(e,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-semibold text-blue-900",children:k.label})]}),r.jsx("p",{className:"text-sm text-blue-700",children:k.description})]})})(),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:[r.jsx(p.Z,{className:"h-4 w-4 inline mr-1"}),"Per\xedodo"]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d.I,{type:"date",value:b,onChange:e=>v(e.target.value),placeholder:"Data inicial"}),r.jsx(d.I,{type:"date",value:j,onChange:e=>y(e.target.value),placeholder:"Data final"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:[r.jsx(c.Z,{className:"h-4 w-4 inline mr-1"}),"Formato"]}),(0,r.jsxs)(l.Ph,{value:g,onValueChange:e=>f(e),children:[r.jsx(l.i4,{children:r.jsx(l.ki,{})}),(0,r.jsxs)(l.Bw,{children:[r.jsx(l.Ql,{value:"pdf",children:"PDF (Apresenta\xe7\xe3o)"}),r.jsx(l.Ql,{value:"csv",children:"CSV (An\xe1lise de Dados)"})]})]})]}),r.jsx(o.z,{onClick:q,disabled:N||!b||!j,className:"w-full",size:"lg",children:N?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Gerando..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Gerar Relat\xf3rio"]})}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Per\xedodos R\xe1pidos"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"\xdaltimos 7 dias",days:7},{label:"\xdaltimos 30 dias",days:30},{label:"\xdaltimos 90 dias",days:90},{label:"Este ano",days:Math.floor((new Date().getTime()-new Date(new Date().getFullYear(),0,1).getTime())/864e5)}].map(e=>r.jsx(o.z,{variant:"outline",size:"sm",onClick:()=>{let s=new Date,t=new Date;t.setDate(t.getDate()-e.days),v(t.toISOString().split("T")[0]),y(s.toISOString().split("T")[0])},children:e.label},e.label))})]})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(c.Z,{className:"h-8 w-8 text-blue-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Formato PDF"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Relat\xf3rio corporativo formatado com logo, gr\xe1ficos e tabelas. Ideal para apresenta\xe7\xf5es."})]})]})})}),r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(u,{className:"h-8 w-8 text-green-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Formato CSV"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados em planilha para an\xe1lise avan\xe7ada. Compat\xedvel com Excel e Google Sheets."})]})]})})}),r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(m.Z,{className:"h-8 w-8 text-purple-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Download Imediato"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Relat\xf3rio gerado instantaneamente e baixado automaticamente para seu dispositivo."})]})]})})})]})]})}},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},36283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},17069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},22907:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\settings\reports\page.tsx#default`)},37125:(e,s,t)=>{"use strict";function r(e,[s,t]){return Math.min(t,Math.max(s,e))}t.d(s,{u:()=>r})}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,7362,266,9874],()=>t(6547));module.exports=r})();
(()=>{var e={};e.id=6318,e.ids=[6318],e.modules={572934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},554580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},345869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},220399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},978893:e=>{"use strict";e.exports=require("buffer")},532615:e=>{"use strict";e.exports=require("http")},735240:e=>{"use strict";e.exports=require("https")},768621:e=>{"use strict";e.exports=require("punycode")},276162:e=>{"use strict";e.exports=require("stream")},917360:e=>{"use strict";e.exports=require("url")},671568:e=>{"use strict";e.exports=require("zlib")},306547:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),t(122907),t(800635),t(35866);var r=t(723191),a=t(88716),i=t(637922),o=t.n(i),l=t(595231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(s,n);let d=["",{children:["settings",{children:["reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,122907)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\settings\\reports\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,800635)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\settings\\reports\\page.tsx"],m="/settings/reports/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/reports/page",pathname:"/settings/reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},399173:(e,s,t)=>{Promise.resolve().then(t.bind(t,551771)),Promise.resolve().then(t.bind(t,697754)),Promise.resolve().then(t.bind(t,581966)),Promise.resolve().then(t.bind(t,825146)),Promise.resolve().then(t.bind(t,108563)),Promise.resolve().then(t.bind(t,735265)),Promise.resolve().then(t.bind(t,243796)),Promise.resolve().then(t.bind(t,474008)),Promise.resolve().then(t.bind(t,754055))},453958:(e,s,t)=>{Promise.resolve().then(t.bind(t,312094))},464070:(e,s,t)=>{"use strict";t.d(s,{I:()=>o});var r=t(210326),a=t(517577),i=t(747405);let o=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));o.displayName="Input"},898268:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>u,Ph:()=>d,Ql:()=>p,i4:()=>m,ki:()=>c});var r=t(210326),a=t(517577),i=t(44875),o=t(300941),l=t(732933),n=t(747405);let d=i.fC;i.ZA;let c=i.B4,m=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(i.xz,{ref:a,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:[s,r.jsx(i.JO,{asChild:!0,children:r.jsx(o.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.xz.displayName;let u=a.forwardRef(({className:e,children:s,position:t="popper",...a},o)=>r.jsx(i.h_,{children:r.jsx(i.VY,{ref:o,className:(0,n.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:r.jsx(i.l_,{className:(0,n.cn)("popper"===t&&"p-1",e),children:s})})}));u.displayName=i.VY.displayName,a.forwardRef(({className:e,...s},t)=>r.jsx(i.__,{ref:t,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let p=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(i.ck,{ref:a,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i.wU,{children:r.jsx(l.Z,{className:"h-4 w-4"})})}),r.jsx(i.eT,{children:s})]}));p.displayName=i.ck.displayName,a.forwardRef(({className:e,...s},t)=>r.jsx(i.Z0,{ref:t,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},312094:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(210326),a=t(517577),i=t(483431),o=t(482610),l=t(898268),n=t(464070),d=t(517069),c=t(136283);let m=(0,t(862881).Z)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);var u=t(337358),p=t(331540),x=t(87007);let h=[{value:"analytics",label:"Analytics",description:"Projetos, renders, TTS, uploads e usu\xe1rios ativos",icon:d.Z},{value:"security",label:"Seguran\xe7a",description:"Logins, alertas de seguran\xe7a e uso de SSO",icon:c.Z},{value:"audit_logs",label:"Auditoria",description:"Hist\xf3rico completo de eventos e a\xe7\xf5es",icon:m},{value:"billing",label:"Financeiro",description:"Pagamentos, receita e ticket m\xe9dio",icon:c.Z},{value:"usage",label:"Uso de Recursos",description:"Membros, projetos e armazenamento",icon:m},{value:"sso",label:"SSO",description:"Uso de SSO por provedor",icon:c.Z},{value:"members",label:"Membros",description:"Lista de membros ativos por role",icon:m}];function f(){(0,a.useMemo)(()=>(0,x.eI)(),[]);let[e,s]=(0,a.useState)(null),[t,d]=(0,a.useState)("analytics"),[f,b]=(0,a.useState)("pdf"),[g,v]=(0,a.useState)(""),[j,y]=(0,a.useState)(""),[N,w]=(0,a.useState)(!1),_=e?.user_metadata?.currentOrgId,P=async()=>{if(!_||!g||!j){alert("Por favor, preencha todos os campos obrigat\xf3rios");return}if(new Date(g)>new Date(j)){alert("Data inicial deve ser anterior \xe0 data final");return}w(!0);try{let e=await fetch(`/api/org/${_}/reports/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:t,startDate:g,endDate:j,format:f})});if(!e.ok){let s=await e.json();throw Error(s.error||"Erro ao gerar relat\xf3rio")}let s=await e.blob(),r=window.URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`report-${t}-${new Date().toISOString().split("T")[0]}.${"pdf"===f?"html":"csv"}`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),alert("Relat\xf3rio gerado com sucesso!")}catch(e){console.error("Erro ao gerar relat\xf3rio:",e),alert(e instanceof Error?e.message:"Erro ao gerar relat\xf3rio")}finally{w(!1)}};if(!e)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("p",{children:"Fa\xe7a login para acessar o gerador de relat\xf3rios."})});let k=h.find(e=>e.value===t);return(0,r.jsxs)("div",{className:"container mx-auto py-8 px-4",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCCA Gerador de Relat\xf3rios"}),r.jsx("p",{className:"text-muted-foreground",children:"Crie relat\xf3rios personalizados em PDF ou CSV"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Tipos de Relat\xf3rio"})}),r.jsx(i.aY,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(e=>{let s=e.icon;return r.jsx("button",{onClick:()=>d(e.value),className:`p-4 rounded-lg border-2 text-left transition-all ${t===e.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(s,{className:`h-6 w-6 ${t===e.value?"text-blue-600":"text-gray-600"}`}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:e.label}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})]})},e.value)})})})]})}),r.jsx("div",{children:(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"Configura\xe7\xe3o"})}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[k&&(()=>{let e=k.icon;return(0,r.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(e,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-semibold text-blue-900",children:k.label})]}),r.jsx("p",{className:"text-sm text-blue-700",children:k.description})]})})(),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:[r.jsx(u.Z,{className:"h-4 w-4 inline mr-1"}),"Per\xedodo"]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(n.I,{type:"date",value:g,onChange:e=>v(e.target.value),placeholder:"Data inicial"}),r.jsx(n.I,{type:"date",value:j,onChange:e=>y(e.target.value),placeholder:"Data final"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:[r.jsx(c.Z,{className:"h-4 w-4 inline mr-1"}),"Formato"]}),(0,r.jsxs)(l.Ph,{value:f,onValueChange:e=>b(e),children:[r.jsx(l.i4,{children:r.jsx(l.ki,{})}),(0,r.jsxs)(l.Bw,{children:[r.jsx(l.Ql,{value:"pdf",children:"PDF (Apresenta\xe7\xe3o)"}),r.jsx(l.Ql,{value:"csv",children:"CSV (An\xe1lise de Dados)"})]})]})]}),r.jsx(o.z,{onClick:P,disabled:N||!g||!j,className:"w-full",size:"lg",children:N?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Gerando..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Gerar Relat\xf3rio"]})}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Per\xedodos R\xe1pidos"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"\xdaltimos 7 dias",days:7},{label:"\xdaltimos 30 dias",days:30},{label:"\xdaltimos 90 dias",days:90},{label:"Este ano",days:Math.floor((new Date().getTime()-new Date(new Date().getFullYear(),0,1).getTime())/864e5)}].map(e=>r.jsx(o.z,{variant:"outline",size:"sm",onClick:()=>{let s=new Date,t=new Date;t.setDate(t.getDate()-e.days),v(t.toISOString().split("T")[0]),y(s.toISOString().split("T")[0])},children:e.label},e.label))})]})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(c.Z,{className:"h-8 w-8 text-blue-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Formato PDF"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Relat\xf3rio corporativo formatado com logo, gr\xe1ficos e tabelas. Ideal para apresenta\xe7\xf5es."})]})]})})}),r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(m,{className:"h-8 w-8 text-green-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Formato CSV"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Dados em planilha para an\xe1lise avan\xe7ada. Compat\xedvel com Excel e Google Sheets."})]})]})})}),r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx(p.Z,{className:"h-8 w-8 text-purple-600"}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Download Imediato"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Relat\xf3rio gerado instantaneamente e baixado automaticamente para seu dispositivo."})]})]})})})]})]})}},337358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(862881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},136283:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(862881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},517069:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(862881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},122907:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(768570).createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\settings\reports\page.tsx#default`)},537125:(e,s,t)=>{"use strict";function r(e,[s,t]){return Math.min(t,Math.max(s,e))}t.d(s,{u:()=>r})},217124:(e,s,t)=>{"use strict";t.d(s,{gm:()=>i});var r=t(517577);t(210326);var a=r.createContext(void 0);function i(e){let s=r.useContext(a);return e||s||"ltr"}},853405:(e,s,t)=>{"use strict";t.d(s,{D:()=>a});var r=t(517577);function a(e){let s=r.useRef({value:e,previous:e});return r.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}},602566:(e,s,t)=>{"use strict";t.d(s,{t:()=>i});var r=t(517577),a=t(265819);function i(e){let[s,t]=r.useState(void 0);return(0,a.b)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let r,a;if(!Array.isArray(s)||!s.length)return;let i=s[0];if("borderBoxSize"in i){let e=i.borderBoxSize,s=Array.isArray(e)?e[0]:e;r=s.inlineSize,a=s.blockSize}else r=e.offsetWidth,a=e.offsetHeight;t({width:r,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}t(void 0)},[e]),s}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,605,489,266,6430],()=>t(306547));module.exports=r})();
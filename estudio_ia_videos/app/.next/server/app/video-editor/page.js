(()=>{var e={};e.id=7209,e.ids=[7209],e.modules={92885:e=>{"use strict";e.exports=require("@supabase/supabase-js")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(11257),r(97076),r(96560);var s=r(23191),a=r(88716),l=r(37922),n=r.n(l),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["video-editor",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,11257)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\app\\video-editor\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,97076)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,96560)),"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\app\\not-found.tsx"]}],c=["C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\app\\video-editor\\page.tsx"],u="/video-editor/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/video-editor/page",pathname:"/video-editor",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},47241:(e,t,r)=>{Promise.resolve().then(r.bind(r,14683))},14683:(e,t,r)=>{"use strict";let s,a,l;r.r(t),r.d(t,{default:()=>sY,dynamic:()=>sV});var n,i,o,d,c,u,m,h,p,x,g=r(10326),f=r(66697),y=r(62881);let b=(0,y.Z)("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);var v=r(48998),j=r(17069),w=r(33071),N=r(567);class k{calculateMetrics(e,t){let r=t.timeline_data?.slides||[],s={},a=0;r.forEach(e=>{e.elements&&e.elements.forEach(e=>{a++,s[e.type]=(s[e.type]||0)+1})});let l=r.length>0?a/r.length:0,n=Math.min(100,a/(5*r.length)*100),i={projectId:e,totalSlides:r.length,totalDuration:t.duration||0,totalElements:a,elementsByType:s,averageSlideComplexity:Math.round(10*l)/10,completionRate:Math.round(n),lastModified:new Date(t.updated_at||Date.now()),editCount:this.getEvents(e).filter(e=>"edit"===e.type).length,exportCount:this.getEvents(e).filter(e=>"export"===e.type).length,viewCount:this.getEvents(e).filter(e=>"view"===e.type).length};return this.metrics.set(e,i),i}trackEvent(e,t){let r={...t,id:`event-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date},s=this.events.get(e)||[];s.push(r),this.events.set(e,s),console.log(`[ProjectAnalytics] Event tracked: ${t.type} - ${t.description}`)}getEvents(e,t){let r=this.events.get(e)||[];return t?r.slice(-t):r}getMetrics(e){return this.metrics.get(e)||null}getUsageStats(e,t=7){let r=this.getEvents(e),s=new Date,a={};for(let e=0;e<t;e++){let t=new Date(s);t.setDate(t.getDate()-e),a[t.toISOString().split("T")[0]]=0}return r.forEach(e=>{let t=e.timestamp.toISOString().split("T")[0];a.hasOwnProperty(t)&&a[t]++}),Object.entries(a).map(([e,t])=>({date:e,events:t})).reverse()}compareProjects(e){return e.map(e=>({projectId:e,metrics:this.getMetrics(e)}))}exportReport(e){let t=this.getMetrics(e),r=this.getEvents(e),s=this.getUsageStats(e,30);return{projectId:e,generatedAt:new Date,metrics:t,totalEvents:r.length,recentEvents:r.slice(-10),usageStats:s,topElementTypes:t?Object.entries(t.elementsByType).sort(([,e],[,t])=>t-e).slice(0,5):[]}}constructor(){this.events=new Map,this.metrics=new Map}}let C=new k;function S({projectId:e,metrics:t}){let r=C.getUsageStats(e,7),s=C.getEvents(e,5);return(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g.jsx(w.Zb,{children:g.jsx(w.aY,{className:"pt-6",children:(0,g.jsxs)("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.totalSlides}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Slides"})]})})}),g.jsx(w.Zb,{children:g.jsx(w.aY,{className:"pt-6",children:(0,g.jsxs)("div",{className:"text-center",children:[g.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.totalElements}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Elementos"})]})})}),g.jsx(w.Zb,{children:g.jsx(w.aY,{className:"pt-6",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[Math.round(t.totalDuration),"s"]}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Dura\xe7\xe3o"})]})})}),g.jsx(w.Zb,{children:g.jsx(w.aY,{className:"pt-6",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[t.completionRate,"%"]}),g.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Conclus\xe3o"})]})})})]}),(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"text-sm flex items-center gap-2",children:[g.jsx(f.Z,{className:"w-4 h-4"}),"Atividade (\xfaltimos 7 dias)"]})}),g.jsx(w.aY,{children:g.jsx("div",{className:"flex items-end gap-2 h-32",children:r.map((e,t)=>{let s=Math.max(...r.map(e=>e.events),1),a=e.events/s*100;return(0,g.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[g.jsx("div",{className:"w-full bg-blue-600 rounded-t transition-all hover:bg-blue-700",style:{height:`${a}%`},title:`${e.events} eventos`}),g.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.date).getDate()})]},t)})})})]}),(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"text-sm flex items-center gap-2",children:[g.jsx(b,{className:"w-4 h-4"}),"Elementos por Tipo"]})}),g.jsx(w.aY,{children:g.jsx("div",{className:"space-y-2",children:Object.entries(t.elementsByType).map(([e,r])=>{let s=r/t.totalElements*100;return(0,g.jsxs)("div",{className:"space-y-1",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"capitalize text-gray-700",children:e}),g.jsx("span",{className:"font-medium",children:r})]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${s}%`}})})]},e)})})})]}),(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"text-sm flex items-center gap-2",children:[g.jsx(v.Z,{className:"w-4 h-4"}),"Atividades Recentes"]})}),g.jsx(w.aY,{children:0===s.length?g.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhuma atividade registrada"}):g.jsx("div",{className:"space-y-2",children:s.map(e=>(0,g.jsxs)("div",{className:"flex items-start gap-2 text-xs p-2 bg-gray-50 rounded",children:[g.jsx(N.C,{variant:"outline",className:"text-xs shrink-0",children:e.type}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-gray-700",children:e.description}),g.jsx("p",{className:"text-gray-500 text-xs mt-1",children:new Date(e.timestamp).toLocaleString("pt-BR")})]})]},e.id))})})]}),(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"text-sm flex items-center gap-2",children:[g.jsx(j.Z,{className:"w-4 h-4"}),"Estat\xedsticas"]})}),g.jsx(w.aY,{children:(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,g.jsxs)("div",{children:[g.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.editCount}),g.jsx("p",{className:"text-xs text-gray-600",children:"Edi\xe7\xf5es"})]}),(0,g.jsxs)("div",{children:[g.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.exportCount}),g.jsx("p",{className:"text-xs text-gray-600",children:"Exporta\xe7\xf5es"})]}),(0,g.jsxs)("div",{children:[g.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.viewCount}),g.jsx("p",{className:"text-xs text-gray-600",children:"Visualiza\xe7\xf5es"})]})]})})]})]})}var E=r(17577),D=r.n(E);let M=(0,y.Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var I=r(31540),z=r(98091),T=r(90772);class A{createBackup(e,t,r="manual",s){let a=JSON.stringify(t),l=this.generateHash(a),n={id:`backup-${Date.now()}`,projectId:e,timestamp:new Date,size:a.length,data:JSON.parse(a),type:r,description:s,hash:l},i=this.backups.get(e)||[];return i.push(n),i.length>this.maxBackupsPerProject&&i.shift(),this.backups.set(e,i),console.log(`[BackupManager] Backup criado: ${n.id} (${r})`),n}listBackups(e){return(this.backups.get(e)||[]).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime())}getBackup(e){for(let t of this.backups.values()){let r=t.find(t=>t.id===e);if(r)return r}return null}restoreBackup(e){let t=this.getBackup(e);return t?(console.log(`[BackupManager] Restaurando backup: ${e}`),JSON.parse(JSON.stringify(t.data))):null}deleteBackup(e){for(let[t,r]of this.backups.entries()){let s=r.findIndex(t=>t.id===e);if(-1!==s)return r.splice(s,1),this.backups.set(t,r),console.log(`[BackupManager] Backup deletado: ${e}`),!0}return!1}cleanupOldBackups(e,t=30){let r=this.backups.get(e)||[],s=new Date;s.setDate(s.getDate()-t);let a=r.filter(e=>e.timestamp>=s),l=r.length-a.length;return this.backups.set(e,a),console.log(`[BackupManager] ${l} backups antigos removidos`),l}startAutoBackup(e,t){this.autoBackupInterval&&this.stopAutoBackup(),this.autoBackupInterval=setInterval(()=>{let r=t();this.createBackup(e,r,"auto","Auto-backup peri\xf3dico")},6e4*this.autoBackupMinutes),console.log(`[BackupManager] Auto-backup iniciado (a cada ${this.autoBackupMinutes} min)`)}stopAutoBackup(){this.autoBackupInterval&&(clearInterval(this.autoBackupInterval),this.autoBackupInterval=null,console.log("[BackupManager] Auto-backup parado"))}validateBackup(e){let t=this.getBackup(e);return!!t&&this.generateHash(JSON.stringify(t.data))===t.hash}exportBackup(e){let t=this.getBackup(e);return t?new Blob([JSON.stringify({...t,exportedAt:new Date,version:"1.0"},null,2)],{type:"application/json"}):null}generateHash(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t).toString(36)}getStats(e){let t=this.listBackups(e);return{total:t.length,auto:t.filter(e=>"auto"===e.type).length,manual:t.filter(e=>"manual"===e.type).length,totalSize:t.reduce((e,t)=>e+t.size,0),oldestBackup:t.length>0?t[t.length-1].timestamp:void 0,newestBackup:t.length>0?t[0].timestamp:void 0}}constructor(){this.backups=new Map,this.maxBackupsPerProject=20,this.autoBackupInterval=null,this.autoBackupMinutes=5}}let R=new A;function O({projectId:e,onRestore:t}){let[r,s]=(0,E.useState)([]),[a,l]=(0,E.useState)(!1),[n,i]=(0,E.useState)(!1),[o,d]=(0,E.useState)(0),c=(0,E.useCallback)(()=>{s(R.listBackups(e))},[e]),u=e=>{if(confirm("Restaurar este backup? As altera\xe7\xf5es n\xe3o salvas ser\xe3o perdidas.")){let r=R.restoreBackup(e);r&&t&&t(r)}},m=e=>{confirm("Deletar este backup?")&&(R.deleteBackup(e),c())},h=e=>{let t=R.exportBackup(e);if(t){let r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`backup-${e}.json`,s.click(),URL.revokeObjectURL(r)}},p=R.getStats(e),x=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(e)),f=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]};return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(M,{className:"w-4 h-4"}),"Backup e Seguran\xe7a"]})}),(0,g.jsxs)(w.aY,{className:"space-y-3",children:[(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,g.jsxs)("div",{className:"p-2 bg-blue-50 rounded",children:[g.jsx("p",{className:"text-lg font-bold text-blue-600",children:p.total}),g.jsx("p",{className:"text-xs text-gray-600",children:"Total"})]}),(0,g.jsxs)("div",{className:"p-2 bg-green-50 rounded",children:[g.jsx("p",{className:"text-lg font-bold text-green-600",children:p.auto}),g.jsx("p",{className:"text-xs text-gray-600",children:"Auto"})]}),(0,g.jsxs)("div",{className:"p-2 bg-purple-50 rounded",children:[g.jsx("p",{className:"text-lg font-bold text-purple-600",children:p.manual}),g.jsx("p",{className:"text-xs text-gray-600",children:"Manual"})]})]}),(0,g.jsxs)(T.z,{size:"sm",className:"w-full",onClick:()=>{let t={projectId:e,timestamp:Date.now()};R.createBackup(e,t,"manual","Backup manual"),c()},children:[g.jsx(M,{className:"w-3 h-3 mr-2"}),"Criar Backup Manual"]}),g.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:0===r.length?g.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Nenhum backup ainda"}):r.slice(0,5).map(e=>g.jsx("div",{className:"p-2 bg-gray-50 rounded border border-gray-200",children:(0,g.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(N.C,{variant:"auto"===e.type?"outline":"default",className:"text-xs",children:"auto"===e.type?"Auto":"Manual"}),g.jsx("span",{className:"text-xs text-gray-500",children:f(e.size)})]}),g.jsx("p",{className:"text-xs text-gray-700",children:x(e.timestamp)})]}),(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[g.jsx(T.z,{size:"sm",variant:"ghost",onClick:()=>u(e.id),title:"Restaurar",className:"h-6 w-6 p-0",children:g.jsx(v.Z,{className:"w-3 h-3"})}),g.jsx(T.z,{size:"sm",variant:"ghost",onClick:()=>h(e.id),title:"Exportar",className:"h-6 w-6 p-0",children:g.jsx(I.Z,{className:"w-3 h-3"})}),g.jsx(T.z,{size:"sm",variant:"ghost",onClick:()=>m(e.id),title:"Deletar",className:"h-6 w-6 p-0 text-red-600",children:g.jsx(z.Z,{className:"w-3 h-3"})})]})]})},e.id))}),n&&(0,g.jsxs)("div",{className:"space-y-1",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[g.jsx("span",{children:"Importando..."}),(0,g.jsxs)("span",{children:[o,"%"]})]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${o}%`}})})]})]})]})}let Z=(0,y.Z)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var P=r(924);let $=(0,y.Z)("magnet",[["path",{d:"m12 15 4 4",key:"lnac28"}],["path",{d:"M2.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.029-6.029a1 1 0 1 1 3 3l-6.029 6.029a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.365-6.367A1 1 0 0 0 8.716 4.282z",key:"nlhkjb"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}]]),B=(0,y.Z)("align-center-horizontal",[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M10 16v4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-4",key:"11f1s0"}],["path",{d:"M10 8V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4",key:"t14dx9"}],["path",{d:"M20 16v1a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1",key:"1w07xs"}],["path",{d:"M14 8V7c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v1",key:"1apec2"}]]),L=(0,y.Z)("align-center-vertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"M8 10H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h4",key:"14d6g8"}],["path",{d:"M16 10h4a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-4",key:"1e2lrw"}],["path",{d:"M8 20H7a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2h1",key:"1fkdwx"}],["path",{d:"M16 14h1a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-1",key:"1euafb"}]]);var F=r(82561),_=r(48051),V=r(52067),U=r(53405),q=r(2566),Y=r(60962),K=Symbol("radix.slottable");function H(e){return E.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===K}var X=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=E.forwardRef((e,t)=>{let{children:r,...s}=e;if(E.isValidElement(r)){let e,a;let l=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,n=function(e,t){let r={...t};for(let s in t){let a=e[s],l=t[s];/^on[A-Z]/.test(s)?a&&l?r[s]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(r[s]=a):"style"===s?r[s]={...a,...l}:"className"===s&&(r[s]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==E.Fragment&&(n.ref=t?(0,_.F)(t,l):l),E.cloneElement(r,n)}return E.Children.count(r)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=E.forwardRef((e,r)=>{let{children:s,...a}=e,l=E.Children.toArray(s),n=l.find(H);if(n){let e=n.props.children,s=l.map(t=>t!==n?t:E.Children.count(e)>1?E.Children.only(null):E.isValidElement(e)?e.props.children:null);return(0,g.jsx)(t,{...a,ref:r,children:E.isValidElement(e)?E.cloneElement(e,void 0,s):null})}return(0,g.jsx)(t,{...a,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),s=E.forwardRef((e,s)=>{let{asChild:a,...l}=e,n=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,g.jsx)(n,{...l,ref:s})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),W="Switch",[G,J]=function(e,t=[]){let r=[],s=()=>{let t=r.map(e=>E.createContext(e));return function(r){let s=r?.[e]||t;return E.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return s.scopeName=e,[function(t,s){let a=E.createContext(s),l=r.length;r=[...r,s];let n=t=>{let{scope:r,children:s,...n}=t,i=r?.[e]?.[l]||a,o=E.useMemo(()=>n,Object.values(n));return(0,g.jsx)(i.Provider,{value:o,children:s})};return n.displayName=t+"Provider",[n,function(r,n){let i=n?.[e]?.[l]||a,o=E.useContext(i);if(o)return o;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:s})=>{let a=r(e)[`__scope${s}`];return{...t,...a}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(s,...t)]}(W),[Q,ee]=G(W),et=E.forwardRef((e,t)=>{let{__scopeSwitch:r,name:s,checked:a,defaultChecked:l,required:n,disabled:i,value:o="on",onCheckedChange:d,form:c,...u}=e,[m,h]=E.useState(null),p=(0,_.e)(t,e=>h(e)),x=E.useRef(!1),f=!m||c||!!m.closest("form"),[y,b]=(0,V.T)({prop:a,defaultProp:l??!1,onChange:d,caller:W});return(0,g.jsxs)(Q,{scope:r,checked:y,disabled:i,children:[(0,g.jsx)(X.button,{type:"button",role:"switch","aria-checked":y,"aria-required":n,"data-state":el(y),"data-disabled":i?"":void 0,disabled:i,value:o,...u,ref:p,onClick:(0,F.Mj)(e.onClick,e=>{b(e=>!e),f&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})}),f&&(0,g.jsx)(ea,{control:m,bubbles:!x.current,name:s,value:o,checked:y,required:n,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})});et.displayName=W;var er="SwitchThumb",es=E.forwardRef((e,t)=>{let{__scopeSwitch:r,...s}=e,a=ee(er,r);return(0,g.jsx)(X.span,{"data-state":el(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});es.displayName=er;var ea=E.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},l)=>{let n=E.useRef(null),i=(0,_.e)(n,l),o=(0,U.D)(r),d=(0,q.t)(t);return E.useEffect(()=>{let e=n.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let a=new Event("click",{bubbles:s});t.call(e,r),e.dispatchEvent(a)}},[o,r,s]),(0,g.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function el(e){return e?"checked":"unchecked"}ea.displayName="SwitchBubbleInput";var en=r(77863);let ei=E.forwardRef(({className:e,...t},r)=>g.jsx(et,{className:(0,en.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:g.jsx(es,{className:(0,en.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ei.displayName=et.displayName;var eo=r(51217);function ed({gridEnabled:e,snapEnabled:t,gridSize:r,onGridToggle:s,onSnapToggle:a,onGridSizeChange:l,onAlign:n,onDistribute:i}){let[o,d]=(0,E.useState)(!1);return(0,g.jsxs)(w.Zb,{className:"bg-gray-900 border-gray-800",children:[g.jsx(w.Ol,{className:"border-b border-gray-800",children:(0,g.jsxs)(w.ll,{className:"text-white flex items-center gap-2 text-sm",children:[g.jsx(Z,{className:"w-4 h-4"}),"Grid & Alinhamento"]})}),(0,g.jsxs)(w.aY,{className:"p-3 space-y-3",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[g.jsx(P.Z,{className:"w-4 h-4 text-gray-400"}),g.jsx("span",{className:"text-sm text-white",children:"Mostrar Grid"})]}),g.jsx(ei,{checked:e,onCheckedChange:s})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[g.jsx($,{className:"w-4 h-4 text-gray-400"}),g.jsx("span",{className:"text-sm text-white",children:"Snap Autom\xe1tico"})]}),g.jsx(ei,{checked:t,onCheckedChange:a})]}),e&&(0,g.jsxs)("div",{className:"space-y-2 pt-2 border-t border-gray-800",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-xs text-gray-400",children:"Tamanho do Grid"}),(0,g.jsxs)("span",{className:"text-xs text-white font-medium",children:[r,"px"]})]}),g.jsx(eo.i,{value:[r],onValueChange:e=>l(e[0]),min:10,max:100,step:10,className:"w-full"})]}),n&&(0,g.jsxs)("div",{className:"pt-2 border-t border-gray-800",children:[(0,g.jsxs)("button",{className:"w-full text-left text-xs text-gray-400 hover:text-white mb-2 transition-colors",onClick:()=>d(!o),children:[o?"▼":"▶"," Ferramentas de Alinhamento"]}),o&&(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Horizontal"}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[g.jsx(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n("left"),title:"Alinhar \xe0 esquerda",children:"⬅️"}),g.jsx(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n("center-h"),title:"Centralizar horizontalmente",children:"↔️"}),g.jsx(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n("right"),title:"Alinhar \xe0 direita",children:"➡️"})]})]}),(0,g.jsxs)("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Vertical"}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[g.jsx(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n("top"),title:"Alinhar ao topo",children:"⬆️"}),g.jsx(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n("center-v"),title:"Centralizar verticalmente",children:"↕️"}),g.jsx(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n("bottom"),title:"Alinhar abaixo",children:"⬇️"})]})]}),i&&(0,g.jsxs)("div",{className:"space-y-1 pt-2 border-t border-gray-700",children:[g.jsx("p",{className:"text-xs text-gray-500",children:"Distribuir"}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,g.jsxs)(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>i("horizontal"),title:"Distribuir horizontalmente",children:[g.jsx(B,{className:"w-3 h-3 mr-1"}),"H"]}),(0,g.jsxs)(T.z,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>i("vertical"),title:"Distribuir verticalmente",children:[g.jsx(L,{className:"w-3 h-3 mr-1"}),"V"]})]})]})]})]})]})]})}function ec({slide:e,width:t=1920,height:r=1080,onElementUpdate:s,onSelectionChange:a,selectedElementIds:l=[],gridEnabled:n=!1,gridSize:i=20,snapEnabled:o=!0,onManagerReady:d,onContextMenu:c}){let u=(0,E.useRef)(null),m=(0,E.useRef)(null),[h,p]=(0,E.useState)(!0),[x,f]=(0,E.useState)(null);(0,E.useRef)(!1),(0,E.useRef)(!1),(0,E.useRef)(s),(0,E.useRef)(a),(0,E.useRef)(d);let y=(0,E.useRef)(c);return((0,E.useRef)(null),(0,E.useCallback)(e=>{y.current?.(e)},[]),x)?g.jsx("div",{className:"flex items-center justify-center w-full h-full bg-red-50 border border-red-200 rounded",children:(0,g.jsxs)("div",{className:"text-center p-4",children:[g.jsx("p",{className:"text-red-600 font-medium",children:"Erro no Canvas"}),g.jsx("p",{className:"text-sm text-red-500 mt-1",children:x})]})}):(0,g.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center bg-gray-100",children:[h&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 z-10",children:(0,g.jsxs)("div",{className:"text-center",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-2"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Carregando elementos..."})]})}),(0,g.jsxs)("div",{className:"relative shadow-2xl",children:[g.jsx("canvas",{ref:u,className:"border border-gray-300 bg-white",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}),n&&(0,g.jsxs)(g.Fragment,{children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-6 bg-gray-200 border-b border-gray-400 text-xs"}),g.jsx("div",{className:"absolute top-0 left-0 bottom-0 w-6 bg-gray-200 border-r border-gray-400 text-xs"})]})]}),(0,g.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[g.jsx("button",{className:"p-2 hover:bg-gray-100 rounded transition-colors",title:"Deselecionar tudo",onClick:()=>m.current?.deselectAll(),children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("button",{className:"p-2 hover:bg-gray-100 rounded transition-colors",title:"Exportar como imagem",onClick:()=>{let t=m.current?.toDataURL("png",1);if(!t)return;let r=document.createElement("a");r.download=`slide-${e?.slideNumber||"preview"}.png`,r.href=t,r.click()},children:g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]})}var eu=r(24061);function em({connected:e,users:t}){return(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-green-500":"bg-gray-400"}`}),g.jsx("span",{className:"text-xs text-gray-600",children:e?"Online":"Offline"})]}),t.length>0&&(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[g.jsx(eu.Z,{className:"w-4 h-4 text-gray-600"}),g.jsx("span",{className:"text-xs text-gray-600",children:t.length}),(0,g.jsxs)("div",{className:"flex -space-x-2",children:[t.slice(0,3).map(e=>g.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white flex items-center justify-center text-xs font-medium text-white",style:{backgroundColor:e.color},title:e.name,children:e.name.charAt(0).toUpperCase()},e.id)),t.length>3&&(0,g.jsxs)("div",{className:"w-6 h-6 rounded-full border-2 border-white bg-gray-400 flex items-center justify-center text-xs font-medium text-white",children:["+",t.length-3]})]})]})]})}var eh=r(39730);let ep=(0,y.Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var ex=r(32933);class eg{addComment(e){let t={...e,id:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date,resolved:!1,replies:[]},r=this.comments.get(e.projectId)||[];return r.push(t),this.comments.set(e.projectId,r),console.log(`[CommentSystem] Comment added: ${t.id}`),t}addReply(e,t){for(let[r,s]of this.comments.entries()){let a=s.find(t=>t.id===e);if(a){let l={...t,id:`reply-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date,resolved:!1,replies:[]};return a.replies.push(l),this.comments.set(r,s),console.log(`[CommentSystem] Reply added to ${e}`),l}}return null}listComments(e,t){let r=this.comments.get(e)||[];return t?.slideId&&(r=r.filter(e=>e.slideId===t.slideId)),t?.elementId&&(r=r.filter(e=>e.elementId===t.elementId)),t?.resolved!==void 0&&(r=r.filter(e=>e.resolved===t.resolved)),r.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}resolveComment(e){for(let[t,r]of this.comments.entries()){let s=r.find(t=>t.id===e);if(s)return s.resolved=!0,this.comments.set(t,r),console.log(`[CommentSystem] Comment resolved: ${e}`),!0}return!1}editComment(e,t){for(let[r,s]of this.comments.entries()){let a=s.find(t=>t.id===e);if(a)return a.content=t,a.updatedAt=new Date,this.comments.set(r,s),!0}return!1}deleteComment(e){for(let[t,r]of this.comments.entries()){let s=r.findIndex(t=>t.id===e);if(-1!==s)return r.splice(s,1),this.comments.set(t,r),console.log(`[CommentSystem] Comment deleted: ${e}`),!0}return!1}countUnresolved(e){let t=this.listComments(e,{resolved:!1});return t.length+t.reduce((e,t)=>e+t.replies.filter(e=>!e.resolved).length,0)}constructor(){this.comments=new Map}}let ef=new eg;function ey({projectId:e,slideId:t,currentUser:r}){let[s,a]=(0,E.useState)([]),[l,n]=(0,E.useState)(""),[i,o]=(0,E.useState)(!1),d=()=>{a(ef.listComments(e,{slideId:t}))},c=e=>{ef.resolveComment(e),d()},u=e=>{confirm("Deseja realmente deletar este coment\xe1rio?")&&(ef.deleteComment(e),d())},m=e=>new Intl.RelativeTimeFormat("pt-BR",{numeric:"auto"}).format(Math.ceil((new Date(e).getTime()-Date.now())/864e5),"day");return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(eh.Z,{className:"w-4 h-4"}),"Coment\xe1rios",t&&(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:["Slide ",t]})]})}),(0,g.jsxs)(w.aY,{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"space-y-2",children:[g.jsx("textarea",{value:l,onChange:e=>n(e.target.value),placeholder:"Adicione um coment\xe1rio...",className:"w-full p-2 text-sm border rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),g.jsx("div",{className:"flex items-center justify-end gap-2",children:(0,g.jsxs)(T.z,{size:"sm",onClick:()=>{l.trim()&&(o(!0),ef.addComment({projectId:e,slideId:t,author:r,content:l}),n(""),d(),o(!1))},disabled:!l.trim()||i,children:[g.jsx(ep,{className:"w-3 h-3 mr-1"}),"Comentar"]})})]}),g.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===s.length?g.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"Nenhum coment\xe1rio ainda. Seja o primeiro!"}):s.map(e=>g.jsx("div",{className:`p-3 rounded-lg border ${e.resolved?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:(0,g.jsxs)("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs font-medium flex-shrink-0",children:e.author.name.charAt(0).toUpperCase()}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.author.name}),g.jsx("span",{className:"text-xs text-gray-500",children:m(e.createdAt)}),e.resolved&&(0,g.jsxs)(N.C,{className:"text-xs bg-green-600",children:[g.jsx(ex.Z,{className:"w-3 h-3 mr-1"}),"Resolvido"]})]}),g.jsx("p",{className:"text-sm text-gray-700",children:e.content}),e.replies.length>0&&g.jsx("div",{className:"mt-3 ml-4 space-y-2",children:e.replies.map(e=>(0,g.jsxs)("div",{className:"p-2 bg-white rounded border border-gray-200",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"text-xs font-medium text-gray-900",children:e.author.name}),g.jsx("span",{className:"text-xs text-gray-500",children:m(e.createdAt)})]}),g.jsx("p",{className:"text-xs text-gray-700",children:e.content})]},e.id))})]}),(0,g.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!e.resolved&&g.jsx(T.z,{size:"sm",variant:"ghost",onClick:()=>c(e.id),title:"Resolver",className:"h-6 w-6 p-0",children:g.jsx(ex.Z,{className:"w-3 h-3 text-green-600"})}),e.author.id===r.id&&g.jsx(T.z,{size:"sm",variant:"ghost",onClick:()=>u(e.id),title:"Deletar",className:"h-6 w-6 p-0 text-red-600",children:g.jsx(z.Z,{className:"w-3 h-3"})})]})]})},e.id))})]})]})}var eb=r(77506),ev=r(41291);let ej=(0,y.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var ew=r(92613),eN=r(43901);function ek({isSaving:e,lastSaved:t,error:r,className:s}){if(e)return(0,g.jsxs)(N.C,{variant:"secondary",className:(0,en.cn)("flex items-center gap-2",s),children:[g.jsx(eb.Z,{className:"w-3 h-3 animate-spin"}),g.jsx("span",{className:"text-xs",children:"Salvando..."})]});if(r)return(0,g.jsxs)(N.C,{variant:"destructive",className:(0,en.cn)("flex items-center gap-2",s),children:[g.jsx(ev.Z,{className:"w-3 h-3"}),g.jsx("span",{className:"text-xs",children:"Erro ao salvar"})]});if(t){let e=(0,ew.Q)(t,{addSuffix:!0,locale:eN.F});return(0,g.jsxs)(N.C,{variant:"outline",className:(0,en.cn)("flex items-center gap-2 border-green-200 bg-green-50 text-green-700",s),children:[g.jsx(ej,{className:"w-3 h-3"}),(0,g.jsxs)("span",{className:"text-xs",children:["Salvo ",e]})]})}return(0,g.jsxs)(N.C,{variant:"outline",className:(0,en.cn)("flex items-center gap-2 border-gray-200",s),children:[g.jsx(v.Z,{className:"w-3 h-3"}),g.jsx("span",{className:"text-xs",children:"N\xe3o salvo"})]})}let eC=(0,y.Z)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var eS=r(43810);function eE({slides:e,currentSlideIndex:t,onSlideSelect:r,onReorder:s,onDuplicate:a,onDelete:l}){let[n,i]=(0,E.useState)(null),[o,d]=(0,E.useState)(null),c=(e,t)=>{i(t),e.dataTransfer.effectAllowed="move"},u=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",d(t)},m=()=>{d(null)},h=(e,t)=>{e.preventDefault(),null!==n&&n!==t&&s(n,t),i(null),d(null)},p=()=>{i(null),d(null)};return g.jsx("div",{className:"space-y-3",children:e.map((s,i)=>(0,g.jsxs)("div",{draggable:!0,onDragStart:e=>c(e,i),onDragOver:e=>u(e,i),onDragLeave:m,onDrop:e=>h(e,i),onDragEnd:p,className:`
            rounded-lg cursor-move transition-all p-2 relative
            ${i===t?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-800 hover:bg-gray-700"}
            ${n===i?"opacity-50 scale-95":""}
            ${o===i&&n!==i?"ring-2 ring-green-400":""}
          `,children:[g.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2",children:g.jsx(eC,{className:"w-4 h-4 text-gray-500"})}),(0,g.jsxs)("div",{className:"pl-6",onClick:()=>r(i),children:[g.jsx("div",{className:"aspect-video bg-gray-900 rounded mb-2 overflow-hidden",children:s.thumbnail?g.jsx("img",{src:s.thumbnail,alt:s.title||`Slide ${i+1}`,className:"w-full h-full object-cover"}):(0,g.jsxs)("div",{className:"flex items-center justify-center h-full text-gray-600 text-xs",children:["Slide ",s.slideNumber||i+1]})}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:`text-xs font-medium truncate ${i===t?"text-white":"text-gray-300"}`,children:s.title||`Slide ${s.slideNumber||i+1}`}),(0,g.jsxs)("p",{className:`text-xs ${i===t?"text-blue-200":"text-gray-500"}`,children:[s.duration||5,"s"]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[g.jsx(T.z,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:e=>{e.stopPropagation(),a(i)},children:g.jsx(eS.Z,{className:"w-3 h-3"})}),e.length>1&&g.jsx(T.z,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-500 hover:text-red-600",onClick:e=>{e.stopPropagation(),l(i)},children:g.jsx(z.Z,{className:"w-3 h-3"})})]})]})]}),n===i&&g.jsx(N.C,{className:"absolute top-2 right-2 bg-yellow-500 text-xs",children:"Movendo..."})]},s.id||i))})}let eD=(0,y.Z)("keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);var eM=r(94019);class eI{register(e){let t=this.getShortcutKey(e);this.shortcuts.set(t,e)}unregister(e){this.shortcuts.delete(e)}clear(){this.shortcuts.clear()}setEnabled(e){this.enabled=e}handleKeyDown(e){if(!this.enabled)return!1;let t=this.getKeyFromEvent(e),r=this.shortcuts.get(t);return!!r&&(e.preventDefault(),r.action(),!0)}list(){return Array.from(this.shortcuts.values())}listByCategory(e){return this.list().filter(t=>t.category===e)}getShortcutString(e){let t=[];return e.ctrl&&t.push("Ctrl"),e.shift&&t.push("Shift"),e.alt&&t.push("Alt"),e.meta&&t.push("Cmd"),t.push(e.key.toUpperCase()),t.join(" + ")}getShortcutKey(e){return`${e.ctrl?"ctrl+":""}${e.shift?"shift+":""}${e.alt?"alt+":""}${e.meta?"meta+":""}${e.key.toLowerCase()}`}getKeyFromEvent(e){return`${e.ctrlKey?"ctrl+":""}${e.shiftKey?"shift+":""}${e.altKey?"alt+":""}${e.metaKey?"meta+":""}${e.key.toLowerCase()}`}constructor(){this.shortcuts=new Map,this.enabled=!0}}new eI;let ez={UNDO:{key:"z",ctrl:!0,description:"Desfazer",category:"editor"},REDO:{key:"y",ctrl:!0,description:"Refazer",category:"editor"},REDO_ALT:{key:"z",ctrl:!0,shift:!0,description:"Refazer (alternativo)",category:"editor"},SAVE:{key:"s",ctrl:!0,description:"Salvar",category:"editor"},DUPLICATE:{key:"d",ctrl:!0,description:"Duplicar",category:"editor"},DELETE:{key:"Delete",description:"Deletar",category:"editor"},SELECT_ALL:{key:"a",ctrl:!0,description:"Selecionar tudo",category:"editor"},NEXT_SLIDE:{key:"ArrowRight",description:"Pr\xf3ximo slide",category:"navigation"},PREV_SLIDE:{key:"ArrowLeft",description:"Slide anterior",category:"navigation"},FIRST_SLIDE:{key:"Home",description:"Primeiro slide",category:"navigation"},LAST_SLIDE:{key:"End",description:"\xdaltimo slide",category:"navigation"},PLAY_PAUSE:{key:" ",description:"Play/Pause",category:"navigation"},COPY:{key:"c",ctrl:!0,description:"Copiar",category:"tools"},PASTE:{key:"v",ctrl:!0,description:"Colar",category:"tools"},CUT:{key:"x",ctrl:!0,description:"Cortar",category:"tools"},ZOOM_IN:{key:"=",ctrl:!0,description:"Zoom +",category:"view"},ZOOM_OUT:{key:"-",ctrl:!0,description:"Zoom -",category:"view"},ZOOM_RESET:{key:"0",ctrl:!0,description:"Zoom 100%",category:"view"},TOGGLE_GRID:{key:"g",ctrl:!0,description:"Mostrar/Ocultar Grid",category:"view"},FULLSCREEN:{key:"f11",description:"Tela cheia",category:"view"}};function eT(){let[e,t]=(0,E.useState)(!1),r=Object.entries(ez).map(([e,t])=>({id:e,...t})),s=Object.entries({editor:"Editor",navigation:"Navega\xe7\xe3o",tools:"Ferramentas",view:"Visualiza\xe7\xe3o"}).map(([e,t])=>({category:e,label:t,items:r.filter(t=>t.category===e)}));return e?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,g.jsxs)(w.Zb,{className:"w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[(0,g.jsxs)(w.Ol,{className:"flex flex-row items-center justify-between",children:[(0,g.jsxs)(w.ll,{className:"flex items-center gap-2",children:[g.jsx(eD,{className:"w-5 h-5"}),"Atalhos de Teclado"]}),g.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-gray-100 rounded",children:g.jsx(eM.Z,{className:"w-5 h-5"})})]}),g.jsx(w.aY,{className:"overflow-y-auto max-h-[calc(80vh-80px)]",children:g.jsx("div",{className:"space-y-6",children:s.map(e=>(0,g.jsxs)("div",{children:[g.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:e.label}),g.jsx("div",{className:"space-y-2",children:e.items.map(e=>(0,g.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[g.jsx("span",{className:"text-sm text-gray-700",children:e.description}),(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[e.ctrl&&g.jsx(N.C,{variant:"outline",className:"text-xs px-2",children:"Ctrl"}),e.shift&&g.jsx(N.C,{variant:"outline",className:"text-xs px-2",children:"Shift"}),e.alt&&g.jsx(N.C,{variant:"outline",className:"text-xs px-2",children:"Alt"}),e.meta&&g.jsx(N.C,{variant:"outline",className:"text-xs px-2",children:"Cmd"}),g.jsx(N.C,{variant:"outline",className:"text-xs px-2 font-mono",children:" "===e.key?"Space":e.key})]})]},e.id))})]},e.category))})})]})}):(0,g.jsxs)(T.z,{size:"sm",variant:"outline",onClick:()=>t(!0),className:"fixed bottom-4 right-4 z-50",children:[g.jsx(eD,{className:"w-4 h-4 mr-2"}),"Atalhos"]})}var eA=r(1572);function eR({onApply:e}){let[t,r]=(0,E.useState)([]),[s,a]=(0,E.useState)("fade"),[l,n]=(0,E.useState)(!0);return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(eA.Z,{className:"w-4 h-4"}),"Transi\xe7\xf5es"]})}),g.jsx(w.aY,{className:"space-y-3",children:l?g.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Carregando..."}):(0,g.jsxs)(g.Fragment,{children:[g.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(e=>g.jsx("button",{onClick:()=>a(e.type),className:`
                    p-2 rounded text-xs font-medium transition
                    ${s===e.type?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"}
                  `,children:e.name},e.type))}),s&&(0,g.jsxs)("div",{className:"pt-2 border-t",children:[t.find(e=>e.type===s)&&(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-xs text-gray-600",children:"Dura\xe7\xe3o:"}),(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:[t.find(e=>e.type===s)?.duration,"s"]})]}),g.jsx(T.z,{size:"sm",className:"w-full",onClick:()=>{let r=t.find(e=>e.type===s);r&&e(r)},children:"Aplicar a Todos os Slides"})]})]})})]})}var eO=r(89392),eZ=r(24527);class eP{listAll(){return[...this.COLOR_FILTERS,...this.ANIMATIONS,...this.OVERLAYS]}listByCategory(e){return this.listAll().filter(t=>t.category===e)}get(e){return this.listAll().find(t=>t.id===e)||null}apply(e,t,r=100){let s=this.get(t);if(!s)return e;let a={...e.style};return s.cssFilter&&(a.filter=this.adjustIntensity(s.cssFilter,r)),s.cssAnimation&&(a.animation=s.cssAnimation),{...e,style:a,effects:[...e.effects||[],t]}}remove(e,t){return{...e,effects:(e.effects||[]).filter(e=>e!==t)}}adjustIntensity(e,t){return e.replace(/\d+%/,`${t}%`)}generateKeyframes(){return`
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
      }
      
      @keyframes slideInLeft {
        from { transform: translateX(-100%); }
        to { transform: translateX(0); }
      }
      
      @keyframes slideInRight {
        from { transform: translateX(100%); }
        to { transform: translateX(0); }
      }
      
      @keyframes slideInUp {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
      }
      
      @keyframes slideInDown {
        from { transform: translateY(-100%); }
        to { transform: translateY(0); }
      }
      
      @keyframes zoomIn {
        from { transform: scale(0); }
        to { transform: scale(1); }
      }
      
      @keyframes zoomOut {
        from { transform: scale(1); }
        to { transform: scale(0); }
      }
    `}generateOverlayCSS(e){return({vignette:`
        background: radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.7) 100%);
      `,gradient:`
        background: linear-gradient(135deg, rgba(0,0,0,0.3) 0%, transparent 100%);
      `,dots:`
        background-image: radial-gradient(circle, rgba(0,0,0,0.1) 1px, transparent 1px);
        background-size: 20px 20px;
      `,scanlines:`
        background: repeating-linear-gradient(
          0deg,
          rgba(0,0,0,0) 0px,
          rgba(0,0,0,0) 1px,
          rgba(0,0,0,0.1) 2px,
          rgba(0,0,0,0.1) 3px
        );
      `,"film-grain":`
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.3'/%3E%3C/svg%3E");
      `})[e]||""}constructor(){this.COLOR_FILTERS=[{id:"grayscale",name:"Preto e Branco",category:"filter",cssFilter:"grayscale(100%)"},{id:"sepia",name:"S\xe9pia (Vintage)",category:"filter",cssFilter:"sepia(100%)"},{id:"blur",name:"Desfoque",category:"filter",cssFilter:"blur(5px)"},{id:"brightness",name:"Brilho",category:"filter",cssFilter:"brightness(150%)"},{id:"contrast",name:"Contraste",category:"filter",cssFilter:"contrast(150%)"},{id:"saturate",name:"Satura\xe7\xe3o",category:"filter",cssFilter:"saturate(200%)"},{id:"hue-rotate",name:"Rota\xe7\xe3o de Cor",category:"filter",cssFilter:"hue-rotate(180deg)"},{id:"invert",name:"Invers\xe3o",category:"filter",cssFilter:"invert(100%)"},{id:"drop-shadow",name:"Sombra",category:"filter",cssFilter:"drop-shadow(0 0 10px rgba(0,0,0,0.5))"},{id:"opacity",name:"Opacidade",category:"filter",cssFilter:"opacity(0.7)"}],this.ANIMATIONS=[{id:"fade-in",name:"Fade In",category:"animation",cssAnimation:"fadeIn 1s ease-in"},{id:"fade-out",name:"Fade Out",category:"animation",cssAnimation:"fadeOut 1s ease-out"},{id:"slide-in-left",name:"Slide da Esquerda",category:"animation",cssAnimation:"slideInLeft 1s ease"},{id:"slide-in-right",name:"Slide da Direita",category:"animation",cssAnimation:"slideInRight 1s ease"},{id:"slide-in-up",name:"Slide de Baixo",category:"animation",cssAnimation:"slideInUp 1s ease"},{id:"slide-in-down",name:"Slide de Cima",category:"animation",cssAnimation:"slideInDown 1s ease"},{id:"zoom-in",name:"Zoom In",category:"animation",cssAnimation:"zoomIn 1s ease"},{id:"zoom-out",name:"Zoom Out",category:"animation",cssAnimation:"zoomOut 1s ease"}],this.OVERLAYS=[{id:"vignette",name:"Vinheta",category:"overlay"},{id:"gradient",name:"Gradiente",category:"overlay"},{id:"dots",name:"Padr\xe3o de Pontos",category:"overlay"},{id:"scanlines",name:"Scanlines",category:"overlay"},{id:"film-grain",name:"Filme Antigo",category:"overlay"}]}}let e$=new eP;function eB({onApplyEffect:e}){let[t,r]=(0,E.useState)("filter"),[s,a]=(0,E.useState)(100),l=e$.listByCategory(t),n=[{id:"filter",label:"Filtros",icon:g.jsx(eO.Z,{className:"w-4 h-4"})},{id:"animation",label:"Anima\xe7\xf5es",icon:g.jsx(eA.Z,{className:"w-4 h-4"})},{id:"overlay",label:"Overlays",icon:g.jsx(eZ.Z,{className:"w-4 h-4"})}];return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(eZ.Z,{className:"w-4 h-4"}),"Efeitos Visuais"]})}),(0,g.jsxs)(w.aY,{className:"space-y-3",children:[g.jsx("div",{className:"flex gap-2",children:n.map(e=>(0,g.jsxs)("button",{onClick:()=>r(e.id),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition flex items-center justify-center gap-1 ${t===e.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.icon,e.label]},e.id))}),g.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:l.map(t=>g.jsx("button",{onClick:()=>e(t.id,s),className:"p-2 text-left text-xs bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition",children:t.name},t.id))}),"filter"===t&&(0,g.jsxs)("div",{className:"space-y-2 pt-2 border-t",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[g.jsx("span",{children:"Intensidade"}),(0,g.jsxs)("span",{children:[s,"%"]})]}),g.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:e=>a(Number(e.target.value)),className:"w-full"})]}),g.jsx("div",{className:"text-center pt-2 border-t",children:(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:[l.length," efeitos dispon\xedveis"]})})]})]})}var eL=r(21405),eF=r(84262);function e_({children:e}){return g.jsx(eF.S,{fallback:g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-900",children:(0,g.jsxs)("div",{className:"text-center p-8 max-w-md",children:[g.jsx("div",{className:"inline-flex p-4 rounded-full bg-red-500/10 mb-4",children:g.jsx(ev.Z,{className:"w-12 h-12 text-red-500"})}),g.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Erro no Canvas"}),g.jsx("p",{className:"text-gray-400 mb-6",children:"O editor de canvas encontrou um problema. Tente recarregar ou volte ao dashboard."}),(0,g.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,g.jsxs)(T.z,{onClick:()=>window.location.reload(),variant:"default",children:[g.jsx(eL.Z,{className:"w-4 h-4 mr-2"}),"Recarregar"]}),g.jsx(T.z,{onClick:()=>window.location.href="/dashboard",variant:"outline",children:"Voltar ao Dashboard"})]})]})}),onError:(e,t)=>{console.error("\uD83C\uDFA8 Canvas Error:",e,t)},children:e})}var eV=r(63685),eU=r(36283),eq=r(71709);class eY{validateFile(e){return"application/pdf"!==e.type?{valid:!1,error:"Arquivo n\xe3o \xe9 PDF"}:e.size>this.maxFileSize?{valid:!1,error:"PDF muito grande (m\xe1x 50MB)"}:{valid:!0}}async importPDF(e){try{let t=this.validateFile(e);if(!t.valid)return{success:!1,slides:[],pageCount:0,error:t.error};console.log("[PDFImporter] Processando PDF:",e.name);let r=this.generateMockPages(5),s=r.map((t,r)=>({id:`pdf-slide-${r+1}`,slideNumber:r+1,title:`P\xe1gina ${t.pageNumber}`,thumbnail:t.thumbnail,duration:5,elements:[{id:`text-${r}`,type:"text",content:t.text||`Conte\xfado da p\xe1gina ${t.pageNumber}`,style:{x:50,y:50,width:t.width-100,height:t.height-100,fontSize:24,color:"#000000"}}],source:"pdf",originalFile:e.name}));return{success:!0,slides:s,pageCount:r.length}}catch(e){return console.error("[PDFImporter] Erro:",e),{success:!1,slides:[],pageCount:0,error:"Erro ao processar PDF"}}}generateMockPages(e){return Array.from({length:e},(e,t)=>({pageNumber:t+1,thumbnail:`data:image/svg+xml,${encodeURIComponent(`
        <svg width="1920" height="1080" xmlns="http://www.w3.org/2000/svg">
          <rect width="1920" height="1080" fill="#f3f4f6"/>
          <text x="960" y="540" text-anchor="middle" font-size="48" fill="#6b7280">
            P\xe1gina ${t+1}
          </text>
        </svg>
      `)}`,width:1920,height:1080,text:`Conte\xfado extra\xeddo da p\xe1gina ${t+1}`}))}async extractText(e){return Array.from({length:5},(e,t)=>`Texto extra\xeddo da p\xe1gina ${t+1}`)}constructor(){this.maxFileSize=52428800}}let eK=new eY;class eH{validateFile(e){return this.supportedFormats.includes(e.type)?e.size>this.maxFileSize?{valid:!1,error:"Imagem muito grande (m\xe1x 10MB)"}:{valid:!0}:{valid:!1,error:"Formato n\xe3o suportado"}}async importImages(e){try{let t=e.filter(e=>this.validateFile(e).valid);if(0===t.length)return{success:!1,slides:[],imageCount:0,error:"Nenhuma imagem v\xe1lida encontrada"};let r=await Promise.all(t.map((e,t)=>this.createSlideFromImage(e,t)));return{success:!0,slides:r,imageCount:r.length}}catch(e){return console.error("[ImageImporter] Erro:",e),{success:!1,slides:[],imageCount:0,error:"Erro ao processar imagens"}}}async createSlideFromImage(e,t){let r=URL.createObjectURL(e),s=await this.getImageDimensions(e);return{id:`image-slide-${t+1}`,slideNumber:t+1,title:e.name.replace(/\.[^/.]+$/,""),thumbnail:r,duration:5,elements:[{id:`image-${t}`,type:"image",content:r,style:{x:0,y:0,width:s.width,height:s.height}}],source:"image",originalFile:e.name}}getImageDimensions(e){return new Promise(t=>{let r=new Image,s=URL.createObjectURL(e);r.onload=()=>{URL.revokeObjectURL(s);let e=r.width,a=r.height;if(e>1920||a>1080){let t=Math.min(1920/e,1080/a);e=Math.round(e*t),a=Math.round(a*t)}t({width:e,height:a})},r.onerror=()=>{URL.revokeObjectURL(s),t({width:1920,height:1080})},r.src=s})}async importSingleImage(e){return this.importImages([e])}constructor(){this.maxFileSize=10485760,this.supportedFormats=["image/jpeg","image/png","image/gif","image/webp"]}}let eX=new eH;function eW({onImportComplete:e}){let[t,r]=(0,E.useState)(!1),[s,a]=(0,E.useState)(0),l=(0,E.useRef)(null),n=async t=>{if(t&&0!==t.length){r(!0),a(0);try{let s=t[0],l=[];if("application/pdf"===s.type){a(20);let e=await eK.importPDF(s);if(a(80),e.success)l=e.slides;else{alert(e.error||"Erro ao importar PDF"),r(!1);return}}else if(s.type.startsWith("image/")){a(20);let e=Array.from(t).filter(e=>e.type.startsWith("image/")),s=await eX.importImages(e);if(a(80),s.success)l=s.slides;else{alert(s.error||"Erro ao importar imagens"),r(!1);return}}else{alert("Formato n\xe3o suportado. Use PDF ou imagens (JPEG, PNG, GIF, WebP)"),r(!1);return}a(100),e(l)}catch(e){console.error("Erro na importa\xe7\xe3o:",e),alert("Erro ao importar arquivo")}finally{r(!1),a(0)}}};return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(eV.Z,{className:"w-4 h-4"}),"Importa\xe7\xe3o Multi-formato"]})}),(0,g.jsxs)(w.aY,{className:"space-y-3",children:[(0,g.jsxs)("div",{onClick:()=>l.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-blue-400 transition",children:[g.jsx(eV.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),g.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Clique para selecionar arquivo"}),g.jsx("p",{className:"text-xs text-gray-500",children:"PDF ou Imagens (JPEG, PNG, GIF, WebP)"})]}),g.jsx("input",{ref:l,type:"file",accept:".pdf,image/*",multiple:!0,onChange:e=>n(e.target.files),className:"hidden"}),(0,g.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:[g.jsx(eU.Z,{className:"w-3 h-3 mr-1"}),"PDF"]}),(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:[g.jsx(eq.Z,{className:"w-3 h-3 mr-1"}),"JPEG"]}),(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:[g.jsx(eq.Z,{className:"w-3 h-3 mr-1"}),"PNG"]}),(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:[g.jsx(eq.Z,{className:"w-3 h-3 mr-1"}),"GIF"]}),(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:[g.jsx(eq.Z,{className:"w-3 h-3 mr-1"}),"WebP"]})]}),t&&(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[g.jsx("span",{children:"Importando..."}),(0,g.jsxs)("span",{children:[s,"%"]})]}),g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:g.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${s}%`}})})]})]})]})}var eG=r(12714),eJ=r(91216),eQ=r(9015),e0=r(43426);let e1="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function e2(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function e4(e){return"nodeType"in e}function e5(e){var t,r;return e?e2(e)?e:e4(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function e3(e){let{Document:t}=e5(e);return e instanceof t}function e6(e){return!e2(e)&&e instanceof e5(e).HTMLElement}function e8(e){return e instanceof e5(e).SVGElement}function e9(e){return e?e2(e)?e.document:e4(e)?e3(e)?e:e6(e)||e8(e)?e.ownerDocument:document:document:document}let e7=e1?E.useLayoutEffect:E.useEffect;function te(e){let t=(0,E.useRef)(e);return e7(()=>{t.current=e}),(0,E.useCallback)(function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return null==t.current?void 0:t.current(...r)},[])}function tt(e,t){void 0===t&&(t=[e]);let r=(0,E.useRef)(e);return e7(()=>{r.current!==e&&(r.current=e)},t),r}function tr(e,t){let r=(0,E.useRef)();return(0,E.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function ts(e){let t=te(e),r=(0,E.useRef)(null),s=(0,E.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,s]}function ta(e){let t=(0,E.useRef)();return(0,E.useEffect)(()=>{t.current=e},[e]),t.current}let tl={};function tn(e,t){return(0,E.useMemo)(()=>{if(t)return t;let r=null==tl[e]?0:tl[e]+1;return tl[e]=r,e+"-"+r},[e,t])}function ti(e){return function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((t,r)=>{for(let[s,a]of Object.entries(r)){let r=t[s];null!=r&&(t[s]=r+e*a)}return t},{...t})}}let to=ti(1),td=ti(-1);function tc(e){if(!e)return!1;let{KeyboardEvent:t}=e5(e.target);return t&&e instanceof t}function tu(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=e5(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let tm=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[tm.Translate.toString(e),tm.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:s}=e;return t+" "+r+"ms "+s}}}),th="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",tp={display:"none"};function tx(e){let{id:t,value:r}=e;return D().createElement("div",{id:t,style:tp},r)}function tg(e){let{id:t,announcement:r,ariaLiveType:s="assertive"}=e;return D().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":s,"aria-atomic":!0},r)}let tf=(0,E.createContext)(null),ty={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},tb={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function tv(e){let{announcements:t=tb,container:r,hiddenTextDescribedById:s,screenReaderInstructions:a=ty}=e,{announce:l,announcement:n}=function(){let[e,t]=(0,E.useState)("");return{announce:(0,E.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),i=tn("DndLiveRegion"),[o,d]=(0,E.useState)(!1);if((0,E.useEffect)(()=>{d(!0)},[]),function(e){let t=(0,E.useContext)(tf);(0,E.useEffect)(()=>{if(!t)throw Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,E.useMemo)(()=>({onDragStart(e){let{active:r}=e;l(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:s}=e;t.onDragMove&&l(t.onDragMove({active:r,over:s}))},onDragOver(e){let{active:r,over:s}=e;l(t.onDragOver({active:r,over:s}))},onDragEnd(e){let{active:r,over:s}=e;l(t.onDragEnd({active:r,over:s}))},onDragCancel(e){let{active:r,over:s}=e;l(t.onDragCancel({active:r,over:s}))}}),[l,t])),!o)return null;let c=D().createElement(D().Fragment,null,D().createElement(tx,{id:s,value:a.draggable}),D().createElement(tg,{id:i,announcement:n}));return r?(0,Y.createPortal)(c,r):c}function tj(){}function tw(e,t){return(0,E.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(n||(n={}));let tN=Object.freeze({x:0,y:0});function tk(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function tC(e,t){let{data:{value:r}}=e,{data:{value:s}}=t;return r-s}function tS(e,t){let{data:{value:r}}=e,{data:{value:s}}=t;return s-r}function tE(e){let{left:t,top:r,height:s,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+s},{x:t+a,y:r+s}]}function tD(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function tM(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let tI=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e,a=tM(t,t.left,t.top),l=[];for(let e of s){let{id:t}=e,s=r.get(t);if(s){let r=tk(tM(s),a);l.push({id:t,data:{droppableContainer:e,value:r}})}}return l.sort(tC)},tz=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e,a=tE(t),l=[];for(let e of s){let{id:t}=e,s=r.get(t);if(s){let r=tE(s),n=Number((a.reduce((e,t,s)=>e+tk(r[s],t),0)/4).toFixed(4));l.push({id:t,data:{droppableContainer:e,value:n}})}}return l.sort(tC)},tT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:s}=e,a=[];for(let e of s){let{id:s}=e,l=r.get(s);if(l){let r=function(e,t){let r=Math.max(t.top,e.top),s=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height);if(s<a&&r<l){let n=t.width*t.height,i=e.width*e.height,o=(a-s)*(l-r);return Number((o/(n+i-o)).toFixed(4))}return 0}(l,t);r>0&&a.push({id:s,data:{droppableContainer:e,value:r}})}}return a.sort(tS)};function tA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:tN}let tR=function(e){return function(t){for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}(1),tO={ignoreTransform:!1};function tZ(e,t){void 0===t&&(t=tO);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:s}=e5(e).getComputedStyle(e);t&&(r=function(e,t,r){let s=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!s)return e;let{scaleX:a,scaleY:l,x:n,y:i}=s,o=e.left-n-(1-a)*parseFloat(r),d=e.top-i-(1-l)*parseFloat(r.slice(r.indexOf(" ")+1)),c=a?e.width/a:e.width,u=l?e.height/l:e.height;return{width:c,height:u,top:d,right:o+c,bottom:d+u,left:o}}(r,t,s))}let{top:s,left:a,width:l,height:n,bottom:i,right:o}=r;return{top:s,left:a,width:l,height:n,bottom:i,right:o}}function tP(e){return tZ(e,{ignoreTransform:!0})}function t$(e,t){let r=[];return e?function s(a){var l;if(null!=t&&r.length>=t||!a)return r;if(e3(a)&&null!=a.scrollingElement&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!e6(a)||e8(a)||r.includes(a))return r;let n=e5(e).getComputedStyle(a);return(a!==e&&function(e,t){void 0===t&&(t=e5(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let s=t[e];return"string"==typeof s&&r.test(s)})}(a,n)&&r.push(a),void 0===(l=n)&&(l=e5(a).getComputedStyle(a)),"fixed"===l.position)?r:s(a.parentNode)}(e):r}function tB(e){let[t]=t$(e,1);return null!=t?t:null}function tL(e){return e1&&e?e2(e)?e:e4(e)?e3(e)||e===e9(e).scrollingElement?window:e6(e)?e:null:null:null}function tF(e){return e2(e)?e.scrollX:e.scrollLeft}function t_(e){return e2(e)?e.scrollY:e.scrollTop}function tV(e){return{x:tF(e),y:t_(e)}}function tU(e){return!!e1&&!!e&&e===document.scrollingElement}function tq(e){let t={x:0,y:0},r=tU(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y;return{isTop:a,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=s.y,isRight:e.scrollLeft>=s.x,maxScroll:s,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(i||(i={}));let tY={x:.2,y:.2};function tK(e){return e.reduce((e,t)=>to(e,tV(t)),tN)}let tH=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+tF(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+t_(t),0)}]];class tX{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=t$(t),s=tK(r);for(let[t,a,l]of(this.rect={...e},this.width=e.width,this.height=e.height,tH))for(let e of a)Object.defineProperty(this,e,{get:()=>{let a=l(r),n=s[t]-a;return this.rect[e]+n},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class tW{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var s;null==(s=this.target)||s.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function tG(e,t){let r=Math.abs(e.x),s=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+s**2)>t:"x"in t&&"y"in t?r>t.x&&s>t.y:"x"in t?r>t.x:"y"in t&&s>t.y}function tJ(e){e.preventDefault()}function tQ(e){e.stopPropagation()}(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(o||(o={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(d||(d={}));let t0={start:[d.Space,d.Enter],cancel:[d.Esc],end:[d.Space,d.Enter,d.Tab]},t1=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case d.Right:return{...r,x:r.x+25};case d.Left:return{...r,x:r.x-25};case d.Down:return{...r,y:r.y+25};case d.Up:return{...r,y:r.y-25}}};class t2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new tW(e9(t)),this.windowListeners=new tW(e5(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(o.Resize,this.handleCancel),this.windowListeners.add(o.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(o.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=tZ),!e)return;let{top:r,left:s,bottom:a,right:l}=t(e);tB(e)&&(a<=0||l<=0||r>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(tN)}handleKeyDown(e){if(tc(e)){let{active:t,context:r,options:s}=this.props,{keyboardCodes:a=t0,coordinateGetter:l=t1,scrollBehavior:n="smooth"}=s,{code:i}=e;if(a.end.includes(i)){this.handleEnd(e);return}if(a.cancel.includes(i)){this.handleCancel(e);return}let{collisionRect:o}=r.current,c=o?{x:o.left,y:o.top}:tN;this.referenceCoordinates||(this.referenceCoordinates=c);let u=l(e,{active:t,context:r.current,currentCoordinates:c});if(u){let t=td(u,c),s={x:0,y:0},{scrollableAncestors:a}=r.current;for(let r of a){let a=e.code,{isTop:l,isRight:i,isLeft:o,isBottom:c,maxScroll:m,minScroll:h}=tq(r),p=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:s,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}(r),x={x:Math.min(a===d.Right?p.right-p.width/2:p.right,Math.max(a===d.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(a===d.Down?p.bottom-p.height/2:p.bottom,Math.max(a===d.Down?p.top:p.top+p.height/2,u.y))},g=a===d.Right&&!i||a===d.Left&&!o,f=a===d.Down&&!c||a===d.Up&&!l;if(g&&x.x!==u.x){let e=r.scrollLeft+t.x,l=a===d.Right&&e<=m.x||a===d.Left&&e>=h.x;if(l&&!t.y){r.scrollTo({left:e,behavior:n});return}l?s.x=r.scrollLeft-e:s.x=a===d.Right?r.scrollLeft-m.x:r.scrollLeft-h.x,s.x&&r.scrollBy({left:-s.x,behavior:n});break}if(f&&x.y!==u.y){let e=r.scrollTop+t.y,l=a===d.Down&&e<=m.y||a===d.Up&&e>=h.y;if(l&&!t.x){r.scrollTo({top:e,behavior:n});return}l?s.y=r.scrollTop-e:s.y=a===d.Down?r.scrollTop-m.y:r.scrollTop-h.y,s.y&&r.scrollBy({top:-s.y,behavior:n});break}}this.handleMove(e,to(td(u,this.referenceCoordinates),s))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function t4(e){return!!(e&&"distance"in e)}function t5(e){return!!(e&&"delay"in e)}t2.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:s=t0,onActivation:a}=t,{active:l}=r,{code:n}=e.nativeEvent;if(s.start.includes(n)){let t=l.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class t3{constructor(e,t,r){var s;void 0===r&&(r=function(e){let{EventTarget:t}=e5(e);return e instanceof t?e:e9(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:a}=e,{target:l}=a;this.props=e,this.events=t,this.document=e9(l),this.documentListeners=new tW(this.document),this.listeners=new tW(r),this.windowListeners=new tW(e5(l)),this.initialCoordinates=null!=(s=tu(a))?s:tN,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(o.Resize,this.handleCancel),this.windowListeners.add(o.DragStart,tJ),this.windowListeners.add(o.VisibilityChange,this.handleCancel),this.windowListeners.add(o.ContextMenu,tJ),this.documentListeners.add(o.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(t5(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(t4(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(o.Click,tQ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(o.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:s,props:a}=this,{onMove:l,options:{activationConstraint:n}}=a;if(!s)return;let i=null!=(t=tu(e))?t:tN,o=td(s,i);if(!r&&n){if(t4(n)){if(null!=n.tolerance&&tG(o,n.tolerance))return this.handleCancel();if(tG(o,n.distance))return this.handleStart()}return t5(n)&&tG(o,n.tolerance)?this.handleCancel():void this.handlePending(n,o)}e.cancelable&&e.preventDefault(),l(i)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===d.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let t6={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class t8 extends t3{constructor(e){let{event:t}=e;super(e,t6,e9(t.target))}}t8.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t;return!!r.isPrimary&&0===r.button&&(null==s||s({event:r}),!0)}}];let t9={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(c||(c={}));class t7 extends t3{constructor(e){super(e,t9,e9(e.event.target))}}t7.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t;return r.button!==c.RightClick&&(null==s||s({event:r}),!0)}}];let re={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class rt extends t3{constructor(e){super(e,re)}static setup(){return window.addEventListener(re.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(re.move.name,e)};function e(){}}}rt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:s}=t,{touches:a}=r;return!(a.length>1)&&(null==s||s({event:r}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(u||(u={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(m||(m={}));let rr={x:{[i.Backward]:!1,[i.Forward]:!1},y:{[i.Backward]:!1,[i.Forward]:!1}};(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(h||(h={})),(p||(p={})).Optimized="optimized";let rs=new Map;function ra(e,t){return tr(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function rl(e){let{callback:t,disabled:r}=e,s=te(t),a=(0,E.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(s)},[r]);return(0,E.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function rn(e){return new tX(tZ(e),e)}function ri(e,t,r){void 0===t&&(t=rn);let[s,a]=(0,E.useState)(null);function l(){a(s=>{if(!e)return null;if(!1===e.isConnected){var a;return null!=(a=null!=s?s:r)?a:null}let l=t(e);return JSON.stringify(s)===JSON.stringify(l)?s:l})}let n=function(e){let{callback:t,disabled:r}=e,s=te(t),a=(0,E.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(s)},[s,r]);return(0,E.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(let r of t){let{type:t,target:s}=r;if("childList"===t&&s instanceof HTMLElement&&s.contains(e)){l();break}}}}),i=rl({callback:l});return e7(()=>{l(),e?(null==i||i.observe(e),null==n||n.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==n||n.disconnect())},[e]),s}let ro=[];function rd(e,t){void 0===t&&(t=[]);let r=(0,E.useRef)(null);return(0,E.useEffect)(()=>{r.current=null},t),(0,E.useEffect)(()=>{let t=e!==tN;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?td(e,r.current):tN}function rc(e){return(0,E.useMemo)(()=>e?function(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}let ru=[],rm=[{sensor:t8,options:{}},{sensor:t2,options:{}}],rh={current:{}},rp={draggable:{measure:tP},droppable:{measure:tP,strategy:h.WhileDragging,frequency:p.Optimized},dragOverlay:{measure:tZ}};class rx extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let rg={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rx,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rp,measureDroppableContainers:tj,windowRect:null,measuringScheduled:!1},rf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tj,draggableNodes:new Map,over:null,measureDroppableContainers:tj},ry=(0,E.createContext)(rf),rb=(0,E.createContext)(rg);function rv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rx}}}function rj(e,t){switch(t.type){case n.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case n.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case n.DragEnd:case n.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case n.RegisterDroppable:{let{element:r}=t,{id:s}=r,a=new rx(e.droppable.containers);return a.set(s,r),{...e,droppable:{...e.droppable,containers:a}}}case n.SetDroppableDisabled:{let{id:r,key:s,disabled:a}=t,l=e.droppable.containers.get(r);if(!l||s!==l.key)return e;let n=new rx(e.droppable.containers);return n.set(r,{...l,disabled:a}),{...e,droppable:{...e.droppable,containers:n}}}case n.UnregisterDroppable:{let{id:r,key:s}=t,a=e.droppable.containers.get(r);if(!a||s!==a.key)return e;let l=new rx(e.droppable.containers);return l.delete(r),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function rw(e){let{disabled:t}=e,{active:r,activatorEvent:s,draggableNodes:a}=(0,E.useContext)(ry),l=ta(s),n=ta(null==r?void 0:r.id);return(0,E.useEffect)(()=>{if(!t&&!s&&l&&null!=n){if(!tc(l)||document.activeElement===l.target)return;let e=a.get(n);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(th)?e:e.querySelector(th);if(t){t.focus();break}}})}},[s,t,a,n,l]),null}let rN=(0,E.createContext)({...tN,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(x||(x={}));let rk=(0,E.memo)(function(e){var t,r,s,a,l,o;let{id:d,accessibility:c,autoScroll:p=!0,children:g,sensors:f=rm,collisionDetection:y=tT,measuring:b,modifiers:v,...j}=e,[w,N]=(0,E.useReducer)(rj,void 0,rv),[k,C]=function(){let[e]=(0,E.useState)(()=>new Set),t=(0,E.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,E.useCallback)(t=>{let{type:r,event:s}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,s)})},[e]),t]}(),[S,M]=(0,E.useState)(x.Uninitialized),I=S===x.Initialized,{draggable:{active:z,nodes:T,translate:A},droppable:{containers:R}}=w,O=null!=z?T.get(z):null,Z=(0,E.useRef)({initial:null,translated:null}),P=(0,E.useMemo)(()=>{var e;return null!=z?{id:z,data:null!=(e=null==O?void 0:O.data)?e:rh,rect:Z}:null},[z,O]),$=(0,E.useRef)(null),[B,L]=(0,E.useState)(null),[F,_]=(0,E.useState)(null),V=tt(j,Object.values(j)),U=tn("DndDescribedBy",d),q=(0,E.useMemo)(()=>R.getEnabled(),[R]),K=(0,E.useMemo)(()=>({draggable:{...rp.draggable,...null==b?void 0:b.draggable},droppable:{...rp.droppable,...null==b?void 0:b.droppable},dragOverlay:{...rp.dragOverlay,...null==b?void 0:b.dragOverlay}}),[null==b?void 0:b.draggable,null==b?void 0:b.droppable,null==b?void 0:b.dragOverlay]),{droppableRects:H,measureDroppableContainers:X,measuringScheduled:W}=function(e,t){let{dragging:r,dependencies:s,config:a}=t,[l,n]=(0,E.useState)(null),{frequency:i,measure:o,strategy:d}=a,c=(0,E.useRef)(e),u=function(){switch(d){case h.Always:return!1;case h.BeforeDragging:return r;default:return!r}}(),m=tt(u),p=(0,E.useCallback)(function(e){void 0===e&&(e=[]),m.current||n(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),x=(0,E.useRef)(null),g=tr(t=>{if(u&&!r)return rs;if(!t||t===rs||c.current!==e||null!=l){let t=new Map;for(let r of e){if(!r)continue;if(l&&l.length>0&&!l.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,s=e?new tX(o(e),e):null;r.rect.current=s,s&&t.set(r.id,s)}return t}return t},[e,l,r,u,o]);return(0,E.useEffect)(()=>{c.current=e},[e]),(0,E.useEffect)(()=>{u||p()},[r,u]),(0,E.useEffect)(()=>{l&&l.length>0&&n(null)},[JSON.stringify(l)]),(0,E.useEffect)(()=>{u||"number"!=typeof i||null!==x.current||(x.current=setTimeout(()=>{p(),x.current=null},i))},[i,u,p,...s]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:null!=l}}(q,{dragging:I,dependencies:[A.x,A.y],config:K.droppable}),G=function(e,t){let r=null!=t?e.get(t):void 0,s=r?r.node.current:null;return tr(e=>{var r;return null==t?null:null!=(r=null!=s?s:e)?r:null},[s,t])}(T,z),J=(0,E.useMemo)(()=>F?tu(F):null,[F]),Q=function(){let e=(null==B?void 0:B.autoScrollEnabled)===!1,t="object"==typeof p?!1===p.enabled:!1===p,r=I&&!e&&!t;return"object"==typeof p?{...p,enabled:r}:{enabled:r}}(),ee=ra(G,K.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:s,config:a=!0}=e,l=(0,E.useRef)(!1),{x:n,y:i}="boolean"==typeof a?{x:a,y:a}:a;e7(()=>{if(!n&&!i||!t){l.current=!1;return}if(l.current||!s)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let a=tA(r(e),s);if(n||(a.x=0),i||(a.y=0),l.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){let t=tB(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,n,i,s,r])}({activeNode:null!=z?T.get(z):null,config:Q.layoutShiftCompensation,initialRect:ee,measure:K.draggable.measure});let et=ri(G,K.draggable.measure,ee),er=ri(G?G.parentElement:null),es=(0,E.useRef)({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ea=R.getNodeFor(null==(t=es.current.over)?void 0:t.id),el=function(e){let{measure:t}=e,[r,s]=(0,E.useState)(null),a=rl({callback:(0,E.useCallback)(e=>{for(let{target:r}of e)if(e6(r)){s(e=>{let s=t(r);return e?{...e,width:s.width,height:s.height}:s});break}},[t])}),[l,n]=ts((0,E.useCallback)(e=>{let r=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return e6(t)?t:e}(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),s(r?t(r):null)},[t,a]));return(0,E.useMemo)(()=>({nodeRef:l,rect:r,setRef:n}),[r,l,n])}({measure:K.dragOverlay.measure}),en=null!=(r=el.nodeRef.current)?r:G,ei=I?null!=(s=el.rect)?s:et:null,eo=!!(el.nodeRef.current&&el.rect),ed=function(e){let t=ra(e);return tA(e,t)}(eo?null:et),ec=rc(en?e5(en):null),eu=function(e){let t=(0,E.useRef)(e),r=tr(r=>e?r&&r!==ro&&e&&t.current&&e.parentNode===t.current.parentNode?r:t$(e):ro,[e]);return(0,E.useEffect)(()=>{t.current=e},[e]),r}(I?null!=ea?ea:G:null),em=function(e,t){void 0===t&&(t=tZ);let[r]=e,s=rc(r?e5(r):null),[a,l]=(0,E.useState)(ru);function n(){l(()=>e.length?e.map(e=>tU(e)?s:new tX(t(e),e)):ru)}let i=rl({callback:n});return e7(()=>{null==i||i.disconnect(),n(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),a}(eu),eh=function(e,t){let{transform:r,...s}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...s}),r):r}(v,{transform:{x:A.x-ed.x,y:A.y-ed.y,scaleX:1,scaleY:1},activatorEvent:F,active:P,activeNodeRect:et,containerNodeRect:er,draggingNodeRect:ei,over:es.current.over,overlayNodeRect:el.rect,scrollableAncestors:eu,scrollableAncestorRects:em,windowRect:ec}),ep=J?to(J,A):null,ex=function(e){let[t,r]=(0,E.useState)(null),s=(0,E.useRef)(e),a=(0,E.useCallback)(e=>{let t=tL(e.target);t&&r(e=>e?(e.set(t,tV(t)),new Map(e)):null)},[]);return(0,E.useEffect)(()=>{let t=s.current;if(e!==t){l(t);let n=e.map(e=>{let t=tL(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,tV(t)]):null}).filter(e=>null!=e);r(n.length?new Map(n):null),s.current=e}return()=>{l(e),l(t)};function l(e){e.forEach(e=>{let t=tL(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),(0,E.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>to(e,t),tN):tK(e):tN,[e,t])}(eu),eg=rd(ex),ef=rd(ex,[et]),ey=to(eh,eg),eb=ei?tR(ei,eh):null,ev=P&&eb?y({active:P,collisionRect:eb,droppableRects:H,droppableContainers:q,pointerCoordinates:ep}):null,ej=tD(ev,"id"),[ew,eN]=(0,E.useState)(null),ek=(l=eo?eh:to(eh,ef),o=null!=(a=null==ew?void 0:ew.rect)?a:null,{...l,scaleX:o&&et?o.width/et.width:1,scaleY:o&&et?o.height/et.height:1}),eC=(0,E.useRef)(null),eS=(0,E.useCallback)((e,t)=>{let{sensor:r,options:s}=t;if(null==$.current)return;let a=T.get($.current);if(!a)return;let l=e.nativeEvent,i=new r({active:$.current,activeNode:a,event:l,options:s,context:es,onAbort(e){if(!T.get(e))return;let{onDragAbort:t}=V.current,r={id:e};null==t||t(r),k({type:"onDragAbort",event:r})},onPending(e,t,r,s){if(!T.get(e))return;let{onDragPending:a}=V.current,l={id:e,constraint:t,initialCoordinates:r,offset:s};null==a||a(l),k({type:"onDragPending",event:l})},onStart(e){let t=$.current;if(null==t)return;let r=T.get(t);if(!r)return;let{onDragStart:s}=V.current,a={activatorEvent:l,active:{id:t,data:r.data,rect:Z}};(0,Y.unstable_batchedUpdates)(()=>{null==s||s(a),M(x.Initializing),N({type:n.DragStart,initialCoordinates:e,active:t}),k({type:"onDragStart",event:a}),L(eC.current),_(l)})},onMove(e){N({type:n.DragMove,coordinates:e})},onEnd:o(n.DragEnd),onCancel:o(n.DragCancel)});function o(e){return async function(){let{active:t,collisions:r,over:s,scrollAdjustedTranslate:a}=es.current,i=null;if(t&&a){let{cancelDrop:o}=V.current;i={activatorEvent:l,active:t,collisions:r,delta:a,over:s},e===n.DragEnd&&"function"==typeof o&&await Promise.resolve(o(i))&&(e=n.DragCancel)}$.current=null,(0,Y.unstable_batchedUpdates)(()=>{N({type:e}),M(x.Uninitialized),eN(null),L(null),_(null),eC.current=null;let t=e===n.DragEnd?"onDragEnd":"onDragCancel";if(i){let e=V.current[t];null==e||e(i),k({type:t,event:i})}})}}eC.current=i},[T]),eE=(0,E.useCallback)((e,t)=>(r,s)=>{let a=r.nativeEvent,l=T.get(s);null!==$.current||!l||a.dndKit||a.defaultPrevented||!0!==e(r,t.options,{active:l})||(a.dndKit={capturedBy:t.sensor},$.current=s,eS(r,t))},[T,eS]),eD=(0,E.useMemo)(()=>f.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:eE(e.handler,t)}))]},[]),[f,eE]);(0,E.useEffect)(()=>{if(!e1)return;let e=f.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},f.map(e=>{let{sensor:t}=e;return t})),e7(()=>{et&&S===x.Initializing&&M(x.Initialized)},[et,S]),(0,E.useEffect)(()=>{let{onDragMove:e}=V.current,{active:t,activatorEvent:r,collisions:s,over:a}=es.current;if(!t||!r)return;let l={active:t,activatorEvent:r,collisions:s,delta:{x:ey.x,y:ey.y},over:a};(0,Y.unstable_batchedUpdates)(()=>{null==e||e(l),k({type:"onDragMove",event:l})})},[ey.x,ey.y]),(0,E.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:s,scrollAdjustedTranslate:a}=es.current;if(!e||null==$.current||!t||!a)return;let{onDragOver:l}=V.current,n=s.get(ej),i=n&&n.rect.current?{id:n.id,rect:n.rect.current,data:n.data,disabled:n.disabled}:null,o={active:e,activatorEvent:t,collisions:r,delta:{x:a.x,y:a.y},over:i};(0,Y.unstable_batchedUpdates)(()=>{eN(i),null==l||l(o),k({type:"onDragOver",event:o})})},[ej]),e7(()=>{es.current={activatorEvent:F,active:P,activeNode:G,collisionRect:eb,collisions:ev,droppableRects:H,draggableNodes:T,draggingNode:en,draggingNodeRect:ei,droppableContainers:R,over:ew,scrollableAncestors:eu,scrollAdjustedTranslate:ey},Z.current={initial:ei,translated:eb}},[P,G,ev,eb,T,en,ei,H,R,ew,eu,ey]),function(e){let{acceleration:t,activator:r=u.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:n=5,order:o=m.TreeOrder,pointerCoordinates:d,scrollableAncestors:c,scrollableAncestorRects:h,delta:p,threshold:x}=e,g=function(e){let{delta:t,disabled:r}=e,s=ta(t);return tr(e=>{if(r||!s||!e)return rr;let a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[i.Backward]:e.x[i.Backward]||-1===a.x,[i.Forward]:e.x[i.Forward]||1===a.x},y:{[i.Backward]:e.y[i.Backward]||-1===a.y,[i.Forward]:e.y[i.Forward]||1===a.y}}},[r,t,s])}({delta:p,disabled:!l}),[f,y]=function(){let e=(0,E.useRef)(null);return[(0,E.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,E.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),b=(0,E.useRef)({x:0,y:0}),v=(0,E.useRef)({x:0,y:0}),j=(0,E.useMemo)(()=>{switch(r){case u.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case u.DraggableRect:return a}},[r,a,d]),w=(0,E.useRef)(null),N=(0,E.useCallback)(()=>{let e=w.current;if(!e)return;let t=b.current.x*v.current.x,r=b.current.y*v.current.y;e.scrollBy(t,r)},[]),k=(0,E.useMemo)(()=>o===m.TreeOrder?[...c].reverse():c,[o,c]);(0,E.useEffect)(()=>{if(!l||!c.length||!j){y();return}for(let e of k){if((null==s?void 0:s(e))===!1)continue;let r=h[c.indexOf(e)];if(!r)continue;let{direction:a,speed:l}=function(e,t,r,s,a){let{top:l,left:n,right:o,bottom:d}=r;void 0===s&&(s=10),void 0===a&&(a=tY);let{isTop:c,isBottom:u,isLeft:m,isRight:h}=tq(e),p={x:0,y:0},x={x:0,y:0},g={height:t.height*a.y,width:t.width*a.x};return!c&&l<=t.top+g.height?(p.y=i.Backward,x.y=s*Math.abs((t.top+g.height-l)/g.height)):!u&&d>=t.bottom-g.height&&(p.y=i.Forward,x.y=s*Math.abs((t.bottom-g.height-d)/g.height)),!h&&o>=t.right-g.width?(p.x=i.Forward,x.x=s*Math.abs((t.right-g.width-o)/g.width)):!m&&n<=t.left+g.width&&(p.x=i.Backward,x.x=s*Math.abs((t.left+g.width-n)/g.width)),{direction:p,speed:x}}(e,r,j,t,x);for(let e of["x","y"])g[e][a[e]]||(l[e]=0,a[e]=0);if(l.x>0||l.y>0){y(),w.current=e,f(N,n),b.current=l,v.current=a;return}}b.current={x:0,y:0},v.current={x:0,y:0},y()},[t,N,s,y,l,n,JSON.stringify(j),JSON.stringify(g),f,c,k,h,JSON.stringify(x)])}({...Q,delta:A,draggingRect:eb,pointerCoordinates:ep,scrollableAncestors:eu,scrollableAncestorRects:em});let eM=(0,E.useMemo)(()=>({active:P,activeNode:G,activeNodeRect:et,activatorEvent:F,collisions:ev,containerNodeRect:er,dragOverlay:el,draggableNodes:T,droppableContainers:R,droppableRects:H,over:ew,measureDroppableContainers:X,scrollableAncestors:eu,scrollableAncestorRects:em,measuringConfiguration:K,measuringScheduled:W,windowRect:ec}),[P,G,et,F,ev,er,el,T,R,H,ew,X,eu,em,K,W,ec]),eI=(0,E.useMemo)(()=>({activatorEvent:F,activators:eD,active:P,activeNodeRect:et,ariaDescribedById:{draggable:U},dispatch:N,draggableNodes:T,over:ew,measureDroppableContainers:X}),[F,eD,P,et,N,U,T,ew,X]);return D().createElement(tf.Provider,{value:C},D().createElement(ry.Provider,{value:eI},D().createElement(rb.Provider,{value:eM},D().createElement(rN.Provider,{value:ek},g)),D().createElement(rw,{disabled:(null==c?void 0:c.restoreFocus)===!1})),D().createElement(tv,{...c,hiddenTextDescribedById:U}))}),rC=(0,E.createContext)(null),rS="button",rE={timeout:25};function rD(e,t,r){let s=e.slice();return s.splice(r<0?s.length+r:r,0,s.splice(t,1)[0]),s}function rM(e){return null!==e&&e>=0}s={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:r}=e,a={},{styles:l,className:n}=s;if(null!=l&&l.active)for(let[e,r]of Object.entries(l.active))void 0!==r&&(a[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,r));if(null!=l&&l.dragOverlay)for(let[e,t]of Object.entries(l.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=n&&n.active&&t.node.classList.add(n.active),null!=n&&n.dragOverlay&&r.node.classList.add(n.dragOverlay),function(){for(let[e,r]of Object.entries(a))t.node.style.setProperty(e,r);null!=n&&n.active&&t.node.classList.remove(n.active)}};let rI=e=>{let{rects:t,activeIndex:r,overIndex:s,index:a}=e,l=rD(t,s,r),n=t[a],i=l[a];return i&&n?{x:i.left-n.left,y:i.top-n.top,scaleX:i.width/n.width,scaleY:i.height/n.height}:null},rz={scaleX:1,scaleY:1},rT=e=>{var t;let{activeIndex:r,activeNodeRect:s,index:a,rects:l,overIndex:n}=e,i=null!=(t=l[r])?t:s;if(!i)return null;if(a===r){let e=l[n];return e?{x:0,y:r<n?e.top+e.height-(i.top+i.height):e.top-i.top,...rz}:null}let o=function(e,t,r){let s=e[t],a=e[t-1],l=e[t+1];return s?r<t?a?s.top-(a.top+a.height):l?l.top-(s.top+s.height):0:l?l.top-(s.top+s.height):a?s.top-(a.top+a.height):0:0}(l,a,r);return a>r&&a<=n?{x:0,y:-i.height-o,...rz}:a<r&&a>=n?{x:0,y:i.height+o,...rz}:{x:0,y:0,...rz}},rA="Sortable",rR=D().createContext({activeIndex:-1,containerId:rA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rI,disabled:{draggable:!1,droppable:!1}});function rO(e){let{children:t,id:r,items:s,strategy:a=rI,disabled:l=!1}=e,{active:n,dragOverlay:i,droppableRects:o,over:d,measureDroppableContainers:c}=(0,E.useContext)(rb),u=tn(rA,r),m=null!==i.rect,h=(0,E.useMemo)(()=>s.map(e=>"object"==typeof e&&"id"in e?e.id:e),[s]),p=null!=n,x=n?h.indexOf(n.id):-1,g=d?h.indexOf(d.id):-1,f=(0,E.useRef)(h),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(h,f.current),b=-1!==g&&-1===x||y,v="boolean"==typeof l?{draggable:l,droppable:l}:l;e7(()=>{y&&p&&c(h)},[y,h,p,c]),(0,E.useEffect)(()=>{f.current=h},[h]);let j=(0,E.useMemo)(()=>({activeIndex:x,containerId:u,disabled:v,disableTransforms:b,items:h,overIndex:g,useDragOverlay:m,sortedRects:h.reduce((e,t,r)=>{let s=o.get(t);return s&&(e[r]=s),e},Array(h.length)),strategy:a}),[x,u,v.draggable,v.droppable,b,h,g,o,m,a]);return D().createElement(rR.Provider,{value:j},t)}let rZ=e=>{let{id:t,items:r,activeIndex:s,overIndex:a}=e;return rD(r,s,a).indexOf(t)},rP=e=>{let{containerId:t,isSorting:r,wasDragging:s,index:a,items:l,newIndex:n,previousItems:i,previousContainerId:o,transition:d}=e;return!!d&&!!s&&(i===l||a!==n)&&(!!r||n!==a&&t===o)},r$={duration:200,easing:"ease"},rB="transform",rL=tm.Transition.toString({property:rB,duration:0,easing:"linear"}),rF={roleDescription:"sortable"};function r_(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let rV=[d.Down,d.Right,d.Up,d.Left],rU=(e,t)=>{let{context:{active:r,collisionRect:s,droppableRects:a,droppableContainers:l,over:n,scrollableAncestors:i}}=t;if(rV.includes(e.code)){if(e.preventDefault(),!r||!s)return;let t=[];l.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let l=a.get(r.id);if(l)switch(e.code){case d.Down:s.top<l.top&&t.push(r);break;case d.Up:s.top>l.top&&t.push(r);break;case d.Left:s.left>l.left&&t.push(r);break;case d.Right:s.left<l.left&&t.push(r)}});let o=tz({active:r,collisionRect:s,droppableRects:a,droppableContainers:t,pointerCoordinates:null}),c=tD(o,"id");if(c===(null==n?void 0:n.id)&&o.length>1&&(c=o[1].id),null!=c){let e=l.get(r.id),t=l.get(c),n=t?a.get(t.id):null,o=null==t?void 0:t.node.current;if(o&&n&&e&&t){let r=t$(o).some((e,t)=>i[t]!==e),a=rq(e,t),l=function(e,t){return!!(r_(e)&&r_(t)&&rq(e,t))&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),d=r||!a?{x:0,y:0}:{x:l?s.width-n.width:0,y:l?s.height-n.height:0},c={x:n.left,y:n.top};return d.x&&d.y?c:td(c,d)}}}};function rq(e,t){return!!(r_(e)&&r_(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}function rY({element:e,isSelected:t,onSelect:r,onToggleVisibility:s,onToggleLock:a,onDelete:l,onDuplicate:i}){let{attributes:o,listeners:d,setNodeRef:c,transform:u,transition:m,isDragging:h}=function(e){var t,r;let{animateLayoutChanges:s=rP,attributes:a,disabled:l,data:i,getNewIndex:o=rZ,id:d,strategy:c,resizeObserverConfig:u,transition:m=r$}=e,{items:h,containerId:p,activeIndex:x,disabled:g,disableTransforms:f,sortedRects:y,overIndex:b,useDragOverlay:v,strategy:j}=(0,E.useContext)(rR),w="boolean"==typeof l?{draggable:l,droppable:!1}:{draggable:null!=(t=null==l?void 0:l.draggable)?t:g.draggable,droppable:null!=(r=null==l?void 0:l.droppable)?r:g.droppable},N=h.indexOf(d),k=(0,E.useMemo)(()=>({sortable:{containerId:p,index:N,items:h},...i}),[p,i,N,h]),C=(0,E.useMemo)(()=>h.slice(h.indexOf(d)),[h,d]),{rect:S,node:D,isOver:M,setNodeRef:I}=function(e){let{data:t,disabled:r=!1,id:s,resizeObserverConfig:a}=e,l=tn("Droppable"),{active:i,dispatch:o,over:d,measureDroppableContainers:c}=(0,E.useContext)(ry),u=(0,E.useRef)({disabled:r}),m=(0,E.useRef)(!1),h=(0,E.useRef)(null),p=(0,E.useRef)(null),{disabled:x,updateMeasurementsFor:g,timeout:f}={...rE,...a},y=tt(null!=g?g:s),b=rl({callback:(0,E.useCallback)(()=>{if(!m.current){m.current=!0;return}null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),p.current=null},f)},[f]),disabled:x||!i}),[v,j]=ts((0,E.useCallback)((e,t)=>{b&&(t&&(b.unobserve(t),m.current=!1),e&&b.observe(e))},[b])),w=tt(t);return(0,E.useEffect)(()=>{b&&v.current&&(b.disconnect(),m.current=!1,b.observe(v.current))},[v,b]),(0,E.useEffect)(()=>(o({type:n.RegisterDroppable,element:{id:s,key:l,disabled:r,node:v,rect:h,data:w}}),()=>o({type:n.UnregisterDroppable,key:l,id:s})),[s]),(0,E.useEffect)(()=>{r!==u.current.disabled&&(o({type:n.SetDroppableDisabled,id:s,key:l,disabled:r}),u.current.disabled=r)},[s,l,r,o]),{active:i,rect:h,isOver:(null==d?void 0:d.id)===s,node:v,over:d,setNodeRef:j}}({id:d,data:k,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...u}}),{active:z,activatorEvent:T,activeNodeRect:A,attributes:R,setNodeRef:O,listeners:Z,isDragging:P,over:$,setActivatorNodeRef:B,transform:L}=function(e){let{id:t,data:r,disabled:s=!1,attributes:a}=e,l=tn("Draggable"),{activators:n,activatorEvent:i,active:o,activeNodeRect:d,ariaDescribedById:c,draggableNodes:u,over:m}=(0,E.useContext)(ry),{role:h=rS,roleDescription:p="draggable",tabIndex:x=0}=null!=a?a:{},g=(null==o?void 0:o.id)===t,f=(0,E.useContext)(g?rN:rC),[y,b]=ts(),[v,j]=ts(),w=(0,E.useMemo)(()=>n.reduce((e,r)=>{let{eventName:s,handler:a}=r;return e[s]=e=>{a(e,t)},e},{}),[n,t]),N=tt(r);return e7(()=>(u.set(t,{id:t,key:l,node:y,activatorNode:v,data:N}),()=>{let e=u.get(t);e&&e.key===l&&u.delete(t)}),[u,t]),{active:o,activatorEvent:i,activeNodeRect:d,attributes:(0,E.useMemo)(()=>({role:h,tabIndex:x,"aria-disabled":s,"aria-pressed":!!g&&h===rS||void 0,"aria-roledescription":p,"aria-describedby":c.draggable}),[s,h,x,g,p,c.draggable]),isDragging:g,listeners:s?void 0:w,node:y,over:m,setNodeRef:b,setActivatorNodeRef:j,transform:f}}({id:d,data:k,attributes:{...rF,...a},disabled:w.draggable}),F=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,E.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(I,O),_=!!z,V=_&&!f&&rM(x)&&rM(b),U=!v&&P,q=U&&V?L:null,Y=V?null!=q?q:(null!=c?c:j)({rects:y,activeNodeRect:A,activeIndex:x,overIndex:b,index:N}):null,K=rM(x)&&rM(b)?o({id:d,items:h,activeIndex:x,overIndex:b}):N,H=null==z?void 0:z.id,X=(0,E.useRef)({activeId:H,items:h,newIndex:K,containerId:p}),W=h!==X.current.items,G=s({active:z,containerId:p,isDragging:P,isSorting:_,id:d,index:N,items:h,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:m,wasDragging:null!=X.current.activeId}),J=function(e){let{disabled:t,index:r,node:s,rect:a}=e,[l,n]=(0,E.useState)(null),i=(0,E.useRef)(r);return e7(()=>{if(!t&&r!==i.current&&s.current){let e=a.current;if(e){let t=tZ(s.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&n(r)}}r!==i.current&&(i.current=r)},[t,r,s,a]),(0,E.useEffect)(()=>{l&&n(null)},[l]),l}({disabled:!G,index:N,node:D,rect:S});return(0,E.useEffect)(()=>{_&&X.current.newIndex!==K&&(X.current.newIndex=K),p!==X.current.containerId&&(X.current.containerId=p),h!==X.current.items&&(X.current.items=h)},[_,K,p,h]),(0,E.useEffect)(()=>{if(H===X.current.activeId)return;if(null!=H&&null==X.current.activeId){X.current.activeId=H;return}let e=setTimeout(()=>{X.current.activeId=H},50);return()=>clearTimeout(e)},[H]),{active:z,activeIndex:x,attributes:R,data:k,rect:S,index:N,newIndex:K,items:h,isOver:M,isSorting:_,isDragging:P,listeners:Z,node:D,overIndex:b,over:$,setNodeRef:F,setActivatorNodeRef:B,setDroppableNodeRef:I,setDraggableNodeRef:O,transform:null!=J?J:Y,transition:J||W&&X.current.newIndex===N?rL:(!U||tc(T))&&m&&(_||G)?tm.Transition.toString({...m,property:rB}):void 0}}({id:e.id}),p={transform:tm.Transform.toString(u),transition:m,opacity:h?.5:1};return(0,g.jsxs)("div",{ref:c,style:p,className:`
        flex items-center gap-2 p-2 rounded-lg border transition-all
        ${t?"bg-blue-50 border-blue-400":"bg-white border-gray-200 hover:border-gray-300"}
        ${h?"shadow-lg z-50":""}
      `,children:[g.jsx("div",{...o,...d,className:"cursor-grab active:cursor-grabbing p-1 hover:bg-gray-100 rounded",children:g.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})}),(0,g.jsxs)("div",{className:"flex-1 flex items-center gap-2 cursor-pointer",onClick:()=>r(e.id),children:[g.jsx("span",{className:"text-lg",children:(e=>{switch(e){case"text":return"\uD83D\uDCDD";case"image":return"\uD83D\uDDBC️";case"video":return"\uD83C\uDFA5";case"shape":return"\uD83D\uDD37";case"group":return"\uD83D\uDCE6";default:return"\uD83D\uDCC4"}})(e.type)}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.content?e.content.substring(0,30)+(e.content.length>30?"...":""):`${e.type.charAt(0).toUpperCase()+e.type.slice(1)} ${e.zIndex+1}`}),(0,g.jsxs)("p",{className:"text-xs text-gray-500",children:["Z: ",e.zIndex]})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[g.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",onClick:t=>{t.stopPropagation(),s(e.id)},title:e.visible?"Ocultar":"Mostrar",children:e.visible?g.jsx(eG.Z,{className:"w-4 h-4 text-gray-600"}):g.jsx(eJ.Z,{className:"w-4 h-4 text-gray-400"})}),g.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",onClick:t=>{t.stopPropagation(),a(e.id)},title:e.locked?"Desbloquear":"Bloquear",children:e.locked?g.jsx(eQ.Z,{className:"w-4 h-4 text-gray-600"}):g.jsx(e0.Z,{className:"w-4 h-4 text-gray-400"})}),g.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",onClick:t=>{t.stopPropagation(),i(e.id)},title:"Duplicar",children:g.jsx(eS.Z,{className:"w-4 h-4 text-gray-600"})}),g.jsx("button",{className:"p-1 hover:bg-red-100 rounded transition-colors",onClick:t=>{t.stopPropagation(),confirm("Deletar este elemento?")&&l(e.id)},title:"Deletar",children:g.jsx(z.Z,{className:"w-4 h-4 text-red-600"})})]})]})}function rK({elements:e,selectedIds:t,onReorder:r,onToggleVisibility:s,onToggleLock:a,onSelect:l,onDelete:n,onDuplicate:i}){let o=[...e].sort((e,t)=>t.zIndex-e.zIndex),d=o.map(e=>e.id),c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,E.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(tw(t8),tw(t2,{coordinateGetter:rU}));return(0,g.jsxs)(w.Zb,{className:"bg-gray-900 border-gray-800",children:[g.jsx(w.Ol,{className:"border-b border-gray-800",children:(0,g.jsxs)(w.ll,{className:"text-white flex items-center gap-2",children:[g.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Camadas (",e.length,")"]})}),(0,g.jsxs)(w.aY,{className:"p-3",children:[0===e.length?(0,g.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[g.jsx("svg",{className:"w-12 h-12 mx-auto mb-2 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),g.jsx("p",{className:"text-sm",children:"Nenhuma camada ainda"})]}):g.jsx(rk,{sensors:c,collisionDetection:tI,onDragEnd:e=>{let{active:t,over:s}=e;if(!s||t.id===s.id)return;let a=d.indexOf(t.id),l=d.indexOf(s.id);if(-1===a||-1===l)return;let n=rD(o,a,l);r(n.map((e,t)=>({...e,zIndex:n.length-t-1})))},children:g.jsx(rO,{items:d,strategy:rT,children:g.jsx("div",{className:"space-y-2",children:o.map(e=>g.jsx(rY,{element:e,isSelected:t.includes(e.id),onSelect:l,onToggleVisibility:s,onToggleLock:a,onDelete:n,onDuplicate:i},e.id))})})}),e.length>0&&(0,g.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-800 text-xs text-gray-400",children:[(0,g.jsxs)("div",{className:"flex justify-between",children:[g.jsx("span",{children:"Vis\xedveis:"}),g.jsx("span",{className:"text-white font-medium",children:e.filter(e=>e.visible).length})]}),(0,g.jsxs)("div",{className:"flex justify-between mt-1",children:[g.jsx("span",{children:"Bloqueadas:"}),g.jsx("span",{className:"text-white font-medium",children:e.filter(e=>e.locked).length})]})]})]})]})}var rH=r(56562),rX=r(88307),rW=r(94893),rG=r(54432);function rJ({onAddAsset:e}){let[t,r]=(0,E.useState)([]),[s,a]=(0,E.useState)(!0),[l,n]=(0,E.useState)(""),i=l?t.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(l.toLowerCase()))):t;return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(rH.Z,{className:"w-4 h-4"}),"Biblioteca de M\xeddia"]})}),(0,g.jsxs)(w.aY,{className:"space-y-3",children:[(0,g.jsxs)("div",{className:"relative",children:[g.jsx(rX.Z,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),g.jsx(rG.I,{placeholder:"Buscar \xe1udio...",value:l,onChange:e=>n(e.target.value),className:"pl-8 text-sm"})]}),s?g.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Carregando..."}):g.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:0===i.length?g.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Nenhum \xe1udio encontrado"}):i.map(t=>g.jsx("div",{className:"p-2 bg-gray-50 hover:bg-gray-100 rounded transition cursor-pointer",onClick:()=>e?.(t),children:(0,g.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs font-medium truncate",children:t.name}),(0,g.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[g.jsx(N.C,{variant:"outline",className:"text-xs px-1 py-0",children:t.category}),(0,g.jsxs)("span",{className:"text-xs text-gray-500",children:[t.duration,"s"]})]})]}),g.jsx("button",{className:"p-1 hover:bg-blue-100 rounded",children:g.jsx(rW.Z,{className:"w-3 h-3 text-blue-600"})})]})},t.id))})]})]})}let rQ=(0,y.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var r0=r(50949);let r1=(0,y.Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);class r2{show(e){let t=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,id:t,duration:e.duration??this.defaultDuration,position:e.position??this.defaultPosition,dismissible:e.dismissible??!0};return this.toasts.set(t,r),this.notifyListeners(),r.duration&&r.duration>0&&setTimeout(()=>this.dismiss(t),r.duration),t}success(e,t,r){return this.show({type:"success",title:e,message:t,duration:r,icon:"✅"})}error(e,t,r){return this.show({type:"error",title:e,message:t,duration:r??0,icon:"❌"})}warning(e,t,r){return this.show({type:"warning",title:e,message:t,duration:r,icon:"⚠️"})}info(e,t,r){return this.show({type:"info",title:e,message:t,duration:r,icon:"ℹ️"})}loading(e,t){return this.show({type:"info",title:e,message:t,duration:0,icon:"⏳",dismissible:!1})}update(e,t){let r=this.toasts.get(e);if(!r)return!1;let s={...r,...t};return this.toasts.set(e,s),this.notifyListeners(),!0}dismiss(e){let t=this.toasts.delete(e);return t&&this.notifyListeners(),t}dismissAll(){this.toasts.clear(),this.notifyListeners()}list(){return Array.from(this.toasts.values())}listByPosition(e){return this.list().filter(t=>t.position===e)}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){let e=this.list();this.listeners.forEach(t=>t(e))}async promise(e,t){let r=this.loading(t.loading);try{let s=await e;return this.dismiss(r),this.success(t.success),s}catch(e){throw this.dismiss(r),this.error(t.error,e instanceof Error?e.message:void 0),e}}constructor(){this.toasts=new Map,this.listeners=new Set,this.defaultDuration=5e3,this.defaultPosition="bottom-right"}}let r4=new r2;function r5(){let[e,t]=(0,E.useState)([]),r=e=>({"top-left":"top-4 left-4","top-center":"top-4 left-1/2 -translate-x-1/2","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-center":"bottom-4 left-1/2 -translate-x-1/2","bottom-right":"bottom-4 right-4"})[e],s=e=>{switch(e){case"success":return g.jsx(ej,{className:"w-5 h-5 text-green-500"});case"error":return g.jsx(rQ,{className:"w-5 h-5 text-red-500"});case"warning":return g.jsx(r0.Z,{className:"w-5 h-5 text-yellow-500"});case"info":return g.jsx(r1,{className:"w-5 h-5 text-blue-500"})}},a=e=>{switch(e){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200"}},l=e.reduce((e,t)=>{let r=t.position||"bottom-right";return e[r]||(e[r]=[]),e[r].push(t),e},{});return g.jsx(g.Fragment,{children:Object.entries(l).map(([e,t])=>g.jsx("div",{className:`fixed z-50 flex flex-col gap-2 ${r(e)}`,children:t.map(e=>g.jsx("div",{className:`
                min-w-80 max-w-md rounded-lg border-2 shadow-lg p-4
                animate-in slide-in-from-right duration-300
                ${a(e.type)}
              `,children:(0,g.jsxs)("div",{className:"flex items-start gap-3",children:[s(e.type),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-semibold text-gray-900 text-sm mb-1",children:e.title}),e.message&&g.jsx("p",{className:"text-xs text-gray-600",children:e.message}),e.action&&g.jsx("button",{onClick:e.action.onClick,className:"mt-2 text-xs font-medium text-blue-600 hover:text-blue-700",children:e.action.label})]}),e.dismissible&&g.jsx("button",{onClick:()=>r4.dismiss(e.id),className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:g.jsx(eM.Z,{className:"w-4 h-4"})})]})},e.id))},e))})}let r3=e=>({drive:()=>{},destroy:()=>{},highlight:()=>{}}),r6=(0,E.createContext)(void 0),r8={warn:(e,t)=>console.warn(`[Onboarding] ${e}`,t||"")},r9="video-editor-onboarding-completed",r7=({projectId:e,children:t})=>{let[r,s]=(0,E.useState)("idle"),a=(0,E.useRef)(null),l=(0,E.useRef)(null),n=(0,E.useCallback)(async(t,r)=>{try{await fetch("/api/analytics/onboarding",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,event:t,stepId:r,occurredAt:new Date().toISOString()}),keepalive:!0})}catch(e){r8.warn("Falha ao registrar analytics de onboarding",{error:e instanceof Error?e.message:e})}},[e]),i=(0,E.useCallback)(()=>{try{localStorage.setItem(r9,"true")}catch(e){r8.warn("N\xe3o foi poss\xedvel gravar completion flag",{error:e})}},[]),o=(0,E.useCallback)(()=>[{element:'[data-onboarding-target="upload"]',popover:{title:"Comece pelo Upload",description:"Envie um PPTX ou arquivos multim\xeddia para transformar em v\xeddeo.",side:"bottom",align:"start"},id:"upload"},{element:'[data-onboarding-target="timeline"]',popover:{title:"Timeline Visual",description:"Arraste, corte e ajuste clipes. Undo/redo + autosave trabalham aqui.",side:"top",align:"center"},id:"timeline"},{element:'[data-onboarding-target="templates"]',popover:{title:"Galeria de Templates",description:"Abra a galeria para aplicar estruturas prontas em segundos.",side:"bottom",align:"center"},id:"templates"},{element:'[data-onboarding-target="stock"]',popover:{title:"Biblioteca de Assets",description:"Pesquise v\xeddeos, fotos e GIFs para compor seu projeto.",side:"right",align:"center"},id:"stock"},{element:'[data-onboarding-target="export"]',popover:{title:"Exporte e publique",description:"Escolha presets por plataforma com um clique e gere o v\xeddeo final.",side:"left",align:"center"},id:"export"}],[]),d=(0,E.useCallback)(async e=>{if("running"===r)return;let t=o().filter(e=>document.querySelector(e.element));0!==t.length&&(await n("start"),s("running"),l.current=r3({showProgress:!0,steps:t,onHighlightStarted:({id:e})=>{n("step","string"==typeof e?e:void 0)},onDestroyed:({status:e})=>{e?.status==="finished"?(i(),s("completed"),n("complete")):(s("idle"),n("skip"))}}),l.current.drive())},[n,o,i,r]),c=(0,E.useCallback)(()=>{d("manual")},[d]),u=(0,E.useCallback)(()=>{localStorage.removeItem(r9),s("idle"),d("manual")},[d]),m=(0,E.useCallback)(()=>{a.current&&clearTimeout(a.current),a.current=setTimeout(async()=>{if("true"!==localStorage.getItem(r9)){await n("start"),s("running");let e=o().filter(e=>document.querySelector(e.element));e.length>0&&(l.current=r3({showProgress:!0,steps:e,onHighlightStarted:({id:e})=>{n("step","string"==typeof e?e:void 0)},onDestroyed:({status:e})=>{e?.status==="finished"?(i(),s("completed"),n("complete")):(s("idle"),n("skip"))}}),l.current.drive())}},9e4)},[n,o,i]);(0,E.useEffect)(()=>{"true"===localStorage.getItem(r9)&&s("completed"),m();let e=["mousemove","keydown","mousedown","touchstart","scroll"],t=()=>m();return e.forEach(e=>window.addEventListener(e,t,{passive:!0})),()=>{e.forEach(e=>window.removeEventListener(e,t)),a.current&&clearTimeout(a.current),l.current?.destroy()}},[m]);let h=(0,E.useMemo)(()=>({startTour:c,restartTour:u,status:r}),[c,u,r]);return(0,g.jsxs)(r6.Provider,{value:h,children:[t,g.jsx("button",{type:"button","aria-label":"Reabrir tour guiado",onClick:c,className:"fixed bottom-6 right-6 z-50 flex h-12 w-12 items-center justify-center rounded-full bg-blue-600 text-white shadow-lg transition hover:bg-blue-500","data-onboarding-helper":"true",children:"?"})]})};var se=r(69561),st=r(49758);class sr{search(e,t){let r=e.map(e=>({slide:e,score:0,matches:[]}));return t.query&&t.query.trim()&&(r=this.searchByText(r,t.query)),t.slideNumbers&&t.slideNumbers.length>0&&(r=r.filter(e=>t.slideNumbers.includes(e.slide.slideNumber))),t.tags&&t.tags.length>0&&(r=r.filter(e=>e.slide.tags&&t.tags.some(t=>e.slide.tags.includes(t)))),void 0!==t.hasAudio&&(r=r.filter(e=>e.slide.elements?.some(e=>"audio"===e.type)===t.hasAudio)),void 0!==t.hasVideo&&(r=r.filter(e=>e.slide.elements?.some(e=>"video"===e.type)===t.hasVideo)),void 0!==t.hasImages&&(r=r.filter(e=>e.slide.elements?.some(e=>"image"===e.type)===t.hasImages)),t.duration&&(r=r.filter(e=>{let r=e.slide.duration||0;return r>=t.duration.min&&r<=t.duration.max})),r.sort((e,t)=>t.score-e.score),r.filter(e=>e.score>0||!t.query)}searchByText(e,t){let r=t.toLowerCase().split(" ").filter(e=>e.length>0);return e.map(e=>{let t=0,s=[];if(e.slide.title){let a=e.slide.title.toLowerCase();r.forEach(r=>{a.includes(r)&&(t+=10,s.push({field:"title",text:e.slide.title,highlight:this.highlight(e.slide.title,r)}))})}if(e.slide.elements&&e.slide.elements.forEach(e=>{if("text"===e.type&&e.content){let a=e.content.toLowerCase();r.forEach(r=>{a.includes(r)&&(t+=5,s.push({field:"content",text:e.content,highlight:this.highlight(e.content,r)}))})}}),e.slide.notes){let a=e.slide.notes.toLowerCase();r.forEach(r=>{a.includes(r)&&(t+=3,s.push({field:"notes",text:e.slide.notes,highlight:this.highlight(e.slide.notes,r)}))})}return{...e,score:t,matches:s}})}highlight(e,t){let r=RegExp(`(${t})`,"gi");return e.replace(r,"<mark>$1</mark>")}suggest(e,t){if(!t||t.length<2)return[];let r=new Set,s=t.toLowerCase();return e.forEach(e=>{e.title&&e.title.toLowerCase().includes(s)&&r.add(e.title),e.elements?.forEach(e=>{"text"===e.type&&e.content&&e.content.split(" ").forEach(e=>{e.toLowerCase().startsWith(s)&&r.add(e)})}),e.tags?.forEach(e=>{e.toLowerCase().includes(s)&&r.add(e)})}),Array.from(r).slice(0,10)}buildIndex(e){let t=new Map;return e.forEach((e,r)=>{let s=new Set;e.title&&e.title.toLowerCase().split(" ").forEach(e=>s.add(e)),e.elements?.forEach(e=>{"text"===e.type&&e.content&&e.content.toLowerCase().split(" ").forEach(e=>s.add(e))}),s.forEach(e=>{t.has(e)||t.set(e,[]),t.get(e).push(r)})}),t}}let ss=new sr;function sa({slides:e,onSelectSlide:t,onClose:r}){let[s,a]=(0,E.useState)(""),[l,n]=(0,E.useState)({}),[i,o]=(0,E.useState)([]),[d,c]=(0,E.useState)(!1),u=()=>{let t={query:s,...l};o(ss.search(e,t))},m=(e,t)=>{n(r=>({...r,[e]:r[e]===t?void 0:t}))};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center bg-black/50 pt-20",children:(0,g.jsxs)(w.Zb,{className:"w-full max-w-3xl max-h-[80vh] overflow-hidden",children:[(0,g.jsxs)(w.Ol,{className:"flex flex-row items-center justify-between",children:[(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-lg",children:[g.jsx(rX.Z,{className:"w-5 h-5"}),"Busca Avan\xe7ada"]}),g.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:g.jsx(eM.Z,{className:"w-5 h-5"})})]}),(0,g.jsxs)(w.aY,{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsxs)("div",{className:"flex-1 relative",children:[g.jsx(rX.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx(rG.I,{value:s,onChange:e=>a(e.target.value),onKeyDown:e=>"Enter"===e.key&&u(),placeholder:"Buscar slides por texto...",className:"pl-10"})]}),(0,g.jsxs)(T.z,{variant:"outline",onClick:()=>c(!d),className:d?"bg-blue-50":"",children:[g.jsx(se.Z,{className:"w-4 h-4 mr-2"}),"Filtros"]}),g.jsx(T.z,{onClick:u,children:"Buscar"})]}),d&&(0,g.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[g.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Filtros"}),(0,g.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,g.jsxs)("button",{onClick:()=>m("hasImages",!0),className:`px-3 py-1 rounded-full text-xs border transition ${l.hasImages?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:[g.jsx(eq.Z,{className:"w-3 h-3 inline mr-1"}),"Com Imagens"]}),(0,g.jsxs)("button",{onClick:()=>m("hasVideo",!0),className:`px-3 py-1 rounded-full text-xs border transition ${l.hasVideo?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:[g.jsx(st.Z,{className:"w-3 h-3 inline mr-1"}),"Com V\xeddeo"]}),(0,g.jsxs)("button",{onClick:()=>m("hasAudio",!0),className:`px-3 py-1 rounded-full text-xs border transition ${l.hasAudio?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"}`,children:[g.jsx(rH.Z,{className:"w-3 h-3 inline mr-1"}),"Com \xc1udio"]})]}),Object.keys(l).length>0&&g.jsx("button",{onClick:()=>{a(""),n({}),o([])},className:"text-xs text-red-600 hover:text-red-700",children:"Limpar filtros"})]}),(0,g.jsxs)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[0===i.length&&s&&(0,g.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[g.jsx(rX.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),g.jsx("p",{children:"Nenhum resultado encontrado"}),g.jsx("p",{className:"text-xs mt-1",children:"Tente buscar por outros termos"})]}),0===i.length&&!s&&(0,g.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[g.jsx(rX.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),g.jsx("p",{children:"Digite algo para buscar"}),g.jsx("p",{className:"text-xs mt-1",children:"Use filtros para refinar sua busca"})]}),i.map((s,a)=>g.jsx("div",{onClick:()=>{t(e.indexOf(s.slide)),r()},className:"p-3 bg-white border rounded-lg hover:bg-gray-50 cursor-pointer transition",children:(0,g.jsxs)("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded overflow-hidden",children:s.slide.thumbnail?g.jsx("img",{src:s.slide.thumbnail,alt:`Slide ${s.slide.slideNumber}`,className:"w-full h-full object-cover"}):(0,g.jsxs)("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-500",children:["#",s.slide.slideNumber]})}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs",children:["Slide ",s.slide.slideNumber]}),s.score>0&&(0,g.jsxs)(N.C,{className:"text-xs bg-green-600",children:[s.score," pts"]})]}),g.jsx("h4",{className:"font-medium text-sm text-gray-900 mb-1",children:s.slide.title||"Sem t\xedtulo"}),s.matches.length>0&&g.jsx("div",{className:"text-xs text-gray-600",children:g.jsx("span",{dangerouslySetInnerHTML:{__html:s.matches[0].highlight.substring(0,100)+"..."}})})]})]})},a))]}),i.length>0&&(0,g.jsxs)("div",{className:"text-sm text-gray-600 text-center pt-2 border-t",children:[i.length," ",1===i.length?"resultado":"resultados"," encontrado",1!==i.length?"s":""]})]})]})})}let sl=(0,y.Z)("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);var sn=r(83855);function si({elementId:e,elementName:t,tracks:r,duration:s,currentTime:a,onAddKeyframe:l,onUpdateKeyframe:n,onDeleteKeyframe:i,onTimeChange:o}){let[d,c]=(0,E.useState)("opacity"),[u,m]=(0,E.useState)(null),h=[{id:"opacity",label:"Opacidade",min:0,max:1,step:.1},{id:"x",label:"Posi\xe7\xe3o X",min:-1e3,max:2e3,step:10},{id:"y",label:"Posi\xe7\xe3o Y",min:-1e3,max:2e3,step:10},{id:"scaleX",label:"Escala X",min:0,max:3,step:.1},{id:"scaleY",label:"Escala Y",min:0,max:3,step:.1},{id:"rotation",label:"Rota\xe7\xe3o",min:-360,max:360,step:15}],p=s/1e3*100,x=e=>e/1e3*100,f=e=>e/100*1e3,y=r.find(e=>e.property===d),b=y?.keyframes.find(e=>e.id===u);return(0,g.jsxs)(w.Zb,{className:"bg-gray-900 border-gray-800",children:[g.jsx(w.Ol,{className:"border-b border-gray-800",children:(0,g.jsxs)(w.ll,{className:"text-white flex items-center justify-between text-sm",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[g.jsx(sl,{className:"w-4 h-4"}),"Keyframes: ",t]}),(0,g.jsxs)(T.z,{size:"sm",onClick:()=>{if(!h.find(e=>e.id===d))return;let e="opacity"===d?1:0;l(d,a,e)},className:"h-7",children:[g.jsx(sn.Z,{className:"w-3 h-3 mr-1"}),"Add Keyframe"]})]})}),(0,g.jsxs)(w.aY,{className:"p-3 space-y-3",children:[g.jsx("div",{className:"flex gap-1 flex-wrap",children:h.map(e=>g.jsx("button",{className:`
                px-3 py-1 rounded text-xs font-medium transition-colors
                ${d===e.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}
              `,onClick:()=>c(e.id),children:e.label},e.id))}),(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-2",children:[g.jsx("div",{className:"h-6 border-b border-gray-700 relative mb-2",children:g.jsx("div",{style:{width:`${p}px`},className:"relative h-full",children:Array.from({length:Math.ceil(s/1e3)+1}).map((e,t)=>{let r=100*t;return g.jsx("div",{className:"absolute top-0 h-full border-l border-gray-600",style:{left:`${r}px`},children:(0,g.jsxs)("span",{className:"absolute top-0 left-1 text-xs text-gray-500",children:[t,"s"]})},t)})})}),g.jsx("div",{className:"relative h-20 overflow-x-auto",children:(0,g.jsxs)("div",{className:"relative h-full bg-gray-850 rounded cursor-crosshair",style:{width:`${p}px`},onClick:e=>{let t=e.currentTarget.getBoundingClientRect();o(f(e.clientX-t.left))},children:[y?.keyframes.map(e=>{let t=x(e.time),r=e.id===u;return g.jsx("div",{className:`
                      absolute top-1/2 -translate-y-1/2 -translate-x-1/2
                      w-4 h-4 rounded-full cursor-pointer transition-all
                      ${r?"bg-blue-500 ring-4 ring-blue-500/30 scale-125":"bg-yellow-500 hover:bg-yellow-400"}
                    `,style:{left:`${t}px`},onClick:t=>{t.stopPropagation(),m(e.id)},title:`${e.time}ms`},e.id)}),g.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 pointer-events-none",style:{left:`${x(a)}px`,transform:"translateX(-50%)"},children:g.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full",children:g.jsx("div",{className:"w-2 h-2 bg-red-500 rotate-45 transform translate-y-1"})})}),y&&y.keyframes.length>=2&&g.jsx("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:g.jsx("polyline",{points:y.keyframes.map((e,t)=>{let r=x(e.time),s=e.properties[d]||0,a=h.find(e=>e.id===d),l=a?(s-a.min)/(a.max-a.min):.5;return`${r},${80-60*l}`}).join(" "),fill:"none",stroke:"#60A5FA",strokeWidth:"2",strokeDasharray:"3,3"})})]})}),b&&(0,g.jsxs)("div",{className:"mt-3 p-3 bg-gray-850 rounded space-y-3",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("h4",{className:"text-sm text-white font-medium",children:["Keyframe em ",b.time,"ms"]}),(0,g.jsxs)("div",{className:"flex gap-1",children:[g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>{l(d,b.time+500,b.properties[d])},className:"h-7 w-7 p-0",children:g.jsx(eS.Z,{className:"w-3 h-3"})}),g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>{i(b.id),m(null)},className:"h-7 w-7 p-0 hover:bg-red-600 hover:text-white",children:g.jsx(z.Z,{className:"w-3 h-3"})})]})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs text-gray-400",children:"Easing"}),g.jsx("div",{className:"grid grid-cols-3 gap-1",children:["linear","ease","ease-in","ease-out","ease-in-out"].map(e=>g.jsx("button",{className:`
                        px-2 py-1 rounded text-xs transition-colors
                        ${b.easing===e?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}
                      `,onClick:()=>{n(b.id,{easing:e})},children:e},e))})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("label",{className:"text-xs text-gray-400",children:["Valor de ",d]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[g.jsx(eo.i,{value:[b.properties[d]||0],onValueChange:e=>{n(b.id,{properties:{...b.properties,[d]:e[0]}})},min:h.find(e=>e.id===d)?.min||0,max:h.find(e=>e.id===d)?.max||100,step:h.find(e=>e.id===d)?.step||1,className:"flex-1"}),g.jsx("span",{className:"text-xs text-white font-mono w-16 text-right",children:b.properties[d]?.toFixed(2)||"0.00"})]})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-xs text-gray-400",children:"Tempo (ms)"}),g.jsx("input",{type:"number",value:b.time,onChange:e=>{let t=parseInt(e.target.value)||0;n(b.id,{time:Math.max(0,Math.min(s,t))})},className:"w-full bg-gray-700 text-white px-2 py-1 rounded text-sm",min:0,max:s,step:100})]})]})]}),(0,g.jsxs)("div",{className:"flex gap-2",children:[g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>{l(d,0,0)},className:"flex-1 h-8 text-xs",children:"Keyframe In\xedcio"}),g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>{l(d,s,1)},className:"flex-1 h-8 text-xs",children:"Keyframe Fim"})]}),g.jsx("div",{className:"text-xs text-gray-500 pt-2 border-t border-gray-800",children:y?(0,g.jsxs)("span",{children:[y.keyframes.length," keyframes em ",d]}):g.jsx("span",{children:"Nenhum keyframe nesta propriedade"})})]})]})}var so=r(6309),sd=r(71059),sc=r(10976);let su=(e,t,r)=>Math.min(Math.max(e,t),r);function sm({totalDuration:e,layers:t,currentTime:r,viewportStart:s,viewportEnd:a,onNavigate:l,onScrub:n}){let i=(0,E.useRef)(null),[o,d]=(0,E.useState)(null),c=e>0?e:1,u=(0,E.useMemo)(()=>t.flatMap(e=>e.elements),[t]),m=Math.max(0,a-s),h=s/c,p=m/c,x=p>0?p:.02,f=su(r/c,0,1),y=(e,t=p/2)=>{let r=i.current;if(!r)return s;let a=r.getBoundingClientRect();return su((e-a.left)/a.width-t,0,1-p)*c},b=e=>{o&&o.pointerId===e.pointerId&&(d(null),i.current?.releasePointerCapture(e.pointerId))};return(0,g.jsxs)("div",{className:"px-4 py-3",children:[(0,g.jsxs)("div",{className:"text-xs text-gray-400 mb-2 flex items-center justify-between",children:[g.jsx("span",{children:"Vis\xe3o Geral"}),(0,g.jsxs)("span",{children:[Math.round(100*su(p,0,1)),"% vis\xedvel"]})]}),(0,g.jsxs)("div",{ref:i,className:"relative h-14 rounded-md border border-gray-800 bg-gray-900/70",onPointerDown:e=>{if(0!==e.button||"viewport"===e.target.dataset.type)return;let t=y(e.clientX);l?.(t)},onPointerMove:e=>{if(!o)return;let t=y(e.clientX,o.offset);l?.(t)},onPointerUp:b,onPointerLeave:b,onDoubleClick:e=>{let t=su(y(e.clientX,0)+m/2,0,c);n?.(t)},children:[u.map(e=>{let t=su(e.duration/c,.002,1),r=su(e.startTime/c,0,1);return g.jsx("div",{className:"absolute top-1 bottom-1 rounded-sm opacity-50 pointer-events-none",style:{left:`${100*r}%`,width:`${100*t}%`,background:e.color}},e.id)}),g.jsx("div",{role:"button","data-type":"viewport",tabIndex:0,onPointerDown:e=>{if(0!==e.button)return;let t=i.current;if(!t)return;let r=t.getBoundingClientRect(),s=r.width>0?(e.clientX-r.left)/r.width:0;d({pointerId:e.pointerId,offset:s-h}),t.setPointerCapture(e.pointerId),e.preventDefault()},className:"absolute top-0 bottom-0 cursor-grab border border-blue-400/70 bg-blue-500/10",style:{left:`${100*h}%`,width:`${100*x}%`}}),g.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-red-500",style:{left:`${100*f}%`}})]}),g.jsx("p",{className:"mt-2 text-[11px] text-gray-500",children:"Arraste a \xe1rea destacada para navegar • Clique duas vezes para mover o playhead"})]})}function sh({layers:e,currentTime:t,totalDuration:r,onTimeChange:s,onElementUpdate:a,onElementSelect:l,onPlay:n,onPause:i,playing:o,zoom:d=1,onZoomChange:c,selectedElementIds:u}){let m=(0,E.useRef)(null),[h,p]=(0,E.useState)(null),[x,f]=(0,E.useState)(()=>({start:0,end:r})),y=100*d,b=r/1e3*y,j=(0,E.useCallback)(e=>e/y*1e3,[y]),w=(0,E.useCallback)(e=>e/1e3*y,[y]),N=(e,t,r)=>Math.min(Math.max(e,t),r);(0,E.useCallback)(()=>{let e=m.current;if(!e)return;let{scrollLeft:t,clientWidth:s}=e,a=t/y*1e3,l=(t+s)/y*1e3;f({start:N(a,0,r),end:N(l,a,r)})},[y,r]);let k=(e,t,r,s)=>{e.stopPropagation(),l&&l(t,r.id),r.locked||p({slideId:t,elementId:r.id,type:s,startX:e.clientX,initialStartTime:r.startTime,initialDuration:r.duration})},C=e=>{let t=Math.floor(e/1e3);return`${Math.floor(t/60)}:${(t%60).toString().padStart(2,"0")}.${Math.floor(e%1e3/10).toString().padStart(2,"0")}`};return(0,g.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800","data-testid":"multi-layer-timeline",children:[(0,g.jsxs)("div",{className:"p-3 border-b border-gray-800 flex items-center justify-between","data-testid":"timeline-header",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[g.jsx(v.Z,{className:"w-4 h-4 text-gray-400"}),g.jsx("h3",{className:"text-white font-medium text-sm",children:"Timeline Multicamadas"})]}),(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>s(0),disabled:0===t,className:"h-8 w-8 p-0",children:g.jsx(so.Z,{className:"w-4 h-4"})}),g.jsx(T.z,{size:"sm",variant:"outline",onClick:o?i:n,className:"h-8 w-8 p-0",children:o?g.jsx(sd.Z,{className:"w-4 h-4"}):g.jsx(rW.Z,{className:"w-4 h-4"})}),g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>s(r),disabled:t===r,className:"h-8 w-8 p-0",children:g.jsx(sc.Z,{className:"w-4 h-4"})})]}),(0,g.jsxs)("div",{className:"text-xs text-white font-mono bg-gray-800 px-2 py-1 rounded",children:[C(t)," / ",C(r)]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>c(Math.max(.5,d-.25)),className:"h-8 w-8 p-0",children:"-"}),(0,g.jsxs)("span",{className:"text-xs text-white w-12 text-center",children:[Math.round(100*d),"%"]}),g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>c(Math.min(3,d+.25)),className:"h-8 w-8 p-0",children:"+"})]})]})]}),(0,g.jsxs)("div",{className:"relative",children:[g.jsx("div",{className:"h-8 bg-gray-800 border-b border-gray-700 overflow-hidden",children:g.jsx("div",{className:"relative h-full",style:{width:`${b}px`},children:Array.from({length:Math.ceil(r/1e3)+1}).map((e,t)=>{let r=t*y;return g.jsx("div",{className:"absolute top-0 h-full border-l border-gray-600",style:{left:`${r}px`},children:(0,g.jsxs)("span",{className:"absolute top-1 left-1 text-xs text-gray-400",children:[t,"s"]})},t)})})}),g.jsx("div",{ref:m,className:"overflow-x-auto overflow-y-auto max-h-96 cursor-pointer",onClick:e=>{if(!m.current||h)return;let t=m.current.getBoundingClientRect();s(Math.max(0,Math.min(r,j(e.clientX-t.left))))},"data-testid":"timeline-scroll-area",children:g.jsx("div",{style:{width:`${b}px`},children:e.map(e=>(0,g.jsxs)("div",{className:"border-b border-gray-800","data-testid":"timeline-layer","data-slide-id":e.slideId,"data-slide-number":e.slideNumber,children:[g.jsx("div",{className:"h-8 bg-gray-850 px-3 flex items-center border-b border-gray-700","data-testid":"timeline-layer-header",children:(0,g.jsxs)("span",{className:"text-xs text-gray-400 font-medium",children:["Slide ",e.slideNumber]})}),0===e.elements.length?g.jsx("div",{className:"h-12 flex items-center justify-center text-xs text-gray-600",children:"Nenhum elemento"}):e.elements.map(t=>{let r=w(t.startTime),s=w(t.duration),a=t.selected||u?.includes(t.id);return g.jsx("div",{className:"h-12 relative border-b border-gray-800/50","data-testid":"timeline-element-row","data-element-id":t.id,children:(0,g.jsxs)("div",{className:`
                            absolute h-8 top-2 rounded cursor-move
                            transition-opacity hover:opacity-90
                            ${t.locked?"cursor-not-allowed opacity-50":""}
                            ${a?"ring-2 ring-offset-2 ring-blue-400 ring-offset-gray-900 shadow-lg":""}
                          `,style:{left:`${r}px`,width:`${s}px`,backgroundColor:t.color},"data-testid":"timeline-element","data-slide-id":e.slideId,"data-element-id":t.id,onMouseDown:r=>k(r,e.slideId,t,"move"),children:[!t.locked&&(0,g.jsxs)(g.Fragment,{children:[g.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 cursor-ew-resize bg-black/20 hover:bg-black/40","data-testid":"resize-left",onMouseDown:r=>{r.stopPropagation(),k(r,e.slideId,t,"resize-left")}}),g.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize bg-black/20 hover:bg-black/40","data-testid":"resize-right",onMouseDown:r=>{r.stopPropagation(),k(r,e.slideId,t,"resize-right")}})]}),g.jsx("div",{className:"px-2 flex items-center h-full",children:g.jsx("span",{className:"text-xs text-white font-medium truncate",children:t.name})})]})},t.id)})]},e.slideId))})}),g.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 pointer-events-none z-50",style:{left:`${w(t)}px`,transform:"translateX(-50%)"},"data-testid":"timeline-playhead",children:g.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full",children:g.jsx("div",{className:"w-3 h-3 bg-red-500 rotate-45 transform translate-y-1.5"})})})]}),g.jsx("div",{className:"border-t border-gray-800 bg-gray-850",children:g.jsx(sm,{totalDuration:r,layers:e,currentTime:t,viewportStart:x.start,viewportEnd:x.end,onNavigate:e=>{let t=m.current;if(!t)return;let s=N(e,0,Math.max(0,r-j(t.clientWidth)));t.scrollTo({left:w(s),behavior:"smooth"})},onScrub:e=>{s(N(e,0,r))}})}),(0,g.jsxs)("div",{className:"p-2 border-t border-gray-800 flex items-center justify-between text-xs",children:[(0,g.jsxs)("div",{className:"text-gray-400",children:[e.reduce((e,t)=>e+t.elements.length,0)," ","elementos em ",e.length," slides"]}),g.jsx("div",{className:"text-gray-400",children:"Use scroll para navegar • Arraste elementos para reposicionar"})]})]})}var sp=r(69145),sx=r(85999);function sg({slideContent:e,slideIndex:t,onAudioGenerated:r}){let[s,a]=(0,E.useState)(!1),[l,n]=(0,E.useState)(null),i=async()=>{try{a(!0),sx.Am.info("Gerando narra\xe7\xe3o...",{description:"Criando \xe1udio com IA"});let t=await fetch("/api/tts/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,language:"pt-BR",voice:"pt-BR-default"})}),s=await t.json();if(!s.success)throw Error(s.error||"Erro ao gerar \xe1udio");n(s.audioUrl),r&&r(s.audioUrl),sx.Am.success("Narra\xe7\xe3o criada!",{description:`${s.duration}s de \xe1udio gerado`})}catch(e){console.error("Erro ao gerar TTS:",e),sx.Am.error("Erro ao gerar narra\xe7\xe3o",{description:e instanceof Error?e.message:"Erro desconhecido"})}finally{a(!1)}};return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(sp.Z,{className:"w-4 h-4"}),"Narra\xe7\xe3o do Slide"]})}),(0,g.jsxs)(w.aY,{className:"space-y-3",children:[g.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 p-3 rounded max-h-24 overflow-y-auto",children:e||"Nenhum texto para narrar"}),l?(0,g.jsxs)("div",{className:"space-y-2",children:[g.jsx("audio",{controls:!0,className:"w-full",src:l,children:"Seu navegador n\xe3o suporta \xe1udio"}),(0,g.jsxs)(T.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{new Audio(l).play()},children:[g.jsx(rW.Z,{className:"w-4 h-4 mr-2"}),"Reproduzir"]})]}):g.jsx(T.z,{onClick:i,disabled:s||!e,className:"w-full",size:"sm",children:s?(0,g.jsxs)(g.Fragment,{children:[g.jsx(eb.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Gerando..."]}):(0,g.jsxs)(g.Fragment,{children:[g.jsx(sp.Z,{className:"w-4 h-4 mr-2"}),"Gerar Narra\xe7\xe3o"]})})]})]})}function sf({items:e,x:t,y:r,onClose:s}){let a=(0,E.useRef)(null),l=e=>{e.disabled||e.separator||(e.action(),s())};return g.jsx("div",{ref:a,className:"fixed z-50 min-w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-1",style:{left:t,top:r},children:e.map((e,t)=>e.separator?g.jsx("div",{className:"h-px bg-gray-200 my-1"},e.id||t):(0,g.jsxs)("button",{onClick:()=>l(e),disabled:e.disabled,className:`
              w-full px-3 py-2 text-left text-sm flex items-center justify-between gap-3
              ${e.disabled?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-100 cursor-pointer"}
            `,children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&g.jsx("span",{className:"text-base",children:e.icon}),g.jsx("span",{children:e.label})]}),e.shortcut&&g.jsx("span",{className:"text-xs text-gray-400",children:e.shortcut})]},e.id||t))})}function sy({projectId:e,onUploadComplete:t}){let[r,s]=(0,E.useState)([]),[a,l]=(0,E.useState)(!1),n=(0,E.useRef)(null),i=e=>e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":e.type.startsWith("audio/")?"audio":"document",o=async r=>{if(r)for(let a=0;a<r.length;a++){let l=r[a],n=`temp-${Date.now()}-${a}`,o=i(l),d={id:n,name:l.name,type:o,url:"",size:l.size,status:"uploading"};s(e=>[...e,d]);try{let r=new FormData;r.append("file",l),r.append("type",o),e&&r.append("projectId",e);let a=await fetch("/api/assets/upload",{method:"POST",body:r}),i=await a.json();if(i.success){let e={id:i.asset.id,name:i.asset.name,type:i.asset.type,url:i.asset.url,size:i.asset.metadata.size,status:"success"};s(t=>t.map(t=>t.id===n?e:t)),t?.(e)}else s(e=>e.map(e=>e.id===n?{...e,status:"error"}:e))}catch(e){console.error("Erro no upload:",e),s(e=>e.map(e=>e.id===n?{...e,status:"error"}:e))}}},d=e=>{s(t=>t.filter(t=>t.id!==e))},c=e=>{switch(e){case"image":return g.jsx(eq.Z,{className:"w-4 h-4"});case"video":return g.jsx(st.Z,{className:"w-4 h-4"});case"audio":return g.jsx(rH.Z,{className:"w-4 h-4"});default:return g.jsx(eU.Z,{className:"w-4 h-4"})}},u=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return(0,g.jsxs)(w.Zb,{children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2 text-sm",children:[g.jsx(eV.Z,{className:"w-4 h-4"}),"Upload de Assets"]})}),(0,g.jsxs)(w.aY,{className:"space-y-3",children:[(0,g.jsxs)("div",{onDrop:e=>{e.preventDefault(),l(!1),o(e.dataTransfer.files)},onDragOver:e=>{e.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onClick:()=>n.current?.click(),className:`
            border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition
            ${a?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
          `,children:[g.jsx(eV.Z,{className:`w-8 h-8 mx-auto mb-2 ${a?"text-blue-500":"text-gray-400"}`}),g.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Arraste arquivos aqui ou clique para selecionar"}),g.jsx("p",{className:"text-xs text-gray-500",children:"Imagens, v\xeddeos, \xe1udios, fontes ou documentos"})]}),g.jsx("input",{ref:n,type:"file",multiple:!0,accept:"image/*,video/*,audio/*,.ttf,.otf,.woff,.woff2,.pdf,.doc,.docx",onChange:e=>o(e.target.files),className:"hidden"}),r.length>0&&(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("p",{className:"text-xs font-medium text-gray-700",children:["Uploads (",r.length,")"]}),g.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.map(e=>(0,g.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded text-xs",children:[g.jsx("div",{className:"flex-shrink-0",children:c(e.type)}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium truncate",children:e.name}),g.jsx("p",{className:"text-gray-500",children:u(e.size)})]}),(0,g.jsxs)("div",{className:"flex-shrink-0",children:["uploading"===e.status&&g.jsx(N.C,{variant:"outline",className:"text-xs",children:"Enviando..."}),"success"===e.status&&g.jsx(ex.Z,{className:"w-4 h-4 text-green-500"}),"error"===e.status&&g.jsx(N.C,{variant:"destructive",className:"text-xs",children:"Erro"})]}),g.jsx("button",{onClick:()=>d(e.id),className:"flex-shrink-0 p-1 hover:bg-gray-200 rounded",children:g.jsx(eM.Z,{className:"w-3 h-3"})})]},e.id))})]})]})]})}function sb({projectId:e,slideCount:t}){let[r,s]=(0,E.useState)(!1),[a,l]=(0,E.useState)(0),[n,i]=(0,E.useState)(null),o=(0,E.useRef)(null),d=t>0,c=()=>{o.current&&(clearInterval(o.current),o.current=null)},u=async()=>{try{c(),s(!0),l(0),i(null),sx.Am.info("Iniciando renderiza\xe7\xe3o...",{description:`Gerando v\xeddeo com ${t} slides`});let r=await fetch("/api/video/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,resolution:"1080p",fps:30,format:"mp4",quality:"high"})}),a=await r.json();if(!r.ok||!a.success)throw Error(a.error||"Erro ao iniciar renderiza\xe7\xe3o");let n=a.jobId;if(!n)throw Error("Job de renderiza\xe7\xe3o inv\xe1lido");o.current=setInterval(async()=>{try{let e=await fetch(`/api/video/render?jobId=${n}`);if(!e.ok)throw Error("N\xe3o foi poss\xedvel consultar o status da renderiza\xe7\xe3o");let t=await e.json();if("completed"===t.status)c(),l(100),s(!1),i(t.videoUrl||null),sx.Am.success("V\xeddeo pronto!",{description:"Seu v\xeddeo foi gerado com sucesso",action:t.videoUrl?{label:"Baixar",onClick:()=>window.open(t.videoUrl,"_blank")}:void 0});else if("failed"===t.status)c(),s(!1),sx.Am.error("Renderiza\xe7\xe3o interrompida",{description:t.error||"Renderiza\xe7\xe3o falhou"});else if("number"==typeof t.progress){let e=t.progress>1?t.progress:100*t.progress;l(Math.max(0,Math.min(100,Math.round(e))))}}catch(e){c(),s(!1),console.error("Erro ao verificar progresso:",e),sx.Am.error("Erro ao consultar status da exporta\xe7\xe3o",{description:e instanceof Error?e.message:"Erro desconhecido"})}},2e3)}catch(e){c(),s(!1),console.error("Erro ao exportar:",e),sx.Am.error("Erro ao exportar v\xeddeo",{description:e instanceof Error?e.message:"Erro desconhecido"})}};return(0,g.jsxs)(w.Zb,{"data-testid":"export-panel",children:[g.jsx(w.Ol,{children:(0,g.jsxs)(w.ll,{className:"flex items-center gap-2","data-testid":"export-icon",children:[g.jsx(I.Z,{className:"w-5 h-5"}),"Exportar V\xeddeo"]})}),g.jsx(w.aY,{className:"space-y-4",children:r?(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[g.jsx(eb.Z,{className:"w-5 h-5 animate-spin text-blue-600"}),(0,g.jsxs)("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium text-sm","data-testid":"export-status",children:"Renderizando v\xeddeo..."}),g.jsx("p",{className:"text-xs text-gray-500",children:"Isso pode levar alguns minutos"})]})]}),(0,g.jsxs)("div",{children:[g.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,children:g.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${a}%`},"data-testid":"export-progress-bar"})}),(0,g.jsxs)("p",{className:"text-xs text-gray-600 mt-1 text-center","data-testid":"export-progress-value","aria-live":"polite",children:[a,"%"]})]}),100===a&&(0,g.jsxs)("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[g.jsx(ej,{className:"w-4 h-4"}),g.jsx("span",{"data-testid":"export-complete",children:"V\xeddeo gerado com sucesso!"})]})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("ul",{className:"list-disc pl-4 space-y-1 text-sm text-gray-600","aria-live":"polite",children:[g.jsx("li",{children:1===t?"1 slide pronto":`${t} slides prontos`}),g.jsx("li",{children:"Resolu\xe7\xe3o: 1080p (Full HD)"}),g.jsx("li",{children:"Formato: MP4"}),g.jsx("li",{children:"Qualidade: Alta"})]}),!d&&g.jsx("p",{className:"text-sm text-amber-600","data-testid":"export-disabled-hint",children:"Adicione pelo menos um slide para exportar."}),(0,g.jsxs)(T.z,{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-700",size:"lg","data-testid":"start-export",disabled:!d,children:[g.jsx(I.Z,{className:"w-4 h-4 mr-2"}),"Gerar V\xeddeo"]}),n&&(0,g.jsxs)("div",{className:"space-y-3 border-t pt-3",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[g.jsx(ej,{className:"w-4 h-4"}),g.jsx("span",{"data-testid":"export-complete",children:"V\xeddeo gerado com sucesso!"})]}),(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsxs)(T.z,{type:"button",onClick:()=>window.open(n,"_blank"),className:"bg-green-600 hover:bg-green-700","data-testid":"export-download-button",children:[g.jsx(I.Z,{className:"w-4 h-4 mr-2"})," Baixar v\xeddeo"]}),g.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"text-blue-600 underline text-sm","data-testid":"export-asset",children:"Abrir asset"})]})]})]})})]})}class sv{connect(e,t,r){if(this.ws?.readyState===WebSocket.OPEN){console.log("[WebSocket] J\xe1 conectado");return}console.log(`[WebSocket] Conectando ao projeto: ${e}`),console.log(`[WebSocket] Usu\xe1rio: ${r} (${t})`),this.simulateCollaboration(t,r),this.emit("connected",{projectId:e,userId:t,userName:r}),this.startHeartbeat()}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null),this.emit("disconnected",{}),console.log("[WebSocket] Desconectado")}send(e){let t={...e,timestamp:Date.now()};console.log("[WebSocket] Enviando evento:",t.type,t.data)}updateCursor(e,t){this.send({type:"cursor-move",userId:"current-user",userName:"Voc\xea",data:{x:e,y:t}})}changeSlide(e){this.send({type:"slide-change",userId:"current-user",userName:"Voc\xea",data:{slideIndex:e}})}updateElement(e,t){this.send({type:"element-update",userId:"current-user",userName:"Voc\xea",data:{elementId:e,changes:t}})}on(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t)}off(e,t){this.listeners.get(e)?.delete(t)}emit(e,t){this.listeners.get(e)?.forEach(r=>{try{r(t)}catch(t){console.error(`[WebSocket] Erro no listener de ${e}:`,t)}})}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{console.log("[WebSocket] Heartbeat")},3e4)}simulateCollaboration(e,t){setTimeout(()=>{let e={id:"user-mock-123",name:"Ana Silva",email:"ana@example.com",color:"#3b82f6",currentSlide:0,lastSeen:Date.now()};this.emit("user-join",e),console.log("[WebSocket] Usu\xe1rio entrou:",e.name)},3e3),setInterval(()=>{this.emit("cursor-move",{userId:"user-mock-123",userName:"Ana Silva",cursor:{x:100*Math.random(),y:100*Math.random()}})},5e3)}constructor(){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=3e3,this.heartbeatInterval=null,this.listeners=new Map}}let sj=new sv;class sw{reorderSlides(e,t,r){if(t===r)return{success:!1,newOrder:e,movedFrom:t,movedTo:r};let s=[...e],[a]=s.splice(t,1);return s.splice(r,0,a),{success:!0,newOrder:s.map((e,t)=>({...e,order:t,slideNumber:t+1})),movedFrom:t,movedTo:r}}duplicateSlide(e,t){if(t<0||t>=e.length)return e;let r=[...e],s={...e[t],id:`${e[t].id}-copy-${Date.now()}`,slideNumber:t+2};return r.splice(t+1,0,s),r.map((e,t)=>({...e,order:t,slideNumber:t+1}))}removeSlide(e,t){if(t<0||t>=e.length||1===e.length)return e;let r=[...e];return r.splice(t,1),r.map((e,t)=>({...e,order:t,slideNumber:t+1}))}}let sN=new sw;r(67506);var sk=r(17370),sC=r(98675),sS=(e,t,r)=>(s,a)=>({pastStates:r?.pastStates||[],futureStates:r?.futureStates||[],undo:(l=1)=>{if(a().pastStates.length){let n=r?.partialize?.(t())||t(),i=a().pastStates.splice(-l,l),o=i.shift();e(o),s({pastStates:a().pastStates,futureStates:a().futureStates.concat(r?.diff?.(n,o)||n,i.reverse())})}},redo:(l=1)=>{if(a().futureStates.length){let n=r?.partialize?.(t())||t(),i=a().futureStates.splice(-l,l),o=i.shift();e(o),s({pastStates:a().pastStates.concat(r?.diff?.(n,o)||n,i.reverse()),futureStates:a().futureStates})}},clear:()=>s({pastStates:[],futureStates:[]}),isTracking:!0,pause:()=>s({isTracking:!1}),resume:()=>s({isTracking:!0}),setOnSave:e=>s({_onSave:e}),_onSave:r?.onSave,_handleSet:(e,t,l,n)=>{r?.limit&&a().pastStates.length>=r?.limit&&a().pastStates.shift(),a()._onSave?.(e,l),s({pastStates:a().pastStates.concat(n||e),futureStates:[]})}});let sE=e=>"function"==typeof globalThis.structuredClone?globalThis.structuredClone(e):JSON.parse(JSON.stringify(e)),sD=e=>{let t="number"==typeof e?.transform?.x?e.transform.x:"number"==typeof e?.x?e.x:"number"==typeof e?.style?.position?.x?e.style.position.x:0;return{x:t,y:"number"==typeof e?.transform?.y?e.transform.y:"number"==typeof e?.y?e.y:"number"==typeof e?.style?.position?.y?e.style.position.y:0,width:"number"==typeof e?.transform?.width?e.transform.width:"number"==typeof e?.width?e.width:"number"==typeof e?.style?.position?.width?e.style.position.width:0,height:"number"==typeof e?.transform?.height?e.transform.height:"number"==typeof e?.height?e.height:"number"==typeof e?.style?.position?.height?e.style.position.height:0}},sM=e=>{if(!e.length)return null;let t=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=!1;return(e.forEach(e=>{let{x:n,y:i,width:o,height:d}=sD(e);if(!Number.isFinite(n)||!Number.isFinite(i))return;let c=Number.isFinite(o)?o:0,u=Number.isFinite(d)?d:0;t=Math.min(t,n),r=Math.min(r,i),s=Math.max(s,n+c),a=Math.max(a,i+u),l=!0}),l)?{minX:t,minY:r,maxX:s,maxY:a,width:s-t,height:a-r}:null},sI=e=>{let t=[];return(e.forEach(e=>{let r=e.startTime;"number"==typeof r&&Number.isFinite(r)&&t.push(r)}),t.length)?{minStartTime:Math.min(...t)}:{minStartTime:null}},sz=(e,t)=>({elements:e.map(e=>sE(e)),sourceSlideId:t,copiedAt:Date.now(),boundingBox:sM(e),timeline:sI(e)}),sT=(e,t,r)=>{let{x:s,y:a}=sD(e);"number"==typeof e.x&&(e.x=s+t),"number"==typeof e.y&&(e.y=a+r),e.transform&&(e.transform.x=("number"==typeof e.transform.x?e.transform.x:s)+t,e.transform.y=("number"==typeof e.transform.y?e.transform.y:a)+r),e.style?.position&&(e.style.position.x=s+t,e.style.position.y=a+r)},sA=(e,t)=>e?.position&&t.boundingBox?{x:e.position.x-t.boundingBox.minX,y:e.position.y-t.boundingBox.minY}:{x:e?.offset?.x??24,y:e?.offset?.y??24},sR=(0,sk.U)((a=(e,t)=>({slides:[],currentSlideIndex:0,selectedElementIds:[],clipboard:null,setSlides:t=>e({slides:t}),updateSlide:(t,r)=>e(e=>{let s=[...e.slides];return s[t]&&(s[t]={...s[t],...r}),{slides:s}}),addSlide:t=>e(e=>({slides:[...e.slides,t]})),removeSlide:t=>e(e=>({slides:e.slides.filter((e,r)=>r!==t),currentSlideIndex:Math.max(0,Math.min(e.currentSlideIndex,e.slides.length-2))})),selectSlide:t=>e({currentSlideIndex:t,selectedElementIds:[]}),selectElements:t=>e({selectedElementIds:t}),toggleElementSelection:t=>e(e=>({selectedElementIds:e.selectedElementIds.includes(t)?e.selectedElementIds.filter(e=>e!==t):[...e.selectedElementIds,t]})),copySelectedElements:()=>{let r=t(),s=r.slides[r.currentSlideIndex];if(!s||0===r.selectedElementIds.length)return;let a=new Set(r.selectedElementIds),l=s.elements.filter(e=>a.has(e.id));l.length&&e({clipboard:sz(l,s.id??null)})},cutSelectedElements:()=>{let r=t(),s=r.slides[r.currentSlideIndex];if(!s||0===r.selectedElementIds.length)return;let a=new Set(r.selectedElementIds),l=s.elements.filter(e=>a.has(e.id));if(!l.length)return;let n=sz(l,s.id??null);e(e=>{let t=[...e.slides],r=t[e.currentSlideIndex];if(!r)return e;let s=r.elements.filter(e=>!a.has(e.id));return t[e.currentSlideIndex]={...r,elements:s},{slides:t,selectedElementIds:[],clipboard:n}})},pasteClipboardElements:r=>{let s=t().clipboard;if(!s||0===s.elements.length)return;let a=r?.targetSlideIndex??t().currentSlideIndex,l=sA(r,s),n="number"==typeof r?.timelineStart&&Number.isFinite(r.timelineStart)?Math.max(r.timelineStart,0):null;e(e=>{let t=[...e.slides],i=t[a];if(!i)return e;let o=i.elements.reduce((e,t)=>Math.max(e,t.zIndex??0),0),d=Date.now(),c=s.elements.map((e,t)=>{let r=sE(e);if(r.id=`${e.id}-paste-${d+t}`,sT(r,l.x,l.y),null!==n){let e="number"==typeof r.startTime?r.startTime:null;s.timeline.minStartTime;let t=null!==e&&null!==s.timeline.minStartTime?e-s.timeline.minStartTime:0;r.startTime=Math.max(n+t,0)}return r.zIndex=o+t+1,r});if(!c.length)return e;let u=[...i.elements,...c];u.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)),t[a]={...i,elements:u};let m={slides:t,selectedElementIds:r?.maintainSelection===!1?e.selectedElementIds:c.map(e=>e.id)};return a!==e.currentSlideIndex&&(m.currentSlideIndex=a),m})},clearClipboard:()=>e({clipboard:null}),updateElement:(t,r,s)=>e(e=>{let a=[...e.slides],l=a[t];if(l){let e=l.elements.findIndex(e=>e.id===r);e>=0&&(l.elements[e]={...l.elements[e],...s})}return{slides:a}}),applyElementTransforms:(t,r)=>e(e=>{if(!r||0===r.length)return e;let s=[...e.slides],a=s[t];if(!a)return e;let l=new Map;if(r.forEach(e=>{if(!e?.elementId||!e.transform)return;let t={};if(Object.entries(e.transform).forEach(([e,r])=>{"number"==typeof r&&Number.isFinite(r)&&(t[e]=r)}),!Object.keys(t).length)return;let r=l.get(e.elementId)||{};l.set(e.elementId,{...r,...t})}),!l.size)return e;let n=!1,i=(a.elements||[]).map(e=>{let t=l.get(e.id);if(!t)return e;if(!Object.keys(t).length)return l.delete(e.id),e;n=!0;let r={...e.transform||{},...t},s=e.style;if(e.style?.position){let r={...e.style.position};"number"==typeof t.x&&(r.x=t.x),"number"==typeof t.y&&(r.y=t.y),"number"==typeof t.width&&(r.width=t.width),"number"==typeof t.height&&(r.height=t.height),s={...e.style,position:r}}return{...e,transform:r,style:s}});return n?(s[t]={...a,elements:i},{slides:s}):e}),addElement:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];return a&&a.elements.push(r),{slides:s}}),removeElement:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];return a&&(a.elements=a.elements.filter(e=>e.id!==r)),{slides:s,selectedElementIds:e.selectedElementIds.filter(e=>e!==r)}}),duplicateElement:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];if(a){let e=a.elements.find(e=>e.id===r);if(e){let t=`${e.id}-copy-${Date.now()}`,r={...JSON.parse(JSON.stringify(e)),id:t,transform:{...e.transform,x:(e.transform?.x||0)+20,y:(e.transform?.y||0)+20}};a.elements.push(r)}}return{slides:s}}),groupElements:(t,r,s)=>e(e=>{let a=[...e.slides],l=a[t];if(!l)return e;l.elements=l.elements.filter(e=>!s.includes(e.id));let n=Math.max(...l.elements.map(e=>e.zIndex??0),0),i=sE(r);return i.zIndex=i?.zIndex??n+1,l.elements.push(i),l.elements.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)),{slides:a,selectedElementIds:[i.id]}}),ungroupElement:(t,r,s)=>e(e=>{let a=[...e.slides],l=a[t];if(!l)return e;let n=l.elements.filter(e=>e.id!==r),i=s.map(e=>sE(e)),o=[...n,...i];return o.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)),l.elements=o,{slides:a,selectedElementIds:i.map(e=>e.id)}}),moveElement:(t,r,s,a)=>e(e=>{let l=[...e.slides],n=l[t];if(n){let e=n.elements.find(e=>e.id===r);e&&e.transform&&(e.transform.x=s,e.transform.y=a)}return{slides:l}}),resizeElement:(t,r,s,a)=>e(e=>{let l=[...e.slides],n=l[t];if(n){let e=n.elements.find(e=>e.id===r);e&&e.transform&&(e.transform.width=s,e.transform.height=a)}return{slides:l}}),rotateElement:(t,r,s)=>e(e=>{let a=[...e.slides],l=a[t];if(l){let e=l.elements.find(e=>e.id===r);e&&e.transform&&(e.transform.rotation=s)}return{slides:a}}),scaleElement:(t,r,s,a)=>e(e=>{let l=[...e.slides],n=l[t];if(n){let e=n.elements.find(e=>e.id===r);e&&e.transform&&(e.transform.scaleX=s,e.transform.scaleY=a)}return{slides:l}}),updateElementZIndex:(t,r,s)=>e(e=>{let a=[...e.slides],l=a[t];if(l){let e=l.elements.find(e=>e.id===r);e&&(e.zIndex=s,l.elements.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)))}return{slides:a}}),bringToFront:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];if(a){let e=Math.max(...a.elements.map(e=>e.zIndex||0),0),t=a.elements.find(e=>e.id===r);t&&(t.zIndex=e+1,a.elements.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)))}return{slides:s}}),sendToBack:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];if(a){let e=a.elements.find(e=>e.id===r);e&&(e.zIndex=0,a.elements.forEach(e=>{e.id!==r&&void 0!==e.zIndex&&(e.zIndex+=1)}),a.elements.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)))}return{slides:s}}),bringForward:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];if(a){let e=a.elements.find(e=>e.id===r);e&&void 0!==e.zIndex&&(e.zIndex+=1,a.elements.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)))}return{slides:s}}),sendBackward:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];if(a){let e=a.elements.find(e=>e.id===r);e&&void 0!==e.zIndex&&e.zIndex>0&&(e.zIndex-=1,a.elements.sort((e,t)=>(e.zIndex||0)-(t.zIndex||0)))}return{slides:s}}),toggleElementVisibility:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];if(a){let e=a.elements.find(e=>e.id===r);e&&(e.visible=!e.visible)}return{slides:s}}),toggleElementLock:(t,r)=>e(e=>{let s=[...e.slides],a=s[t];if(a){let e=a.elements.find(e=>e.id===r);e&&(e.locked=!e.locked)}return{slides:s}}),addKeyframe:(t,r,s,a,l)=>e(e=>{let n=[...e.slides],i=n[t];if(i){let e=i.elements.find(e=>e.id===r);e&&(e.keyframes||(e.keyframes=[]),e.keyframes.push({id:`kf-${Date.now()}`,time:a,easing:"ease",properties:{[s]:l}}))}return{slides:n}}),updateKeyframe:(t,r,s,a)=>e(e=>{let l=[...e.slides],n=l[t];if(n){let e=n.elements.find(e=>e.id===r);if(e&&e.keyframes){let t=e.keyframes.findIndex(e=>e.id===s);t>=0&&(e.keyframes[t]={...e.keyframes[t],...a})}}return{slides:l}}),removeKeyframe:(t,r,s)=>e(e=>{let a=[...e.slides],l=a[t];if(l){let e=l.elements.find(e=>e.id===r);e&&e.keyframes&&(e.keyframes=e.keyframes.filter(e=>e.id!==s))}return{slides:a}}),duplicateSlide:t=>e(e=>{let r=[...e.slides],s=r[t];if(s){let e={...s,id:`${s.id}-copy-${Date.now()}`,elements:s.elements.map(e=>({...e,id:`${e.id}-copy-${Date.now()}`}))};r.splice(t+1,0,e)}return{slides:r}}),reorderSlides:(t,r)=>e(e=>{let s=[...e.slides],[a]=s.splice(t,1);return s.splice(r,0,a),{slides:s}})}),l={partialize:e=>{let{slides:t,currentSlideIndex:r,selectedElementIds:s,clipboard:a}=e;return{slides:t,currentSlideIndex:r,selectedElementIds:s,clipboard:a}},limit:50,equality:(e,t)=>JSON.stringify(e)===JSON.stringify(t)},(e,t,r)=>{r.temporal=(0,sC.M)(l?.wrapTemporal?.(sS(e,t,l))||sS(e,t,l));let s=l?.handleSet?.(r.temporal.getState()._handleSet)||r.temporal.getState()._handleSet,n=e=>{if(!r.temporal.getState().isTracking)return;let a=l?.partialize?.(t())||t(),n=l?.diff?.(e,a);null===n||l?.equality?.(e,a)||s(e,void 0,a,n)},i=r.setState;return r.setState=(...e)=>{let r=l?.partialize?.(t())||t();i(...e),n(r)},a((...r)=>{let s=l?.partialize?.(t())||t();e(...r),n(s)},t,r)})),sO=Object.assign(function(e){let t=sR(),r=function(){let e=sR.temporal.getState();return{undo:()=>e.undo(),redo:()=>e.redo(),canUndo:(e.pastStates?.length??0)>0,canRedo:(e.futureStates?.length??0)>0}}();return(e?e(t):null)??{...t,...r}},sR);r(35442);class sZ{listTransitions(){return[{type:"none",name:"Sem transi\xe7\xe3o",duration:0},{type:"fade",name:"Fade",duration:.5},{type:"slide-left",name:"Deslizar ←",duration:.6},{type:"slide-right",name:"Deslizar →",duration:.6},{type:"slide-up",name:"Deslizar ↑",duration:.6},{type:"slide-down",name:"Deslizar ↓",duration:.6},{type:"zoom-in",name:"Zoom In",duration:.7},{type:"zoom-out",name:"Zoom Out",duration:.7},{type:"dissolve",name:"Dissolver",duration:.8},{type:"wipe",name:"Wipe",duration:.5}]}applyTransitions(e,t){return e.map((e,r)=>({...e,transition:r>0?t:{type:"none",duration:0,easing:"linear"}}))}generateCSS(e){let{type:t,duration:r,easing:s}=e;return({none:"",fade:`
        @keyframes fade {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        animation: fade ${r}s ${s};
      `,"slide-left":`
        @keyframes slideLeft {
          from { transform: translateX(100%); }
          to { transform: translateX(0); }
        }
        animation: slideLeft ${r}s ${s};
      `,"slide-right":`
        @keyframes slideRight {
          from { transform: translateX(-100%); }
          to { transform: translateX(0); }
        }
        animation: slideRight ${r}s ${s};
      `,"slide-up":`
        @keyframes slideUp {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        animation: slideUp ${r}s ${s};
      `,"slide-down":`
        @keyframes slideDown {
          from { transform: translateY(-100%); }
          to { transform: translateY(0); }
        }
        animation: slideDown ${r}s ${s};
      `,"zoom-in":`
        @keyframes zoomIn {
          from { transform: scale(0); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        animation: zoomIn ${r}s ${s};
      `,"zoom-out":`
        @keyframes zoomOut {
          from { transform: scale(2); opacity: 0; }
          to { transform: scale(1); opacity: 1; }
        }
        animation: zoomOut ${r}s ${s};
      `,dissolve:`
        @keyframes dissolve {
          0% { opacity: 0; filter: blur(10px); }
          100% { opacity: 1; filter: blur(0); }
        }
        animation: dissolve ${r}s ${s};
      `,wipe:`
        @keyframes wipe {
          from { clip-path: inset(0 100% 0 0); }
          to { clip-path: inset(0 0 0 0); }
        }
        animation: wipe ${r}s ${s};
      `})[t]||""}constructor(){this.defaultTransition={type:"fade",duration:.5,easing:"ease-in-out"}}}let sP=new sZ,s$=(0,y.Z)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),sB=(0,y.Z)("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);var sL=r(87444);let sF=(0,y.Z)("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);var s_=r(35047);let sV="force-dynamic";function sU(){return g.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900",children:(0,g.jsxs)("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),g.jsx("div",{className:"text-white text-xl mb-2",children:"Carregando Editor de V\xeddeo..."}),g.jsx("div",{className:"text-gray-400 text-sm",children:"Aguarde enquanto preparamos o ambiente"})]})})}function sq({projectId:e,projectData:t}){let[r,s]=(0,E.useState)(!1),[a,l]=(0,E.useState)(0),[n,i]=(0,E.useState)(!1),[o,d]=(0,E.useState)(!1),[c,u]=(0,E.useState)(null),[m,h]=(0,E.useState)(!1),[p,x]=(0,E.useState)(!0),[f,y]=(0,E.useState)(20),[b,v]=(0,E.useState)(1),[j,w]=(0,E.useState)(!1),[k,D]=(0,E.useState)(!0),[M,I]=(0,E.useState)(!0),[z,A]=(0,E.useState)(null),R=(0,E.useRef)(null),Z=(0,E.useCallback)(()=>{A(null)},[]),{slides:P,currentSlideIndex:$,setSlides:B,selectSlide:L,selectElements:F,updateElement:_,applyElementTransforms:V,removeElement:U,duplicateElement:q,toggleElementVisibility:Y,toggleElementLock:K,bringToFront:H,sendToBack:X,bringForward:W,sendBackward:G,reorderSlides:J,duplicateSlide:Q,removeSlide:ee,addKeyframe:et,updateKeyframe:er,removeKeyframe:es,updateSlide:ea,groupElements:el,ungroupElement:en,copySelectedElements:ei,cutSelectedElements:eo,pasteClipboardElements:eu}=sO(e=>({slides:e.slides,currentSlideIndex:e.currentSlideIndex,setSlides:e.setSlides,selectSlide:e.selectSlide,selectElements:e.selectElements,updateElement:e.updateElement,applyElementTransforms:e.applyElementTransforms,removeElement:e.removeElement,duplicateElement:e.duplicateElement,toggleElementVisibility:e.toggleElementVisibility,toggleElementLock:e.toggleElementLock,bringToFront:e.bringToFront,sendToBack:e.sendToBack,bringForward:e.bringForward,sendBackward:e.sendBackward,reorderSlides:e.reorderSlides,duplicateSlide:e.duplicateSlide,removeSlide:e.removeSlide,addKeyframe:e.addKeyframe,updateKeyframe:e.updateKeyframe,removeKeyframe:e.removeKeyframe,updateSlide:e.updateSlide,groupElements:e.groupElements,ungroupElement:e.ungroupElement,copySelectedElements:e.copySelectedElements,cutSelectedElements:e.cutSelectedElements,pasteClipboardElements:e.pasteClipboardElements})),eh=sO(e=>e.selectedElementIds),ep=sO(e=>e.clipboard),ex=eh.length>0,eg=!!ep?.elements?.length,{undo:ef,redo:eb,canUndo:ev,canRedo:ej}=sO(),ew=(0,E.useRef)(P),eN=(0,E.useRef)($),eC=(0,E.useRef)(new Map),eD=(0,E.useRef)(null),eM=(0,E.useCallback)(e=>{R.current=e},[]),eI=(0,E.useCallback)(()=>{null!==eD.current&&(eD.current=null);let e=eC.current;if(!e.size)return;let t=eN.current,r=ew.current,s=r?.[t];if(!s){e.clear();return}let a=[];e.forEach((e,t)=>{if(!(s.elements||[]).some(e=>e?.id===t))return;let r=Object.entries(e).filter(([,e])=>"number"==typeof e&&Number.isFinite(e));r.length&&a.push({elementId:t,transform:Object.fromEntries(r)})}),e.clear(),a.length&&V(t,a)},[V]),ez=(0,E.useCallback)(()=>{eI()},[eI]),{connected:eA,users:eO,changeSlide:eZ}=function(e,t,r){let[s,a]=(0,E.useState)(!1),[l,n]=(0,E.useState)([]);return{connected:s,users:l,updateCursor:(e,t)=>sj.updateCursor(e,t),changeSlide:e=>sj.changeSlide(e),updateElement:(e,t)=>sj.updateElement(e,t)}}(0,0,0),eP=(0,E.useMemo)(()=>P.length?P.reduce((e,t)=>{let r="number"!=typeof t?.duration||Number.isNaN(t.duration)?5:t.duration;return e+(r>0?r:5)},0):t?.duration||0,[P,t?.duration]),e$=P[$],eL=(0,E.useMemo)(()=>JSON.stringify(t?.timeline_data||{slides:[]}),[t?.timeline_data]),{isSaving:eV,lastSaved:eU,error:eq,saveNow:eY}=function({projectId:e,buildPayload:t,delay:r=5e3,initialHash:s=""}){let[a,l]=(0,E.useState)(!1),[n,i]=(0,E.useState)(null),[o,d]=(0,E.useState)(null),c=(0,E.useRef)(s),u=(0,E.useRef)(null),m=(0,E.useRef)(null),h=(0,E.useMemo)(()=>!1,[]),p=(0,E.useCallback)(()=>{null!==u.current&&h&&(window.clearTimeout(u.current),u.current=null)},[h]),x=(0,E.useCallback)(async(t,r)=>{if(!e)return!1;l(!0),d(null);try{let s=await fetch(`/api/projects/${e}/autosave`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,timestamp:new Date().toISOString(),reason:r})});if(!s.ok){let e=await s.json().catch(()=>null);throw Error(e?.details||e?.error||"Erro ao salvar projeto")}return i(new Date),d(null),!0}catch(e){return d(e instanceof Error?e:Error(String(e))),console.error("[EditorAutosave] Falha ao salvar",e),!1}finally{l(!1)}},[e]);return{isSaving:a,lastSaved:n,error:o,saveNow:(0,E.useCallback)(async()=>{let e=t(),r=JSON.stringify(e.timeline_data);m.current={payload:e,hash:r},p();let s=await x(e,"manual");return s&&(c.current=r,m.current=null),s},[t,p,x])}}({projectId:e,buildPayload:(0,E.useCallback)(()=>({timeline_data:{...t?.timeline_data||{},slides:P},duration:eP,projectName:t?.title}),[t?.timeline_data,t?.title,P,eP]),delay:4e3,initialHash:eL}),{timelineLayers:eK,totalTimelineDurationMs:eH,slideOffsetsMs:eX}=(0,E.useMemo)(()=>{let e=["#4F46E5","#EC4899","#F97316","#10B981","#38BDF8","#F59E0B","#8B5CF6","#F472B6"],t=new Map,r=0,s=s=>(t.has(s)||(t.set(s,e[r%e.length]),r+=1),t.get(s)),a=0,l=[];return{timelineLayers:P.map((e,t)=>{let r="number"!=typeof e?.duration||Number.isNaN(e.duration)?5:e.duration,n=r>0?r:5,i=Math.round(1e3*n);l.push(a);let o=(e?.elements||[]).map((e,r)=>{let a=e?.type||`element-${r}`,l=s(a),i=Math.max(Math.round((e?.startTime??0)*1e3),0),o="number"!=typeof e?.duration||Number.isNaN(e.duration)?n:e.duration,d="string"==typeof e?.name&&e.name.trim()?e.name.trim():"string"==typeof e?.content&&e.content.trim()?e.content.trim():Array.isArray(e?.content)&&e.content.length>0?e.content.join(" ").slice(0,64):e?.type||`Elemento ${r+1}`;return{id:e?.id||`${a}-${t}-${r}`,type:e?.type||"element",name:d.slice(0,48),startTime:i,duration:Math.max(Math.round(1e3*o),200),color:l,locked:!!e?.locked,selected:eh.includes(e?.id)}}),d={slideId:e?.id||`slide-${t}`,slideNumber:e?.slideNumber??t+1,elements:o,totalDuration:i};return a+=i,d}),totalTimelineDurationMs:a,slideOffsetsMs:l}},[P,eh]),eG=(0,E.useMemo)(()=>P.length?(eX[$]??0)+1e3*a:0,[P.length,eX,$,a]),eJ=(0,E.useCallback)(e=>{if(!P.length){l(e/1e3),s(!1);return}let t=Math.max(0,Math.min(e,eH||e)),r=0;for(let e=0;e<eX.length;e+=1){let s=eX[e]??0,a=e<eX.length-1?eX[e+1]:eH;if(t>=s&&t<a){r=e;break}t>=(eH||0)&&(r=eX.length-1)}l(Math.min(Math.max(t-(eX[r]??0),0),eK[r]?.totalDuration??1)/1e3),r!==$&&(L(r),eZ(r)),s(!1)},[P.length,eH,eX,eK,$,L,eZ,s]),eQ=(0,E.useCallback)(()=>{P.length&&s(!0)},[P.length,s]),e0=(0,E.useCallback)(()=>{s(!1)},[s]),e1=(0,E.useCallback)((e,t)=>{let r=P.findIndex(t=>t.id===e);if(-1===r)return;r!==$&&(L(r),eZ(r)),F([t]);let a=P[r],n=a?.elements?.find(e=>e.id===t);n&&"number"==typeof n.startTime&&!Number.isNaN(n.startTime)&&l(Math.max(n.startTime,0)),s(!1)},[P,$,L,eZ,F,l,s]),e2=()=>{s(!r)},e4=e=>{L(e),l(0),s(!1),eZ(e)},e5=(0,E.useCallback)(()=>{if(!ex){r4.info("Nenhum elemento selecionado","Selecione elementos para copiar primeiro.",2600);return}ei(),r4.success("Elementos copiados","Use Ctrl+V para colar.",1800)},[ei,ex]),e3=(0,E.useCallback)(()=>{if(!ex){r4.info("Nenhum elemento selecionado","Selecione elementos para cortar primeiro.",2600);return}eo(),r4.success("Elementos cortados","Cole em outro ponto com Ctrl+V.",2e3)},[eo,ex]),e6=(0,E.useCallback)(e=>{if(!eg||!ep){r4.info("Nada para colar","Copie ou corte elementos antes de colar.",2400);return}eu({targetSlideIndex:$,timelineStart:eG,position:e}),s(!1),r4.success("Elementos colados",e?"Inseridos na posi\xe7\xe3o do cursor.":`Adicionados ao slide ${$+1}.`,2200)},[ep,$,eG,eg,eu,s]),e8=(0,E.useCallback)(()=>{e6()},[e6]),e9=(0,E.useCallback)(()=>{let e=P[$],t=e?.elements??[];if(!t.length){r4.info("Nada para selecionar","Este slide n\xe3o possui elementos.",2200);return}let r=t.map(e=>e?.id).filter(e=>!!e);if(!r.length){r4.info("Nada para selecionar","Nenhum elemento possui identificador v\xe1lido.",2200);return}F(r)},[$,F,P]),e7=(0,E.useCallback)(e=>{Y($,e)},[$,Y]),te=(0,E.useCallback)(e=>{K($,e)},[$,K]),tt=(0,E.useCallback)(e=>{U($,e)},[$,U]),tr=(0,E.useCallback)(e=>{q($,e)},[$,q]),ts=(0,E.useCallback)(()=>{let t=R.current?.groupSelected();if(!t)return;let r=P[$];if(!r)return;let s=Math.max(...(r.elements||[]).map(e=>e.zIndex||0),0),a="function"==typeof globalThis.structuredClone?globalThis.structuredClone(t.groupElement):JSON.parse(JSON.stringify(t.groupElement));el($,{...a,zIndex:Math.max(a?.zIndex??0,s+1)},t.childIds),C.trackEvent(e,{type:"edit",description:`Group criado: ${t.groupId}`})},[$,P,el,e]),ta=(0,E.useCallback)(()=>{let t=R.current?.ungroupSelected();if(!t||!t.groupId||!P[$])return;let r=t.ungroupedElements||[];r.length&&(en($,t.groupId,r),C.trackEvent(e,{type:"edit",description:`Group desfeito: ${t.groupId}`}))},[$,P,en,e]),tl=(0,E.useCallback)(e=>{Z(),e.targetElementId&&!eh.includes(e.targetElementId)&&F([e.targetElementId]);let t=e.targetElementId?eh.includes(e.targetElementId)?eh.length:eh.length+1:eh.length,r=t>=2,s=R.current,a=[],l=e=>{a.push(e)},n=e=>{a.length&&!a[a.length-1].separator&&a.push({id:e,label:"",separator:!0,action:()=>{}})};l({id:"copy-elements",label:"Copiar",icon:"\uD83D\uDCCB",shortcut:"Ctrl+C",action:e5,disabled:!ex}),l({id:"cut-elements",label:"Cortar",icon:"✂️",shortcut:"Ctrl+X",action:e3,disabled:!ex}),l({id:"paste-elements",label:"Colar",icon:"\uD83D\uDCC4",shortcut:"Ctrl+V",action:()=>e6(e.canvasPosition),disabled:!eg});let i=P[$]?.elements??[];if(e.targetElementId){n("separator-target-actions"),l({id:"duplicate-element",label:"Duplicar elemento",icon:"➕",shortcut:"Ctrl+D",action:()=>tr(e.targetElementId)}),l({id:"delete-element",label:"Remover elemento",icon:"\uD83D\uDDD1️",shortcut:"Delete",action:()=>tt(e.targetElementId)});let t=i.find(t=>t.id===e.targetElementId),r=!t||!1!==t.visible,s=!!t&&!!t.locked;l({id:"toggle-visibility",label:r?"Ocultar":"Mostrar",icon:r?"\uD83D\uDE48":"\uD83D\uDC41️",action:()=>e7(e.targetElementId)}),l({id:"toggle-lock",label:s?"Desbloquear":"Bloquear",icon:s?"\uD83D\uDD13":"\uD83D\uDD12",action:()=>te(e.targetElementId)}),n("separator-zindex");let a=ex?eh:[e.targetElementId];l({id:"bring-to-front",label:"Trazer para frente",icon:"⤴️",action:()=>a.forEach(e=>H($,e))}),l({id:"send-to-back",label:"Enviar para tr\xe1s",icon:"⤵️",action:()=>a.forEach(e=>X($,e))}),l({id:"bring-forward",label:"Trazer um n\xedvel",icon:"⬆️",action:()=>a.forEach(e=>W($,e))}),l({id:"send-backward",label:"Enviar um n\xedvel",icon:"⬇️",action:()=>a.forEach(e=>G($,e))})}n("separator-selection"),l({id:"select-all-elements",label:"Selecionar todos",icon:"\uD83D\uDD32",shortcut:"Ctrl+A",action:e9,disabled:0===i.length}),r&&(n("separator-align-tools"),l({id:"align-left",label:"Alinhar \xe0 esquerda",icon:"<-",action:()=>s?.alignSelected("left"),disabled:!s}),l({id:"align-center-h",label:"Alinhar horizontalmente",icon:"<->",action:()=>s?.alignSelected("center-h"),disabled:!s}),l({id:"align-right",label:"Alinhar \xe0 direita",icon:"->",action:()=>s?.alignSelected("right"),disabled:!s}),l({id:"align-top",label:"Alinhar ao topo",icon:"UP",action:()=>s?.alignSelected("top"),disabled:!s}),l({id:"align-center-v",label:"Alinhar verticalmente",icon:"UP/DN",action:()=>s?.alignSelected("center-v"),disabled:!s}),l({id:"align-bottom",label:"Alinhar \xe0 base",icon:"DN",action:()=>s?.alignSelected("bottom"),disabled:!s})),t>=3&&(n("separator-distribute"),l({id:"distribute-horizontal",label:"Distribuir horizontalmente",icon:"H-SP",action:()=>s?.distributeSelected("horizontal"),disabled:!s}),l({id:"distribute-vertical",label:"Distribuir verticalmente",icon:"V-SP",action:()=>s?.distributeSelected("vertical"),disabled:!s})),r&&(n("separator-group"),l({id:"group-selection",label:"Agrupar sele\xe7\xe3o",icon:"GRP",action:()=>ts()})),1===t&&l({id:"ungroup-selection",label:"Desagrupar",icon:"UNGRP",action:()=>ta()}),a.length&&A({items:a,position:{x:e.clientPosition.x,y:e.clientPosition.y}})},[Z,$,e5,e3,tt,tr,e9,ts,ta,e7,te,eg,ex,e6,H,X,W,G,eh,F,R,P]);!function({shortcuts:e,enabled:t=!0}){}({shortcuts:[{key:"ArrowRight",description:"Pr\xf3ximo slide",action:()=>e4(Math.min(P.length-1,$+1))},{key:"ArrowLeft",description:"Slide anterior",action:()=>e4(Math.max(0,$-1))},{key:" ",description:"Play/Pause",action:e2},{key:"Home",description:"Primeiro slide",action:()=>e4(0)},{key:"End",description:"\xdaltimo slide",action:()=>e4(P.length-1)},{key:"c",ctrl:!0,description:"Copiar elementos selecionados",action:e5},{key:"x",ctrl:!0,description:"Cortar elementos selecionados",action:e3},{key:"v",ctrl:!0,description:"Colar elementos",action:e8},{key:"]",ctrl:!0,description:"Trazer um n\xedvel",action:()=>eh.forEach(e=>W($,e))},{key:"[",ctrl:!0,description:"Enviar um n\xedvel",action:()=>eh.forEach(e=>G($,e))},{key:"]",ctrl:!0,shift:!0,description:"Trazer para frente",action:()=>eh.forEach(e=>H($,e))},{key:"[",ctrl:!0,shift:!0,description:"Enviar para tr\xe1s",action:()=>eh.forEach(e=>X($,e))},{key:"h",ctrl:!0,description:"Mostrar/Ocultar sele\xe7\xe3o",action:()=>eh.forEach(e=>e7(e))},{key:"l",ctrl:!0,description:"Bloquear/Desbloquear sele\xe7\xe3o",action:()=>eh.forEach(e=>te(e))}],enabled:!0});let tn=(0,E.useCallback)((e,t)=>{if(!e||!t)return;let r=Object.entries(t).filter(([,e])=>"number"==typeof e&&Number.isFinite(e));if(!r.length)return;let s=Object.fromEntries(r),a=eC.current.get(e)||{};eC.current.set(e,{...a,...s}),ez()},[ez]),ti=(0,E.useCallback)(e=>{ea($,{elements:e})},[$,ea]),to=(0,E.useCallback)(e=>{F([e])},[F]);return g.jsx(eF.S,{children:(0,g.jsxs)(g.Fragment,{children:[g.jsx(r5,{}),n&&g.jsx(sa,{slides:P,onSelectSlide:e=>{e4(e),i(!1)},onClose:()=>i(!1)}),o&&c&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,g.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold",children:"Analytics do Projeto"}),g.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),g.jsx(S,{projectId:e,metrics:c})]})}),(0,g.jsxs)("div",{className:"flex h-screen flex-col bg-gray-900",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-800 bg-gray-950 px-6 py-4",children:[(0,g.jsxs)("div",{children:[g.jsx("h1",{className:"text-xl font-semibold text-white",children:t?.title??"Projeto sem t\xedtulo"}),(0,g.jsxs)("p",{className:"text-sm text-gray-400",children:[P.length," slides • ",Math.floor(eP/60),":",(eP%60).toString().padStart(2,"0")," dura\xe7\xe3o"]})]}),g.jsx(em,{connected:eA,users:eO}),(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsxs)(T.z,{size:"sm",variant:"outline",onClick:ef,disabled:!ev,className:"text-white border-gray-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(s$,{className:"h-4 w-4"}),"Desfazer"]}),(0,g.jsxs)(T.z,{size:"sm",variant:"outline",onClick:eb,disabled:!ej,className:"text-white border-gray-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(sB,{className:"h-4 w-4"}),"Refazer"]}),(0,g.jsxs)(T.z,{size:"sm",variant:"outline",onClick:e5,disabled:!ex,className:"text-white border-gray-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(eS.Z,{className:"h-4 w-4"}),"Copiar"]}),(0,g.jsxs)(T.z,{size:"sm",variant:"outline",onClick:e3,disabled:!ex,className:"text-white border-gray-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(sL.Z,{className:"h-4 w-4"}),"Cortar"]}),(0,g.jsxs)(T.z,{size:"sm",variant:"outline",onClick:e8,disabled:!eg,className:"text-white border-gray-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(sF,{className:"h-4 w-4"}),"Colar"]}),g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>i(!0),className:"text-white border-gray-700",children:"\uD83D\uDD0D Buscar"}),g.jsx(T.z,{size:"sm",variant:"outline",onClick:()=>d(!0),className:"text-white border-gray-700",children:"\uD83D\uDCCA Analytics"}),g.jsx(ek,{isSaving:eV,lastSaved:eU,error:eq}),g.jsx("button",{className:"rounded-lg bg-gray-800 px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:async()=>{await eY()?r4.success("Projeto salvo com sucesso!"):r4.error("N\xe3o foi poss\xedvel salvar o projeto.")},children:"Salvar"}),g.jsx("button",{"data-testid":"export-button",className:"rounded-lg bg-blue-600 px-4 py-2 text-sm text-white hover:bg-blue-700",onClick:async()=>{if(!confirm(`Gerar v\xeddeo com ${P.length} slides?`))return;let t=await fetch("/api/video/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,resolution:"1080p",fps:30,format:"mp4",quality:"high"})}),r=await t.json();r.success?alert(`Renderiza\xe7\xe3o iniciada! Job ID: ${r.jobId}`):alert(`Erro: ${r.error}`)},children:"Exportar V\xeddeo"})]})]}),(0,g.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,g.jsxs)("div",{className:"w-64 border-r border-gray-800 bg-gray-950 p-4 overflow-y-auto",children:[(0,g.jsxs)("h2",{className:"mb-4 text-sm font-semibold text-white flex items-center justify-between",children:[(0,g.jsxs)("span",{children:["Slides (",P.length,")"]}),g.jsx(N.C,{variant:"outline",className:"text-xs",children:"Drag & Drop"})]}),g.jsx(eE,{slides:P,currentSlideIndex:$,onSlideSelect:e4,onReorder:(t,r)=>{let s=sN.reorderSlides(P,t,r);s.success&&(B(s.newOrder),$===t?L(r):$===r&&L(Math.min(Math.max(t>r?$+1:$-1,0),s.newOrder.length-1)),C.trackEvent(e,{type:"edit",description:`Slide reordenado: ${t+1} → ${r+1}`}))},onDuplicate:t=>{Q(t),C.trackEvent(e,{type:"edit",description:`Slide ${t+1} duplicado`})},onDelete:t=>{ee(t),C.trackEvent(e,{type:"edit",description:`Slide ${t+1} deletado`})}})]}),(0,g.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,g.jsxs)("div",{className:"bg-gray-900 border-b border-gray-800 px-4 py-2 flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>e4(Math.max(0,$-1)),disabled:0===$,className:"px-3 py-1 bg-gray-800 text-white rounded disabled:opacity-50",children:"← Anterior"}),g.jsx("button",{onClick:e2,className:"px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:r?"⏸ Pause":"▶ Play"}),g.jsx("button",{onClick:()=>e4(Math.min(P.length-1,$+1)),disabled:$===P.length-1,className:"px-3 py-1 bg-gray-800 text-white rounded disabled:opacity-50",children:"Pr\xf3ximo →"})]}),(0,g.jsxs)("div",{className:"text-sm text-gray-400",children:["Slide ",$+1,"/",P.length," •"," ",a.toFixed(1),"s"]})]}),g.jsx("div",{className:"flex flex-1 items-center justify-center bg-gray-800 p-8",children:e$&&e$.elements?g.jsx(e_,{children:g.jsx(ec,{slide:e$,width:1920,height:1080,onElementUpdate:tn,onSelectionChange:F,selectedElementIds:eh,gridEnabled:m,gridSize:f,snapEnabled:p,onContextMenu:tl,onManagerReady:eM})}):g.jsx("div",{className:"rounded-lg bg-black shadow-2xl relative",style:{width:"960px",height:"540px"},children:e$?.thumbnail?g.jsx("img",{src:e$.thumbnail,alt:`Slide ${$+1}`,className:"w-full h-full object-contain"}):(0,g.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-gray-500",children:[g.jsx("p",{className:"text-lg mb-2",children:"Canvas 1920x1080"}),(0,g.jsxs)("p",{className:"text-sm",children:[P.length," slides carregados"]}),g.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Selecione um slide para visualizar"})]})})}),(0,g.jsxs)("div",{className:"border-t border-gray-800 bg-gray-950 p-4",children:[(0,g.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[g.jsx("h2",{className:"text-sm font-semibold text-white",children:"Timeline"}),(0,g.jsxs)("div",{className:"flex gap-2",children:[g.jsx(T.z,{size:"sm",variant:M?"default":"outline",onClick:()=>I(!0),className:"h-8 text-xs",children:"Avan\xe7ada"}),g.jsx(T.z,{size:"sm",variant:M?"outline":"default",onClick:()=>I(!1),className:"h-8 text-xs",children:"Simplificada"})]})]}),M?g.jsx(sh,{layers:eK,currentTime:eG,totalDuration:Math.max(eH,1e3),onTimeChange:eJ,onElementUpdate:(e,t,r,s)=>{let a=P.findIndex(t=>t.id===e),l=P[a];if(-1===a||!l)return;let n=Math.max(r/1e3,0),i=Math.max(s/1e3,.1);_(a,t,{startTime:n,duration:i});let o=(l.elements||[]).map(e=>e.id===t?{...e,startTime:n,duration:i}:e),d="number"!=typeof l.duration||Number.isNaN(l.duration)?5:l.duration,c=o.reduce((e,t)=>Math.max(e,("number"!=typeof t?.startTime||Number.isNaN(t.startTime)?0:t.startTime)+("number"!=typeof t?.duration||Number.isNaN(t.duration)?0:t.duration)),0);ea(a,{duration:Math.max(o.length?c:d,1)})},onElementSelect:e1,onPlay:eQ,onPause:e0,playing:r,zoom:b,onZoomChange:v,selectedElementIds:eh}):g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:P.length?P.map((e,t)=>{let r="number"!=typeof e?.duration||Number.isNaN(e.duration)?5:e.duration,s=t===$;return(0,g.jsxs)("button",{type:"button",onClick:()=>e4(t),className:`flex-shrink-0 overflow-hidden rounded-lg border transition focus:outline-none focus:ring-2 focus:ring-blue-500 ${s?"border-blue-500 bg-blue-950/40":"border-gray-800 bg-gray-900 hover:bg-gray-800"}`,style:{width:`${Math.max(12*r,120)}px`,minWidth:"120px"},children:[g.jsx("div",{className:"aspect-video w-full bg-gray-950",children:e.thumbnail?g.jsx("img",{src:e.thumbnail,alt:`Slide ${t+1}`,className:"h-full w-full object-cover"}):g.jsx("div",{className:"flex h-full w-full items-center justify-center text-xs text-gray-500",children:"Pr\xe9-visualiza\xe7\xe3o"})}),(0,g.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-xs text-gray-300",children:[(0,g.jsxs)("span",{children:["Slide ",e.slideNumber||t+1]}),(0,g.jsxs)("span",{children:[Math.round(r),"s"]})]})]},e.id||t)}):g.jsx("div",{className:"w-full rounded-lg border border-dashed border-gray-700 p-4 text-center text-sm text-gray-500",children:"Adicione slides para visualizar a timeline."})})]})]}),(0,g.jsxs)("div",{className:"w-80 border-l border-gray-800 bg-gray-950 p-4 overflow-y-auto",children:[g.jsx("h2",{className:"mb-4 text-sm font-semibold text-white",children:"Propriedades"}),(0,g.jsxs)("div",{className:"space-y-4",children:[g.jsx(ed,{gridEnabled:m,snapEnabled:p,gridSize:f,onGridToggle:h,onSnapToggle:x,onGridSizeChange:y}),k&&e$&&e$.elements&&(0,g.jsxs)("div",{className:"pt-2",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[g.jsx(T.z,{size:"sm",onClick:ts,className:"h-8 text-xs",children:"Agrupar"}),g.jsx(T.z,{size:"sm",onClick:ta,className:"h-8 text-xs",children:"Desagrupar"})]}),g.jsx(rK,{elements:(e$.elements||[]).map(e=>({id:e.id,type:e.type,content:e.content,zIndex:e.zIndex||0,visible:!1!==e.visible,locked:e.locked||!1})),selectedIds:eh,onReorder:ti,onToggleVisibility:e7,onToggleLock:te,onSelect:to,onDelete:tt,onDuplicate:tr})]}),1===eh.length&&j&&g.jsx("div",{className:"pt-2",children:g.jsx(si,{elementId:eh[0],elementName:e$?.elements?.find(e=>e.id===eh[0])?.content?.substring(0,20)||`Elemento ${eh[0]}`,tracks:[],duration:1e3*(e$?.duration||5),currentTime:1e3*a,onAddKeyframe:(e,t,r)=>{1===eh.length&&et($,eh[0],e,t,r)},onUpdateKeyframe:(e,t)=>{1===eh.length&&er($,eh[0],e,t)},onDeleteKeyframe:e=>{1===eh.length&&es($,eh[0],e)},onTimeChange:e=>l(e/1e3)})}),(0,g.jsxs)("div",{className:"pt-2 border-t border-gray-800",children:[g.jsx("label",{className:"mb-2 block text-sm text-gray-400",children:"T\xedtulo do Projeto"}),g.jsx("input",{type:"text",className:"w-full rounded-lg bg-gray-800 px-3 py-2 text-white text-sm",value:t?.title??"",readOnly:!0})]}),(0,g.jsxs)("div",{children:[g.jsx("label",{className:"mb-2 block text-sm text-gray-400",children:"Dura\xe7\xe3o Total"}),g.jsx("input",{type:"text",className:"w-full rounded-lg bg-gray-800 px-3 py-2 text-white text-sm",value:`${eP}s`,readOnly:!0})]}),(0,g.jsxs)("div",{children:[g.jsx("label",{className:"mb-2 block text-sm text-gray-400",children:"Resolu\xe7\xe3o"}),(0,g.jsxs)("select",{className:"w-full rounded-lg bg-gray-800 px-3 py-2 text-white text-sm",children:[g.jsx("option",{children:"1920x1080 (Full HD)"}),g.jsx("option",{children:"1280x720 (HD)"}),g.jsx("option",{children:"3840x2160 (4K)"})]})]}),(0,g.jsxs)("div",{className:"flex gap-2 pt-2 border-t border-gray-800",children:[g.jsx(T.z,{size:"sm",variant:k?"default":"outline",onClick:()=>D(!k),className:"flex-1 h-8 text-xs",children:"Camadas"}),g.jsx(T.z,{size:"sm",variant:j?"default":"outline",onClick:()=>w(!j),className:"flex-1 h-8 text-xs",disabled:1!==eh.length,children:"Keyframes"})]}),e$&&e$.elements&&g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(sg,{slideContent:e$.elements.filter(e=>"text"===e.type).map(e=>e.content).join(" "),slideIndex:$})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(rJ,{onAddAsset:e=>{console.log("Asset adicionado:",e.name)}})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(eR,{onApply:t=>{B(sP.applyTransitions(P,{type:t.type,duration:t.duration,easing:"ease-in-out"})),C.trackEvent(e,{type:"edit",description:`Transi\xe7\xe3o ${t.name} aplicada`})}})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(sy,{projectId:e,onUploadComplete:t=>{C.trackEvent(e,{type:"edit",description:`Asset uploaded: ${t.name}`})}})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(eW,{onImportComplete:e=>{B([...P,...e])}})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(eB,{onApplyEffect:(e,t)=>{console.log("Efeito aplicado:",e,t)}})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(O,{projectId:e,onRestore:e=>{console.log("Backup restaurado")}})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(ey,{projectId:e,slideId:e$?.id,currentUser:{id:"current-user-id",name:"Usu\xe1rio Atual"}})}),g.jsx("div",{className:"pt-4 border-t border-gray-800",children:g.jsx(sb,{projectId:e,slideCount:P.length})}),(0,g.jsxs)("div",{className:"pt-4 border-t border-gray-800",children:[(0,g.jsxs)("h3",{className:"text-sm font-semibold text-white mb-3",children:["Elementos (Slide ",$+1,")"]}),e$&&e$.elements?(0,g.jsxs)("div",{className:"space-y-2",children:[e$.elements.slice(0,5).map(e=>(0,g.jsxs)("div",{className:"text-xs bg-gray-800 hover:bg-gray-700 p-2 rounded text-gray-300 cursor-pointer transition",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[g.jsx("span",{className:"font-medium",children:e.type}),(0,g.jsxs)(N.C,{variant:"outline",className:"text-xs px-1 py-0",children:[e.style?.fontSize||"N/A","px"]})]}),(0,g.jsxs)("p",{className:"truncate",children:[e.content?.substring(0,30),"..."]})]},e.id)),e$.elements.length>5&&(0,g.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:["+",e$.elements.length-5," elementos"]})]}):g.jsx("p",{className:"text-xs text-gray-500",children:"Nenhum elemento"})]})]})]})]}),g.jsx(eT,{})]}),z&&g.jsx(sf,{items:z.items,x:z.position.x,y:z.position.y,onClose:Z})]})})}function sY(){return g.jsx(E.Suspense,{fallback:g.jsx(sU,{}),children:g.jsx(sK,{})})}function sK(){let e=(0,s_.useSearchParams)().get("projectId")||"demo",[t,r]=(0,E.useState)(null),[s,a]=(0,E.useState)(!0),[l,n]=(0,E.useState)(null);return s?g.jsx(sU,{}):l?g.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-900",children:(0,g.jsxs)("div",{className:"text-center max-w-md",children:[g.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),g.jsx("h2",{className:"text-white text-2xl mb-2",children:"Erro ao Carregar Projeto"}),g.jsx("p",{className:"text-gray-400 mb-6",children:l}),g.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar ao Dashboard"})]})}):g.jsx(r7,{projectId:e,children:g.jsx(sq,{projectId:e,projectData:t})})}},54432:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(10326);let a=r(17577).forwardRef(({className:e="",...t},r)=>s.jsx("input",{ref:r,className:["flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm","ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",e].join(" "),...t}));a.displayName="Input"},51217:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var s=r(10326),a=r(17577),l=r(1248),n=r(77863);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsxs)(l.fC,{ref:r,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(l.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(l.e6,{className:"absolute h-full bg-primary"})}),s.jsx(l.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));i.displayName=l.fC.displayName},35442:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>o});var s=r(92885);let a=process.env.NEXT_PUBLIC_SUPABASE_URL||"",l=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"",n=process.env.SUPABASE_SERVICE_ROLE_KEY||"",i=null,o=i=a&&l?(0,s.createClient)(a,l,{auth:{persistSession:!0,autoRefreshToken:!0,storage:void 0,storageKey:"supabase.auth.token"}}):(0,s.createClient)("https://placeholder.supabase.co","placeholder-key",{auth:{persistSession:!1,autoRefreshToken:!1}}),d=null;a&&n?(0,s.createClient)(a,n,{auth:{persistSession:!1,autoRefreshToken:!1}}):(0,s.createClient)("https://placeholder.supabase.co","placeholder-service-key",{auth:{persistSession:!1,autoRefreshToken:!1}})},66697:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},32933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},41291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},43810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},91216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},12714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},36283:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},924:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},71709:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},43426:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},9015:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},39730:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},56562:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},89392:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},71059:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},94893:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},83855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},87444:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]])},88307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},6309:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("skip-back",[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]])},10976:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("skip-forward",[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]])},1572:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},17069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},63685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},69145:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},24527:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},94019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},11257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,dynamic:()=>a});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\app\video-editor\page.tsx#dynamic`),l=(0,s.createProxy)(String.raw`C:\xampp\htdocs\_MVP_Video_TecnicoCursos_v7\estudio_ia_videos\app\app\video-editor\page.tsx#default`)},17370:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var s=r(17577),a=r(98675);let l=e=>e,n=e=>{let t=(0,a.M)(e),r=e=>(function(e,t=l){let r=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},i=e=>e?n(e):n},98675:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});let s=e=>{let t;let r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(s,a,l);return l},a=e=>e?s(e):s}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[9276,4432,1705,1106,5990,844],()=>r(1852));module.exports=s})();
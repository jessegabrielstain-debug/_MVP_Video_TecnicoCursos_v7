"use strict";(()=>{var e={};e.id=2536,e.ids=[2536],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},40497:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>l});var i={};r.r(i),r.d(i,{POST:()=>u,dynamic:()=>c});var o=r(49303),a=r(88716),s=r(60670),n=r(87070),p=r(89887);let c="force-dynamic";async function u(e){try{let t=await e.json(),r=t.script;if(!r||!r.scenes||0===r.scenes.length)return n.NextResponse.json({success:!1,error:"Valid script is required"},{status:400});let i=t.provider||(process.env.OPENAI_API_KEY?"openai":"anthropic"),o=(0,p.p)(i),a=await o.improveScript(r);return n.NextResponse.json({success:!0,improvements:a,metadata:{provider:i,analyzedAt:new Date().toISOString(),totalImprovements:a.length}})}catch(e){return console.error("Script improvement error:",e),n.NextResponse.json({success:!1,error:e.message||"Failed to improve script",details:void 0},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/ai/improve-script/route",pathname:"/api/ai/improve-script",filename:"route",bundlePath:"app/api/ai/improve-script/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\app\\api\\ai\\improve-script\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:v}=d,g="/api/ai/improve-script/route";function x(){return(0,s.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:l})}},89887:(e,t,r)=>{r.d(t,{p:()=>i});function i(e){return{async generateScript(e){let t=[{id:"1",title:"Introdu\xe7\xe3o",narration:`Bem-vindo ao v\xeddeo sobre ${e.topic}.`,estimatedDuration:10,visualSuggestions:{images:["introducao","titulo"]},audioSuggestions:{musicGenre:"corporate"}},{id:"2",title:"Conceitos-Chave",narration:"Apresentamos os principais pontos com exemplos pr\xe1ticos.",estimatedDuration:30,visualSuggestions:{images:["conceitos","graficos"]}},{id:"3",title:"Encerramento",narration:"Resumo e pr\xf3ximos passos.",estimatedDuration:20}];return{title:`Roteiro: ${e.topic}`,description:"Roteiro gerado automaticamente para produ\xe7\xe3o de v\xeddeo.",scenes:t,estimatedDuration:t.reduce((e,t)=>e+(t.estimatedDuration||0),0),keywords:e.keywords||[],metadata:{targetAudience:e.audience,tone:e.tone,style:e.style}}},improveScript:async e=>[{type:"clarity",confidence:.85,suggestion:"Adicionar transi\xe7\xe3o mais clara entre cenas",original:"Cena anterior",improved:"Cena anterior com transi\xe7\xe3o"}]}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9276,5972],()=>r(40497));module.exports=i})();
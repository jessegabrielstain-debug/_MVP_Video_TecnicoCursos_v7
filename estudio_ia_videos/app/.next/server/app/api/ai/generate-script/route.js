"use strict";(()=>{var e={};e.id=1661,e.ids=[1661],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},61408:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{POST:()=>p,dynamic:()=>u});var o=r(49303),i=r(88716),n=r(60670),s=r(87070),c=r(89887);let u="force-dynamic";async function p(e){try{let t=await e.json(),r={topic:t.topic,audience:t.audience||"general",duration:t.duration||60,tone:t.tone||"professional",language:t.language||"pt-BR",keywords:t.keywords||[],style:t.style||"informative"};if(!r.topic||r.topic.trim().length<3)return s.NextResponse.json({success:!1,error:"Topic is required and must be at least 3 characters"},{status:400});if((r.duration??0)<10||(r.duration??0)>600)return s.NextResponse.json({success:!1,error:"Duration must be between 10 and 600 seconds"},{status:400});let a=t.provider||(process.env.OPENAI_API_KEY?"openai":"anthropic"),o=(0,c.p)(a),i=await o.generateScript(r);return s.NextResponse.json({success:!0,script:i,metadata:{provider:a,generatedAt:new Date().toISOString(),options:r}})}catch(e){return console.error("Script generation error:",e),s.NextResponse.json({success:!1,error:e.message||"Failed to generate script",details:void 0},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/ai/generate-script/route",pathname:"/api/ai/generate-script",filename:"route",bundlePath:"app/api/ai/generate-script/route"},resolvedPagePath:"C:\\xampp\\htdocs\\_MVP_Video_TecnicoCursos_v7\\estudio_ia_videos\\app\\app\\api\\ai\\generate-script\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:g}=d,v="/api/ai/generate-script/route";function y(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}},89887:(e,t,r)=>{r.d(t,{p:()=>a});function a(e){return{async generateScript(e){let t=[{id:"1",title:"Introdu\xe7\xe3o",narration:`Bem-vindo ao v\xeddeo sobre ${e.topic}.`,estimatedDuration:10,visualSuggestions:{images:["introducao","titulo"]},audioSuggestions:{musicGenre:"corporate"}},{id:"2",title:"Conceitos-Chave",narration:"Apresentamos os principais pontos com exemplos pr\xe1ticos.",estimatedDuration:30,visualSuggestions:{images:["conceitos","graficos"]}},{id:"3",title:"Encerramento",narration:"Resumo e pr\xf3ximos passos.",estimatedDuration:20}];return{title:`Roteiro: ${e.topic}`,description:"Roteiro gerado automaticamente para produ\xe7\xe3o de v\xeddeo.",scenes:t,estimatedDuration:t.reduce((e,t)=>e+(t.estimatedDuration||0),0),keywords:e.keywords||[],metadata:{targetAudience:e.audience,tone:e.tone,style:e.style}}},improveScript:async e=>[{type:"clarity",confidence:.85,suggestion:"Adicionar transi\xe7\xe3o mais clara entre cenas",original:"Cena anterior",improved:"Cena anterior com transi\xe7\xe3o"}]}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9276,5972],()=>r(61408));module.exports=a})();
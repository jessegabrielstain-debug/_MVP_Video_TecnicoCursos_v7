"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{1405:function(t,e,r){r.d(e,{fallbackStorage:function(){return o}});class a{createProject(t){let e=this.generateId(),r=new Date().toISOString(),a={id:e,user_id:t.user_id||this.userId,title:t.title||"Novo Projeto",description:t.description,file_url:t.file_url||"",thumbnail_url:t.thumbnail_url,video_url:t.video_url,status:t.status||"draft",duration:t.duration,timeline_data:t.timeline_data,created_at:r,updated_at:r};return this.projects.set(e,a),console.log("[FallbackStorage] Projeto criado: ".concat(e)),a}getProject(t){return this.projects.get(t)||null}listProjects(t){let e=t||this.userId;return Array.from(this.projects.values()).filter(t=>t.user_id===e).sort((t,e)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime())}updateProject(t,e){let r=this.projects.get(t);if(!r)return null;let a={...r,...e,updated_at:new Date().toISOString()};return this.projects.set(t,a),console.log("[FallbackStorage] Projeto atualizado: ".concat(t)),a}deleteProject(t){let e=this.projects.delete(t);return e&&console.log("[FallbackStorage] Projeto deletado: ".concat(t)),e}generateId(){return"proj_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}getStats(t){let e=this.listProjects(t).filter(t=>"completed"===t.status);return{totalVideos:e.length,timeSaved:"".concat(Math.floor(10*e.length/60),"h"),totalViews:100*e.length,avgQuality:94}}createRenderJob(t){var e,r;let a=new Date().toISOString(),o={...t,createdAt:null!==(e=t.createdAt)&&void 0!==e?e:a,updatedAt:null!==(r=t.updatedAt)&&void 0!==r?r:a};return this.renderJobs.set(o.id,o),console.log("[FallbackStorage] Render job created: ".concat(o.id)),o}updateRenderJob(t,e){let r=this.renderJobs.get(t);if(!r)return null;let a="queued"===e.status?"pending":e.status,o={...r,...e,...a?{status:a}:{},updatedAt:new Date().toISOString()};return this.renderJobs.set(t,o),o}getRenderJob(t){var e;return null!==(e=this.renderJobs.get(t))&&void 0!==e?e:null}constructor(){this.projects=new Map,this.renderJobs=new Map,this.userId="demo-user"}}let o=new a}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{8206:function(e,t,a){a.r(t),a.d(t,{analyticsService:function(){return s}});class r{track(e){let t={...e,timestamp:new Date().toISOString(),session:this.getSessionId()};this.events.push(t),this.events.length>1e3&&this.events.shift(),this.sendToBackend(t)}trackProjectCreated(e,t){this.track({event:"project_created",category:"project",label:e,value:t,metadata:{slideCount:t}})}trackEvent(e,t){this.track({event:e,category:(null==t?void 0:t.category)||"app",metadata:t})}trackVideoGenerated(e,t){this.track({event:"video_generated",category:"video",label:e,value:t,metadata:{duration:t}})}trackPPTXUploaded(e,t){this.track({event:"pptx_uploaded",category:"upload",label:e,value:t,metadata:{filename:e,fileSize:t}})}trackEditorOpened(e){this.track({event:"editor_opened",category:"editor",label:e})}trackSlideEdited(e){this.track({event:"slide_edited",category:"editor",label:e})}trackVideoDownloaded(e,t){this.track({event:"video_downloaded",category:"download",label:e,metadata:{format:t}})}trackProjectShared(e,t){this.track({event:"project_shared",category:"share",label:e,metadata:{platform:t}})}getMetrics(e){let t=e?this.events.filter(t=>t.userId===e):this.events;return{projectsCreated:t.filter(e=>"project_created"===e.event).length,videosGenerated:t.filter(e=>"video_generated"===e.event).length,totalDuration:t.filter(e=>"video_generated"===e.event).reduce((e,t)=>e+(t.value||0),0),averageQuality:94,popularTemplates:[],userEngagement:t.length}}async sendToBackend(e){try{fetch("/api/analytics/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch(()=>{})}catch(e){}}getSessionId(){let e=sessionStorage.getItem("analytics_session");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),sessionStorage.setItem("analytics_session",e)),e}constructor(){this.events=[]}}let s=new r}}]);
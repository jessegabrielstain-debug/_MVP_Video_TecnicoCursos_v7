"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{6678:function(e,t,r){r.d(t,{S:function(){return h}});var s=r(7437),n=r(2265),o=r(6865),a=r(7260),i=r(2431),c=r(4938),l=r(2869),d=r(6070);class h extends n.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("\uD83D\uDD34 Error Boundary capturou erro:",e,t),this.setState(e=>({errorInfo:t,errorCount:e.errorCount+1})),this.props.onError&&this.props.onError(e,t),this.reportError(e,t)}reportError(e,t){try{let r={message:e.message,stack:e.stack,componentStack:t.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href},s=JSON.parse(localStorage.getItem("app_errors")||"[]");s.push(r),localStorage.setItem("app_errors",JSON.stringify(s.slice(-10))),console.log("\uD83D\uDCCA Erro reportado:",r)}catch(e){console.error("Falha ao reportar erro:",e)}}render(){if(this.state.hasError){var e,t;if(this.props.fallback)return this.props.fallback;let{error:r,errorInfo:n,errorCount:h}=this.state,u=null!==(t=this.props.showDetails)&&void 0!==t&&t;return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800 p-4",children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-2xl border-red-500/20 bg-gray-900/50 backdrop-blur",children:[(0,s.jsx)(d.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-3 rounded-full bg-red-500/10",children:(0,s.jsx)(o.Z,{className:"w-8 h-8 text-red-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ll,{className:"text-white text-2xl",children:"Ops! Algo deu errado"}),(0,s.jsx)(d.SZ,{className:"text-gray-400 mt-1",children:"N\xe3o se preocupe, o erro foi registrado e estamos trabalhando nisso."})]})]})}),(0,s.jsxs)(d.aY,{className:"space-y-4",children:[r&&u&&(0,s.jsxs)("div",{className:"bg-red-500/5 border border-red-500/20 rounded-lg p-4",children:[(0,s.jsxs)("h3",{className:"text-red-400 font-semibold mb-2 flex items-center gap-2",children:[(0,s.jsx)(a.Z,{className:"w-4 h-4"}),"Detalhes do Erro"]}),(0,s.jsx)("p",{className:"text-sm text-gray-300 font-mono mb-2",children:r.message}),r.stack&&(0,s.jsxs)("details",{className:"mt-2",children:[(0,s.jsx)("summary",{className:"text-xs text-gray-400 cursor-pointer hover:text-gray-300",children:"Stack Trace"}),(0,s.jsx)("pre",{className:"text-xs text-gray-400 mt-2 overflow-x-auto bg-black/20 p-2 rounded",children:r.stack})]})]}),n&&u&&(0,s.jsxs)("details",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[(0,s.jsx)("summary",{className:"text-sm text-gray-300 cursor-pointer hover:text-white",children:"Component Stack"}),(0,s.jsx)("pre",{className:"text-xs text-gray-400 mt-2 overflow-x-auto",children:n.componentStack})]}),h>1&&(0,s.jsx)("div",{className:"bg-yellow-500/5 border border-yellow-500/20 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-400",children:["⚠️ Este erro ocorreu ",h," vezes. Considere recarregar a p\xe1gina."]})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 pt-4",children:[(0,s.jsxs)(l.z,{onClick:this.handleReset,className:"flex-1 min-w-[150px]",variant:"default",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Tentar Novamente"]}),(0,s.jsxs)(l.z,{onClick:this.handleReload,className:"flex-1 min-w-[150px]",variant:"outline",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Recarregar P\xe1gina"]}),(0,s.jsxs)(l.z,{onClick:this.handleGoHome,className:"flex-1 min-w-[150px]",variant:"outline",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Ir para Dashboard"]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 text-center pt-4 border-t border-gray-800",children:[(0,s.jsx)("p",{children:"Se o problema persistir, entre em contato com o suporte."}),(0,s.jsxs)("p",{className:"mt-1",children:["C\xf3digo de erro: ",(0,s.jsx)("code",{className:"bg-gray-800 px-2 py-1 rounded",children:(null==r?void 0:null===(e=r.message)||void 0===e?void 0:e.substring(0,20))||"UNKNOWN"})]})]})]})]})})}return this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/dashboard"},this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}}},5974:function(e,t,r){r.d(t,{C:function(){return n}});var s=r(7437);function n(e){let{className:t="",variant:r="default",...n}=e;return(0,s.jsx)("span",{className:["inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{default:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",outline:"text-foreground",destructive:"bg-red-600 text-white"}[r],t].join(" "),...n})}r(2265)},2869:function(e,t,r){r.d(t,{z:function(){return n}});var s=r(7437);let n=r(2265).forwardRef((e,t)=>{let{className:r="",variant:n="default",size:o="default",...a}=e;return(0,s.jsx)("button",{ref:t,className:["inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-blue-600 dark:text-blue-400 bg-transparent"}[n],{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}[o],r].join(" "),...a})});n.displayName="Button"},6070:function(e,t,r){r.d(t,{Ol:function(){return o},SZ:function(){return i},Zb:function(){return n},aY:function(){return c},ll:function(){return a}});var s=r(7437);function n(e){let{className:t="",...r}=e;return(0,s.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm "+t,...r})}function o(e){let{className:t="",...r}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-1.5 p-6 "+t,...r})}function a(e){let{className:t="",...r}=e;return(0,s.jsx)("h3",{className:"text-2xl font-semibold leading-none tracking-tight "+t,...r})}function i(e){let{className:t="",...r}=e;return(0,s.jsx)("p",{className:"text-sm text-muted-foreground "+t,...r})}function c(e){let{className:t="",...r}=e;return(0,s.jsx)("div",{className:"p-6 pt-0 "+t,...r})}r(2265)},4489:function(e,t,r){r.d(t,{Xe:function(){return n},Z0:function(){return o}});class s{trackEvent(e,t){let r={name:e,properties:t,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId};this.events.push(r),this.checkFlush()}trackMetric(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ms",s={name:e,value:t,unit:r,timestamp:Date.now()};this.metrics.push(s),this.checkFlush()}trackError(e,t){let r={message:e.message,stack:e.stack,componentStack:t,url:window.location.href,userAgent:"undefined"!=typeof navigator?navigator.userAgent:"",timestamp:Date.now()};this.errors.push(r),this.checkFlush(),console.error("\uD83D\uDD34 Telemetry Error:",r)}setUserId(e){this.userId=e}async trackTiming(e,t,r){let s=performance.now();try{let n=await t(),o=performance.now()-s;return this.trackMetric("".concat(e,"_duration"),o,"ms"),this.trackEvent("".concat(e,"_completed"),{...r,duration:Math.round(o)}),n}catch(n){let t=performance.now()-s;throw this.trackMetric("".concat(e,"_error_duration"),t,"ms"),this.trackEvent("".concat(e,"_failed"),{...r,duration:Math.round(t),error:n instanceof Error?n.message:"Unknown error"}),n}}trackPageView(e,t){this.trackEvent("page_view",{path:e,...t,referrer:"undefined"!=typeof document?document.referrer:"",title:"undefined"!=typeof document?document.title:""})}trackInteraction(e,t,r){this.trackEvent("user_interaction",{element:e,action:t,...r})}trackWebVital(e,t){this.trackMetric("web_vital_".concat(e),t);let r={FCP:1800,LCP:2500,FID:100,CLS:.1,TTFB:600};r[e]&&t>r[e]&&console.warn("⚠️ Poor ".concat(e,": ").concat(t))}getStats(){return{sessionId:this.sessionId,userId:this.userId,events:this.events.length,metrics:this.metrics.length,errors:this.errors.length,queueSize:this.events.length+this.metrics.length+this.errors.length}}async flush(){if(0===this.events.length&&0===this.metrics.length&&0===this.errors.length)return;let e={sessionId:this.sessionId,userId:this.userId,events:this.events.splice(0),metrics:this.metrics.splice(0),errors:this.errors.splice(0),timestamp:Date.now()};try{await fetch("/api/telemetry",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){console.error("Failed to flush telemetry:",t),this.events.push(...e.events),this.metrics.push(...e.metrics),this.errors.push(...e.errors)}}checkFlush(){this.events.length+this.metrics.length+this.errors.length>=this.maxQueueSize&&this.flush()}startAutoFlush(){this.flushTimer=setInterval(()=>{this.flush()},this.flushInterval),window.addEventListener("beforeunload",()=>{this.flush()}),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.flush()})}setupPerformanceObserver(){if("PerformanceObserver"in window)try{new PerformanceObserver(e=>{for(let t of e.getEntries())this.trackMetric("navigation_dns",t.domainLookupEnd-t.domainLookupStart),this.trackMetric("navigation_connection",t.connectEnd-t.connectStart),this.trackMetric("navigation_request",t.responseStart-t.requestStart),this.trackMetric("navigation_response",t.responseEnd-t.responseStart),this.trackMetric("navigation_dom_loading",t.domContentLoadedEventEnd-t.domContentLoadedEventStart)}).observe({entryTypes:["navigation"]}),new PerformanceObserver(e=>{for(let t of e.getEntries())t.duration>1e3&&this.trackEvent("slow_resource",{name:t.name,duration:Math.round(t.duration),type:t.initiatorType})}).observe({entryTypes:["resource"]})}catch(e){console.warn("Failed to setup PerformanceObserver:",e)}}generateSessionId(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,15))}destroy(){this.flushTimer&&clearInterval(this.flushTimer),this.flush()}constructor(){this.events=[],this.metrics=[],this.errors=[],this.maxQueueSize=100,this.flushInterval=3e4,this.sessionId=this.generateSessionId(),this.startAutoFlush(),this.setupPerformanceObserver()}}let n=new s,o=(e,t)=>n.trackPageView(e,t)},4508:function(e,t,r){r.d(t,{cn:function(){return o}});var s=r(1994),n=r(3335);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.Z)(t))}}}]);
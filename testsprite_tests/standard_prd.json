{
  "meta": {
    "project": "Estúdio IA de Vídeos",
    "date": "2025-11-19",
    "prepared_by": "Generated by Product Manager"
  },
  "product_overview": "Estúdio IA de Vídeos is a Brazilian SaaS platform that automates the creation of corporate safety training videos through AI, avatar generation, text-to-speech synthesis, and automated processing of PowerPoint presentations.",
  "core_goals": [
    "Enable HR and safety professionals to create professional training videos quickly without technical expertise.",
    "Reduce cost and time required to produce corporate training videos significantly compared to traditional methods.",
    "Ensure compliance with Brazilian regulatory standards (NRs) automatically within the video content.",
    "Provide a scalable platform capable of handling multiple videos and users simultaneously with high performance and availability.",
    "Offer intuitive editing tools for PPTX-based video creation and customization.",
    "Integrate advanced AI services for avatar creation and TTS voices to improve video quality and engagement."
  ],
  "key_features": [
    "User authentication and session management with Supabase supporting social and email login plus RBAC control.",
    "Upload and automated parsing of PPTX files with extraction of text, images, layouts, and animations.",
    "Drag-and-drop visual editor for slides with real-time preview and editing capabilities.",
    "Multi-provider TTS system allowing choice between ElevenLabs, Azure, Google, and Edge voices with adjustable speed and preview features.",
    "BullMQ-backed rendering pipeline for asynchronous video generation with real-time progress updates and support for multiple resolutions and codecs.",
    "User dashboard for project management including creation, editing, duplication, sharing, and deletion of video projects.",
    "Templates for compliance with 12 Brazilian regulatory norms including validation and customization.",
    "Analytics and metrics dashboard to monitor system performance, usage, and error classification.",
    "Storage integration for uploading and sharing rendered video files including public links and downloads.",
    "Planned advanced features such as 3D AI avatars, mobile app, and LMS integrations."
  ],
  "user_flow_summary": [
    "User logs in via email/social using Supabase authentication.",
    "Accesses dashboard displaying projects, templates, and creates a new project.",
    "Uploads PowerPoint file which is parsed and slides previewed automatically.",
    "Edits video slides in a visual drag-and-drop interface, adjusts text and narration per slide.",
    "Selects TTS voice and customizes parameters with audio preview.",
    "Starts video rendering job with real-time progress notification.",
    "Downloads or shares the generated video via link or LMS embed.",
    "In template workflow, user selects NR template, customizes company data, and generates compliant video with certificates."
  ],
  "validation_criteria": [
    "System supports user login with multiple authentication methods and enforces RBAC permissions.",
    "PPTX files are processed correctly extracting necessary slide content under 5 seconds for medium files.",
    "Video editor allows full slide manipulation with state persistence and immediate preview.",
    "TTS audio generation completes within 12 seconds with various voice options and preview capability.",
    "Rendering pipeline handles concurrent jobs with progress signals, supports cancellation, and outputs multiple codecs and resolutions.",
    "Users can manage projects fully from creation to sharing with persistent storage integration.",
    "Compliance templates correctly enforce NR legal requirements and generate valid certificates.",
    "Analytics data accurately reflects usage metrics and system health with cache optimization.",
    "System availability meets 99.5% uptime and recovers within defined RTO.",
    "Input validation and security standards such as RLS, JWT, HTTPS, input sanitation, and rate limiting are fully enforced.",
    "Codebase test coverage exceeds 85% and complies with TypeScript strictness and linting rules."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js",
      "React",
      "Supabase",
      "Tailwind CSS",
      "BullMQ",
      "Jest",
      "Playwright"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication and session management using Supabase",
        "files": [
          "estudio_ia_videos/app/auth/callback/route.ts",
          "estudio_ia_videos/lib/auth.ts",
          "estudio_ia_videos/lib/auth/hooks.ts",
          "estudio_ia_videos/lib/auth/utils.ts"
        ]
      },
      {
        "name": "Video Editor",
        "description": "Interface for editing videos, including PPTX and simple editors",
        "files": [
          "estudio_ia_videos/app/editor/page.tsx",
          "estudio_ia_videos/app/editor/pptx/page.tsx",
          "estudio_ia_videos/app/editor-canvas/page.tsx",
          "estudio_ia_videos/hooks/useEditor.ts"
        ]
      },
      {
        "name": "PPTX Processing",
        "description": "Uploading and processing PowerPoint files for video generation",
        "files": [
          "estudio_ia_videos/app/api/pptx/route.ts",
          "estudio_ia_videos/lib/pptx/parser.ts",
          "estudio_ia_videos/lib/pptx/PPTXParser.ts",
          "estudio_ia_videos/hooks/use-pptx.ts"
        ]
      },
      {
        "name": "AI Avatar & TTS",
        "description": "Integration with AI services for Avatar generation and Text-to-Speech",
        "files": [
          "estudio_ia_videos/app/api/avatars/route.ts",
          "estudio_ia_videos/app/api/tts/route.ts",
          "estudio_ia_videos/lib/avatar-service.ts",
          "estudio_ia_videos/lib/heygen-service.ts"
        ]
      },
      {
        "name": "Rendering Pipeline",
        "description": "Background processing for video rendering using Queues and FFmpeg",
        "files": [
          "estudio_ia_videos/app/api/render/route.ts",
          "estudio_ia_videos/app/api/pipeline/route.ts",
          "estudio_ia_videos/lib/ffmpeg-service.ts",
          "estudio_ia_videos/lib/queue/index.ts"
        ]
      },
      {
        "name": "Dashboard & Projects",
        "description": "User dashboard for managing video projects",
        "files": [
          "estudio_ia_videos/app/dashboard/page.tsx",
          "estudio_ia_videos/app/api/projects/route.ts",
          "estudio_ia_videos/lib/projects/index.ts"
        ]
      },
      {
        "name": "Analytics & Metrics",
        "description": "System observability and usage metrics",
        "files": [
          "estudio_ia_videos/app/api/analytics/route.ts",
          "estudio_ia_videos/app/api/metrics/route.ts",
          "estudio_ia_videos/lib/analytics.ts",
          "estudio_ia_videos/lib/metrics.ts"
        ]
      }
    ]
  }
}
